const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-nMWgZPsS.js","assets/graph-Bu2BYYHz.js","assets/_baseUniq-CT3jAisE.js","assets/layout-Co7Y2EZ5.js","assets/min-D4ero2R6.js","assets/clone-Bo3qPZgv.js","assets/cose-bilkent-S5V4N54A-DJThbAsb.js","assets/cytoscape.esm-5J0xJHOV.js","assets/c4Diagram-YG6GDRKO-BwWI3aRj.js","assets/chunk-TZMSLE5B-DY3-1kph.js","assets/flowDiagram-NV44I4VS-Sn0J7sEc.js","assets/chunk-FMBD7UC4-BLSR5MdO.js","assets/chunk-55IACEB6-k0BvD_D-.js","assets/chunk-QN33PNHL-PeX1T68H.js","assets/channel-B-e1c2K8.js","assets/erDiagram-Q2GNP2WA-CHcPgKbw.js","assets/gitGraphDiagram-NY62KEGX-Cd-Bl686.js","assets/chunk-4BX2VUAB-Dwm8e4AK.js","assets/chunk-QZHKN3VN-DpSlLzSQ.js","assets/treemap-KMMF4GRG-D5J8m09b.js","assets/ganttDiagram-JELNMOA3-DF2XN3NM.js","assets/linear-DnltJFlb.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-DX6XiGOO.js","assets/infoDiagram-WHAUD3N6-DJLN1J7Z.js","assets/pieDiagram-ADFJNKIX-Dx4ewVqg.js","assets/arc-DU4NUINo.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-zPLw31FD.js","assets/xychartDiagram-PRI3JC2R-wlagjRba.js","assets/requirementDiagram-UZGBJVZJ-C-1QdVH1.js","assets/sequenceDiagram-WL72ISMW-DcfiU9wk.js","assets/classDiagram-2ON5EDUG-DfiHCXc3.js","assets/chunk-B4BG7PRW-DazKwV9G.js","assets/classDiagram-v2-WZHVMYZB-DfiHCXc3.js","assets/stateDiagram-FKZM4ZOC-CXtnl7Zh.js","assets/chunk-DI55MBZ5-Q-Emj7Lr.js","assets/stateDiagram-v2-4FDKWEC3-DmuLxOKZ.js","assets/journeyDiagram-XKPGCS4Q-B_AnyZqt.js","assets/timeline-definition-IT6M3QCI-np713i43.js","assets/mindmap-definition-VGOIOE7T-CzrCnnLe.js","assets/kanban-definition-3W4ZIXB7-D3MURNvT.js","assets/sankeyDiagram-TZEHDZUN-Dk4WeEq_.js","assets/diagram-S2PKOQOG-C6YlEbTr.js","assets/diagram-QEK2KX5R-CnOVevAy.js","assets/blockDiagram-VD42YOAC-CmrXDOg6.js","assets/architectureDiagram-VXUJARFQ-DprLhXmx.js","assets/diagram-PSM6KHXK-kD4K6mEp.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N0={exports:{}},hh={};var IE;function WF(){if(IE)return hh;IE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var l in s)l!=="key"&&(a[l]=s[l])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:o,ref:s!==void 0?s:null,props:a}}return hh.Fragment=t,hh.jsx=n,hh.jsxs=n,hh}var BE;function YF(){return BE||(BE=1,N0.exports=WF()),N0.exports}var z=YF(),I0={exports:{}},ve={};var FE;function GF(){if(FE)return ve;FE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function S(O,q,tt){this.props=O,this.context=q,this.refs=w,this.updater=tt||_}S.prototype.isReactComponent={},S.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=S.prototype;function C(O,q,tt){this.props=O,this.context=q,this.refs=w,this.updater=tt||_}var D=C.prototype=new E;D.constructor=C,b(D,S.prototype),D.isPureReactComponent=!0;var R=Array.isArray;function U(){}var N={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function $(O,q,tt){var it=tt.ref;return{$$typeof:e,type:O,key:q,ref:it!==void 0?it:null,props:tt}}function X(O,q){return $(O.type,q,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function I(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return q[tt]})}var G=/\/+/g;function k(O,q){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):q.toString(36)}function H(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(U,U):(O.status="pending",O.then(function(q){O.status==="pending"&&(O.status="fulfilled",O.value=q)},function(q){O.status==="pending"&&(O.status="rejected",O.reason=q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function M(O,q,tt,it,st){var Ct=typeof O;(Ct==="undefined"||Ct==="boolean")&&(O=null);var Dt=!1;if(O===null)Dt=!0;else switch(Ct){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(O.$$typeof){case e:case t:Dt=!0;break;case f:return Dt=O._init,M(Dt(O._payload),q,tt,it,st)}}if(Dt)return st=st(O),Dt=it===""?"."+k(O,0):it,R(st)?(tt="",Dt!=null&&(tt=Dt.replace(G,"$&/")+"/"),M(st,q,tt,"",function(Gt){return Gt})):st!=null&&(V(st)&&(st=X(st,tt+(st.key==null||O&&O.key===st.key?"":(""+st.key).replace(G,"$&/")+"/")+Dt)),q.push(st)),1;Dt=0;var Ot=it===""?".":it+":";if(R(O))for(var At=0;At<O.length;At++)it=O[At],Ct=Ot+k(it,At),Dt+=M(it,q,tt,Ct,st);else if(At=y(O),typeof At=="function")for(O=At.call(O),At=0;!(it=O.next()).done;)it=it.value,Ct=Ot+k(it,At++),Dt+=M(it,q,tt,Ct,st);else if(Ct==="object"){if(typeof O.then=="function")return M(H(O),q,tt,it,st);throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function B(O,q,tt){if(O==null)return O;var it=[],st=0;return M(O,it,"","",function(Ct){return q.call(tt,Ct,st++)}),it}function W(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var Z=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},rt={map:B,forEach:function(O,q,tt){B(O,function(){q.apply(this,arguments)},tt)},count:function(O){var q=0;return B(O,function(){q++}),q},toArray:function(O){return B(O,function(q){return q})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ve.Activity=m,ve.Children=rt,ve.Component=S,ve.Fragment=n,ve.Profiler=s,ve.PureComponent=C,ve.StrictMode=i,ve.Suspense=u,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ve.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},ve.cache=function(O){return function(){return O.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(O,q,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=b({},O.props),st=O.key;if(q!=null)for(Ct in q.key!==void 0&&(st=""+q.key),q)!P.call(q,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&q.ref===void 0||(it[Ct]=q[Ct]);var Ct=arguments.length-2;if(Ct===1)it.children=tt;else if(1<Ct){for(var Dt=Array(Ct),Ot=0;Ot<Ct;Ot++)Dt[Ot]=arguments[Ot+2];it.children=Dt}return $(O.type,st,it)},ve.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:a,_context:O},O},ve.createElement=function(O,q,tt){var it,st={},Ct=null;if(q!=null)for(it in q.key!==void 0&&(Ct=""+q.key),q)P.call(q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(st[it]=q[it]);var Dt=arguments.length-2;if(Dt===1)st.children=tt;else if(1<Dt){for(var Ot=Array(Dt),At=0;At<Dt;At++)Ot[At]=arguments[At+2];st.children=Ot}if(O&&O.defaultProps)for(it in Dt=O.defaultProps,Dt)st[it]===void 0&&(st[it]=Dt[it]);return $(O,Ct,st)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(O){return{$$typeof:l,render:O}},ve.isValidElement=V,ve.lazy=function(O){return{$$typeof:f,_payload:{_status:-1,_result:O},_init:W}},ve.memo=function(O,q){return{$$typeof:h,type:O,compare:q===void 0?null:q}},ve.startTransition=function(O){var q=N.T,tt={};N.T=tt;try{var it=O(),st=N.S;st!==null&&st(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(U,Z)}catch(Ct){Z(Ct)}finally{q!==null&&tt.types!==null&&(q.types=tt.types),N.T=q}},ve.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ve.use=function(O){return N.H.use(O)},ve.useActionState=function(O,q,tt){return N.H.useActionState(O,q,tt)},ve.useCallback=function(O,q){return N.H.useCallback(O,q)},ve.useContext=function(O){return N.H.useContext(O)},ve.useDebugValue=function(){},ve.useDeferredValue=function(O,q){return N.H.useDeferredValue(O,q)},ve.useEffect=function(O,q){return N.H.useEffect(O,q)},ve.useEffectEvent=function(O){return N.H.useEffectEvent(O)},ve.useId=function(){return N.H.useId()},ve.useImperativeHandle=function(O,q,tt){return N.H.useImperativeHandle(O,q,tt)},ve.useInsertionEffect=function(O,q){return N.H.useInsertionEffect(O,q)},ve.useLayoutEffect=function(O,q){return N.H.useLayoutEffect(O,q)},ve.useMemo=function(O,q){return N.H.useMemo(O,q)},ve.useOptimistic=function(O,q){return N.H.useOptimistic(O,q)},ve.useReducer=function(O,q,tt){return N.H.useReducer(O,q,tt)},ve.useRef=function(O){return N.H.useRef(O)},ve.useState=function(O){return N.H.useState(O)},ve.useSyncExternalStore=function(O,q,tt){return N.H.useSyncExternalStore(O,q,tt)},ve.useTransition=function(){return N.H.useTransition()},ve.version="19.2.4",ve}var UE;function nx(){return UE||(UE=1,I0.exports=GF()),I0.exports}var ft=nx(),B0={exports:{}},dh={},F0={exports:{}},U0={};var qE;function VF(){return qE||(qE=1,(function(e){function t(M,B){var W=M.length;M.push(B);t:for(;0<W;){var Z=W-1>>>1,rt=M[Z];if(0<s(rt,B))M[Z]=B,M[W]=rt,W=Z;else break t}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var B=M[0],W=M.pop();if(W!==B){M[0]=W;t:for(var Z=0,rt=M.length,O=rt>>>1;Z<O;){var q=2*(Z+1)-1,tt=M[q],it=q+1,st=M[it];if(0>s(tt,W))it<rt&&0>s(st,tt)?(M[Z]=st,M[it]=W,Z=it):(M[Z]=tt,M[q]=W,Z=q);else if(it<rt&&0>s(st,W))M[Z]=st,M[it]=W,Z=it;else break t}}return B}function s(M,B){var W=M.sortIndex-B.sortIndex;return W!==0?W:M.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,m=null,g=3,y=!1,_=!1,b=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(M){for(var B=n(h);B!==null;){if(B.callback===null)i(h);else if(B.startTime<=M)i(h),B.sortIndex=B.expirationTime,t(u,B);else break;B=n(h)}}function R(M){if(b=!1,D(M),!_)if(n(u)!==null)_=!0,U||(U=!0,I());else{var B=n(h);B!==null&&H(R,B.startTime-M)}}var U=!1,N=-1,P=5,$=-1;function X(){return w?!0:!(e.unstable_now()-$<P)}function V(){if(w=!1,U){var M=e.unstable_now();$=M;var B=!0;try{t:{_=!1,b&&(b=!1,E(N),N=-1),y=!0;var W=g;try{e:{for(D(M),m=n(u);m!==null&&!(m.expirationTime>M&&X());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,g=m.priorityLevel;var rt=Z(m.expirationTime<=M);if(M=e.unstable_now(),typeof rt=="function"){m.callback=rt,D(M),B=!0;break e}m===n(u)&&i(u),D(M)}else i(u);m=n(u)}if(m!==null)B=!0;else{var O=n(h);O!==null&&H(R,O.startTime-M),B=!1}}break t}finally{m=null,g=W,y=!1}B=void 0}}finally{B?I():U=!1}}}var I;if(typeof C=="function")I=function(){C(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,k=G.port2;G.port1.onmessage=V,I=function(){k.postMessage(null)}}else I=function(){S(V,0)};function H(M,B){N=S(function(){M(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var W=g;g=B;try{return M()}finally{g=W}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=g;g=M;try{return B()}finally{g=W}},e.unstable_scheduleCallback=function(M,B,W){var Z=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,M){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=W+rt,M={id:f++,callback:B,priorityLevel:M,startTime:W,expirationTime:rt,sortIndex:-1},W>Z?(M.sortIndex=W,t(h,M),n(u)===null&&M===n(h)&&(b?(E(N),N=-1):b=!0,H(R,W-Z))):(M.sortIndex=rt,t(u,M),_||y||(_=!0,U||(U=!0,I()))),M},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(M){var B=g;return function(){var W=g;g=B;try{return M.apply(this,arguments)}finally{g=W}}}})(U0)),U0}var zE;function XF(){return zE||(zE=1,F0.exports=VF()),F0.exports}var q0={exports:{}},wi={};var PE;function ZF(){if(PE)return wi;PE=1;var e=nx();function t(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(u,h,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:u,containerInfo:h,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wi.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return a(u,h,null,f)},wi.flushSync=function(u){var h=o.T,f=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=h,i.p=f,i.d.f()}},wi.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(u,h))},wi.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},wi.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,m=l(f,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):f==="script"&&i.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wi.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);i.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(u)},wi.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,m=l(f,h.crossOrigin);i.d.L(u,f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wi.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=l(h.as,h.crossOrigin);i.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(u)},wi.requestFormReset=function(u){i.d.r(u)},wi.unstable_batchedUpdates=function(u,h){return u(h)},wi.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},wi.useFormStatus=function(){return o.H.useHostTransitionStatus()},wi.version="19.2.4",wi}var $E;function QF(){if($E)return q0.exports;$E=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),q0.exports=ZF(),q0.exports}var HE;function KF(){if(HE)return dh;HE=1;var e=XF(),t=nx(),n=QF();function i(r){var c="https://react.dev/errors/"+r;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var c=r,d=r;if(r.alternate)for(;c.return;)c=c.return;else{r=c;do c=r,(c.flags&4098)!==0&&(d=c.return),r=c.return;while(r)}return c.tag===3?d:null}function o(r){if(r.tag===13){var c=r.memoizedState;if(c===null&&(r=r.alternate,r!==null&&(c=r.memoizedState)),c!==null)return c.dehydrated}return null}function l(r){if(r.tag===31){var c=r.memoizedState;if(c===null&&(r=r.alternate,r!==null&&(c=r.memoizedState)),c!==null)return c.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(i(188))}function h(r){var c=r.alternate;if(!c){if(c=a(r),c===null)throw Error(i(188));return c!==r?null:r}for(var d=r,p=c;;){var v=d.return;if(v===null)break;var x=v.alternate;if(x===null){if(p=v.return,p!==null){d=p;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===d)return u(v),r;if(x===p)return u(v),c;x=x.sibling}throw Error(i(188))}if(d.return!==p.return)d=v,p=x;else{for(var A=!1,F=v.child;F;){if(F===d){A=!0,d=v,p=x;break}if(F===p){A=!0,p=v,d=x;break}F=F.sibling}if(!A){for(F=x.child;F;){if(F===d){A=!0,d=x,p=v;break}if(F===p){A=!0,p=x,d=v;break}F=F.sibling}if(!A)throw Error(i(189))}}if(d.alternate!==p)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?r:c}function f(r){var c=r.tag;if(c===5||c===26||c===27||c===6)return r;for(r=r.child;r!==null;){if(c=f(r),c!==null)return c;r=r.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function I(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var G=Symbol.for("react.client.reference");function k(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===G?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case U:return"SuspenseList";case $:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case C:return r.displayName||"Context";case E:return(r._context.displayName||"Context")+".Consumer";case D:var c=r.render;return r=r.displayName,r||(r=c.displayName||c.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return c=r.displayName||null,c!==null?c:k(r.type)||"Memo";case P:c=r._payload,r=r._init;try{return k(r(c))}catch{}}return null}var H=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Z=[],rt=-1;function O(r){return{current:r}}function q(r){0>rt||(r.current=Z[rt],Z[rt]=null,rt--)}function tt(r,c){rt++,Z[rt]=r.current,r.current=c}var it=O(null),st=O(null),Ct=O(null),Dt=O(null);function Ot(r,c){switch(tt(Ct,c),tt(st,r),tt(it,null),c.nodeType){case 9:case 11:r=(r=c.documentElement)&&(r=r.namespaceURI)?sE(r):0;break;default:if(r=c.tagName,c=c.namespaceURI)c=sE(c),r=aE(c,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}q(it),tt(it,r)}function At(){q(it),q(st),q(Ct)}function Gt(r){r.memoizedState!==null&&tt(Dt,r);var c=it.current,d=aE(c,r.type);c!==d&&(tt(st,r),tt(it,d))}function be(r){st.current===r&&(q(it),q(st)),Dt.current===r&&(q(Dt),oh._currentValue=W)}var sn,Ve;function L(r){if(sn===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);sn=c&&c[1]||"",Ve=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sn+r+Ve}var mt=!1;function dt(r,c){if(!r||mt)return"";mt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(pt){var ht=pt}Reflect.construct(r,[],_t)}else{try{_t.call()}catch(pt){ht=pt}r.call(_t.prototype)}}else{try{throw Error()}catch(pt){ht=pt}(_t=r())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(pt){if(pt&&ht&&typeof pt.stack=="string")return[pt.stack,ht.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=p.DetermineComponentFrameRoot(),A=x[0],F=x[1];if(A&&F){var Q=A.split(`
`),ut=F.split(`
`);for(v=p=0;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;for(;v<ut.length&&!ut[v].includes("DetermineComponentFrameRoot");)v++;if(p===Q.length||v===ut.length)for(p=Q.length-1,v=ut.length-1;1<=p&&0<=v&&Q[p]!==ut[v];)v--;for(;1<=p&&0<=v;p--,v--)if(Q[p]!==ut[v]){if(p!==1||v!==1)do if(p--,v--,0>v||Q[p]!==ut[v]){var gt=`
`+Q[p].replace(" at new "," at ");return r.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",r.displayName)),gt}while(1<=p&&0<=v);break}}}finally{mt=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?L(d):""}function Y(r,c){switch(r.tag){case 26:case 27:case 5:return L(r.type);case 16:return L("Lazy");case 13:return r.child!==c&&c!==null?L("Suspense Fallback"):L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return dt(r.type,!1);case 11:return dt(r.type.render,!1);case 1:return dt(r.type,!0);case 31:return L("Activity");default:return""}}function j(r){try{var c="",d=null;do c+=Y(r,d),d=r,r=r.return;while(r);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var nt=Object.prototype.hasOwnProperty,yt=e.unstable_scheduleCallback,xt=e.unstable_cancelCallback,lt=e.unstable_shouldYield,vt=e.unstable_requestPaint,Tt=e.unstable_now,St=e.unstable_getCurrentPriorityLevel,It=e.unstable_ImmediatePriority,ue=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,Ln=e.unstable_LowPriority,Ni=e.unstable_IdlePriority,Fn=e.log,Un=e.unstable_setDisableYieldValue,kt=null,_e=null;function Zt(r){if(typeof Fn=="function"&&Un(r),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(kt,r)}catch{}}var Yt=Math.clz32?Math.clz32:fe,Xe=Math.log,Rt=Math.LN2;function fe(r){return r>>>=0,r===0?32:31-(Xe(r)/Rt|0)|0}var ge=256,xe=262144,Te=4194304;function ae(r){var c=r&42;if(c!==0)return c;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qn(r,c,d){var p=r.pendingLanes;if(p===0)return 0;var v=0,x=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var F=p&134217727;return F!==0?(p=F&~x,p!==0?v=ae(p):(A&=F,A!==0?v=ae(A):d||(d=F&~r,d!==0&&(v=ae(d))))):(F=p&~x,F!==0?v=ae(F):A!==0?v=ae(A):d||(d=p&~r,d!==0&&(v=ae(d)))),v===0?0:c!==0&&c!==v&&(c&x)===0&&(x=v&-v,d=c&-c,x>=d||x===32&&(d&4194048)!==0)?c:v}function bn(r,c){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&c)===0}function Re(r,c){switch(r){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wn(){var r=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),r}function fi(r){for(var c=[],d=0;31>d;d++)c.push(r);return c}function Yn(r,c){r.pendingLanes|=c,c!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ci(r,c,d,p,v,x){var A=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var F=r.entanglements,Q=r.expirationTimes,ut=r.hiddenUpdates;for(d=A&~d;0<d;){var gt=31-Yt(d),_t=1<<gt;F[gt]=0,Q[gt]=-1;var ht=ut[gt];if(ht!==null)for(ut[gt]=null,gt=0;gt<ht.length;gt++){var pt=ht[gt];pt!==null&&(pt.lane&=-536870913)}d&=~_t}p!==0&&ui(r,p,0),x!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=x&~(A&~c))}function ui(r,c,d){r.pendingLanes|=c,r.suspendedLanes&=~c;var p=31-Yt(c);r.entangledLanes|=c,r.entanglements[p]=r.entanglements[p]|1073741824|d&261930}function xi(r,c){var d=r.entangledLanes|=c;for(r=r.entanglements;d;){var p=31-Yt(d),v=1<<p;v&c|r[p]&c&&(r[p]|=c),d&=~v}}function hi(r,c){var d=c&-c;return d=(d&42)!==0?1:dn(d),(d&(r.suspendedLanes|c))!==0?0:d}function dn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function kn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ii(){var r=B.p;return r!==0?r:(r=window.event,r===void 0?32:AE(r.type))}function hs(r,c){var d=B.p;try{return B.p=r,c()}finally{B.p=d}}var Kn=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Kn,_n="__reactProps$"+Kn,Ha="__reactContainer$"+Kn,Nl="__reactEvents$"+Kn,Zd="__reactListeners$"+Kn,Qd="__reactHandles$"+Kn,Kd="__reactResources$"+Kn,$t="__reactMarker$"+Kn;function J(r){delete r[Cn],delete r[_n],delete r[Nl],delete r[Zd],delete r[Qd]}function Et(r){var c=r[Cn];if(c)return c;for(var d=r.parentNode;d;){if(c=d[Ha]||d[Cn]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(r=dE(r);r!==null;){if(d=r[Cn])return d;r=dE(r)}return c}r=d,d=r.parentNode}return null}function Nt(r){if(r=r[Cn]||r[Ha]){var c=r.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return r}return null}function Ze(r){var c=r.tag;if(c===5||c===26||c===27||c===6)return r.stateNode;throw Error(i(33))}function Dn(r){var c=r[Kd];return c||(c=r[Kd]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ke(r){r[$t]=!0}var pi=new Set,Es={};function Gi(r,c){fa(r,c),fa(r+"Capture",c)}function fa(r,c){for(Es[r]=c,r=0;r<c.length;r++)pi.add(c[r])}var Jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},Su={};function FB(r){return nt.call(Su,r)?!0:nt.call(wu,r)?!1:Jn.test(r)?Su[r]=!0:(wu[r]=!0,!1)}function Jd(r,c,d){if(FB(c))if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(c);return}}r.setAttribute(c,""+d)}}function tf(r,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttribute(c,""+d)}}function ja(r,c,d,p){if(p===null)r.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(c,d,""+p)}}function Ts(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Z1(r){var c=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function UB(r,c,d){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,c);if(!r.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,x=p.set;return Object.defineProperty(r,c,{configurable:!0,get:function(){return v.call(this)},set:function(A){d=""+A,x.call(this,A)}}),Object.defineProperty(r,c,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[c]}}}}function Cy(r){if(!r._valueTracker){var c=Z1(r)?"checked":"value";r._valueTracker=UB(r,c,""+r[c])}}function Q1(r){if(!r)return!1;var c=r._valueTracker;if(!c)return!0;var d=c.getValue(),p="";return r&&(p=Z1(r)?r.checked?"true":"false":r.value),r=p,r!==d?(c.setValue(r),!0):!1}function ef(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var qB=/[\n"\\]/g;function ks(r){return r.replace(qB,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ay(r,c,d,p,v,x,A,F){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),c!=null?A==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+Ts(c)):r.value!==""+Ts(c)&&(r.value=""+Ts(c)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),c!=null?Ry(r,A,Ts(c)):d!=null?Ry(r,A,Ts(d)):p!=null&&r.removeAttribute("value"),v==null&&x!=null&&(r.defaultChecked=!!x),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.name=""+Ts(F):r.removeAttribute("name")}function K1(r,c,d,p,v,x,A,F){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),c!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||c!=null)){Cy(r);return}d=d!=null?""+Ts(d):"",c=c!=null?""+Ts(c):d,F||c===r.value||(r.value=c),r.defaultValue=c}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=F?r.checked:!!p,r.defaultChecked=!!p,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A),Cy(r)}function Ry(r,c,d){c==="number"&&ef(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function Il(r,c,d,p){if(r=r.options,c){c={};for(var v=0;v<d.length;v++)c["$"+d[v]]=!0;for(d=0;d<r.length;d++)v=c.hasOwnProperty("$"+r[d].value),r[d].selected!==v&&(r[d].selected=v),v&&p&&(r[d].defaultSelected=!0)}else{for(d=""+Ts(d),c=null,v=0;v<r.length;v++){if(r[v].value===d){r[v].selected=!0,p&&(r[v].defaultSelected=!0);return}c!==null||r[v].disabled||(c=r[v])}c!==null&&(c.selected=!0)}}function J1(r,c,d){if(c!=null&&(c=""+Ts(c),c!==r.value&&(r.value=c),d==null)){r.defaultValue!==c&&(r.defaultValue=c);return}r.defaultValue=d!=null?""+Ts(d):""}function tw(r,c,d,p){if(c==null){if(p!=null){if(d!=null)throw Error(i(92));if(H(p)){if(1<p.length)throw Error(i(93));p=p[0]}d=p}d==null&&(d=""),c=d}d=Ts(c),r.defaultValue=d,p=r.textContent,p===d&&p!==""&&p!==null&&(r.value=p),Cy(r)}function Bl(r,c){if(c){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=c;return}}r.textContent=c}var zB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ew(r,c,d){var p=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="":p?r.setProperty(c,d):typeof d!="number"||d===0||zB.has(c)?c==="float"?r.cssFloat=d:r[c]=(""+d).trim():r[c]=d+"px"}function nw(r,c,d){if(c!=null&&typeof c!="object")throw Error(i(62));if(r=r.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var v in c)p=c[v],c.hasOwnProperty(v)&&d[v]!==p&&ew(r,v,p)}else for(var x in c)c.hasOwnProperty(x)&&ew(r,x,c[x])}function Ly(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$B=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nf(r){return $B.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Wa(){}var Dy=null;function Oy(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fl=null,Ul=null;function iw(r){var c=Nt(r);if(c&&(r=c.stateNode)){var d=r[_n]||null;t:switch(r=c.stateNode,c.type){case"input":if(Ay(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ks(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var p=d[c];if(p!==r&&p.form===r.form){var v=p[_n]||null;if(!v)throw Error(i(90));Ay(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<d.length;c++)p=d[c],p.form===r.form&&Q1(p)}break t;case"textarea":J1(r,d.value,d.defaultValue);break t;case"select":c=d.value,c!=null&&Il(r,!!d.multiple,c,!1)}}}var My=!1;function sw(r,c,d){if(My)return r(c,d);My=!0;try{var p=r(c);return p}finally{if(My=!1,(Fl!==null||Ul!==null)&&(jf(),Fl&&(c=Fl,r=Ul,Ul=Fl=null,iw(c),r)))for(c=0;c<r.length;c++)iw(r[c])}}function Eu(r,c){var d=r.stateNode;if(d===null)return null;var p=d[_n]||null;if(p===null)return null;d=p[c];t:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break t;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(i(231,c,typeof d));return d}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ny=!1;if(Ya)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){Ny=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{Ny=!1}var Mr=null,Iy=null,sf=null;function aw(){if(sf)return sf;var r,c=Iy,d=c.length,p,v="value"in Mr?Mr.value:Mr.textContent,x=v.length;for(r=0;r<d&&c[r]===v[r];r++);var A=d-r;for(p=1;p<=A&&c[d-p]===v[x-p];p++);return sf=v.slice(r,1<p?1-p:void 0)}function af(r){var c=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&c===13&&(r=13)):r=c,r===10&&(r=13),32<=r||r===13?r:0}function rf(){return!0}function rw(){return!1}function Vi(r){function c(d,p,v,x,A){this._reactName=d,this._targetInst=v,this.type=p,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(d=r[F],this[F]=d?d(x):x[F]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?rf:rw,this.isPropagationStopped=rw,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=rf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=rf)},persist:function(){},isPersistent:rf}),c}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},of=Vi(Mo),ku=m({},Mo,{view:0,detail:0}),HB=Vi(ku),By,Fy,Cu,lf=m({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qy,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Cu&&(Cu&&r.type==="mousemove"?(By=r.screenX-Cu.screenX,Fy=r.screenY-Cu.screenY):Fy=By=0,Cu=r),By)},movementY:function(r){return"movementY"in r?r.movementY:Fy}}),ow=Vi(lf),jB=m({},lf,{dataTransfer:0}),WB=Vi(jB),YB=m({},ku,{relatedTarget:0}),Uy=Vi(YB),GB=m({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),VB=Vi(GB),XB=m({},Mo,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ZB=Vi(XB),QB=m({},Mo,{data:0}),lw=Vi(QB),KB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e5(r){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(r):(r=t5[r])?!!c[r]:!1}function qy(){return e5}var n5=m({},ku,{key:function(r){if(r.key){var c=KB[r.key]||r.key;if(c!=="Unidentified")return c}return r.type==="keypress"?(r=af(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?JB[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qy,charCode:function(r){return r.type==="keypress"?af(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?af(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),i5=Vi(n5),s5=m({},lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cw=Vi(s5),a5=m({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qy}),r5=Vi(a5),o5=m({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),l5=Vi(o5),c5=m({},lf,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),u5=Vi(c5),h5=m({},Mo,{newState:0,oldState:0}),d5=Vi(h5),f5=[9,13,27,32],zy=Ya&&"CompositionEvent"in window,Au=null;Ya&&"documentMode"in document&&(Au=document.documentMode);var p5=Ya&&"TextEvent"in window&&!Au,uw=Ya&&(!zy||Au&&8<Au&&11>=Au),hw=" ",dw=!1;function fw(r,c){switch(r){case"keyup":return f5.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pw(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ql=!1;function m5(r,c){switch(r){case"compositionend":return pw(c);case"keypress":return c.which!==32?null:(dw=!0,hw);case"textInput":return r=c.data,r===hw&&dw?null:r;default:return null}}function g5(r,c){if(ql)return r==="compositionend"||!zy&&fw(r,c)?(r=aw(),sf=Iy=Mr=null,ql=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return uw&&c.locale!=="ko"?null:c.data;default:return null}}var y5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mw(r){var c=r&&r.nodeName&&r.nodeName.toLowerCase();return c==="input"?!!y5[r.type]:c==="textarea"}function gw(r,c,d,p){Fl?Ul?Ul.push(p):Ul=[p]:Fl=p,c=Qf(c,"onChange"),0<c.length&&(d=new of("onChange","change",null,d,p),r.push({event:d,listeners:c}))}var Ru=null,Lu=null;function b5(r){KS(r,0)}function cf(r){var c=Ze(r);if(Q1(c))return r}function yw(r,c){if(r==="change")return c}var bw=!1;if(Ya){var Py;if(Ya){var $y="oninput"in document;if(!$y){var _w=document.createElement("div");_w.setAttribute("oninput","return;"),$y=typeof _w.oninput=="function"}Py=$y}else Py=!1;bw=Py&&(!document.documentMode||9<document.documentMode)}function vw(){Ru&&(Ru.detachEvent("onpropertychange",xw),Lu=Ru=null)}function xw(r){if(r.propertyName==="value"&&cf(Lu)){var c=[];gw(c,Lu,r,Oy(r)),sw(b5,c)}}function _5(r,c,d){r==="focusin"?(vw(),Ru=c,Lu=d,Ru.attachEvent("onpropertychange",xw)):r==="focusout"&&vw()}function v5(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return cf(Lu)}function x5(r,c){if(r==="click")return cf(c)}function w5(r,c){if(r==="input"||r==="change")return cf(c)}function S5(r,c){return r===c&&(r!==0||1/r===1/c)||r!==r&&c!==c}var ds=typeof Object.is=="function"?Object.is:S5;function Du(r,c){if(ds(r,c))return!0;if(typeof r!="object"||r===null||typeof c!="object"||c===null)return!1;var d=Object.keys(r),p=Object.keys(c);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var v=d[p];if(!nt.call(c,v)||!ds(r[v],c[v]))return!1}return!0}function ww(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Sw(r,c){var d=ww(r);r=0;for(var p;d;){if(d.nodeType===3){if(p=r+d.textContent.length,r<=c&&p>=c)return{node:d,offset:c-r};r=p}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=ww(d)}}function Ew(r,c){return r&&c?r===c?!0:r&&r.nodeType===3?!1:c&&c.nodeType===3?Ew(r,c.parentNode):"contains"in r?r.contains(c):r.compareDocumentPosition?!!(r.compareDocumentPosition(c)&16):!1:!1}function Tw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var c=ef(r.document);c instanceof r.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)r=c.contentWindow;else break;c=ef(r.document)}return c}function Hy(r){var c=r&&r.nodeName&&r.nodeName.toLowerCase();return c&&(c==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||c==="textarea"||r.contentEditable==="true")}var E5=Ya&&"documentMode"in document&&11>=document.documentMode,zl=null,jy=null,Ou=null,Wy=!1;function kw(r,c,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Wy||zl==null||zl!==ef(p)||(p=zl,"selectionStart"in p&&Hy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ou&&Du(Ou,p)||(Ou=p,p=Qf(jy,"onSelect"),0<p.length&&(c=new of("onSelect","select",null,c,d),r.push({event:c,listeners:p}),c.target=zl)))}function No(r,c){var d={};return d[r.toLowerCase()]=c.toLowerCase(),d["Webkit"+r]="webkit"+c,d["Moz"+r]="moz"+c,d}var Pl={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},Yy={},Cw={};Ya&&(Cw=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Io(r){if(Yy[r])return Yy[r];if(!Pl[r])return r;var c=Pl[r],d;for(d in c)if(c.hasOwnProperty(d)&&d in Cw)return Yy[r]=c[d];return r}var Aw=Io("animationend"),Rw=Io("animationiteration"),Lw=Io("animationstart"),T5=Io("transitionrun"),k5=Io("transitionstart"),C5=Io("transitioncancel"),Dw=Io("transitionend"),Ow=new Map,Gy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gy.push("scrollEnd");function Zs(r,c){Ow.set(r,c),Gi(c,[r])}var uf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Cs=[],$l=0,Vy=0;function hf(){for(var r=$l,c=Vy=$l=0;c<r;){var d=Cs[c];Cs[c++]=null;var p=Cs[c];Cs[c++]=null;var v=Cs[c];Cs[c++]=null;var x=Cs[c];if(Cs[c++]=null,p!==null&&v!==null){var A=p.pending;A===null?v.next=v:(v.next=A.next,A.next=v),p.pending=v}x!==0&&Mw(d,v,x)}}function df(r,c,d,p){Cs[$l++]=r,Cs[$l++]=c,Cs[$l++]=d,Cs[$l++]=p,Vy|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function Xy(r,c,d,p){return df(r,c,d,p),ff(r)}function Bo(r,c){return df(r,null,null,c),ff(r)}function Mw(r,c,d){r.lanes|=d;var p=r.alternate;p!==null&&(p.lanes|=d);for(var v=!1,x=r.return;x!==null;)x.childLanes|=d,p=x.alternate,p!==null&&(p.childLanes|=d),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(v=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,v&&c!==null&&(v=31-Yt(d),r=x.hiddenUpdates,p=r[v],p===null?r[v]=[c]:p.push(c),c.lane=d|536870912),x):null}function ff(r){if(50<th)throw th=0,s0=null,Error(i(185));for(var c=r.return;c!==null;)r=c,c=r.return;return r.tag===3?r.stateNode:null}var Hl={};function A5(r,c,d,p){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(r,c,d,p){return new A5(r,c,d,p)}function Zy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ga(r,c){var d=r.alternate;return d===null?(d=fs(r.tag,c,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=c,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,c=r.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function Nw(r,c){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=c,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,c=d.dependencies,r.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),r}function pf(r,c,d,p,v,x){var A=0;if(p=r,typeof r=="function")Zy(r)&&(A=1);else if(typeof r=="string")A=MF(r,d,it.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case $:return r=fs(31,d,c,v),r.elementType=$,r.lanes=x,r;case b:return Fo(d.children,v,x,c);case w:A=8,v|=24;break;case S:return r=fs(12,d,c,v|2),r.elementType=S,r.lanes=x,r;case R:return r=fs(13,d,c,v),r.elementType=R,r.lanes=x,r;case U:return r=fs(19,d,c,v),r.elementType=U,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:A=10;break t;case E:A=9;break t;case D:A=11;break t;case N:A=14;break t;case P:A=16,p=null;break t}A=29,d=Error(i(130,r===null?"null":typeof r,"")),p=null}return c=fs(A,d,c,v),c.elementType=r,c.type=p,c.lanes=x,c}function Fo(r,c,d,p){return r=fs(7,r,p,c),r.lanes=d,r}function Qy(r,c,d){return r=fs(6,r,null,c),r.lanes=d,r}function Iw(r){var c=fs(18,null,null,0);return c.stateNode=r,c}function Ky(r,c,d){return c=fs(4,r.children!==null?r.children:[],r.key,c),c.lanes=d,c.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},c}var Bw=new WeakMap;function As(r,c){if(typeof r=="object"&&r!==null){var d=Bw.get(r);return d!==void 0?d:(c={value:r,source:c,stack:j(c)},Bw.set(r,c),c)}return{value:r,source:c,stack:j(c)}}var jl=[],Wl=0,mf=null,Mu=0,Rs=[],Ls=0,Nr=null,pa=1,ma="";function Va(r,c){jl[Wl++]=Mu,jl[Wl++]=mf,mf=r,Mu=c}function Fw(r,c,d){Rs[Ls++]=pa,Rs[Ls++]=ma,Rs[Ls++]=Nr,Nr=r;var p=pa;r=ma;var v=32-Yt(p)-1;p&=~(1<<v),d+=1;var x=32-Yt(c)+v;if(30<x){var A=v-v%5;x=(p&(1<<A)-1).toString(32),p>>=A,v-=A,pa=1<<32-Yt(c)+v|d<<v|p,ma=x+r}else pa=1<<x|d<<v|p,ma=r}function Jy(r){r.return!==null&&(Va(r,1),Fw(r,1,0))}function tb(r){for(;r===mf;)mf=jl[--Wl],jl[Wl]=null,Mu=jl[--Wl],jl[Wl]=null;for(;r===Nr;)Nr=Rs[--Ls],Rs[Ls]=null,ma=Rs[--Ls],Rs[Ls]=null,pa=Rs[--Ls],Rs[Ls]=null}function Uw(r,c){Rs[Ls++]=pa,Rs[Ls++]=ma,Rs[Ls++]=Nr,pa=c.id,ma=c.overflow,Nr=r}var mi=null,xn=null,Fe=!1,Ir=null,Ds=!1,eb=Error(i(519));function Br(r){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nu(As(c,r)),eb}function qw(r){var c=r.stateNode,d=r.type,p=r.memoizedProps;switch(c[Cn]=r,c[_n]=p,d){case"dialog":Me("cancel",c),Me("close",c);break;case"iframe":case"object":case"embed":Me("load",c);break;case"video":case"audio":for(d=0;d<nh.length;d++)Me(nh[d],c);break;case"source":Me("error",c);break;case"img":case"image":case"link":Me("error",c),Me("load",c);break;case"details":Me("toggle",c);break;case"input":Me("invalid",c),K1(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Me("invalid",c);break;case"textarea":Me("invalid",c),tw(c,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||p.suppressHydrationWarning===!0||nE(c.textContent,d)?(p.popover!=null&&(Me("beforetoggle",c),Me("toggle",c)),p.onScroll!=null&&Me("scroll",c),p.onScrollEnd!=null&&Me("scrollend",c),p.onClick!=null&&(c.onclick=Wa),c=!0):c=!1,c||Br(r,!0)}function zw(r){for(mi=r.return;mi;)switch(mi.tag){case 5:case 31:case 13:Ds=!1;return;case 27:case 3:Ds=!0;return;default:mi=mi.return}}function Yl(r){if(r!==mi)return!1;if(!Fe)return zw(r),Fe=!0,!1;var c=r.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||_0(r.type,r.memoizedProps)),d=!d),d&&xn&&Br(r),zw(r),c===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));xn=hE(r)}else if(c===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));xn=hE(r)}else c===27?(c=xn,Zr(r.type)?(r=E0,E0=null,xn=r):xn=c):xn=mi?Ms(r.stateNode.nextSibling):null;return!0}function Uo(){xn=mi=null,Fe=!1}function nb(){var r=Ir;return r!==null&&(Ki===null?Ki=r:Ki.push.apply(Ki,r),Ir=null),r}function Nu(r){Ir===null?Ir=[r]:Ir.push(r)}var ib=O(null),qo=null,Xa=null;function Fr(r,c,d){tt(ib,c._currentValue),c._currentValue=d}function Za(r){r._currentValue=ib.current,q(ib)}function sb(r,c,d){for(;r!==null;){var p=r.alternate;if((r.childLanes&c)!==c?(r.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),r===d)break;r=r.return}}function ab(r,c,d,p){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var x=v.dependencies;if(x!==null){var A=v.child;x=x.firstContext;t:for(;x!==null;){var F=x;x=v;for(var Q=0;Q<c.length;Q++)if(F.context===c[Q]){x.lanes|=d,F=x.alternate,F!==null&&(F.lanes|=d),sb(x.return,d,r),p||(A=null);break t}x=F.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(i(341));A.lanes|=d,x=A.alternate,x!==null&&(x.lanes|=d),sb(A,d,r),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===r){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function Gl(r,c,d,p){r=null;for(var v=c,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var F=v.type;ds(v.pendingProps.value,A.value)||(r!==null?r.push(F):r=[F])}}else if(v===Dt.current){if(A=v.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(oh):r=[oh])}v=v.return}r!==null&&ab(c,r,d,p),c.flags|=262144}function gf(r){for(r=r.firstContext;r!==null;){if(!ds(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function zo(r){qo=r,Xa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function gi(r){return Pw(qo,r)}function yf(r,c){return qo===null&&zo(r),Pw(r,c)}function Pw(r,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},Xa===null){if(r===null)throw Error(i(308));Xa=c,r.dependencies={lanes:0,firstContext:c},r.flags|=524288}else Xa=Xa.next=c;return d}var R5=typeof AbortController<"u"?AbortController:function(){var r=[],c=this.signal={aborted:!1,addEventListener:function(d,p){r.push(p)}};this.abort=function(){c.aborted=!0,r.forEach(function(d){return d()})}},L5=e.unstable_scheduleCallback,D5=e.unstable_NormalPriority,Gn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rb(){return{controller:new R5,data:new Map,refCount:0}}function Iu(r){r.refCount--,r.refCount===0&&L5(D5,function(){r.controller.abort()})}var Bu=null,ob=0,Vl=0,Xl=null;function O5(r,c){if(Bu===null){var d=Bu=[];ob=0,Vl=u0(),Xl={status:"pending",value:void 0,then:function(p){d.push(p)}}}return ob++,c.then($w,$w),c}function $w(){if(--ob===0&&Bu!==null){Xl!==null&&(Xl.status="fulfilled");var r=Bu;Bu=null,Vl=0,Xl=null;for(var c=0;c<r.length;c++)(0,r[c])()}}function M5(r,c){var d=[],p={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return r.then(function(){p.status="fulfilled",p.value=c;for(var v=0;v<d.length;v++)(0,d[v])(c)},function(v){for(p.status="rejected",p.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),p}var Hw=M.S;M.S=function(r,c){kS=Tt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&O5(r,c),Hw!==null&&Hw(r,c)};var Po=O(null);function lb(){var r=Po.current;return r!==null?r:gn.pooledCache}function bf(r,c){c===null?tt(Po,Po.current):tt(Po,c.pool)}function jw(){var r=lb();return r===null?null:{parent:Gn._currentValue,pool:r}}var Zl=Error(i(460)),cb=Error(i(474)),_f=Error(i(542)),vf={then:function(){}};function Ww(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Yw(r,c,d){switch(d=r[d],d===void 0?r.push(c):d!==c&&(c.then(Wa,Wa),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw r=c.reason,Vw(r),r;default:if(typeof c.status=="string")c.then(Wa,Wa);else{if(r=gn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=c,r.status="pending",r.then(function(p){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=p}},function(p){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw r=c.reason,Vw(r),r}throw Ho=c,Zl}}function $o(r){try{var c=r._init;return c(r._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ho=d,Zl):d}}var Ho=null;function Gw(){if(Ho===null)throw Error(i(459));var r=Ho;return Ho=null,r}function Vw(r){if(r===Zl||r===_f)throw Error(i(483))}var Ql=null,Fu=0;function xf(r){var c=Fu;return Fu+=1,Ql===null&&(Ql=[]),Yw(Ql,r,c)}function Uu(r,c){c=c.props.ref,r.ref=c!==void 0?c:null}function wf(r,c){throw c.$$typeof===g?Error(i(525)):(r=Object.prototype.toString.call(c),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":r)))}function Xw(r){function c(at,et){if(r){var ct=at.deletions;ct===null?(at.deletions=[et],at.flags|=16):ct.push(et)}}function d(at,et){if(!r)return null;for(;et!==null;)c(at,et),et=et.sibling;return null}function p(at){for(var et=new Map;at!==null;)at.key!==null?et.set(at.key,at):et.set(at.index,at),at=at.sibling;return et}function v(at,et){return at=Ga(at,et),at.index=0,at.sibling=null,at}function x(at,et,ct){return at.index=ct,r?(ct=at.alternate,ct!==null?(ct=ct.index,ct<et?(at.flags|=67108866,et):ct):(at.flags|=67108866,et)):(at.flags|=1048576,et)}function A(at){return r&&at.alternate===null&&(at.flags|=67108866),at}function F(at,et,ct,bt){return et===null||et.tag!==6?(et=Qy(ct,at.mode,bt),et.return=at,et):(et=v(et,ct),et.return=at,et)}function Q(at,et,ct,bt){var Vt=ct.type;return Vt===b?gt(at,et,ct.props.children,bt,ct.key):et!==null&&(et.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===P&&$o(Vt)===et.type)?(et=v(et,ct.props),Uu(et,ct),et.return=at,et):(et=pf(ct.type,ct.key,ct.props,null,at.mode,bt),Uu(et,ct),et.return=at,et)}function ut(at,et,ct,bt){return et===null||et.tag!==4||et.stateNode.containerInfo!==ct.containerInfo||et.stateNode.implementation!==ct.implementation?(et=Ky(ct,at.mode,bt),et.return=at,et):(et=v(et,ct.children||[]),et.return=at,et)}function gt(at,et,ct,bt,Vt){return et===null||et.tag!==7?(et=Fo(ct,at.mode,bt,Vt),et.return=at,et):(et=v(et,ct),et.return=at,et)}function _t(at,et,ct){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=Qy(""+et,at.mode,ct),et.return=at,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case y:return ct=pf(et.type,et.key,et.props,null,at.mode,ct),Uu(ct,et),ct.return=at,ct;case _:return et=Ky(et,at.mode,ct),et.return=at,et;case P:return et=$o(et),_t(at,et,ct)}if(H(et)||I(et))return et=Fo(et,at.mode,ct,null),et.return=at,et;if(typeof et.then=="function")return _t(at,xf(et),ct);if(et.$$typeof===C)return _t(at,yf(at,et),ct);wf(at,et)}return null}function ht(at,et,ct,bt){var Vt=et!==null?et.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Vt!==null?null:F(at,et,""+ct,bt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case y:return ct.key===Vt?Q(at,et,ct,bt):null;case _:return ct.key===Vt?ut(at,et,ct,bt):null;case P:return ct=$o(ct),ht(at,et,ct,bt)}if(H(ct)||I(ct))return Vt!==null?null:gt(at,et,ct,bt,null);if(typeof ct.then=="function")return ht(at,et,xf(ct),bt);if(ct.$$typeof===C)return ht(at,et,yf(at,ct),bt);wf(at,ct)}return null}function pt(at,et,ct,bt,Vt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return at=at.get(ct)||null,F(et,at,""+bt,Vt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case y:return at=at.get(bt.key===null?ct:bt.key)||null,Q(et,at,bt,Vt);case _:return at=at.get(bt.key===null?ct:bt.key)||null,ut(et,at,bt,Vt);case P:return bt=$o(bt),pt(at,et,ct,bt,Vt)}if(H(bt)||I(bt))return at=at.get(ct)||null,gt(et,at,bt,Vt,null);if(typeof bt.then=="function")return pt(at,et,ct,xf(bt),Vt);if(bt.$$typeof===C)return pt(at,et,ct,yf(et,bt),Vt);wf(et,bt)}return null}function Bt(at,et,ct,bt){for(var Vt=null,$e=null,Ht=et,Se=et=0,Be=null;Ht!==null&&Se<ct.length;Se++){Ht.index>Se?(Be=Ht,Ht=null):Be=Ht.sibling;var He=ht(at,Ht,ct[Se],bt);if(He===null){Ht===null&&(Ht=Be);break}r&&Ht&&He.alternate===null&&c(at,Ht),et=x(He,et,Se),$e===null?Vt=He:$e.sibling=He,$e=He,Ht=Be}if(Se===ct.length)return d(at,Ht),Fe&&Va(at,Se),Vt;if(Ht===null){for(;Se<ct.length;Se++)Ht=_t(at,ct[Se],bt),Ht!==null&&(et=x(Ht,et,Se),$e===null?Vt=Ht:$e.sibling=Ht,$e=Ht);return Fe&&Va(at,Se),Vt}for(Ht=p(Ht);Se<ct.length;Se++)Be=pt(Ht,at,Se,ct[Se],bt),Be!==null&&(r&&Be.alternate!==null&&Ht.delete(Be.key===null?Se:Be.key),et=x(Be,et,Se),$e===null?Vt=Be:$e.sibling=Be,$e=Be);return r&&Ht.forEach(function(eo){return c(at,eo)}),Fe&&Va(at,Se),Vt}function Jt(at,et,ct,bt){if(ct==null)throw Error(i(151));for(var Vt=null,$e=null,Ht=et,Se=et=0,Be=null,He=ct.next();Ht!==null&&!He.done;Se++,He=ct.next()){Ht.index>Se?(Be=Ht,Ht=null):Be=Ht.sibling;var eo=ht(at,Ht,He.value,bt);if(eo===null){Ht===null&&(Ht=Be);break}r&&Ht&&eo.alternate===null&&c(at,Ht),et=x(eo,et,Se),$e===null?Vt=eo:$e.sibling=eo,$e=eo,Ht=Be}if(He.done)return d(at,Ht),Fe&&Va(at,Se),Vt;if(Ht===null){for(;!He.done;Se++,He=ct.next())He=_t(at,He.value,bt),He!==null&&(et=x(He,et,Se),$e===null?Vt=He:$e.sibling=He,$e=He);return Fe&&Va(at,Se),Vt}for(Ht=p(Ht);!He.done;Se++,He=ct.next())He=pt(Ht,at,Se,He.value,bt),He!==null&&(r&&He.alternate!==null&&Ht.delete(He.key===null?Se:He.key),et=x(He,et,Se),$e===null?Vt=He:$e.sibling=He,$e=He);return r&&Ht.forEach(function(jF){return c(at,jF)}),Fe&&Va(at,Se),Vt}function mn(at,et,ct,bt){if(typeof ct=="object"&&ct!==null&&ct.type===b&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case y:t:{for(var Vt=ct.key;et!==null;){if(et.key===Vt){if(Vt=ct.type,Vt===b){if(et.tag===7){d(at,et.sibling),bt=v(et,ct.props.children),bt.return=at,at=bt;break t}}else if(et.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===P&&$o(Vt)===et.type){d(at,et.sibling),bt=v(et,ct.props),Uu(bt,ct),bt.return=at,at=bt;break t}d(at,et);break}else c(at,et);et=et.sibling}ct.type===b?(bt=Fo(ct.props.children,at.mode,bt,ct.key),bt.return=at,at=bt):(bt=pf(ct.type,ct.key,ct.props,null,at.mode,bt),Uu(bt,ct),bt.return=at,at=bt)}return A(at);case _:t:{for(Vt=ct.key;et!==null;){if(et.key===Vt)if(et.tag===4&&et.stateNode.containerInfo===ct.containerInfo&&et.stateNode.implementation===ct.implementation){d(at,et.sibling),bt=v(et,ct.children||[]),bt.return=at,at=bt;break t}else{d(at,et);break}else c(at,et);et=et.sibling}bt=Ky(ct,at.mode,bt),bt.return=at,at=bt}return A(at);case P:return ct=$o(ct),mn(at,et,ct,bt)}if(H(ct))return Bt(at,et,ct,bt);if(I(ct)){if(Vt=I(ct),typeof Vt!="function")throw Error(i(150));return ct=Vt.call(ct),Jt(at,et,ct,bt)}if(typeof ct.then=="function")return mn(at,et,xf(ct),bt);if(ct.$$typeof===C)return mn(at,et,yf(at,ct),bt);wf(at,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,et!==null&&et.tag===6?(d(at,et.sibling),bt=v(et,ct),bt.return=at,at=bt):(d(at,et),bt=Qy(ct,at.mode,bt),bt.return=at,at=bt),A(at)):d(at,et)}return function(at,et,ct,bt){try{Fu=0;var Vt=mn(at,et,ct,bt);return Ql=null,Vt}catch(Ht){if(Ht===Zl||Ht===_f)throw Ht;var $e=fs(29,Ht,null,at.mode);return $e.lanes=bt,$e.return=at,$e}}}var jo=Xw(!0),Zw=Xw(!1),Ur=!1;function ub(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hb(r,c){r=r.updateQueue,c.updateQueue===r&&(c.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function qr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function zr(r,c,d){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(Ye&2)!==0){var v=p.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),p.pending=c,c=ff(r),Mw(r,null,d),c}return df(r,p,c,d),ff(r)}function qu(r,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var p=c.lanes;p&=r.pendingLanes,d|=p,c.lanes=d,xi(r,d)}}function db(r,c){var d=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var v=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var A={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?v=x=A:x=x.next=A,d=d.next}while(d!==null);x===null?v=x=c:x=x.next=c}else v=x=c;d={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:p.shared,callbacks:p.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=c:r.next=c,d.lastBaseUpdate=c}var fb=!1;function zu(){if(fb){var r=Xl;if(r!==null)throw r}}function Pu(r,c,d,p){fb=!1;var v=r.updateQueue;Ur=!1;var x=v.firstBaseUpdate,A=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var Q=F,ut=Q.next;Q.next=null,A===null?x=ut:A.next=ut,A=Q;var gt=r.alternate;gt!==null&&(gt=gt.updateQueue,F=gt.lastBaseUpdate,F!==A&&(F===null?gt.firstBaseUpdate=ut:F.next=ut,gt.lastBaseUpdate=Q))}if(x!==null){var _t=v.baseState;A=0,gt=ut=Q=null,F=x;do{var ht=F.lane&-536870913,pt=ht!==F.lane;if(pt?(Ie&ht)===ht:(p&ht)===ht){ht!==0&&ht===Vl&&(fb=!0),gt!==null&&(gt=gt.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});t:{var Bt=r,Jt=F;ht=c;var mn=d;switch(Jt.tag){case 1:if(Bt=Jt.payload,typeof Bt=="function"){_t=Bt.call(mn,_t,ht);break t}_t=Bt;break t;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Jt.payload,ht=typeof Bt=="function"?Bt.call(mn,_t,ht):Bt,ht==null)break t;_t=m({},_t,ht);break t;case 2:Ur=!0}}ht=F.callback,ht!==null&&(r.flags|=64,pt&&(r.flags|=8192),pt=v.callbacks,pt===null?v.callbacks=[ht]:pt.push(ht))}else pt={lane:ht,tag:F.tag,payload:F.payload,callback:F.callback,next:null},gt===null?(ut=gt=pt,Q=_t):gt=gt.next=pt,A|=ht;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;pt=F,F=pt.next,pt.next=null,v.lastBaseUpdate=pt,v.shared.pending=null}}while(!0);gt===null&&(Q=_t),v.baseState=Q,v.firstBaseUpdate=ut,v.lastBaseUpdate=gt,x===null&&(v.shared.lanes=0),Wr|=A,r.lanes=A,r.memoizedState=_t}}function Qw(r,c){if(typeof r!="function")throw Error(i(191,r));r.call(c)}function Kw(r,c){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)Qw(d[r],c)}var Kl=O(null),Sf=O(0);function Jw(r,c){r=ar,tt(Sf,r),tt(Kl,c),ar=r|c.baseLanes}function pb(){tt(Sf,ar),tt(Kl,Kl.current)}function mb(){ar=Sf.current,q(Kl),q(Sf)}var ps=O(null),Os=null;function Pr(r){var c=r.alternate;tt(zn,zn.current&1),tt(ps,r),Os===null&&(c===null||Kl.current!==null||c.memoizedState!==null)&&(Os=r)}function gb(r){tt(zn,zn.current),tt(ps,r),Os===null&&(Os=r)}function t2(r){r.tag===22?(tt(zn,zn.current),tt(ps,r),Os===null&&(Os=r)):$r()}function $r(){tt(zn,zn.current),tt(ps,ps.current)}function ms(r){q(ps),Os===r&&(Os=null),q(zn)}var zn=O(0);function Ef(r){for(var c=r;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||w0(d)||S0(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===r)break;for(;c.sibling===null;){if(c.return===null||c.return===r)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Qa=0,we=null,fn=null,Vn=null,Tf=!1,Jl=!1,Wo=!1,kf=0,$u=0,tc=null,N5=0;function Nn(){throw Error(i(321))}function yb(r,c){if(c===null)return!1;for(var d=0;d<c.length&&d<r.length;d++)if(!ds(r[d],c[d]))return!1;return!0}function bb(r,c,d,p,v,x){return Qa=x,we=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,M.H=r===null||r.memoizedState===null?F2:Mb,Wo=!1,x=d(p,v),Wo=!1,Jl&&(x=n2(c,d,p,v)),e2(r),x}function e2(r){M.H=Wu;var c=fn!==null&&fn.next!==null;if(Qa=0,Vn=fn=we=null,Tf=!1,$u=0,tc=null,c)throw Error(i(300));r===null||Xn||(r=r.dependencies,r!==null&&gf(r)&&(Xn=!0))}function n2(r,c,d,p){we=r;var v=0;do{if(Jl&&(tc=null),$u=0,Jl=!1,25<=v)throw Error(i(301));if(v+=1,Vn=fn=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}M.H=U2,x=c(d,p)}while(Jl);return x}function I5(){var r=M.H,c=r.useState()[0];return c=typeof c.then=="function"?Hu(c):c,r=r.useState()[0],(fn!==null?fn.memoizedState:null)!==r&&(we.flags|=1024),c}function _b(){var r=kf!==0;return kf=0,r}function vb(r,c,d){c.updateQueue=r.updateQueue,c.flags&=-2053,r.lanes&=~d}function xb(r){if(Tf){for(r=r.memoizedState;r!==null;){var c=r.queue;c!==null&&(c.pending=null),r=r.next}Tf=!1}Qa=0,Vn=fn=we=null,Jl=!1,$u=kf=0,tc=null}function Bi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?we.memoizedState=Vn=r:Vn=Vn.next=r,Vn}function Pn(){if(fn===null){var r=we.alternate;r=r!==null?r.memoizedState:null}else r=fn.next;var c=Vn===null?we.memoizedState:Vn.next;if(c!==null)Vn=c,fn=r;else{if(r===null)throw we.alternate===null?Error(i(467)):Error(i(310));fn=r,r={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},Vn===null?we.memoizedState=Vn=r:Vn=Vn.next=r}return Vn}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hu(r){var c=$u;return $u+=1,tc===null&&(tc=[]),r=Yw(tc,r,c),c=we,(Vn===null?c.memoizedState:Vn.next)===null&&(c=c.alternate,M.H=c===null||c.memoizedState===null?F2:Mb),r}function Af(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Hu(r);if(r.$$typeof===C)return gi(r)}throw Error(i(438,String(r)))}function wb(r){var c=null,d=we.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var p=we.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=Cf(),we.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(r),p=0;p<r;p++)d[p]=X;return c.index++,d}function Ka(r,c){return typeof c=="function"?c(r):c}function Rf(r){var c=Pn();return Sb(c,fn,r)}function Sb(r,c,d){var p=r.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=d;var v=r.baseQueue,x=p.pending;if(x!==null){if(v!==null){var A=v.next;v.next=x.next,x.next=A}c.baseQueue=v=x,p.pending=null}if(x=r.baseState,v===null)r.memoizedState=x;else{c=v.next;var F=A=null,Q=null,ut=c,gt=!1;do{var _t=ut.lane&-536870913;if(_t!==ut.lane?(Ie&_t)===_t:(Qa&_t)===_t){var ht=ut.revertLane;if(ht===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),_t===Vl&&(gt=!0);else if((Qa&ht)===ht){ut=ut.next,ht===Vl&&(gt=!0);continue}else _t={lane:0,revertLane:ut.revertLane,gesture:null,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},Q===null?(F=Q=_t,A=x):Q=Q.next=_t,we.lanes|=ht,Wr|=ht;_t=ut.action,Wo&&d(x,_t),x=ut.hasEagerState?ut.eagerState:d(x,_t)}else ht={lane:_t,revertLane:ut.revertLane,gesture:ut.gesture,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},Q===null?(F=Q=ht,A=x):Q=Q.next=ht,we.lanes|=_t,Wr|=_t;ut=ut.next}while(ut!==null&&ut!==c);if(Q===null?A=x:Q.next=F,!ds(x,r.memoizedState)&&(Xn=!0,gt&&(d=Xl,d!==null)))throw d;r.memoizedState=x,r.baseState=A,r.baseQueue=Q,p.lastRenderedState=x}return v===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function Eb(r){var c=Pn(),d=c.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=r;var p=d.dispatch,v=d.pending,x=c.memoizedState;if(v!==null){d.pending=null;var A=v=v.next;do x=r(x,A.action),A=A.next;while(A!==v);ds(x,c.memoizedState)||(Xn=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),d.lastRenderedState=x}return[x,p]}function i2(r,c,d){var p=we,v=Pn(),x=Fe;if(x){if(d===void 0)throw Error(i(407));d=d()}else d=c();var A=!ds((fn||v).memoizedState,d);if(A&&(v.memoizedState=d,Xn=!0),v=v.queue,Cb(r2.bind(null,p,v,r),[r]),v.getSnapshot!==c||A||Vn!==null&&Vn.memoizedState.tag&1){if(p.flags|=2048,ec(9,{destroy:void 0},a2.bind(null,p,v,d,c),null),gn===null)throw Error(i(349));x||(Qa&127)!==0||s2(p,c,d)}return d}function s2(r,c,d){r.flags|=16384,r={getSnapshot:c,value:d},c=we.updateQueue,c===null?(c=Cf(),we.updateQueue=c,c.stores=[r]):(d=c.stores,d===null?c.stores=[r]:d.push(r))}function a2(r,c,d,p){c.value=d,c.getSnapshot=p,o2(c)&&l2(r)}function r2(r,c,d){return d(function(){o2(c)&&l2(r)})}function o2(r){var c=r.getSnapshot;r=r.value;try{var d=c();return!ds(r,d)}catch{return!0}}function l2(r){var c=Bo(r,2);c!==null&&Ji(c,r,2)}function Tb(r){var c=Bi();if(typeof r=="function"){var d=r;if(r=d(),Wo){Zt(!0);try{d()}finally{Zt(!1)}}}return c.memoizedState=c.baseState=r,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:r},c}function c2(r,c,d,p){return r.baseState=d,Sb(r,fn,typeof p=="function"?p:Ka)}function B5(r,c,d,p,v){if(Of(r))throw Error(i(485));if(r=c.action,r!==null){var x={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){x.listeners.push(A)}};M.T!==null?d(!0):x.isTransition=!1,p(x),d=c.pending,d===null?(x.next=c.pending=x,u2(c,x)):(x.next=d.next,c.pending=d.next=x)}}function u2(r,c){var d=c.action,p=c.payload,v=r.state;if(c.isTransition){var x=M.T,A={};M.T=A;try{var F=d(v,p),Q=M.S;Q!==null&&Q(A,F),h2(r,c,F)}catch(ut){kb(r,c,ut)}finally{x!==null&&A.types!==null&&(x.types=A.types),M.T=x}}else try{x=d(v,p),h2(r,c,x)}catch(ut){kb(r,c,ut)}}function h2(r,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){d2(r,c,p)},function(p){return kb(r,c,p)}):d2(r,c,d)}function d2(r,c,d){c.status="fulfilled",c.value=d,f2(c),r.state=d,c=r.pending,c!==null&&(d=c.next,d===c?r.pending=null:(d=d.next,c.next=d,u2(r,d)))}function kb(r,c,d){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=d,f2(c),c=c.next;while(c!==p)}r.action=null}function f2(r){r=r.listeners;for(var c=0;c<r.length;c++)(0,r[c])()}function p2(r,c){return c}function m2(r,c){if(Fe){var d=gn.formState;if(d!==null){t:{var p=we;if(Fe){if(xn){e:{for(var v=xn,x=Ds;v.nodeType!==8;){if(!x){v=null;break e}if(v=Ms(v.nextSibling),v===null){v=null;break e}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){xn=Ms(v.nextSibling),p=v.data==="F!";break t}}Br(p)}p=!1}p&&(c=d[0])}}return d=Bi(),d.memoizedState=d.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p2,lastRenderedState:c},d.queue=p,d=N2.bind(null,we,p),p.dispatch=d,p=Tb(!1),x=Ob.bind(null,we,!1,p.queue),p=Bi(),v={state:c,dispatch:null,action:r,pending:null},p.queue=v,d=B5.bind(null,we,v,x,d),v.dispatch=d,p.memoizedState=r,[c,d,!1]}function g2(r){var c=Pn();return y2(c,fn,r)}function y2(r,c,d){if(c=Sb(r,c,p2)[0],r=Rf(Ka)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=Hu(c)}catch(A){throw A===Zl?_f:A}else p=c;c=Pn();var v=c.queue,x=v.dispatch;return d!==c.memoizedState&&(we.flags|=2048,ec(9,{destroy:void 0},F5.bind(null,v,d),null)),[p,x,r]}function F5(r,c){r.action=c}function b2(r){var c=Pn(),d=fn;if(d!==null)return y2(c,d,r);Pn(),c=c.memoizedState,d=Pn();var p=d.queue.dispatch;return d.memoizedState=r,[c,p,!1]}function ec(r,c,d,p){return r={tag:r,create:d,deps:p,inst:c,next:null},c=we.updateQueue,c===null&&(c=Cf(),we.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=r.next=r:(p=d.next,d.next=r,r.next=p,c.lastEffect=r),r}function _2(){return Pn().memoizedState}function Lf(r,c,d,p){var v=Bi();we.flags|=r,v.memoizedState=ec(1|c,{destroy:void 0},d,p===void 0?null:p)}function Df(r,c,d,p){var v=Pn();p=p===void 0?null:p;var x=v.memoizedState.inst;fn!==null&&p!==null&&yb(p,fn.memoizedState.deps)?v.memoizedState=ec(c,x,d,p):(we.flags|=r,v.memoizedState=ec(1|c,x,d,p))}function v2(r,c){Lf(8390656,8,r,c)}function Cb(r,c){Df(2048,8,r,c)}function U5(r){we.flags|=4;var c=we.updateQueue;if(c===null)c=Cf(),we.updateQueue=c,c.events=[r];else{var d=c.events;d===null?c.events=[r]:d.push(r)}}function x2(r){var c=Pn().memoizedState;return U5({ref:c,nextImpl:r}),function(){if((Ye&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function w2(r,c){return Df(4,2,r,c)}function S2(r,c){return Df(4,4,r,c)}function E2(r,c){if(typeof c=="function"){r=r();var d=c(r);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return r=r(),c.current=r,function(){c.current=null}}function T2(r,c,d){d=d!=null?d.concat([r]):null,Df(4,4,E2.bind(null,c,r),d)}function Ab(){}function k2(r,c){var d=Pn();c=c===void 0?null:c;var p=d.memoizedState;return c!==null&&yb(c,p[1])?p[0]:(d.memoizedState=[r,c],r)}function C2(r,c){var d=Pn();c=c===void 0?null:c;var p=d.memoizedState;if(c!==null&&yb(c,p[1]))return p[0];if(p=r(),Wo){Zt(!0);try{r()}finally{Zt(!1)}}return d.memoizedState=[p,c],p}function Rb(r,c,d){return d===void 0||(Qa&1073741824)!==0&&(Ie&261930)===0?r.memoizedState=c:(r.memoizedState=d,r=AS(),we.lanes|=r,Wr|=r,d)}function A2(r,c,d,p){return ds(d,c)?d:Kl.current!==null?(r=Rb(r,d,p),ds(r,c)||(Xn=!0),r):(Qa&42)===0||(Qa&1073741824)!==0&&(Ie&261930)===0?(Xn=!0,r.memoizedState=d):(r=AS(),we.lanes|=r,Wr|=r,c)}function R2(r,c,d,p,v){var x=B.p;B.p=x!==0&&8>x?x:8;var A=M.T,F={};M.T=F,Ob(r,!1,c,d);try{var Q=v(),ut=M.S;if(ut!==null&&ut(F,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var gt=M5(Q,p);ju(r,c,gt,bs(r))}else ju(r,c,p,bs(r))}catch(_t){ju(r,c,{then:function(){},status:"rejected",reason:_t},bs())}finally{B.p=x,A!==null&&F.types!==null&&(A.types=F.types),M.T=A}}function q5(){}function Lb(r,c,d,p){if(r.tag!==5)throw Error(i(476));var v=L2(r).queue;R2(r,v,c,W,d===null?q5:function(){return D2(r),d(p)})}function L2(r){var c=r.memoizedState;if(c!==null)return c;c={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:W},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:d},next:null},r.memoizedState=c,r=r.alternate,r!==null&&(r.memoizedState=c),c}function D2(r){var c=L2(r);c.next===null&&(c=r.alternate.memoizedState),ju(r,c.next.queue,{},bs())}function Db(){return gi(oh)}function O2(){return Pn().memoizedState}function M2(){return Pn().memoizedState}function z5(r){for(var c=r.return;c!==null;){switch(c.tag){case 24:case 3:var d=bs();r=qr(d);var p=zr(c,r,d);p!==null&&(Ji(p,c,d),qu(p,c,d)),c={cache:rb()},r.payload=c;return}c=c.return}}function P5(r,c,d){var p=bs();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Of(r)?I2(c,d):(d=Xy(r,c,d,p),d!==null&&(Ji(d,r,p),B2(d,c,p)))}function N2(r,c,d){var p=bs();ju(r,c,d,p)}function ju(r,c,d,p){var v={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Of(r))I2(c,v);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var A=c.lastRenderedState,F=x(A,d);if(v.hasEagerState=!0,v.eagerState=F,ds(F,A))return df(r,c,v,0),gn===null&&hf(),!1}catch{}if(d=Xy(r,c,v,p),d!==null)return Ji(d,r,p),B2(d,c,p),!0}return!1}function Ob(r,c,d,p){if(p={lane:2,revertLane:u0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Of(r)){if(c)throw Error(i(479))}else c=Xy(r,d,p,2),c!==null&&Ji(c,r,2)}function Of(r){var c=r.alternate;return r===we||c!==null&&c===we}function I2(r,c){Jl=Tf=!0;var d=r.pending;d===null?c.next=c:(c.next=d.next,d.next=c),r.pending=c}function B2(r,c,d){if((d&4194048)!==0){var p=c.lanes;p&=r.pendingLanes,d|=p,c.lanes=d,xi(r,d)}}var Wu={readContext:gi,use:Af,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn};Wu.useEffectEvent=Nn;var F2={readContext:gi,use:Af,useCallback:function(r,c){return Bi().memoizedState=[r,c===void 0?null:c],r},useContext:gi,useEffect:v2,useImperativeHandle:function(r,c,d){d=d!=null?d.concat([r]):null,Lf(4194308,4,E2.bind(null,c,r),d)},useLayoutEffect:function(r,c){return Lf(4194308,4,r,c)},useInsertionEffect:function(r,c){Lf(4,2,r,c)},useMemo:function(r,c){var d=Bi();c=c===void 0?null:c;var p=r();if(Wo){Zt(!0);try{r()}finally{Zt(!1)}}return d.memoizedState=[p,c],p},useReducer:function(r,c,d){var p=Bi();if(d!==void 0){var v=d(c);if(Wo){Zt(!0);try{d(c)}finally{Zt(!1)}}}else v=c;return p.memoizedState=p.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},p.queue=r,r=r.dispatch=P5.bind(null,we,r),[p.memoizedState,r]},useRef:function(r){var c=Bi();return r={current:r},c.memoizedState=r},useState:function(r){r=Tb(r);var c=r.queue,d=N2.bind(null,we,c);return c.dispatch=d,[r.memoizedState,d]},useDebugValue:Ab,useDeferredValue:function(r,c){var d=Bi();return Rb(d,r,c)},useTransition:function(){var r=Tb(!1);return r=R2.bind(null,we,r.queue,!0,!1),Bi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,c,d){var p=we,v=Bi();if(Fe){if(d===void 0)throw Error(i(407));d=d()}else{if(d=c(),gn===null)throw Error(i(349));(Ie&127)!==0||s2(p,c,d)}v.memoizedState=d;var x={value:d,getSnapshot:c};return v.queue=x,v2(r2.bind(null,p,x,r),[r]),p.flags|=2048,ec(9,{destroy:void 0},a2.bind(null,p,x,d,c),null),d},useId:function(){var r=Bi(),c=gn.identifierPrefix;if(Fe){var d=ma,p=pa;d=(p&~(1<<32-Yt(p)-1)).toString(32)+d,c="_"+c+"R_"+d,d=kf++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=N5++,c="_"+c+"r_"+d.toString(32)+"_";return r.memoizedState=c},useHostTransitionStatus:Db,useFormState:m2,useActionState:m2,useOptimistic:function(r){var c=Bi();c.memoizedState=c.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=Ob.bind(null,we,!0,d),d.dispatch=c,[r,c]},useMemoCache:wb,useCacheRefresh:function(){return Bi().memoizedState=z5.bind(null,we)},useEffectEvent:function(r){var c=Bi(),d={impl:r};return c.memoizedState=d,function(){if((Ye&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}},Mb={readContext:gi,use:Af,useCallback:k2,useContext:gi,useEffect:Cb,useImperativeHandle:T2,useInsertionEffect:w2,useLayoutEffect:S2,useMemo:C2,useReducer:Rf,useRef:_2,useState:function(){return Rf(Ka)},useDebugValue:Ab,useDeferredValue:function(r,c){var d=Pn();return A2(d,fn.memoizedState,r,c)},useTransition:function(){var r=Rf(Ka)[0],c=Pn().memoizedState;return[typeof r=="boolean"?r:Hu(r),c]},useSyncExternalStore:i2,useId:O2,useHostTransitionStatus:Db,useFormState:g2,useActionState:g2,useOptimistic:function(r,c){var d=Pn();return c2(d,fn,r,c)},useMemoCache:wb,useCacheRefresh:M2};Mb.useEffectEvent=x2;var U2={readContext:gi,use:Af,useCallback:k2,useContext:gi,useEffect:Cb,useImperativeHandle:T2,useInsertionEffect:w2,useLayoutEffect:S2,useMemo:C2,useReducer:Eb,useRef:_2,useState:function(){return Eb(Ka)},useDebugValue:Ab,useDeferredValue:function(r,c){var d=Pn();return fn===null?Rb(d,r,c):A2(d,fn.memoizedState,r,c)},useTransition:function(){var r=Eb(Ka)[0],c=Pn().memoizedState;return[typeof r=="boolean"?r:Hu(r),c]},useSyncExternalStore:i2,useId:O2,useHostTransitionStatus:Db,useFormState:b2,useActionState:b2,useOptimistic:function(r,c){var d=Pn();return fn!==null?c2(d,fn,r,c):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:wb,useCacheRefresh:M2};U2.useEffectEvent=x2;function Nb(r,c,d,p){c=r.memoizedState,d=d(p,c),d=d==null?c:m({},c,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Ib={enqueueSetState:function(r,c,d){r=r._reactInternals;var p=bs(),v=qr(p);v.payload=c,d!=null&&(v.callback=d),c=zr(r,v,p),c!==null&&(Ji(c,r,p),qu(c,r,p))},enqueueReplaceState:function(r,c,d){r=r._reactInternals;var p=bs(),v=qr(p);v.tag=1,v.payload=c,d!=null&&(v.callback=d),c=zr(r,v,p),c!==null&&(Ji(c,r,p),qu(c,r,p))},enqueueForceUpdate:function(r,c){r=r._reactInternals;var d=bs(),p=qr(d);p.tag=2,c!=null&&(p.callback=c),c=zr(r,p,d),c!==null&&(Ji(c,r,d),qu(c,r,d))}};function q2(r,c,d,p,v,x,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,x,A):c.prototype&&c.prototype.isPureReactComponent?!Du(d,p)||!Du(v,x):!0}function z2(r,c,d,p){r=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,p),c.state!==r&&Ib.enqueueReplaceState(c,c.state,null)}function Yo(r,c){var d=c;if("ref"in c){d={};for(var p in c)p!=="ref"&&(d[p]=c[p])}if(r=r.defaultProps){d===c&&(d=m({},d));for(var v in r)d[v]===void 0&&(d[v]=r[v])}return d}function P2(r){uf(r)}function $2(r){console.error(r)}function H2(r){uf(r)}function Mf(r,c){try{var d=r.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function j2(r,c,d){try{var p=r.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Bb(r,c,d){return d=qr(d),d.tag=3,d.payload={element:null},d.callback=function(){Mf(r,c)},d}function W2(r){return r=qr(r),r.tag=3,r}function Y2(r,c,d,p){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var x=p.value;r.payload=function(){return v(x)},r.callback=function(){j2(c,d,p)}}var A=d.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){j2(c,d,p),typeof v!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var F=p.stack;this.componentDidCatch(p.value,{componentStack:F!==null?F:""})})}function $5(r,c,d,p,v){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=d.alternate,c!==null&&Gl(c,d,v,!0),d=ps.current,d!==null){switch(d.tag){case 31:case 13:return Os===null?Wf():d.alternate===null&&In===0&&(In=3),d.flags&=-257,d.flags|=65536,d.lanes=v,p===vf?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([p]):c.add(p),o0(r,p,v)),!1;case 22:return d.flags|=65536,p===vf?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([p]):d.add(p)),o0(r,p,v)),!1}throw Error(i(435,d.tag))}return o0(r,p,v),Wf(),!1}if(Fe)return c=ps.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,p!==eb&&(r=Error(i(422),{cause:p}),Nu(As(r,d)))):(p!==eb&&(c=Error(i(423),{cause:p}),Nu(As(c,d))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,p=As(p,d),v=Bb(r.stateNode,p,v),db(r,v),In!==4&&(In=2)),!1;var x=Error(i(520),{cause:p});if(x=As(x,d),Ju===null?Ju=[x]:Ju.push(x),In!==4&&(In=2),c===null)return!0;p=As(p,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,r=v&-v,d.lanes|=r,r=Bb(d.stateNode,p,r),db(d,r),!1;case 1:if(c=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yr===null||!Yr.has(x))))return d.flags|=65536,v&=-v,d.lanes|=v,v=W2(v),Y2(v,r,d,p),db(d,v),!1}d=d.return}while(d!==null);return!1}var Fb=Error(i(461)),Xn=!1;function yi(r,c,d,p){c.child=r===null?Zw(c,null,d,p):jo(c,r.child,d,p)}function G2(r,c,d,p,v){d=d.render;var x=c.ref;if("ref"in p){var A={};for(var F in p)F!=="ref"&&(A[F]=p[F])}else A=p;return zo(c),p=bb(r,c,d,A,x,v),F=_b(),r!==null&&!Xn?(vb(r,c,v),Ja(r,c,v)):(Fe&&F&&Jy(c),c.flags|=1,yi(r,c,p,v),c.child)}function V2(r,c,d,p,v){if(r===null){var x=d.type;return typeof x=="function"&&!Zy(x)&&x.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=x,X2(r,c,x,p,v)):(r=pf(d.type,null,p,c,c.mode,v),r.ref=c.ref,r.return=c,c.child=r)}if(x=r.child,!Wb(r,v)){var A=x.memoizedProps;if(d=d.compare,d=d!==null?d:Du,d(A,p)&&r.ref===c.ref)return Ja(r,c,v)}return c.flags|=1,r=Ga(x,p),r.ref=c.ref,r.return=c,c.child=r}function X2(r,c,d,p,v){if(r!==null){var x=r.memoizedProps;if(Du(x,p)&&r.ref===c.ref)if(Xn=!1,c.pendingProps=p=x,Wb(r,v))(r.flags&131072)!==0&&(Xn=!0);else return c.lanes=r.lanes,Ja(r,c,v)}return Ub(r,c,d,p,v)}function Z2(r,c,d,p){var v=p.children,x=r!==null?r.memoizedState:null;if(r===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(x=x!==null?x.baseLanes|d:d,r!==null){for(p=c.child=r.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~x}else p=0,c.child=null;return Q2(r,c,x,d,p)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},r!==null&&bf(c,x!==null?x.cachePool:null),x!==null?Jw(c,x):pb(),t2(c);else return p=c.lanes=536870912,Q2(r,c,x!==null?x.baseLanes|d:d,d,p)}else x!==null?(bf(c,x.cachePool),Jw(c,x),$r(),c.memoizedState=null):(r!==null&&bf(c,null),pb(),$r());return yi(r,c,v,d),c.child}function Yu(r,c){return r!==null&&r.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Q2(r,c,d,p,v){var x=lb();return x=x===null?null:{parent:Gn._currentValue,pool:x},c.memoizedState={baseLanes:d,cachePool:x},r!==null&&bf(c,null),pb(),t2(c),r!==null&&Gl(r,c,p,!0),c.childLanes=v,null}function Nf(r,c){return c=Bf({mode:c.mode,children:c.children},r.mode),c.ref=r.ref,r.child=c,c.return=r,c}function K2(r,c,d){return jo(c,r.child,null,d),r=Nf(c,c.pendingProps),r.flags|=2,ms(c),c.memoizedState=null,r}function H5(r,c,d){var p=c.pendingProps,v=(c.flags&128)!==0;if(c.flags&=-129,r===null){if(Fe){if(p.mode==="hidden")return r=Nf(c,p),c.lanes=536870912,Yu(null,r);if(gb(c),(r=xn)?(r=uE(r,Ds),r=r!==null&&r.data==="&"?r:null,r!==null&&(c.memoizedState={dehydrated:r,treeContext:Nr!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},d=Iw(r),d.return=c,c.child=d,mi=c,xn=null)):r=null,r===null)throw Br(c);return c.lanes=536870912,null}return Nf(c,p)}var x=r.memoizedState;if(x!==null){var A=x.dehydrated;if(gb(c),v)if(c.flags&256)c.flags&=-257,c=K2(r,c,d);else if(c.memoizedState!==null)c.child=r.child,c.flags|=128,c=null;else throw Error(i(558));else if(Xn||Gl(r,c,d,!1),v=(d&r.childLanes)!==0,Xn||v){if(p=gn,p!==null&&(A=hi(p,d),A!==0&&A!==x.retryLane))throw x.retryLane=A,Bo(r,A),Ji(p,r,A),Fb;Wf(),c=K2(r,c,d)}else r=x.treeContext,xn=Ms(A.nextSibling),mi=c,Fe=!0,Ir=null,Ds=!1,r!==null&&Uw(c,r),c=Nf(c,p),c.flags|=4096;return c}return r=Ga(r.child,{mode:p.mode,children:p.children}),r.ref=c.ref,c.child=r,r.return=c,r}function If(r,c){var d=c.ref;if(d===null)r!==null&&r.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(r===null||r.ref!==d)&&(c.flags|=4194816)}}function Ub(r,c,d,p,v){return zo(c),d=bb(r,c,d,p,void 0,v),p=_b(),r!==null&&!Xn?(vb(r,c,v),Ja(r,c,v)):(Fe&&p&&Jy(c),c.flags|=1,yi(r,c,d,v),c.child)}function J2(r,c,d,p,v,x){return zo(c),c.updateQueue=null,d=n2(c,p,d,v),e2(r),p=_b(),r!==null&&!Xn?(vb(r,c,x),Ja(r,c,x)):(Fe&&p&&Jy(c),c.flags|=1,yi(r,c,d,x),c.child)}function tS(r,c,d,p,v){if(zo(c),c.stateNode===null){var x=Hl,A=d.contextType;typeof A=="object"&&A!==null&&(x=gi(A)),x=new d(p,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Ib,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=p,x.state=c.memoizedState,x.refs={},ub(c),A=d.contextType,x.context=typeof A=="object"&&A!==null?gi(A):Hl,x.state=c.memoizedState,A=d.getDerivedStateFromProps,typeof A=="function"&&(Nb(c,d,A,p),x.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(A=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),A!==x.state&&Ib.enqueueReplaceState(x,x.state,null),Pu(c,p,x,v),zu(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(r===null){x=c.stateNode;var F=c.memoizedProps,Q=Yo(d,F);x.props=Q;var ut=x.context,gt=d.contextType;A=Hl,typeof gt=="object"&&gt!==null&&(A=gi(gt));var _t=d.getDerivedStateFromProps;gt=typeof _t=="function"||typeof x.getSnapshotBeforeUpdate=="function",F=c.pendingProps!==F,gt||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(F||ut!==A)&&z2(c,x,p,A),Ur=!1;var ht=c.memoizedState;x.state=ht,Pu(c,p,x,v),zu(),ut=c.memoizedState,F||ht!==ut||Ur?(typeof _t=="function"&&(Nb(c,d,_t,p),ut=c.memoizedState),(Q=Ur||q2(c,d,Q,p,ht,ut,A))?(gt||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=ut),x.props=p,x.state=ut,x.context=A,p=Q):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{x=c.stateNode,hb(r,c),A=c.memoizedProps,gt=Yo(d,A),x.props=gt,_t=c.pendingProps,ht=x.context,ut=d.contextType,Q=Hl,typeof ut=="object"&&ut!==null&&(Q=gi(ut)),F=d.getDerivedStateFromProps,(ut=typeof F=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==_t||ht!==Q)&&z2(c,x,p,Q),Ur=!1,ht=c.memoizedState,x.state=ht,Pu(c,p,x,v),zu();var pt=c.memoizedState;A!==_t||ht!==pt||Ur||r!==null&&r.dependencies!==null&&gf(r.dependencies)?(typeof F=="function"&&(Nb(c,d,F,p),pt=c.memoizedState),(gt=Ur||q2(c,d,gt,p,ht,pt,Q)||r!==null&&r.dependencies!==null&&gf(r.dependencies))?(ut||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,pt,Q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,pt,Q)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||A===r.memoizedProps&&ht===r.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ht===r.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=pt),x.props=p,x.state=pt,x.context=Q,p=gt):(typeof x.componentDidUpdate!="function"||A===r.memoizedProps&&ht===r.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ht===r.memoizedState||(c.flags|=1024),p=!1)}return x=p,If(r,c),p=(c.flags&128)!==0,x||p?(x=c.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,r!==null&&p?(c.child=jo(c,r.child,null,v),c.child=jo(c,null,d,v)):yi(r,c,d,v),c.memoizedState=x.state,r=c.child):r=Ja(r,c,v),r}function eS(r,c,d,p){return Uo(),c.flags|=256,yi(r,c,d,p),c.child}var qb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zb(r){return{baseLanes:r,cachePool:jw()}}function Pb(r,c,d){return r=r!==null?r.childLanes&~d:0,c&&(r|=ys),r}function nS(r,c,d){var p=c.pendingProps,v=!1,x=(c.flags&128)!==0,A;if((A=x)||(A=r!==null&&r.memoizedState===null?!1:(zn.current&2)!==0),A&&(v=!0,c.flags&=-129),A=(c.flags&32)!==0,c.flags&=-33,r===null){if(Fe){if(v?Pr(c):$r(),(r=xn)?(r=uE(r,Ds),r=r!==null&&r.data!=="&"?r:null,r!==null&&(c.memoizedState={dehydrated:r,treeContext:Nr!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},d=Iw(r),d.return=c,c.child=d,mi=c,xn=null)):r=null,r===null)throw Br(c);return S0(r)?c.lanes=32:c.lanes=536870912,null}var F=p.children;return p=p.fallback,v?($r(),v=c.mode,F=Bf({mode:"hidden",children:F},v),p=Fo(p,v,d,null),F.return=c,p.return=c,F.sibling=p,c.child=F,p=c.child,p.memoizedState=zb(d),p.childLanes=Pb(r,A,d),c.memoizedState=qb,Yu(null,p)):(Pr(c),$b(c,F))}var Q=r.memoizedState;if(Q!==null&&(F=Q.dehydrated,F!==null)){if(x)c.flags&256?(Pr(c),c.flags&=-257,c=Hb(r,c,d)):c.memoizedState!==null?($r(),c.child=r.child,c.flags|=128,c=null):($r(),F=p.fallback,v=c.mode,p=Bf({mode:"visible",children:p.children},v),F=Fo(F,v,d,null),F.flags|=2,p.return=c,F.return=c,p.sibling=F,c.child=p,jo(c,r.child,null,d),p=c.child,p.memoizedState=zb(d),p.childLanes=Pb(r,A,d),c.memoizedState=qb,c=Yu(null,p));else if(Pr(c),S0(F)){if(A=F.nextSibling&&F.nextSibling.dataset,A)var ut=A.dgst;A=ut,p=Error(i(419)),p.stack="",p.digest=A,Nu({value:p,source:null,stack:null}),c=Hb(r,c,d)}else if(Xn||Gl(r,c,d,!1),A=(d&r.childLanes)!==0,Xn||A){if(A=gn,A!==null&&(p=hi(A,d),p!==0&&p!==Q.retryLane))throw Q.retryLane=p,Bo(r,p),Ji(A,r,p),Fb;w0(F)||Wf(),c=Hb(r,c,d)}else w0(F)?(c.flags|=192,c.child=r.child,c=null):(r=Q.treeContext,xn=Ms(F.nextSibling),mi=c,Fe=!0,Ir=null,Ds=!1,r!==null&&Uw(c,r),c=$b(c,p.children),c.flags|=4096);return c}return v?($r(),F=p.fallback,v=c.mode,Q=r.child,ut=Q.sibling,p=Ga(Q,{mode:"hidden",children:p.children}),p.subtreeFlags=Q.subtreeFlags&65011712,ut!==null?F=Ga(ut,F):(F=Fo(F,v,d,null),F.flags|=2),F.return=c,p.return=c,p.sibling=F,c.child=p,Yu(null,p),p=c.child,F=r.child.memoizedState,F===null?F=zb(d):(v=F.cachePool,v!==null?(Q=Gn._currentValue,v=v.parent!==Q?{parent:Q,pool:Q}:v):v=jw(),F={baseLanes:F.baseLanes|d,cachePool:v}),p.memoizedState=F,p.childLanes=Pb(r,A,d),c.memoizedState=qb,Yu(r.child,p)):(Pr(c),d=r.child,r=d.sibling,d=Ga(d,{mode:"visible",children:p.children}),d.return=c,d.sibling=null,r!==null&&(A=c.deletions,A===null?(c.deletions=[r],c.flags|=16):A.push(r)),c.child=d,c.memoizedState=null,d)}function $b(r,c){return c=Bf({mode:"visible",children:c},r.mode),c.return=r,r.child=c}function Bf(r,c){return r=fs(22,r,null,c),r.lanes=0,r}function Hb(r,c,d){return jo(c,r.child,null,d),r=$b(c,c.pendingProps.children),r.flags|=2,c.memoizedState=null,r}function iS(r,c,d){r.lanes|=c;var p=r.alternate;p!==null&&(p.lanes|=c),sb(r.return,c,d)}function jb(r,c,d,p,v,x){var A=r.memoizedState;A===null?r.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:v,treeForkCount:x}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=d,A.tailMode=v,A.treeForkCount=x)}function sS(r,c,d){var p=c.pendingProps,v=p.revealOrder,x=p.tail;p=p.children;var A=zn.current,F=(A&2)!==0;if(F?(A=A&1|2,c.flags|=128):A&=1,tt(zn,A),yi(r,c,p,d),p=Fe?Mu:0,!F&&r!==null&&(r.flags&128)!==0)t:for(r=c.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&iS(r,d,c);else if(r.tag===19)iS(r,d,c);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===c)break t;for(;r.sibling===null;){if(r.return===null||r.return===c)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(d=c.child,v=null;d!==null;)r=d.alternate,r!==null&&Ef(r)===null&&(v=d),d=d.sibling;d=v,d===null?(v=c.child,c.child=null):(v=d.sibling,d.sibling=null),jb(c,!1,v,d,x,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,v=c.child,c.child=null;v!==null;){if(r=v.alternate,r!==null&&Ef(r)===null){c.child=v;break}r=v.sibling,v.sibling=d,d=v,v=r}jb(c,!0,d,null,x,p);break;case"together":jb(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function Ja(r,c,d){if(r!==null&&(c.dependencies=r.dependencies),Wr|=c.lanes,(d&c.childLanes)===0)if(r!==null){if(Gl(r,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(r!==null&&c.child!==r.child)throw Error(i(153));if(c.child!==null){for(r=c.child,d=Ga(r,r.pendingProps),c.child=d,d.return=c;r.sibling!==null;)r=r.sibling,d=d.sibling=Ga(r,r.pendingProps),d.return=c;d.sibling=null}return c.child}function Wb(r,c){return(r.lanes&c)!==0?!0:(r=r.dependencies,!!(r!==null&&gf(r)))}function j5(r,c,d){switch(c.tag){case 3:Ot(c,c.stateNode.containerInfo),Fr(c,Gn,r.memoizedState.cache),Uo();break;case 27:case 5:Gt(c);break;case 4:Ot(c,c.stateNode.containerInfo);break;case 10:Fr(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,gb(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Pr(c),c.flags|=128,null):(d&c.child.childLanes)!==0?nS(r,c,d):(Pr(c),r=Ja(r,c,d),r!==null?r.sibling:null);Pr(c);break;case 19:var v=(r.flags&128)!==0;if(p=(d&c.childLanes)!==0,p||(Gl(r,c,d,!1),p=(d&c.childLanes)!==0),v){if(p)return sS(r,c,d);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),tt(zn,zn.current),p)break;return null;case 22:return c.lanes=0,Z2(r,c,d,c.pendingProps);case 24:Fr(c,Gn,r.memoizedState.cache)}return Ja(r,c,d)}function aS(r,c,d){if(r!==null)if(r.memoizedProps!==c.pendingProps)Xn=!0;else{if(!Wb(r,d)&&(c.flags&128)===0)return Xn=!1,j5(r,c,d);Xn=(r.flags&131072)!==0}else Xn=!1,Fe&&(c.flags&1048576)!==0&&Fw(c,Mu,c.index);switch(c.lanes=0,c.tag){case 16:t:{var p=c.pendingProps;if(r=$o(c.elementType),c.type=r,typeof r=="function")Zy(r)?(p=Yo(r,p),c.tag=1,c=tS(null,c,r,p,d)):(c.tag=0,c=Ub(null,c,r,p,d));else{if(r!=null){var v=r.$$typeof;if(v===D){c.tag=11,c=G2(null,c,r,p,d);break t}else if(v===N){c.tag=14,c=V2(null,c,r,p,d);break t}}throw c=k(r)||r,Error(i(306,c,""))}}return c;case 0:return Ub(r,c,c.type,c.pendingProps,d);case 1:return p=c.type,v=Yo(p,c.pendingProps),tS(r,c,p,v,d);case 3:t:{if(Ot(c,c.stateNode.containerInfo),r===null)throw Error(i(387));p=c.pendingProps;var x=c.memoizedState;v=x.element,hb(r,c),Pu(c,p,null,d);var A=c.memoizedState;if(p=A.cache,Fr(c,Gn,p),p!==x.cache&&ab(c,[Gn],d,!0),zu(),p=A.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:A.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=eS(r,c,p,d);break t}else if(p!==v){v=As(Error(i(424)),c),Nu(v),c=eS(r,c,p,d);break t}else for(r=c.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,xn=Ms(r.firstChild),mi=c,Fe=!0,Ir=null,Ds=!0,d=Zw(c,null,p,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Uo(),p===v){c=Ja(r,c,d);break t}yi(r,c,p,d)}c=c.child}return c;case 26:return If(r,c),r===null?(d=gE(c.type,null,c.pendingProps,null))?c.memoizedState=d:Fe||(d=c.type,r=c.pendingProps,p=Kf(Ct.current).createElement(d),p[Cn]=c,p[_n]=r,bi(p,d,r),ke(p),c.stateNode=p):c.memoizedState=gE(c.type,r.memoizedProps,c.pendingProps,r.memoizedState),null;case 27:return Gt(c),r===null&&Fe&&(p=c.stateNode=fE(c.type,c.pendingProps,Ct.current),mi=c,Ds=!0,v=xn,Zr(c.type)?(E0=v,xn=Ms(p.firstChild)):xn=v),yi(r,c,c.pendingProps.children,d),If(r,c),r===null&&(c.flags|=4194304),c.child;case 5:return r===null&&Fe&&((v=p=xn)&&(p=vF(p,c.type,c.pendingProps,Ds),p!==null?(c.stateNode=p,mi=c,xn=Ms(p.firstChild),Ds=!1,v=!0):v=!1),v||Br(c)),Gt(c),v=c.type,x=c.pendingProps,A=r!==null?r.memoizedProps:null,p=x.children,_0(v,x)?p=null:A!==null&&_0(v,A)&&(c.flags|=32),c.memoizedState!==null&&(v=bb(r,c,I5,null,null,d),oh._currentValue=v),If(r,c),yi(r,c,p,d),c.child;case 6:return r===null&&Fe&&((r=d=xn)&&(d=xF(d,c.pendingProps,Ds),d!==null?(c.stateNode=d,mi=c,xn=null,r=!0):r=!1),r||Br(c)),null;case 13:return nS(r,c,d);case 4:return Ot(c,c.stateNode.containerInfo),p=c.pendingProps,r===null?c.child=jo(c,null,p,d):yi(r,c,p,d),c.child;case 11:return G2(r,c,c.type,c.pendingProps,d);case 7:return yi(r,c,c.pendingProps,d),c.child;case 8:return yi(r,c,c.pendingProps.children,d),c.child;case 12:return yi(r,c,c.pendingProps.children,d),c.child;case 10:return p=c.pendingProps,Fr(c,c.type,p.value),yi(r,c,p.children,d),c.child;case 9:return v=c.type._context,p=c.pendingProps.children,zo(c),v=gi(v),p=p(v),c.flags|=1,yi(r,c,p,d),c.child;case 14:return V2(r,c,c.type,c.pendingProps,d);case 15:return X2(r,c,c.type,c.pendingProps,d);case 19:return sS(r,c,d);case 31:return H5(r,c,d);case 22:return Z2(r,c,d,c.pendingProps);case 24:return zo(c),p=gi(Gn),r===null?(v=lb(),v===null&&(v=gn,x=rb(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=d),v=x),c.memoizedState={parent:p,cache:v},ub(c),Fr(c,Gn,v)):((r.lanes&d)!==0&&(hb(r,c),Pu(c,null,null,d),zu()),v=r.memoizedState,x=c.memoizedState,v.parent!==p?(v={parent:p,cache:p},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),Fr(c,Gn,p)):(p=x.cache,Fr(c,Gn,p),p!==v.cache&&ab(c,[Gn],d,!0))),yi(r,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function tr(r){r.flags|=4}function Yb(r,c,d,p,v){if((c=(r.mode&32)!==0)&&(c=!1),c){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if(OS())r.flags|=8192;else throw Ho=vf,cb}else r.flags&=-16777217}function rS(r,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!xE(c))if(OS())r.flags|=8192;else throw Ho=vf,cb}function Ff(r,c){c!==null&&(r.flags|=4),r.flags&16384&&(c=r.tag!==22?Wn():536870912,r.lanes|=c,ac|=c)}function Gu(r,c){if(!Fe)switch(r.tailMode){case"hidden":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function wn(r){var c=r.alternate!==null&&r.alternate.child===r.child,d=0,p=0;if(c)for(var v=r.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=p,r.childLanes=d,c}function W5(r,c,d){var p=c.pendingProps;switch(tb(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(c),null;case 1:return wn(c),null;case 3:return d=c.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Za(Gn),At(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Yl(c)?tr(c):r===null||r.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,nb())),wn(c),null;case 26:var v=c.type,x=c.memoizedState;return r===null?(tr(c),x!==null?(wn(c),rS(c,x)):(wn(c),Yb(c,v,null,p,d))):x?x!==r.memoizedState?(tr(c),wn(c),rS(c,x)):(wn(c),c.flags&=-16777217):(r=r.memoizedProps,r!==p&&tr(c),wn(c),Yb(c,v,r,p,d)),null;case 27:if(be(c),d=Ct.current,v=c.type,r!==null&&c.stateNode!=null)r.memoizedProps!==p&&tr(c);else{if(!p){if(c.stateNode===null)throw Error(i(166));return wn(c),null}r=it.current,Yl(c)?qw(c):(r=fE(v,p,d),c.stateNode=r,tr(c))}return wn(c),null;case 5:if(be(c),v=c.type,r!==null&&c.stateNode!=null)r.memoizedProps!==p&&tr(c);else{if(!p){if(c.stateNode===null)throw Error(i(166));return wn(c),null}if(x=it.current,Yl(c))qw(c);else{var A=Kf(Ct.current);switch(x){case 1:x=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=A.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof p.is=="string"?A.createElement("select",{is:p.is}):A.createElement("select"),p.multiple?x.multiple=!0:p.size&&(x.size=p.size);break;default:x=typeof p.is=="string"?A.createElement(v,{is:p.is}):A.createElement(v)}}x[Cn]=c,x[_n]=p;t:for(A=c.child;A!==null;){if(A.tag===5||A.tag===6)x.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break t;for(;A.sibling===null;){if(A.return===null||A.return===c)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}c.stateNode=x;t:switch(bi(x,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break t;case"img":p=!0;break t;default:p=!1}p&&tr(c)}}return wn(c),Yb(c,c.type,r===null?null:r.memoizedProps,c.pendingProps,d),null;case 6:if(r&&c.stateNode!=null)r.memoizedProps!==p&&tr(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(i(166));if(r=Ct.current,Yl(c)){if(r=c.stateNode,d=c.memoizedProps,p=null,v=mi,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}r[Cn]=c,r=!!(r.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||nE(r.nodeValue,d)),r||Br(c,!0)}else r=Kf(r).createTextNode(p),r[Cn]=c,c.stateNode=r}return wn(c),null;case 31:if(d=c.memoizedState,r===null||r.memoizedState!==null){if(p=Yl(c),d!==null){if(r===null){if(!p)throw Error(i(318));if(r=c.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Cn]=c}else Uo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;wn(c),r=!1}else d=nb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),r=!0;if(!r)return c.flags&256?(ms(c),c):(ms(c),null);if((c.flags&128)!==0)throw Error(i(558))}return wn(c),null;case 13:if(p=c.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=Yl(c),p!==null&&p.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Cn]=c}else Uo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;wn(c),v=!1}else v=nb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return c.flags&256?(ms(c),c):(ms(c),null)}return ms(c),(c.flags&128)!==0?(c.lanes=d,c):(d=p!==null,r=r!==null&&r.memoizedState!==null,d&&(p=c.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),x=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(x=p.memoizedState.cachePool.pool),x!==v&&(p.flags|=2048)),d!==r&&d&&(c.child.flags|=8192),Ff(c,c.updateQueue),wn(c),null);case 4:return At(),r===null&&p0(c.stateNode.containerInfo),wn(c),null;case 10:return Za(c.type),wn(c),null;case 19:if(q(zn),p=c.memoizedState,p===null)return wn(c),null;if(v=(c.flags&128)!==0,x=p.rendering,x===null)if(v)Gu(p,!1);else{if(In!==0||r!==null&&(r.flags&128)!==0)for(r=c.child;r!==null;){if(x=Ef(r),x!==null){for(c.flags|=128,Gu(p,!1),r=x.updateQueue,c.updateQueue=r,Ff(c,r),c.subtreeFlags=0,r=d,d=c.child;d!==null;)Nw(d,r),d=d.sibling;return tt(zn,zn.current&1|2),Fe&&Va(c,p.treeForkCount),c.child}r=r.sibling}p.tail!==null&&Tt()>$f&&(c.flags|=128,v=!0,Gu(p,!1),c.lanes=4194304)}else{if(!v)if(r=Ef(x),r!==null){if(c.flags|=128,v=!0,r=r.updateQueue,c.updateQueue=r,Ff(c,r),Gu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!Fe)return wn(c),null}else 2*Tt()-p.renderingStartTime>$f&&d!==536870912&&(c.flags|=128,v=!0,Gu(p,!1),c.lanes=4194304);p.isBackwards?(x.sibling=c.child,c.child=x):(r=p.last,r!==null?r.sibling=x:c.child=x,p.last=x)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Tt(),r.sibling=null,d=zn.current,tt(zn,v?d&1|2:d&1),Fe&&Va(c,p.treeForkCount),r):(wn(c),null);case 22:case 23:return ms(c),mb(),p=c.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(d&536870912)!==0&&(c.flags&128)===0&&(wn(c),c.subtreeFlags&6&&(c.flags|=8192)):wn(c),d=c.updateQueue,d!==null&&Ff(c,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048),r!==null&&q(Po),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),Za(Gn),wn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function Y5(r,c){switch(tb(c),c.tag){case 1:return r=c.flags,r&65536?(c.flags=r&-65537|128,c):null;case 3:return Za(Gn),At(),r=c.flags,(r&65536)!==0&&(r&128)===0?(c.flags=r&-65537|128,c):null;case 26:case 27:case 5:return be(c),null;case 31:if(c.memoizedState!==null){if(ms(c),c.alternate===null)throw Error(i(340));Uo()}return r=c.flags,r&65536?(c.flags=r&-65537|128,c):null;case 13:if(ms(c),r=c.memoizedState,r!==null&&r.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Uo()}return r=c.flags,r&65536?(c.flags=r&-65537|128,c):null;case 19:return q(zn),null;case 4:return At(),null;case 10:return Za(c.type),null;case 22:case 23:return ms(c),mb(),r!==null&&q(Po),r=c.flags,r&65536?(c.flags=r&-65537|128,c):null;case 24:return Za(Gn),null;case 25:return null;default:return null}}function oS(r,c){switch(tb(c),c.tag){case 3:Za(Gn),At();break;case 26:case 27:case 5:be(c);break;case 4:At();break;case 31:c.memoizedState!==null&&ms(c);break;case 13:ms(c);break;case 19:q(zn);break;case 10:Za(c.type);break;case 22:case 23:ms(c),mb(),r!==null&&q(Po);break;case 24:Za(Gn)}}function Vu(r,c){try{var d=c.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&r)===r){p=void 0;var x=d.create,A=d.inst;p=x(),A.destroy=p}d=d.next}while(d!==v)}}catch(F){rn(c,c.return,F)}}function Hr(r,c,d){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var x=v.next;p=x;do{if((p.tag&r)===r){var A=p.inst,F=A.destroy;if(F!==void 0){A.destroy=void 0,v=c;var Q=d,ut=F;try{ut()}catch(gt){rn(v,Q,gt)}}}p=p.next}while(p!==x)}}catch(gt){rn(c,c.return,gt)}}function lS(r){var c=r.updateQueue;if(c!==null){var d=r.stateNode;try{Kw(c,d)}catch(p){rn(r,r.return,p)}}}function cS(r,c,d){d.props=Yo(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(p){rn(r,c,p)}}function Xu(r,c){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof d=="function"?r.refCleanup=d(p):d.current=p}}catch(v){rn(r,c,v)}}function ga(r,c){var d=r.ref,p=r.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(v){rn(r,c,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){rn(r,c,v)}else d.current=null}function uS(r){var c=r.type,d=r.memoizedProps,p=r.stateNode;try{t:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break t;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(v){rn(r,r.return,v)}}function Gb(r,c,d){try{var p=r.stateNode;pF(p,r.type,d,c),p[_n]=c}catch(v){rn(r,r.return,v)}}function hS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Zr(r.type)||r.tag===4}function Vb(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||hS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Zr(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xb(r,c,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(r),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=Wa));else if(p!==4&&(p===27&&Zr(r.type)&&(d=r.stateNode,c=null),r=r.child,r!==null))for(Xb(r,c,d),r=r.sibling;r!==null;)Xb(r,c,d),r=r.sibling}function Uf(r,c,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,c?d.insertBefore(r,c):d.appendChild(r);else if(p!==4&&(p===27&&Zr(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(Uf(r,c,d),r=r.sibling;r!==null;)Uf(r,c,d),r=r.sibling}function dS(r){var c=r.stateNode,d=r.memoizedProps;try{for(var p=r.type,v=c.attributes;v.length;)c.removeAttributeNode(v[0]);bi(c,p,d),c[Cn]=r,c[_n]=d}catch(x){rn(r,r.return,x)}}var er=!1,Zn=!1,Zb=!1,fS=typeof WeakSet=="function"?WeakSet:Set,di=null;function G5(r,c){if(r=r.containerInfo,y0=ap,r=Tw(r),Hy(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else t:{d=(d=r.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var v=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break t}var A=0,F=-1,Q=-1,ut=0,gt=0,_t=r,ht=null;e:for(;;){for(var pt;_t!==d||v!==0&&_t.nodeType!==3||(F=A+v),_t!==x||p!==0&&_t.nodeType!==3||(Q=A+p),_t.nodeType===3&&(A+=_t.nodeValue.length),(pt=_t.firstChild)!==null;)ht=_t,_t=pt;for(;;){if(_t===r)break e;if(ht===d&&++ut===v&&(F=A),ht===x&&++gt===p&&(Q=A),(pt=_t.nextSibling)!==null)break;_t=ht,ht=_t.parentNode}_t=pt}d=F===-1||Q===-1?null:{start:F,end:Q}}else d=null}d=d||{start:0,end:0}}else d=null;for(b0={focusedElem:r,selectionRange:d},ap=!1,di=c;di!==null;)if(c=di,r=c.child,(c.subtreeFlags&1028)!==0&&r!==null)r.return=c,di=r;else for(;di!==null;){switch(c=di,x=c.alternate,r=c.flags,c.tag){case 0:if((r&4)!==0&&(r=c.updateQueue,r=r!==null?r.events:null,r!==null))for(d=0;d<r.length;d++)v=r[d],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,d=c,v=x.memoizedProps,x=x.memoizedState,p=d.stateNode;try{var Bt=Yo(d.type,v);r=p.getSnapshotBeforeUpdate(Bt,x),p.__reactInternalSnapshotBeforeUpdate=r}catch(Jt){rn(d,d.return,Jt)}}break;case 3:if((r&1024)!==0){if(r=c.stateNode.containerInfo,d=r.nodeType,d===9)x0(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":x0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=c.sibling,r!==null){r.return=c.return,di=r;break}di=c.return}}function pS(r,c,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:ir(r,d),p&4&&Vu(5,d);break;case 1:if(ir(r,d),p&4)if(r=d.stateNode,c===null)try{r.componentDidMount()}catch(A){rn(d,d.return,A)}else{var v=Yo(d.type,c.memoizedProps);c=c.memoizedState;try{r.componentDidUpdate(v,c,r.__reactInternalSnapshotBeforeUpdate)}catch(A){rn(d,d.return,A)}}p&64&&lS(d),p&512&&Xu(d,d.return);break;case 3:if(ir(r,d),p&64&&(r=d.updateQueue,r!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{Kw(r,c)}catch(A){rn(d,d.return,A)}}break;case 27:c===null&&p&4&&dS(d);case 26:case 5:ir(r,d),c===null&&p&4&&uS(d),p&512&&Xu(d,d.return);break;case 12:ir(r,d);break;case 31:ir(r,d),p&4&&yS(r,d);break;case 13:ir(r,d),p&4&&bS(r,d),p&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=nF.bind(null,d),wF(r,d))));break;case 22:if(p=d.memoizedState!==null||er,!p){c=c!==null&&c.memoizedState!==null||Zn,v=er;var x=Zn;er=p,(Zn=c)&&!x?sr(r,d,(d.subtreeFlags&8772)!==0):ir(r,d),er=v,Zn=x}break;case 30:break;default:ir(r,d)}}function mS(r){var c=r.alternate;c!==null&&(r.alternate=null,mS(c)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(c=r.stateNode,c!==null&&J(c)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var An=null,Xi=!1;function nr(r,c,d){for(d=d.child;d!==null;)gS(r,c,d),d=d.sibling}function gS(r,c,d){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(kt,d)}catch{}switch(d.tag){case 26:Zn||ga(d,c),nr(r,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Zn||ga(d,c);var p=An,v=Xi;Zr(d.type)&&(An=d.stateNode,Xi=!1),nr(r,c,d),sh(d.stateNode),An=p,Xi=v;break;case 5:Zn||ga(d,c);case 6:if(p=An,v=Xi,An=null,nr(r,c,d),An=p,Xi=v,An!==null)if(Xi)try{(An.nodeType===9?An.body:An.nodeName==="HTML"?An.ownerDocument.body:An).removeChild(d.stateNode)}catch(x){rn(d,c,x)}else try{An.removeChild(d.stateNode)}catch(x){rn(d,c,x)}break;case 18:An!==null&&(Xi?(r=An,lE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),fc(r)):lE(An,d.stateNode));break;case 4:p=An,v=Xi,An=d.stateNode.containerInfo,Xi=!0,nr(r,c,d),An=p,Xi=v;break;case 0:case 11:case 14:case 15:Hr(2,d,c),Zn||Hr(4,d,c),nr(r,c,d);break;case 1:Zn||(ga(d,c),p=d.stateNode,typeof p.componentWillUnmount=="function"&&cS(d,c,p)),nr(r,c,d);break;case 21:nr(r,c,d);break;case 22:Zn=(p=Zn)||d.memoizedState!==null,nr(r,c,d),Zn=p;break;default:nr(r,c,d)}}function yS(r,c){if(c.memoizedState===null&&(r=c.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{fc(r)}catch(d){rn(c,c.return,d)}}}function bS(r,c){if(c.memoizedState===null&&(r=c.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fc(r)}catch(d){rn(c,c.return,d)}}function V5(r){switch(r.tag){case 31:case 13:case 19:var c=r.stateNode;return c===null&&(c=r.stateNode=new fS),c;case 22:return r=r.stateNode,c=r._retryCache,c===null&&(c=r._retryCache=new fS),c;default:throw Error(i(435,r.tag))}}function qf(r,c){var d=V5(r);c.forEach(function(p){if(!d.has(p)){d.add(p);var v=iF.bind(null,r,p);p.then(v,v)}})}function Zi(r,c){var d=c.deletions;if(d!==null)for(var p=0;p<d.length;p++){var v=d[p],x=r,A=c,F=A;t:for(;F!==null;){switch(F.tag){case 27:if(Zr(F.type)){An=F.stateNode,Xi=!1;break t}break;case 5:An=F.stateNode,Xi=!1;break t;case 3:case 4:An=F.stateNode.containerInfo,Xi=!0;break t}F=F.return}if(An===null)throw Error(i(160));gS(x,A,v),An=null,Xi=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)_S(c,r),c=c.sibling}var Qs=null;function _S(r,c){var d=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Zi(c,r),Qi(r),p&4&&(Hr(3,r,r.return),Vu(3,r),Hr(5,r,r.return));break;case 1:Zi(c,r),Qi(r),p&512&&(Zn||d===null||ga(d,d.return)),p&64&&er&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var v=Qs;if(Zi(c,r),Qi(r),p&512&&(Zn||d===null||ga(d,d.return)),p&4){var x=d!==null?d.memoizedState:null;if(p=r.memoizedState,d===null)if(p===null)if(r.stateNode===null){t:{p=r.type,d=r.memoizedProps,v=v.ownerDocument||v;e:switch(p){case"title":x=v.getElementsByTagName("title")[0],(!x||x[$t]||x[Cn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(p),v.head.insertBefore(x,v.querySelector("head > title"))),bi(x,p,d),x[Cn]=r,ke(x),p=x;break t;case"link":var A=_E("link","href",v).get(p+(d.href||""));if(A){for(var F=0;F<A.length;F++)if(x=A[F],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){A.splice(F,1);break e}}x=v.createElement(p),bi(x,p,d),v.head.appendChild(x);break;case"meta":if(A=_E("meta","content",v).get(p+(d.content||""))){for(F=0;F<A.length;F++)if(x=A[F],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){A.splice(F,1);break e}}x=v.createElement(p),bi(x,p,d),v.head.appendChild(x);break;default:throw Error(i(468,p))}x[Cn]=r,ke(x),p=x}r.stateNode=p}else vE(v,r.type,r.stateNode);else r.stateNode=bE(v,p,r.memoizedProps);else x!==p?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,p===null?vE(v,r.type,r.stateNode):bE(v,p,r.memoizedProps)):p===null&&r.stateNode!==null&&Gb(r,r.memoizedProps,d.memoizedProps)}break;case 27:Zi(c,r),Qi(r),p&512&&(Zn||d===null||ga(d,d.return)),d!==null&&p&4&&Gb(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Zi(c,r),Qi(r),p&512&&(Zn||d===null||ga(d,d.return)),r.flags&32){v=r.stateNode;try{Bl(v,"")}catch(Bt){rn(r,r.return,Bt)}}p&4&&r.stateNode!=null&&(v=r.memoizedProps,Gb(r,v,d!==null?d.memoizedProps:v)),p&1024&&(Zb=!0);break;case 6:if(Zi(c,r),Qi(r),p&4){if(r.stateNode===null)throw Error(i(162));p=r.memoizedProps,d=r.stateNode;try{d.nodeValue=p}catch(Bt){rn(r,r.return,Bt)}}break;case 3:if(ep=null,v=Qs,Qs=Jf(c.containerInfo),Zi(c,r),Qs=v,Qi(r),p&4&&d!==null&&d.memoizedState.isDehydrated)try{fc(c.containerInfo)}catch(Bt){rn(r,r.return,Bt)}Zb&&(Zb=!1,vS(r));break;case 4:p=Qs,Qs=Jf(r.stateNode.containerInfo),Zi(c,r),Qi(r),Qs=p;break;case 12:Zi(c,r),Qi(r);break;case 31:Zi(c,r),Qi(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,qf(r,p)));break;case 13:Zi(c,r),Qi(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Pf=Tt()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,qf(r,p)));break;case 22:v=r.memoizedState!==null;var Q=d!==null&&d.memoizedState!==null,ut=er,gt=Zn;if(er=ut||v,Zn=gt||Q,Zi(c,r),Zn=gt,er=ut,Qi(r),p&8192)t:for(c=r.stateNode,c._visibility=v?c._visibility&-2:c._visibility|1,v&&(d===null||Q||er||Zn||Go(r)),d=null,c=r;;){if(c.tag===5||c.tag===26){if(d===null){Q=d=c;try{if(x=Q.stateNode,v)A=x.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{F=Q.stateNode;var _t=Q.memoizedProps.style,ht=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;F.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(Bt){rn(Q,Q.return,Bt)}}}else if(c.tag===6){if(d===null){Q=c;try{Q.stateNode.nodeValue=v?"":Q.memoizedProps}catch(Bt){rn(Q,Q.return,Bt)}}}else if(c.tag===18){if(d===null){Q=c;try{var pt=Q.stateNode;v?cE(pt,!0):cE(Q.stateNode,!1)}catch(Bt){rn(Q,Q.return,Bt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===r)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===r)break t;for(;c.sibling===null;){if(c.return===null||c.return===r)break t;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=r.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,qf(r,d))));break;case 19:Zi(c,r),Qi(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,qf(r,p)));break;case 30:break;case 21:break;default:Zi(c,r),Qi(r)}}function Qi(r){var c=r.flags;if(c&2){try{for(var d,p=r.return;p!==null;){if(hS(p)){d=p;break}p=p.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var v=d.stateNode,x=Vb(r);Uf(r,x,v);break;case 5:var A=d.stateNode;d.flags&32&&(Bl(A,""),d.flags&=-33);var F=Vb(r);Uf(r,F,A);break;case 3:case 4:var Q=d.stateNode.containerInfo,ut=Vb(r);Xb(r,ut,Q);break;default:throw Error(i(161))}}catch(gt){rn(r,r.return,gt)}r.flags&=-3}c&4096&&(r.flags&=-4097)}function vS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var c=r;vS(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),r=r.sibling}}function ir(r,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)pS(r,c.alternate,c),c=c.sibling}function Go(r){for(r=r.child;r!==null;){var c=r;switch(c.tag){case 0:case 11:case 14:case 15:Hr(4,c,c.return),Go(c);break;case 1:ga(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&cS(c,c.return,d),Go(c);break;case 27:sh(c.stateNode);case 26:case 5:ga(c,c.return),Go(c);break;case 22:c.memoizedState===null&&Go(c);break;case 30:Go(c);break;default:Go(c)}r=r.sibling}}function sr(r,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,v=r,x=c,A=x.flags;switch(x.tag){case 0:case 11:case 15:sr(v,x,d),Vu(4,x);break;case 1:if(sr(v,x,d),p=x,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ut){rn(p,p.return,ut)}if(p=x,v=p.updateQueue,v!==null){var F=p.stateNode;try{var Q=v.shared.hiddenCallbacks;if(Q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Q.length;v++)Qw(Q[v],F)}catch(ut){rn(p,p.return,ut)}}d&&A&64&&lS(x),Xu(x,x.return);break;case 27:dS(x);case 26:case 5:sr(v,x,d),d&&p===null&&A&4&&uS(x),Xu(x,x.return);break;case 12:sr(v,x,d);break;case 31:sr(v,x,d),d&&A&4&&yS(v,x);break;case 13:sr(v,x,d),d&&A&4&&bS(v,x);break;case 22:x.memoizedState===null&&sr(v,x,d),Xu(x,x.return);break;case 30:break;default:sr(v,x,d)}c=c.sibling}}function Qb(r,c){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(r=c.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Iu(d))}function Kb(r,c){r=null,c.alternate!==null&&(r=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==r&&(c.refCount++,r!=null&&Iu(r))}function Ks(r,c,d,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)xS(r,c,d,p),c=c.sibling}function xS(r,c,d,p){var v=c.flags;switch(c.tag){case 0:case 11:case 15:Ks(r,c,d,p),v&2048&&Vu(9,c);break;case 1:Ks(r,c,d,p);break;case 3:Ks(r,c,d,p),v&2048&&(r=null,c.alternate!==null&&(r=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==r&&(c.refCount++,r!=null&&Iu(r)));break;case 12:if(v&2048){Ks(r,c,d,p),r=c.stateNode;try{var x=c.memoizedProps,A=x.id,F=x.onPostCommit;typeof F=="function"&&F(A,c.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Q){rn(c,c.return,Q)}}else Ks(r,c,d,p);break;case 31:Ks(r,c,d,p);break;case 13:Ks(r,c,d,p);break;case 23:break;case 22:x=c.stateNode,A=c.alternate,c.memoizedState!==null?x._visibility&2?Ks(r,c,d,p):Zu(r,c):x._visibility&2?Ks(r,c,d,p):(x._visibility|=2,nc(r,c,d,p,(c.subtreeFlags&10256)!==0||!1)),v&2048&&Qb(A,c);break;case 24:Ks(r,c,d,p),v&2048&&Kb(c.alternate,c);break;default:Ks(r,c,d,p)}}function nc(r,c,d,p,v){for(v=v&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var x=r,A=c,F=d,Q=p,ut=A.flags;switch(A.tag){case 0:case 11:case 15:nc(x,A,F,Q,v),Vu(8,A);break;case 23:break;case 22:var gt=A.stateNode;A.memoizedState!==null?gt._visibility&2?nc(x,A,F,Q,v):Zu(x,A):(gt._visibility|=2,nc(x,A,F,Q,v)),v&&ut&2048&&Qb(A.alternate,A);break;case 24:nc(x,A,F,Q,v),v&&ut&2048&&Kb(A.alternate,A);break;default:nc(x,A,F,Q,v)}c=c.sibling}}function Zu(r,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=r,p=c,v=p.flags;switch(p.tag){case 22:Zu(d,p),v&2048&&Qb(p.alternate,p);break;case 24:Zu(d,p),v&2048&&Kb(p.alternate,p);break;default:Zu(d,p)}c=c.sibling}}var Qu=8192;function ic(r,c,d){if(r.subtreeFlags&Qu)for(r=r.child;r!==null;)wS(r,c,d),r=r.sibling}function wS(r,c,d){switch(r.tag){case 26:ic(r,c,d),r.flags&Qu&&r.memoizedState!==null&&NF(d,Qs,r.memoizedState,r.memoizedProps);break;case 5:ic(r,c,d);break;case 3:case 4:var p=Qs;Qs=Jf(r.stateNode.containerInfo),ic(r,c,d),Qs=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=Qu,Qu=16777216,ic(r,c,d),Qu=p):ic(r,c,d));break;default:ic(r,c,d)}}function SS(r){var c=r.alternate;if(c!==null&&(r=c.child,r!==null)){c.child=null;do c=r.sibling,r.sibling=null,r=c;while(r!==null)}}function Ku(r){var c=r.deletions;if((r.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];di=p,TS(p,r)}SS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ES(r),r=r.sibling}function ES(r){switch(r.tag){case 0:case 11:case 15:Ku(r),r.flags&2048&&Hr(9,r,r.return);break;case 3:Ku(r);break;case 12:Ku(r);break;case 22:var c=r.stateNode;r.memoizedState!==null&&c._visibility&2&&(r.return===null||r.return.tag!==13)?(c._visibility&=-3,zf(r)):Ku(r);break;default:Ku(r)}}function zf(r){var c=r.deletions;if((r.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];di=p,TS(p,r)}SS(r)}for(r=r.child;r!==null;){switch(c=r,c.tag){case 0:case 11:case 15:Hr(8,c,c.return),zf(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,zf(c));break;default:zf(c)}r=r.sibling}}function TS(r,c){for(;di!==null;){var d=di;switch(d.tag){case 0:case 11:case 15:Hr(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Iu(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,di=p;else t:for(d=r;di!==null;){p=di;var v=p.sibling,x=p.return;if(mS(p),p===d){di=null;break t}if(v!==null){v.return=x,di=v;break t}di=x}}}var X5={getCacheForType:function(r){var c=gi(Gn),d=c.data.get(r);return d===void 0&&(d=r(),c.data.set(r,d)),d},cacheSignal:function(){return gi(Gn).controller.signal}},Z5=typeof WeakMap=="function"?WeakMap:Map,Ye=0,gn=null,Oe=null,Ie=0,an=0,gs=null,jr=!1,sc=!1,Jb=!1,ar=0,In=0,Wr=0,Vo=0,t0=0,ys=0,ac=0,Ju=null,Ki=null,e0=!1,Pf=0,kS=0,$f=1/0,Hf=null,Yr=null,ti=0,Gr=null,rc=null,rr=0,n0=0,i0=null,CS=null,th=0,s0=null;function bs(){return(Ye&2)!==0&&Ie!==0?Ie&-Ie:M.T!==null?u0():Ii()}function AS(){if(ys===0)if((Ie&536870912)===0||Fe){var r=xe;xe<<=1,(xe&3932160)===0&&(xe=262144),ys=r}else ys=536870912;return r=ps.current,r!==null&&(r.flags|=32),ys}function Ji(r,c,d){(r===gn&&(an===2||an===9)||r.cancelPendingCommit!==null)&&(oc(r,0),Vr(r,Ie,ys,!1)),Yn(r,d),((Ye&2)===0||r!==gn)&&(r===gn&&((Ye&2)===0&&(Vo|=d),In===4&&Vr(r,Ie,ys,!1)),ya(r))}function RS(r,c,d){if((Ye&6)!==0)throw Error(i(327));var p=!d&&(c&127)===0&&(c&r.expiredLanes)===0||bn(r,c),v=p?J5(r,c):r0(r,c,!0),x=p;do{if(v===0){sc&&!p&&Vr(r,c,0,!1);break}else{if(d=r.current.alternate,x&&!Q5(d)){v=r0(r,c,!1),x=!1;continue}if(v===2){if(x=c,r.errorRecoveryDisabledLanes&x)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){c=A;t:{var F=r;v=Ju;var Q=F.current.memoizedState.isDehydrated;if(Q&&(oc(F,A).flags|=256),A=r0(F,A,!1),A!==2){if(Jb&&!Q){F.errorRecoveryDisabledLanes|=x,Vo|=x,v=4;break t}x=Ki,Ki=v,x!==null&&(Ki===null?Ki=x:Ki.push.apply(Ki,x))}v=A}if(x=!1,v!==2)continue}}if(v===1){oc(r,0),Vr(r,c,0,!0);break}t:{switch(p=r,x=v,x){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Vr(p,c,ys,!jr);break t;case 2:Ki=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(v=Pf+300-Tt(),10<v)){if(Vr(p,c,ys,!jr),qn(p,0,!0)!==0)break t;rr=c,p.timeoutHandle=rE(LS.bind(null,p,d,Ki,Hf,e0,c,ys,Vo,ac,jr,x,"Throttled",-0,0),v);break t}LS(p,d,Ki,Hf,e0,c,ys,Vo,ac,jr,x,null,-0,0)}}break}while(!0);ya(r)}function LS(r,c,d,p,v,x,A,F,Q,ut,gt,_t,ht,pt){if(r.timeoutHandle=-1,_t=c.subtreeFlags,_t&8192||(_t&16785408)===16785408){_t={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wa},wS(c,x,_t);var Bt=(x&62914560)===x?Pf-Tt():(x&4194048)===x?kS-Tt():0;if(Bt=IF(_t,Bt),Bt!==null){rr=x,r.cancelPendingCommit=Bt(US.bind(null,r,c,x,d,p,v,A,F,Q,gt,_t,null,ht,pt)),Vr(r,x,A,!ut);return}}US(r,c,x,d,p,v,A,F,Q)}function Q5(r){for(var c=r;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var v=d[p],x=v.getSnapshot;v=v.value;try{if(!ds(x(),v))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===r)break;for(;c.sibling===null;){if(c.return===null||c.return===r)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Vr(r,c,d,p){c&=~t0,c&=~Vo,r.suspendedLanes|=c,r.pingedLanes&=~c,p&&(r.warmLanes|=c),p=r.expirationTimes;for(var v=c;0<v;){var x=31-Yt(v),A=1<<x;p[x]=-1,v&=~A}d!==0&&ui(r,d,c)}function jf(){return(Ye&6)===0?(eh(0),!1):!0}function a0(){if(Oe!==null){if(an===0)var r=Oe.return;else r=Oe,Xa=qo=null,xb(r),Ql=null,Fu=0,r=Oe;for(;r!==null;)oS(r.alternate,r),r=r.return;Oe=null}}function oc(r,c){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,yF(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),rr=0,a0(),gn=r,Oe=d=Ga(r.current,null),Ie=c,an=0,gs=null,jr=!1,sc=bn(r,c),Jb=!1,ac=ys=t0=Vo=Wr=In=0,Ki=Ju=null,e0=!1,(c&8)!==0&&(c|=c&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=c;0<p;){var v=31-Yt(p),x=1<<v;c|=r[v],p&=~x}return ar=c,hf(),d}function DS(r,c){we=null,M.H=Wu,c===Zl||c===_f?(c=Gw(),an=3):c===cb?(c=Gw(),an=4):an=c===Fb?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,gs=c,Oe===null&&(In=1,Mf(r,As(c,r.current)))}function OS(){var r=ps.current;return r===null?!0:(Ie&4194048)===Ie?Os===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?r===Os:!1}function MS(){var r=M.H;return M.H=Wu,r===null?Wu:r}function NS(){var r=M.A;return M.A=X5,r}function Wf(){In=4,jr||(Ie&4194048)!==Ie&&ps.current!==null||(sc=!0),(Wr&134217727)===0&&(Vo&134217727)===0||gn===null||Vr(gn,Ie,ys,!1)}function r0(r,c,d){var p=Ye;Ye|=2;var v=MS(),x=NS();(gn!==r||Ie!==c)&&(Hf=null,oc(r,c)),c=!1;var A=In;t:do try{if(an!==0&&Oe!==null){var F=Oe,Q=gs;switch(an){case 8:a0(),A=6;break t;case 3:case 2:case 9:case 6:ps.current===null&&(c=!0);var ut=an;if(an=0,gs=null,lc(r,F,Q,ut),d&&sc){A=0;break t}break;default:ut=an,an=0,gs=null,lc(r,F,Q,ut)}}K5(),A=In;break}catch(gt){DS(r,gt)}while(!0);return c&&r.shellSuspendCounter++,Xa=qo=null,Ye=p,M.H=v,M.A=x,Oe===null&&(gn=null,Ie=0,hf()),A}function K5(){for(;Oe!==null;)IS(Oe)}function J5(r,c){var d=Ye;Ye|=2;var p=MS(),v=NS();gn!==r||Ie!==c?(Hf=null,$f=Tt()+500,oc(r,c)):sc=bn(r,c);t:do try{if(an!==0&&Oe!==null){c=Oe;var x=gs;e:switch(an){case 1:an=0,gs=null,lc(r,c,x,1);break;case 2:case 9:if(Ww(x)){an=0,gs=null,BS(c);break}c=function(){an!==2&&an!==9||gn!==r||(an=7),ya(r)},x.then(c,c);break t;case 3:an=7;break t;case 4:an=5;break t;case 7:Ww(x)?(an=0,gs=null,BS(c)):(an=0,gs=null,lc(r,c,x,7));break;case 5:var A=null;switch(Oe.tag){case 26:A=Oe.memoizedState;case 5:case 27:var F=Oe;if(A?xE(A):F.stateNode.complete){an=0,gs=null;var Q=F.sibling;if(Q!==null)Oe=Q;else{var ut=F.return;ut!==null?(Oe=ut,Yf(ut)):Oe=null}break e}}an=0,gs=null,lc(r,c,x,5);break;case 6:an=0,gs=null,lc(r,c,x,6);break;case 8:a0(),In=6;break t;default:throw Error(i(462))}}tF();break}catch(gt){DS(r,gt)}while(!0);return Xa=qo=null,M.H=p,M.A=v,Ye=d,Oe!==null?0:(gn=null,Ie=0,hf(),In)}function tF(){for(;Oe!==null&&!lt();)IS(Oe)}function IS(r){var c=aS(r.alternate,r,ar);r.memoizedProps=r.pendingProps,c===null?Yf(r):Oe=c}function BS(r){var c=r,d=c.alternate;switch(c.tag){case 15:case 0:c=J2(d,c,c.pendingProps,c.type,void 0,Ie);break;case 11:c=J2(d,c,c.pendingProps,c.type.render,c.ref,Ie);break;case 5:xb(c);default:oS(d,c),c=Oe=Nw(c,ar),c=aS(d,c,ar)}r.memoizedProps=r.pendingProps,c===null?Yf(r):Oe=c}function lc(r,c,d,p){Xa=qo=null,xb(c),Ql=null,Fu=0;var v=c.return;try{if($5(r,v,c,d,Ie)){In=1,Mf(r,As(d,r.current)),Oe=null;return}}catch(x){if(v!==null)throw Oe=v,x;In=1,Mf(r,As(d,r.current)),Oe=null;return}c.flags&32768?(Fe||p===1?r=!0:sc||(Ie&536870912)!==0?r=!1:(jr=r=!0,(p===2||p===9||p===3||p===6)&&(p=ps.current,p!==null&&p.tag===13&&(p.flags|=16384))),FS(c,r)):Yf(c)}function Yf(r){var c=r;do{if((c.flags&32768)!==0){FS(c,jr);return}r=c.return;var d=W5(c.alternate,c,ar);if(d!==null){Oe=d;return}if(c=c.sibling,c!==null){Oe=c;return}Oe=c=r}while(c!==null);In===0&&(In=5)}function FS(r,c){do{var d=Y5(r.alternate,r);if(d!==null){d.flags&=32767,Oe=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(r=r.sibling,r!==null)){Oe=r;return}Oe=r=d}while(r!==null);In=6,Oe=null}function US(r,c,d,p,v,x,A,F,Q){r.cancelPendingCommit=null;do Gf();while(ti!==0);if((Ye&6)!==0)throw Error(i(327));if(c!==null){if(c===r.current)throw Error(i(177));if(x=c.lanes|c.childLanes,x|=Vy,ci(r,d,x,A,F,Q),r===gn&&(Oe=gn=null,Ie=0),rc=c,Gr=r,rr=d,n0=x,i0=v,CS=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,sF(Kt,function(){return HS(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=M.T,M.T=null,v=B.p,B.p=2,A=Ye,Ye|=4;try{G5(r,c,d)}finally{Ye=A,B.p=v,M.T=p}}ti=1,qS(),zS(),PS()}}function qS(){if(ti===1){ti=0;var r=Gr,c=rc,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=M.T,M.T=null;var p=B.p;B.p=2;var v=Ye;Ye|=4;try{_S(c,r);var x=b0,A=Tw(r.containerInfo),F=x.focusedElem,Q=x.selectionRange;if(A!==F&&F&&F.ownerDocument&&Ew(F.ownerDocument.documentElement,F)){if(Q!==null&&Hy(F)){var ut=Q.start,gt=Q.end;if(gt===void 0&&(gt=ut),"selectionStart"in F)F.selectionStart=ut,F.selectionEnd=Math.min(gt,F.value.length);else{var _t=F.ownerDocument||document,ht=_t&&_t.defaultView||window;if(ht.getSelection){var pt=ht.getSelection(),Bt=F.textContent.length,Jt=Math.min(Q.start,Bt),mn=Q.end===void 0?Jt:Math.min(Q.end,Bt);!pt.extend&&Jt>mn&&(A=mn,mn=Jt,Jt=A);var at=Sw(F,Jt),et=Sw(F,mn);if(at&&et&&(pt.rangeCount!==1||pt.anchorNode!==at.node||pt.anchorOffset!==at.offset||pt.focusNode!==et.node||pt.focusOffset!==et.offset)){var ct=_t.createRange();ct.setStart(at.node,at.offset),pt.removeAllRanges(),Jt>mn?(pt.addRange(ct),pt.extend(et.node,et.offset)):(ct.setEnd(et.node,et.offset),pt.addRange(ct))}}}}for(_t=[],pt=F;pt=pt.parentNode;)pt.nodeType===1&&_t.push({element:pt,left:pt.scrollLeft,top:pt.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<_t.length;F++){var bt=_t[F];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}ap=!!y0,b0=y0=null}finally{Ye=v,B.p=p,M.T=d}}r.current=c,ti=2}}function zS(){if(ti===2){ti=0;var r=Gr,c=rc,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=M.T,M.T=null;var p=B.p;B.p=2;var v=Ye;Ye|=4;try{pS(r,c.alternate,c)}finally{Ye=v,B.p=p,M.T=d}}ti=3}}function PS(){if(ti===4||ti===3){ti=0,vt();var r=Gr,c=rc,d=rr,p=CS;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ti=5:(ti=0,rc=Gr=null,$S(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(Yr=null),kn(d),c=c.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(kt,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=M.T,v=B.p,B.p=2,M.T=null;try{for(var x=r.onRecoverableError,A=0;A<p.length;A++){var F=p[A];x(F.value,{componentStack:F.stack})}}finally{M.T=c,B.p=v}}(rr&3)!==0&&Gf(),ya(r),v=r.pendingLanes,(d&261930)!==0&&(v&42)!==0?r===s0?th++:(th=0,s0=r):th=0,eh(0)}}function $S(r,c){(r.pooledCacheLanes&=c)===0&&(c=r.pooledCache,c!=null&&(r.pooledCache=null,Iu(c)))}function Gf(){return qS(),zS(),PS(),HS()}function HS(){if(ti!==5)return!1;var r=Gr,c=n0;n0=0;var d=kn(rr),p=M.T,v=B.p;try{B.p=32>d?32:d,M.T=null,d=i0,i0=null;var x=Gr,A=rr;if(ti=0,rc=Gr=null,rr=0,(Ye&6)!==0)throw Error(i(331));var F=Ye;if(Ye|=4,ES(x.current),xS(x,x.current,A,d),Ye=F,eh(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(kt,x)}catch{}return!0}finally{B.p=v,M.T=p,$S(r,c)}}function jS(r,c,d){c=As(d,c),c=Bb(r.stateNode,c,2),r=zr(r,c,2),r!==null&&(Yn(r,2),ya(r))}function rn(r,c,d){if(r.tag===3)jS(r,r,d);else for(;c!==null;){if(c.tag===3){jS(c,r,d);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Yr===null||!Yr.has(p))){r=As(d,r),d=W2(2),p=zr(c,d,2),p!==null&&(Y2(d,p,c,r),Yn(p,2),ya(p));break}}c=c.return}}function o0(r,c,d){var p=r.pingCache;if(p===null){p=r.pingCache=new Z5;var v=new Set;p.set(c,v)}else v=p.get(c),v===void 0&&(v=new Set,p.set(c,v));v.has(d)||(Jb=!0,v.add(d),r=eF.bind(null,r,c,d),c.then(r,r))}function eF(r,c,d){var p=r.pingCache;p!==null&&p.delete(c),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,gn===r&&(Ie&d)===d&&(In===4||In===3&&(Ie&62914560)===Ie&&300>Tt()-Pf?(Ye&2)===0&&oc(r,0):t0|=d,ac===Ie&&(ac=0)),ya(r)}function WS(r,c){c===0&&(c=Wn()),r=Bo(r,c),r!==null&&(Yn(r,c),ya(r))}function nF(r){var c=r.memoizedState,d=0;c!==null&&(d=c.retryLane),WS(r,d)}function iF(r,c){var d=0;switch(r.tag){case 31:case 13:var p=r.stateNode,v=r.memoizedState;v!==null&&(d=v.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(c),WS(r,d)}function sF(r,c){return yt(r,c)}var Vf=null,cc=null,l0=!1,Xf=!1,c0=!1,Xr=0;function ya(r){r!==cc&&r.next===null&&(cc===null?Vf=cc=r:cc=cc.next=r),Xf=!0,l0||(l0=!0,rF())}function eh(r,c){if(!c0&&Xf){c0=!0;do for(var d=!1,p=Vf;p!==null;){if(r!==0){var v=p.pendingLanes;if(v===0)var x=0;else{var A=p.suspendedLanes,F=p.pingedLanes;x=(1<<31-Yt(42|r)+1)-1,x&=v&~(A&~F),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,XS(p,x))}else x=Ie,x=qn(p,p===gn?x:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(x&3)===0||bn(p,x)||(d=!0,XS(p,x));p=p.next}while(d);c0=!1}}function aF(){YS()}function YS(){Xf=l0=!1;var r=0;Xr!==0&&gF()&&(r=Xr);for(var c=Tt(),d=null,p=Vf;p!==null;){var v=p.next,x=GS(p,c);x===0?(p.next=null,d===null?Vf=v:d.next=v,v===null&&(cc=d)):(d=p,(r!==0||(x&3)!==0)&&(Xf=!0)),p=v}ti!==0&&ti!==5||eh(r),Xr!==0&&(Xr=0)}function GS(r,c){for(var d=r.suspendedLanes,p=r.pingedLanes,v=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var A=31-Yt(x),F=1<<A,Q=v[A];Q===-1?((F&d)===0||(F&p)!==0)&&(v[A]=Re(F,c)):Q<=c&&(r.expiredLanes|=F),x&=~F}if(c=gn,d=Ie,d=qn(r,r===c?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,d===0||r===c&&(an===2||an===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&xt(p),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||bn(r,d)){if(c=d&-d,c===r.callbackPriority)return c;switch(p!==null&&xt(p),kn(d)){case 2:case 8:d=ue;break;case 32:d=Kt;break;case 268435456:d=Ni;break;default:d=Kt}return p=VS.bind(null,r),d=yt(d,p),r.callbackPriority=c,r.callbackNode=d,c}return p!==null&&p!==null&&xt(p),r.callbackPriority=2,r.callbackNode=null,2}function VS(r,c){if(ti!==0&&ti!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(Gf()&&r.callbackNode!==d)return null;var p=Ie;return p=qn(r,r===gn?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(RS(r,p,c),GS(r,Tt()),r.callbackNode!=null&&r.callbackNode===d?VS.bind(null,r):null)}function XS(r,c){if(Gf())return null;RS(r,c,!0)}function rF(){bF(function(){(Ye&6)!==0?yt(It,aF):YS()})}function u0(){if(Xr===0){var r=Vl;r===0&&(r=ge,ge<<=1,(ge&261888)===0&&(ge=256)),Xr=r}return Xr}function ZS(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:nf(""+r)}function QS(r,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,r.id&&d.setAttribute("form",r.id),c.parentNode.insertBefore(d,c),r=new FormData(r),d.parentNode.removeChild(d),r}function oF(r,c,d,p,v){if(c==="submit"&&d&&d.stateNode===v){var x=ZS((v[_n]||null).action),A=p.submitter;A&&(c=(c=A[_n]||null)?ZS(c.formAction):A.getAttribute("formAction"),c!==null&&(x=c,A=null));var F=new of("action","action",null,p,v);r.push({event:F,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Xr!==0){var Q=A?QS(v,A):new FormData(v);Lb(d,{pending:!0,data:Q,method:v.method,action:x},null,Q)}}else typeof x=="function"&&(F.preventDefault(),Q=A?QS(v,A):new FormData(v),Lb(d,{pending:!0,data:Q,method:v.method,action:x},x,Q))},currentTarget:v}]})}}for(var h0=0;h0<Gy.length;h0++){var d0=Gy[h0],lF=d0.toLowerCase(),cF=d0[0].toUpperCase()+d0.slice(1);Zs(lF,"on"+cF)}Zs(Aw,"onAnimationEnd"),Zs(Rw,"onAnimationIteration"),Zs(Lw,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(T5,"onTransitionRun"),Zs(k5,"onTransitionStart"),Zs(C5,"onTransitionCancel"),Zs(Dw,"onTransitionEnd"),fa("onMouseEnter",["mouseout","mouseover"]),fa("onMouseLeave",["mouseout","mouseover"]),fa("onPointerEnter",["pointerout","pointerover"]),fa("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nh));function KS(r,c){c=(c&4)!==0;for(var d=0;d<r.length;d++){var p=r[d],v=p.event;p=p.listeners;t:{var x=void 0;if(c)for(var A=p.length-1;0<=A;A--){var F=p[A],Q=F.instance,ut=F.currentTarget;if(F=F.listener,Q!==x&&v.isPropagationStopped())break t;x=F,v.currentTarget=ut;try{x(v)}catch(gt){uf(gt)}v.currentTarget=null,x=Q}else for(A=0;A<p.length;A++){if(F=p[A],Q=F.instance,ut=F.currentTarget,F=F.listener,Q!==x&&v.isPropagationStopped())break t;x=F,v.currentTarget=ut;try{x(v)}catch(gt){uf(gt)}v.currentTarget=null,x=Q}}}}function Me(r,c){var d=c[Nl];d===void 0&&(d=c[Nl]=new Set);var p=r+"__bubble";d.has(p)||(JS(c,r,2,!1),d.add(p))}function f0(r,c,d){var p=0;c&&(p|=4),JS(d,r,p,c)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function p0(r){if(!r[Zf]){r[Zf]=!0,pi.forEach(function(d){d!=="selectionchange"&&(uF.has(d)||f0(d,!1,r),f0(d,!0,r))});var c=r.nodeType===9?r:r.ownerDocument;c===null||c[Zf]||(c[Zf]=!0,f0("selectionchange",!1,c))}}function JS(r,c,d,p){switch(AE(c)){case 2:var v=UF;break;case 8:v=qF;break;default:v=R0}d=v.bind(null,c,d,r),v=void 0,!Ny||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),p?v!==void 0?r.addEventListener(c,d,{capture:!0,passive:v}):r.addEventListener(c,d,!0):v!==void 0?r.addEventListener(c,d,{passive:v}):r.addEventListener(c,d,!1)}function m0(r,c,d,p,v){var x=p;if((c&1)===0&&(c&2)===0&&p!==null)t:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var F=p.stateNode.containerInfo;if(F===v)break;if(A===4)for(A=p.return;A!==null;){var Q=A.tag;if((Q===3||Q===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;F!==null;){if(A=Et(F),A===null)return;if(Q=A.tag,Q===5||Q===6||Q===26||Q===27){p=x=A;continue t}F=F.parentNode}}p=p.return}sw(function(){var ut=x,gt=Oy(d),_t=[];t:{var ht=Ow.get(r);if(ht!==void 0){var pt=of,Bt=r;switch(r){case"keypress":if(af(d)===0)break t;case"keydown":case"keyup":pt=i5;break;case"focusin":Bt="focus",pt=Uy;break;case"focusout":Bt="blur",pt=Uy;break;case"beforeblur":case"afterblur":pt=Uy;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=ow;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=WB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=r5;break;case Aw:case Rw:case Lw:pt=VB;break;case Dw:pt=l5;break;case"scroll":case"scrollend":pt=HB;break;case"wheel":pt=u5;break;case"copy":case"cut":case"paste":pt=ZB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=cw;break;case"toggle":case"beforetoggle":pt=d5}var Jt=(c&4)!==0,mn=!Jt&&(r==="scroll"||r==="scrollend"),at=Jt?ht!==null?ht+"Capture":null:ht;Jt=[];for(var et=ut,ct;et!==null;){var bt=et;if(ct=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||ct===null||at===null||(bt=Eu(et,at),bt!=null&&Jt.push(ih(et,bt,ct))),mn)break;et=et.return}0<Jt.length&&(ht=new pt(ht,Bt,null,d,gt),_t.push({event:ht,listeners:Jt}))}}if((c&7)===0){t:{if(ht=r==="mouseover"||r==="pointerover",pt=r==="mouseout"||r==="pointerout",ht&&d!==Dy&&(Bt=d.relatedTarget||d.fromElement)&&(Et(Bt)||Bt[Ha]))break t;if((pt||ht)&&(ht=gt.window===gt?gt:(ht=gt.ownerDocument)?ht.defaultView||ht.parentWindow:window,pt?(Bt=d.relatedTarget||d.toElement,pt=ut,Bt=Bt?Et(Bt):null,Bt!==null&&(mn=a(Bt),Jt=Bt.tag,Bt!==mn||Jt!==5&&Jt!==27&&Jt!==6)&&(Bt=null)):(pt=null,Bt=ut),pt!==Bt)){if(Jt=ow,bt="onMouseLeave",at="onMouseEnter",et="mouse",(r==="pointerout"||r==="pointerover")&&(Jt=cw,bt="onPointerLeave",at="onPointerEnter",et="pointer"),mn=pt==null?ht:Ze(pt),ct=Bt==null?ht:Ze(Bt),ht=new Jt(bt,et+"leave",pt,d,gt),ht.target=mn,ht.relatedTarget=ct,bt=null,Et(gt)===ut&&(Jt=new Jt(at,et+"enter",Bt,d,gt),Jt.target=ct,Jt.relatedTarget=mn,bt=Jt),mn=bt,pt&&Bt)e:{for(Jt=hF,at=pt,et=Bt,ct=0,bt=at;bt;bt=Jt(bt))ct++;bt=0;for(var Vt=et;Vt;Vt=Jt(Vt))bt++;for(;0<ct-bt;)at=Jt(at),ct--;for(;0<bt-ct;)et=Jt(et),bt--;for(;ct--;){if(at===et||et!==null&&at===et.alternate){Jt=at;break e}at=Jt(at),et=Jt(et)}Jt=null}else Jt=null;pt!==null&&tE(_t,ht,pt,Jt,!1),Bt!==null&&mn!==null&&tE(_t,mn,Bt,Jt,!0)}}t:{if(ht=ut?Ze(ut):window,pt=ht.nodeName&&ht.nodeName.toLowerCase(),pt==="select"||pt==="input"&&ht.type==="file")var $e=yw;else if(mw(ht))if(bw)$e=w5;else{$e=v5;var Ht=_5}else pt=ht.nodeName,!pt||pt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ut&&Ly(ut.elementType)&&($e=yw):$e=x5;if($e&&($e=$e(r,ut))){gw(_t,$e,d,gt);break t}Ht&&Ht(r,ht,ut),r==="focusout"&&ut&&ht.type==="number"&&ut.memoizedProps.value!=null&&Ry(ht,"number",ht.value)}switch(Ht=ut?Ze(ut):window,r){case"focusin":(mw(Ht)||Ht.contentEditable==="true")&&(zl=Ht,jy=ut,Ou=null);break;case"focusout":Ou=jy=zl=null;break;case"mousedown":Wy=!0;break;case"contextmenu":case"mouseup":case"dragend":Wy=!1,kw(_t,d,gt);break;case"selectionchange":if(E5)break;case"keydown":case"keyup":kw(_t,d,gt)}var Se;if(zy)t:{switch(r){case"compositionstart":var Be="onCompositionStart";break t;case"compositionend":Be="onCompositionEnd";break t;case"compositionupdate":Be="onCompositionUpdate";break t}Be=void 0}else ql?fw(r,d)&&(Be="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Be="onCompositionStart");Be&&(uw&&d.locale!=="ko"&&(ql||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&ql&&(Se=aw()):(Mr=gt,Iy="value"in Mr?Mr.value:Mr.textContent,ql=!0)),Ht=Qf(ut,Be),0<Ht.length&&(Be=new lw(Be,r,null,d,gt),_t.push({event:Be,listeners:Ht}),Se?Be.data=Se:(Se=pw(d),Se!==null&&(Be.data=Se)))),(Se=p5?m5(r,d):g5(r,d))&&(Be=Qf(ut,"onBeforeInput"),0<Be.length&&(Ht=new lw("onBeforeInput","beforeinput",null,d,gt),_t.push({event:Ht,listeners:Be}),Ht.data=Se)),oF(_t,r,ut,d,gt)}KS(_t,c)})}function ih(r,c,d){return{instance:r,listener:c,currentTarget:d}}function Qf(r,c){for(var d=c+"Capture",p=[];r!==null;){var v=r,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Eu(r,d),v!=null&&p.unshift(ih(r,v,x)),v=Eu(r,c),v!=null&&p.push(ih(r,v,x))),r.tag===3)return p;r=r.return}return[]}function hF(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function tE(r,c,d,p,v){for(var x=c._reactName,A=[];d!==null&&d!==p;){var F=d,Q=F.alternate,ut=F.stateNode;if(F=F.tag,Q!==null&&Q===p)break;F!==5&&F!==26&&F!==27||ut===null||(Q=ut,v?(ut=Eu(d,x),ut!=null&&A.unshift(ih(d,ut,Q))):v||(ut=Eu(d,x),ut!=null&&A.push(ih(d,ut,Q)))),d=d.return}A.length!==0&&r.push({event:c,listeners:A})}var dF=/\r\n?/g,fF=/\u0000|\uFFFD/g;function eE(r){return(typeof r=="string"?r:""+r).replace(dF,`
`).replace(fF,"")}function nE(r,c){return c=eE(c),eE(r)===c}function pn(r,c,d,p,v,x){switch(d){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||Bl(r,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&Bl(r,""+p);break;case"className":tf(r,"class",p);break;case"tabIndex":tf(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":tf(r,d,p);break;case"style":nw(r,p,x);break;case"data":if(c!=="object"){tf(r,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||d!=="href")){r.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=nf(""+p),r.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(c!=="input"&&pn(r,c,"name",v.name,v,null),pn(r,c,"formEncType",v.formEncType,v,null),pn(r,c,"formMethod",v.formMethod,v,null),pn(r,c,"formTarget",v.formTarget,v,null)):(pn(r,c,"encType",v.encType,v,null),pn(r,c,"method",v.method,v,null),pn(r,c,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=nf(""+p),r.setAttribute(d,p);break;case"onClick":p!=null&&(r.onclick=Wa);break;case"onScroll":p!=null&&Me("scroll",r);break;case"onScrollEnd":p!=null&&Me("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=d}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}d=nf(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""+p):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":p===!0?r.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,p):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(d,p):r.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(d):r.setAttribute(d,p);break;case"popover":Me("beforetoggle",r),Me("toggle",r),Jd(r,"popover",p);break;case"xlinkActuate":ja(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ja(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ja(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ja(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ja(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ja(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ja(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ja(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ja(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Jd(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=PB.get(d)||d,Jd(r,d,p))}}function g0(r,c,d,p,v,x){switch(d){case"style":nw(r,p,x);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=d}}break;case"children":typeof p=="string"?Bl(r,p):(typeof p=="number"||typeof p=="bigint")&&Bl(r,""+p);break;case"onScroll":p!=null&&Me("scroll",r);break;case"onScrollEnd":p!=null&&Me("scrollend",r);break;case"onClick":p!=null&&(r.onclick=Wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Es.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),c=d.slice(2,v?d.length-7:void 0),x=r[_n]||null,x=x!=null?x[d]:null,typeof x=="function"&&r.removeEventListener(c,x,v),typeof p=="function")){typeof x!="function"&&x!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(c,p,v);break t}d in r?r[d]=p:p===!0?r.setAttribute(d,""):Jd(r,d,p)}}}function bi(r,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",r),Me("load",r);var p=!1,v=!1,x;for(x in d)if(d.hasOwnProperty(x)){var A=d[x];if(A!=null)switch(x){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:pn(r,c,x,A,d,null)}}v&&pn(r,c,"srcSet",d.srcSet,d,null),p&&pn(r,c,"src",d.src,d,null);return;case"input":Me("invalid",r);var F=x=A=v=null,Q=null,ut=null;for(p in d)if(d.hasOwnProperty(p)){var gt=d[p];if(gt!=null)switch(p){case"name":v=gt;break;case"type":A=gt;break;case"checked":Q=gt;break;case"defaultChecked":ut=gt;break;case"value":x=gt;break;case"defaultValue":F=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(i(137,c));break;default:pn(r,c,p,gt,d,null)}}K1(r,x,F,Q,ut,A,v,!1);return;case"select":Me("invalid",r),p=A=x=null;for(v in d)if(d.hasOwnProperty(v)&&(F=d[v],F!=null))switch(v){case"value":x=F;break;case"defaultValue":A=F;break;case"multiple":p=F;default:pn(r,c,v,F,d,null)}c=x,d=A,r.multiple=!!p,c!=null?Il(r,!!p,c,!1):d!=null&&Il(r,!!p,d,!0);return;case"textarea":Me("invalid",r),x=v=p=null;for(A in d)if(d.hasOwnProperty(A)&&(F=d[A],F!=null))switch(A){case"value":p=F;break;case"defaultValue":v=F;break;case"children":x=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(91));break;default:pn(r,c,A,F,d,null)}tw(r,p,v,x);return;case"option":for(Q in d)d.hasOwnProperty(Q)&&(p=d[Q],p!=null)&&(Q==="selected"?r.selected=p&&typeof p!="function"&&typeof p!="symbol":pn(r,c,Q,p,d,null));return;case"dialog":Me("beforetoggle",r),Me("toggle",r),Me("cancel",r),Me("close",r);break;case"iframe":case"object":Me("load",r);break;case"video":case"audio":for(p=0;p<nh.length;p++)Me(nh[p],r);break;case"image":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"embed":case"source":case"link":Me("error",r),Me("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ut in d)if(d.hasOwnProperty(ut)&&(p=d[ut],p!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:pn(r,c,ut,p,d,null)}return;default:if(Ly(c)){for(gt in d)d.hasOwnProperty(gt)&&(p=d[gt],p!==void 0&&g0(r,c,gt,p,d,void 0));return}}for(F in d)d.hasOwnProperty(F)&&(p=d[F],p!=null&&pn(r,c,F,p,d,null))}function pF(r,c,d,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,A=null,F=null,Q=null,ut=null,gt=null;for(pt in d){var _t=d[pt];if(d.hasOwnProperty(pt)&&_t!=null)switch(pt){case"checked":break;case"value":break;case"defaultValue":Q=_t;default:p.hasOwnProperty(pt)||pn(r,c,pt,null,p,_t)}}for(var ht in p){var pt=p[ht];if(_t=d[ht],p.hasOwnProperty(ht)&&(pt!=null||_t!=null))switch(ht){case"type":x=pt;break;case"name":v=pt;break;case"checked":ut=pt;break;case"defaultChecked":gt=pt;break;case"value":A=pt;break;case"defaultValue":F=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(i(137,c));break;default:pt!==_t&&pn(r,c,ht,pt,p,_t)}}Ay(r,A,F,Q,ut,gt,x,v);return;case"select":pt=A=F=ht=null;for(x in d)if(Q=d[x],d.hasOwnProperty(x)&&Q!=null)switch(x){case"value":break;case"multiple":pt=Q;default:p.hasOwnProperty(x)||pn(r,c,x,null,p,Q)}for(v in p)if(x=p[v],Q=d[v],p.hasOwnProperty(v)&&(x!=null||Q!=null))switch(v){case"value":ht=x;break;case"defaultValue":F=x;break;case"multiple":A=x;default:x!==Q&&pn(r,c,v,x,p,Q)}c=F,d=A,p=pt,ht!=null?Il(r,!!d,ht,!1):!!p!=!!d&&(c!=null?Il(r,!!d,c,!0):Il(r,!!d,d?[]:"",!1));return;case"textarea":pt=ht=null;for(F in d)if(v=d[F],d.hasOwnProperty(F)&&v!=null&&!p.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:pn(r,c,F,null,p,v)}for(A in p)if(v=p[A],x=d[A],p.hasOwnProperty(A)&&(v!=null||x!=null))switch(A){case"value":ht=v;break;case"defaultValue":pt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==x&&pn(r,c,A,v,p,x)}J1(r,ht,pt);return;case"option":for(var Bt in d)ht=d[Bt],d.hasOwnProperty(Bt)&&ht!=null&&!p.hasOwnProperty(Bt)&&(Bt==="selected"?r.selected=!1:pn(r,c,Bt,null,p,ht));for(Q in p)ht=p[Q],pt=d[Q],p.hasOwnProperty(Q)&&ht!==pt&&(ht!=null||pt!=null)&&(Q==="selected"?r.selected=ht&&typeof ht!="function"&&typeof ht!="symbol":pn(r,c,Q,ht,p,pt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in d)ht=d[Jt],d.hasOwnProperty(Jt)&&ht!=null&&!p.hasOwnProperty(Jt)&&pn(r,c,Jt,null,p,ht);for(ut in p)if(ht=p[ut],pt=d[ut],p.hasOwnProperty(ut)&&ht!==pt&&(ht!=null||pt!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,c));break;default:pn(r,c,ut,ht,p,pt)}return;default:if(Ly(c)){for(var mn in d)ht=d[mn],d.hasOwnProperty(mn)&&ht!==void 0&&!p.hasOwnProperty(mn)&&g0(r,c,mn,void 0,p,ht);for(gt in p)ht=p[gt],pt=d[gt],!p.hasOwnProperty(gt)||ht===pt||ht===void 0&&pt===void 0||g0(r,c,gt,ht,p,pt);return}}for(var at in d)ht=d[at],d.hasOwnProperty(at)&&ht!=null&&!p.hasOwnProperty(at)&&pn(r,c,at,null,p,ht);for(_t in p)ht=p[_t],pt=d[_t],!p.hasOwnProperty(_t)||ht===pt||ht==null&&pt==null||pn(r,c,_t,ht,p,pt)}function iE(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mF(){if(typeof performance.getEntriesByType=="function"){for(var r=0,c=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var v=d[p],x=v.transferSize,A=v.initiatorType,F=v.duration;if(x&&F&&iE(A)){for(A=0,F=v.responseEnd,p+=1;p<d.length;p++){var Q=d[p],ut=Q.startTime;if(ut>F)break;var gt=Q.transferSize,_t=Q.initiatorType;gt&&iE(_t)&&(Q=Q.responseEnd,A+=gt*(Q<F?1:(F-ut)/(Q-ut)))}if(--p,c+=8*(x+A)/(v.duration/1e3),r++,10<r)break}}if(0<r)return c/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var y0=null,b0=null;function Kf(r){return r.nodeType===9?r:r.ownerDocument}function sE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aE(r,c){if(r===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&c==="foreignObject"?0:r}function _0(r,c){return r==="textarea"||r==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var v0=null;function gF(){var r=window.event;return r&&r.type==="popstate"?r===v0?!1:(v0=r,!0):(v0=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,yF=typeof clearTimeout=="function"?clearTimeout:void 0,oE=typeof Promise=="function"?Promise:void 0,bF=typeof queueMicrotask=="function"?queueMicrotask:typeof oE<"u"?function(r){return oE.resolve(null).then(r).catch(_F)}:rE;function _F(r){setTimeout(function(){throw r})}function Zr(r){return r==="head"}function lE(r,c){var d=c,p=0;do{var v=d.nextSibling;if(r.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"||d==="/&"){if(p===0){r.removeChild(v),fc(c);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")sh(r.ownerDocument.documentElement);else if(d==="head"){d=r.ownerDocument.head,sh(d);for(var x=d.firstChild;x;){var A=x.nextSibling,F=x.nodeName;x[$t]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&x.rel.toLowerCase()==="stylesheet"||d.removeChild(x),x=A}}else d==="body"&&sh(r.ownerDocument.body);d=v}while(d);fc(c)}function cE(r,c){var d=r;r=0;do{var p=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(r===0)break;r--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||r++;d=p}while(d)}function x0(r){var c=r.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":x0(d),J(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function vF(r,c,d,p){for(;r.nodeType===1;){var v=d;if(r.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[$t])switch(c){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(c==="input"&&r.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Ms(r.nextSibling),r===null)break}return null}function xF(r,c,d){if(c==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=Ms(r.nextSibling),r===null))return null;return r}function uE(r,c){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Ms(r.nextSibling),r===null))return null;return r}function w0(r){return r.data==="$?"||r.data==="$~"}function S0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function wF(r,c){var d=r.ownerDocument;if(r.data==="$~")r._reactRetry=c;else if(r.data!=="$?"||d.readyState!=="loading")c();else{var p=function(){c(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function Ms(r){for(;r!=null;r=r.nextSibling){var c=r.nodeType;if(c===1||c===3)break;if(c===8){if(c=r.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return r}var E0=null;function hE(r){r=r.nextSibling;for(var c=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"||d==="/&"){if(c===0)return Ms(r.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}r=r.nextSibling}return null}function dE(r){r=r.previousSibling;for(var c=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return r;c--}else d!=="/$"&&d!=="/&"||c++}r=r.previousSibling}return null}function fE(r,c,d){switch(c=Kf(d),r){case"html":if(r=c.documentElement,!r)throw Error(i(452));return r;case"head":if(r=c.head,!r)throw Error(i(453));return r;case"body":if(r=c.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function sh(r){for(var c=r.attributes;c.length;)r.removeAttributeNode(c[0]);J(r)}var Ns=new Map,pE=new Set;function Jf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var or=B.d;B.d={f:SF,r:EF,D:TF,C:kF,L:CF,m:AF,X:LF,S:RF,M:DF};function SF(){var r=or.f(),c=jf();return r||c}function EF(r){var c=Nt(r);c!==null&&c.tag===5&&c.type==="form"?D2(c):or.r(r)}var uc=typeof document>"u"?null:document;function mE(r,c,d){var p=uc;if(p&&typeof c=="string"&&c){var v=ks(c);v='link[rel="'+r+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),pE.has(v)||(pE.add(v),r={rel:r,crossOrigin:d,href:c},p.querySelector(v)===null&&(c=p.createElement("link"),bi(c,"link",r),ke(c),p.head.appendChild(c)))}}function TF(r){or.D(r),mE("dns-prefetch",r,null)}function kF(r,c){or.C(r,c),mE("preconnect",r,c)}function CF(r,c,d){or.L(r,c,d);var p=uc;if(p&&r&&c){var v='link[rel="preload"][as="'+ks(c)+'"]';c==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+ks(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+ks(d.imageSizes)+'"]')):v+='[href="'+ks(r)+'"]';var x=v;switch(c){case"style":x=hc(r);break;case"script":x=dc(r)}Ns.has(x)||(r=m({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:r,as:c},d),Ns.set(x,r),p.querySelector(v)!==null||c==="style"&&p.querySelector(ah(x))||c==="script"&&p.querySelector(rh(x))||(c=p.createElement("link"),bi(c,"link",r),ke(c),p.head.appendChild(c)))}}function AF(r,c){or.m(r,c);var d=uc;if(d&&r){var p=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+ks(p)+'"][href="'+ks(r)+'"]',x=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=dc(r)}if(!Ns.has(x)&&(r=m({rel:"modulepreload",href:r},c),Ns.set(x,r),d.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(rh(x)))return}p=d.createElement("link"),bi(p,"link",r),ke(p),d.head.appendChild(p)}}}function RF(r,c,d){or.S(r,c,d);var p=uc;if(p&&r){var v=Dn(p).hoistableStyles,x=hc(r);c=c||"default";var A=v.get(x);if(!A){var F={loading:0,preload:null};if(A=p.querySelector(ah(x)))F.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":c},d),(d=Ns.get(x))&&T0(r,d);var Q=A=p.createElement("link");ke(Q),bi(Q,"link",r),Q._p=new Promise(function(ut,gt){Q.onload=ut,Q.onerror=gt}),Q.addEventListener("load",function(){F.loading|=1}),Q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,tp(A,c,p)}A={type:"stylesheet",instance:A,count:1,state:F},v.set(x,A)}}}function LF(r,c){or.X(r,c);var d=uc;if(d&&r){var p=Dn(d).hoistableScripts,v=dc(r),x=p.get(v);x||(x=d.querySelector(rh(v)),x||(r=m({src:r,async:!0},c),(c=Ns.get(v))&&k0(r,c),x=d.createElement("script"),ke(x),bi(x,"link",r),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(v,x))}}function DF(r,c){or.M(r,c);var d=uc;if(d&&r){var p=Dn(d).hoistableScripts,v=dc(r),x=p.get(v);x||(x=d.querySelector(rh(v)),x||(r=m({src:r,async:!0,type:"module"},c),(c=Ns.get(v))&&k0(r,c),x=d.createElement("script"),ke(x),bi(x,"link",r),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(v,x))}}function gE(r,c,d,p){var v=(v=Ct.current)?Jf(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=hc(d.href),d=Dn(v).hoistableStyles,p=d.get(c),p||(p={type:"style",instance:null,count:0,state:null},d.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=hc(d.href);var x=Dn(v).hoistableStyles,A=x.get(r);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,A),(x=v.querySelector(ah(r)))&&!x._p&&(A.instance=x,A.state.loading=5),Ns.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ns.set(r,d),x||OF(v,r,d,A.state))),c&&p===null)throw Error(i(528,""));return A}if(c&&p!==null)throw Error(i(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=dc(d),d=Dn(v).hoistableScripts,p=d.get(c),p||(p={type:"script",instance:null,count:0,state:null},d.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function hc(r){return'href="'+ks(r)+'"'}function ah(r){return'link[rel="stylesheet"]['+r+"]"}function yE(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function OF(r,c,d,p){r.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=r.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),bi(c,"link",d),ke(c),r.head.appendChild(c))}function dc(r){return'[src="'+ks(r)+'"]'}function rh(r){return"script[async]"+r}function bE(r,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var p=r.querySelector('style[data-href~="'+ks(d.href)+'"]');if(p)return c.instance=p,ke(p),p;var v=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),ke(p),bi(p,"style",v),tp(p,d.precedence,r),c.instance=p;case"stylesheet":v=hc(d.href);var x=r.querySelector(ah(v));if(x)return c.state.loading|=4,c.instance=x,ke(x),x;p=yE(d),(v=Ns.get(v))&&T0(p,v),x=(r.ownerDocument||r).createElement("link"),ke(x);var A=x;return A._p=new Promise(function(F,Q){A.onload=F,A.onerror=Q}),bi(x,"link",p),c.state.loading|=4,tp(x,d.precedence,r),c.instance=x;case"script":return x=dc(d.src),(v=r.querySelector(rh(x)))?(c.instance=v,ke(v),v):(p=d,(v=Ns.get(x))&&(p=m({},d),k0(p,v)),r=r.ownerDocument||r,v=r.createElement("script"),ke(v),bi(v,"link",p),r.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,tp(p,d.precedence,r));return c.instance}function tp(r,c,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,x=v,A=0;A<p.length;A++){var F=p[A];if(F.dataset.precedence===c)x=F;else if(x!==v)break}x?x.parentNode.insertBefore(r,x.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(r,c.firstChild))}function T0(r,c){r.crossOrigin==null&&(r.crossOrigin=c.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=c.referrerPolicy),r.title==null&&(r.title=c.title)}function k0(r,c){r.crossOrigin==null&&(r.crossOrigin=c.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=c.referrerPolicy),r.integrity==null&&(r.integrity=c.integrity)}var ep=null;function _E(r,c,d){if(ep===null){var p=new Map,v=ep=new Map;v.set(d,p)}else v=ep,p=v.get(d),p||(p=new Map,v.set(d,p));if(p.has(r))return p;for(p.set(r,null),d=d.getElementsByTagName(r),v=0;v<d.length;v++){var x=d[v];if(!(x[$t]||x[Cn]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var A=x.getAttribute(c)||"";A=r+A;var F=p.get(A);F?F.push(x):p.set(A,[x])}}return p}function vE(r,c,d){r=r.ownerDocument||r,r.head.insertBefore(d,c==="title"?r.querySelector("head > title"):null)}function MF(r,c,d){if(d===1||c.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(r=c.disabled,typeof c.precedence=="string"&&r==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function xE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function NF(r,c,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var v=hc(p.href),x=c.querySelector(ah(v));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(r.count++,r=np.bind(r),c.then(r,r)),d.state.loading|=4,d.instance=x,ke(x);return}x=c.ownerDocument||c,p=yE(p),(v=Ns.get(v))&&T0(p,v),x=x.createElement("link"),ke(x);var A=x;A._p=new Promise(function(F,Q){A.onload=F,A.onerror=Q}),bi(x,"link",p),d.instance=x}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(r.count++,d=np.bind(r),c.addEventListener("load",d),c.addEventListener("error",d))}}var C0=0;function IF(r,c){return r.stylesheets&&r.count===0&&sp(r,r.stylesheets),0<r.count||0<r.imgCount?function(d){var p=setTimeout(function(){if(r.stylesheets&&sp(r,r.stylesheets),r.unsuspend){var x=r.unsuspend;r.unsuspend=null,x()}},6e4+c);0<r.imgBytes&&C0===0&&(C0=62500*mF());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&sp(r,r.stylesheets),r.unsuspend)){var x=r.unsuspend;r.unsuspend=null,x()}},(r.imgBytes>C0?50:800)+c);return r.unsuspend=d,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function np(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ip=null;function sp(r,c){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ip=new Map,c.forEach(BF,r),ip=null,np.call(r))}function BF(r,c){if(!(c.state.loading&4)){var d=ip.get(r);if(d)var p=d.get(null);else{d=new Map,ip.set(r,d);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var A=v[x];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(d.set(A.dataset.precedence,A),p=A)}p&&d.set(null,p)}v=c.instance,A=v.getAttribute("data-precedence"),x=d.get(A)||p,x===p&&d.set(null,v),d.set(A,v),this.count++,p=np.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),x?x.parentNode.insertBefore(v,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),c.state.loading|=4}}var oh={$$typeof:C,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function FF(r,c,d,p,v,x,A,F,Q){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function wE(r,c,d,p,v,x,A,F,Q,ut,gt,_t){return r=new FF(r,c,d,A,Q,ut,gt,_t,F),c=1,x===!0&&(c|=24),x=fs(3,null,null,c),r.current=x,x.stateNode=r,c=rb(),c.refCount++,r.pooledCache=c,c.refCount++,x.memoizedState={element:p,isDehydrated:d,cache:c},ub(x),r}function SE(r){return r?(r=Hl,r):Hl}function EE(r,c,d,p,v,x){v=SE(v),p.context===null?p.context=v:p.pendingContext=v,p=qr(c),p.payload={element:d},x=x===void 0?null:x,x!==null&&(p.callback=x),d=zr(r,p,c),d!==null&&(Ji(d,r,c),qu(d,r,c))}function TE(r,c){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<c?d:c}}function A0(r,c){TE(r,c),(r=r.alternate)&&TE(r,c)}function kE(r){if(r.tag===13||r.tag===31){var c=Bo(r,67108864);c!==null&&Ji(c,r,67108864),A0(r,67108864)}}function CE(r){if(r.tag===13||r.tag===31){var c=bs();c=dn(c);var d=Bo(r,c);d!==null&&Ji(d,r,c),A0(r,c)}}var ap=!0;function UF(r,c,d,p){var v=M.T;M.T=null;var x=B.p;try{B.p=2,R0(r,c,d,p)}finally{B.p=x,M.T=v}}function qF(r,c,d,p){var v=M.T;M.T=null;var x=B.p;try{B.p=8,R0(r,c,d,p)}finally{B.p=x,M.T=v}}function R0(r,c,d,p){if(ap){var v=L0(p);if(v===null)m0(r,c,p,rp,d),RE(r,p);else if(PF(v,r,c,d,p))p.stopPropagation();else if(RE(r,p),c&4&&-1<zF.indexOf(r)){for(;v!==null;){var x=Nt(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var A=ae(x.pendingLanes);if(A!==0){var F=x;for(F.pendingLanes|=2,F.entangledLanes|=2;A;){var Q=1<<31-Yt(A);F.entanglements[1]|=Q,A&=~Q}ya(x),(Ye&6)===0&&($f=Tt()+500,eh(0))}}break;case 31:case 13:F=Bo(x,2),F!==null&&Ji(F,x,2),jf(),A0(x,2)}if(x=L0(p),x===null&&m0(r,c,p,rp,d),x===v)break;v=x}v!==null&&p.stopPropagation()}else m0(r,c,p,null,d)}}function L0(r){return r=Oy(r),D0(r)}var rp=null;function D0(r){if(rp=null,r=Et(r),r!==null){var c=a(r);if(c===null)r=null;else{var d=c.tag;if(d===13){if(r=o(c),r!==null)return r;r=null}else if(d===31){if(r=l(c),r!==null)return r;r=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;r=null}else c!==r&&(r=null)}}return rp=r,null}function AE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case It:return 2;case ue:return 8;case Kt:case Ln:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var O0=!1,Qr=null,Kr=null,Jr=null,lh=new Map,ch=new Map,to=[],zF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RE(r,c){switch(r){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":lh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(c.pointerId)}}function uh(r,c,d,p,v,x){return r===null||r.nativeEvent!==x?(r={blockedOn:c,domEventName:d,eventSystemFlags:p,nativeEvent:x,targetContainers:[v]},c!==null&&(c=Nt(c),c!==null&&kE(c)),r):(r.eventSystemFlags|=p,c=r.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),r)}function PF(r,c,d,p,v){switch(c){case"focusin":return Qr=uh(Qr,r,c,d,p,v),!0;case"dragenter":return Kr=uh(Kr,r,c,d,p,v),!0;case"mouseover":return Jr=uh(Jr,r,c,d,p,v),!0;case"pointerover":var x=v.pointerId;return lh.set(x,uh(lh.get(x)||null,r,c,d,p,v)),!0;case"gotpointercapture":return x=v.pointerId,ch.set(x,uh(ch.get(x)||null,r,c,d,p,v)),!0}return!1}function LE(r){var c=Et(r.target);if(c!==null){var d=a(c);if(d!==null){if(c=d.tag,c===13){if(c=o(d),c!==null){r.blockedOn=c,hs(r.priority,function(){CE(d)});return}}else if(c===31){if(c=l(d),c!==null){r.blockedOn=c,hs(r.priority,function(){CE(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function op(r){if(r.blockedOn!==null)return!1;for(var c=r.targetContainers;0<c.length;){var d=L0(r.nativeEvent);if(d===null){d=r.nativeEvent;var p=new d.constructor(d.type,d);Dy=p,d.target.dispatchEvent(p),Dy=null}else return c=Nt(d),c!==null&&kE(c),r.blockedOn=d,!1;c.shift()}return!0}function DE(r,c,d){op(r)&&d.delete(c)}function $F(){O0=!1,Qr!==null&&op(Qr)&&(Qr=null),Kr!==null&&op(Kr)&&(Kr=null),Jr!==null&&op(Jr)&&(Jr=null),lh.forEach(DE),ch.forEach(DE)}function lp(r,c){r.blockedOn===c&&(r.blockedOn=null,O0||(O0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$F)))}var cp=null;function OE(r){cp!==r&&(cp=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cp===r&&(cp=null);for(var c=0;c<r.length;c+=3){var d=r[c],p=r[c+1],v=r[c+2];if(typeof p!="function"){if(D0(p||d)===null)continue;break}var x=Nt(d);x!==null&&(r.splice(c,3),c-=3,Lb(x,{pending:!0,data:v,method:d.method,action:p},p,v))}}))}function fc(r){function c(Q){return lp(Q,r)}Qr!==null&&lp(Qr,r),Kr!==null&&lp(Kr,r),Jr!==null&&lp(Jr,r),lh.forEach(c),ch.forEach(c);for(var d=0;d<to.length;d++){var p=to[d];p.blockedOn===r&&(p.blockedOn=null)}for(;0<to.length&&(d=to[0],d.blockedOn===null);)LE(d),d.blockedOn===null&&to.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var v=d[p],x=d[p+1],A=v[_n]||null;if(typeof x=="function")A||OE(d);else if(A){var F=null;if(x&&x.hasAttribute("formAction")){if(v=x,A=x[_n]||null)F=A.formAction;else if(D0(v)!==null)continue}else F=A.action;typeof F=="function"?d[p+1]=F:(d.splice(p,3),p-=3),OE(d)}}}function ME(){function r(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function c(){v!==null&&(v(),v=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),v!==null&&(v(),v=null)}}}function M0(r){this._internalRoot=r}up.prototype.render=M0.prototype.render=function(r){var c=this._internalRoot;if(c===null)throw Error(i(409));var d=c.current,p=bs();EE(d,p,r,c,null,null)},up.prototype.unmount=M0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var c=r.containerInfo;EE(r.current,2,null,r,null,null),jf(),c[Ha]=null}};function up(r){this._internalRoot=r}up.prototype.unstable_scheduleHydration=function(r){if(r){var c=Ii();r={blockedOn:null,target:r,priority:c};for(var d=0;d<to.length&&c!==0&&c<to[d].priority;d++);to.splice(d,0,r),d===0&&LE(r)}};var NE=t.version;if(NE!=="19.2.4")throw Error(i(527,NE,"19.2.4"));B.findDOMNode=function(r){var c=r._reactInternals;if(c===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(c),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var HF={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hp.isDisabled&&hp.supportsFiber)try{kt=hp.inject(HF),_e=hp}catch{}}return dh.createRoot=function(r,c){if(!s(r))throw Error(i(299));var d=!1,p="",v=P2,x=$2,A=H2;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),c=wE(r,1,!1,null,null,d,p,null,v,x,A,ME),r[Ha]=c.current,p0(r),new M0(c)},dh.hydrateRoot=function(r,c,d){if(!s(r))throw Error(i(299));var p=!1,v="",x=P2,A=$2,F=H2,Q=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(A=d.onCaughtError),d.onRecoverableError!==void 0&&(F=d.onRecoverableError),d.formState!==void 0&&(Q=d.formState)),c=wE(r,1,!0,c,d??null,p,v,Q,x,A,F,ME),c.context=SE(null),d=c.current,p=bs(),p=dn(p),v=qr(p),v.callback=null,zr(d,v,p),d=p,c.current.lanes=d,Yn(c,d),ya(c),r[Ha]=c.current,p0(r),new up(c)},dh.version="19.2.4",dh}var jE;function JF(){if(jE)return B0.exports;jE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),B0.exports=KF(),B0.exports}var t4=JF();function ye(e,t,n,i){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{h(i.next(f))}catch(m){o(m)}}function u(f){try{h(i.throw(f))}catch(m){o(m)}}function h(f){f.done?a(f.value):s(f.value).then(l,u)}h((i=i.apply(e,t||[])).next())})}function WE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ee(e){return this instanceof Ee?(this.v=e,this):new Ee(e)}function Oa(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(y){return function(_){return Promise.resolve(_).then(y,m)}}function l(y,_){i[y]&&(s[y]=function(b){return new Promise(function(w,S){a.push([y,b,w,S])>1||u(y,b)})},_&&(s[y]=_(s[y])))}function u(y,_){try{h(i[y](_))}catch(b){g(a[0][3],b)}}function h(y){y.value instanceof Ee?Promise.resolve(y.value.v).then(f,m):g(a[0][2],y)}function f(y){u("next",y)}function m(y){u("throw",y)}function g(y,_){y(_),a.shift(),a.length&&u(a[0][0],a[0][1])}}function Gp(e){var t,n;return t={},i("next"),i("throw",function(s){throw s}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(s,a){t[s]=e[s]?function(o){return(n=!n)?{value:Ee(e[s](o)),done:!1}:a?a(o):o}:a}}function dl(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof WE=="function"?WE(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),s(l,u,o.done,o.value)})}}function s(a,o,l,u){Promise.resolve(u).then(function(h){a({value:h,done:l})},o)}}const e4=new TextDecoder("utf-8"),B_=e=>e4.decode(e),n4=new TextEncoder,ix=e=>n4.encode(e),i4=e=>typeof e=="number",xA=e=>typeof e=="boolean",ni=e=>typeof e=="function",cs=e=>e!=null&&Object(e)===e,gl=e=>cs(e)&&ni(e.then),Md=e=>cs(e)&&ni(e[Symbol.iterator]),fu=e=>cs(e)&&ni(e[Symbol.asyncIterator]),F_=e=>cs(e)&&cs(e.schema),wA=e=>cs(e)&&"done"in e&&"value"in e,SA=e=>cs(e)&&ni(e.stat)&&i4(e.fd),EA=e=>cs(e)&&sx(e.body),Hg=e=>"_getDOMStream"in e&&"_getNodeStream"in e,s4=e=>cs(e)&&ni(e.abort)&&ni(e.getWriter)&&!Hg(e),sx=e=>cs(e)&&ni(e.cancel)&&ni(e.getReader)&&!Hg(e),a4=e=>cs(e)&&ni(e.end)&&ni(e.write)&&xA(e.writable)&&!Hg(e),TA=e=>cs(e)&&ni(e.read)&&ni(e.pipe)&&xA(e.readable)&&!Hg(e),r4=e=>cs(e)&&ni(e.clear)&&ni(e.bytes)&&ni(e.position)&&ni(e.setPosition)&&ni(e.capacity)&&ni(e.getBufferIdentifier)&&ni(e.createLong),ax=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function o4(e){const t=e[0]?[e[0]]:[];let n,i,s,a;for(let o,l,u=0,h=0,f=e.length;++u<f;){if(o=t[h],l=e[u],!o||!l||o.buffer!==l.buffer||l.byteOffset<o.byteOffset){l&&(t[++h]=l);continue}if({byteOffset:n,byteLength:s}=o,{byteOffset:i,byteLength:a}=l,n+s<i||i+a<n){l&&(t[++h]=l);continue}t[h]=new Uint8Array(o.buffer,n,i-n+a)}return t}function YE(e,t,n=0,i=t.byteLength){const s=e.byteLength,a=new Uint8Array(e.buffer,e.byteOffset,s),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(i,s));return a.set(o,n),e}function Ba(e,t){const n=o4(e),i=n.reduce((f,m)=>f+m.byteLength,0);let s,a,o,l=0,u=-1;const h=Math.min(t||Number.POSITIVE_INFINITY,i);for(const f=n.length;++u<f;){if(s=n[u],a=s.subarray(0,Math.min(s.length,h-l)),h<=l+a.length){a.length<s.length?n[u]=s.subarray(a.length):a.length===s.length&&u++,o?YE(o,a,l):o=a;break}YE(o||(o=new Uint8Array(h)),a,l),l+=a.length}return[o||new Uint8Array(0),n.slice(u),i-(o?o.byteLength:0)]}function cn(e,t){let n=wA(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=ix(n)),n instanceof ArrayBuffer?new e(n):n instanceof ax?new e(n):r4(n)?cn(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const fh=e=>cn(Int32Array,e),GE=e=>cn(BigInt64Array,e),Ue=e=>cn(Uint8Array,e),U_=e=>(e.next(),e);function*l4(e,t){const n=function*(s){yield s},i=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof ax?n(t):Md(t)?t:n(t);return yield*U_((function*(s){let a=null;do a=s.next(yield cn(e,a));while(!a.done)})(i[Symbol.iterator]())),new e}const c4=e=>l4(Uint8Array,e);function kA(e,t){return Oa(this,arguments,function*(){if(gl(t))return yield Ee(yield Ee(yield*Gp(dl(kA(e,yield Ee(t))))));const i=function(o){return Oa(this,arguments,function*(){yield yield Ee(yield Ee(o))})},s=function(o){return Oa(this,arguments,function*(){yield Ee(yield*Gp(dl(U_((function*(l){let u=null;do u=l.next(yield u?.value);while(!u.done)})(o[Symbol.iterator]())))))})},a=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof ax?i(t):Md(t)?s(t):fu(t)?t:i(t);return yield Ee(yield*Gp(dl(U_((function(o){return Oa(this,arguments,function*(){let l=null;do l=yield Ee(o.next(yield yield Ee(cn(e,l))));while(!l.done)})})(a[Symbol.asyncIterator]()))))),yield Ee(new e)})}const u4=e=>kA(Uint8Array,e);function CA(e,t,n){if(e!==0){n=n.slice(0,t);for(let i=-1,s=n.length;++i<s;)n[i]+=e}return n.subarray(0,t)}function h4(e,t){let n=0;const i=e.length;if(i!==t.length)return!1;if(i>0)do if(e[n]!==t[n])return!1;while(++n<i);return!0}const Us={fromIterable(e){return fp(d4(e))},fromAsyncIterable(e){return fp(f4(e))},fromDOMStream(e){return fp(p4(e))},fromNodeStream(e){return fp(g4(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},fp=e=>(e.next(),e);function*d4(e){let t,n=!1,i=[],s,a,o,l=0;function u(){return a==="peek"?Ba(i,o)[0]:([s,i,l]=Ba(i,o),s)}({cmd:a,size:o}=(yield null)||{cmd:"read",size:0});const h=c4(e)[Symbol.iterator]();try{do if({done:t,value:s}=Number.isNaN(o-l)?h.next():h.next(o-l),!t&&s.byteLength>0&&(i.push(s),l+=s.byteLength),t||o<=l)do({cmd:a,size:o}=yield u());while(o<l);while(!t)}catch(f){(n=!0)&&typeof h.throw=="function"&&h.throw(f)}finally{n===!1&&typeof h.return=="function"&&h.return(null)}return null}function f4(e){return Oa(this,arguments,function*(){let n,i=!1,s=[],a,o,l,u=0;function h(){return o==="peek"?Ba(s,l)[0]:([a,s,u]=Ba(s,l),a)}({cmd:o,size:l}=(yield yield Ee(null))||{cmd:"read",size:0});const f=u4(e)[Symbol.asyncIterator]();try{do if({done:n,value:a}=Number.isNaN(l-u)?yield Ee(f.next()):yield Ee(f.next(l-u)),!n&&a.byteLength>0&&(s.push(a),u+=a.byteLength),n||l<=u)do({cmd:o,size:l}=yield yield Ee(h()));while(l<u);while(!n)}catch(m){(i=!0)&&typeof f.throw=="function"&&(yield Ee(f.throw(m)))}finally{i===!1&&typeof f.return=="function"&&(yield Ee(f.return(new Uint8Array(0))))}return yield Ee(null)})}function p4(e){return Oa(this,arguments,function*(){let n=!1,i=!1,s=[],a,o,l,u=0;function h(){return o==="peek"?Ba(s,l)[0]:([a,s,u]=Ba(s,l),a)}({cmd:o,size:l}=(yield yield Ee(null))||{cmd:"read",size:0});const f=new m4(e);try{do if({done:n,value:a}=Number.isNaN(l-u)?yield Ee(f.read()):yield Ee(f.read(l-u)),!n&&a.byteLength>0&&(s.push(Ue(a)),u+=a.byteLength),n||l<=u)do({cmd:o,size:l}=yield yield Ee(h()));while(l<u);while(!n)}catch(m){(i=!0)&&(yield Ee(f.cancel(m)))}finally{i===!1?yield Ee(f.cancel()):e.locked&&f.releaseLock()}return yield Ee(null)})}class m4{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return ye(this,void 0,void 0,function*(){const{reader:n,source:i}=this;n&&(yield n.cancel(t).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(t){return ye(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Ue(n)),n})}}const z0=(e,t)=>{const n=s=>i([t,s]);let i;return[t,n,new Promise(s=>(i=s)&&e.once(t,n))]};function g4(e){return Oa(this,arguments,function*(){const n=[];let i="error",s=!1,a=null,o,l,u=0,h=[],f;function m(){return o==="peek"?Ba(h,l)[0]:([f,h,u]=Ba(h,l),f)}if({cmd:o,size:l}=(yield yield Ee(null))||{cmd:"read",size:0},e.isTTY)return yield yield Ee(new Uint8Array(0)),yield Ee(null);try{n[0]=z0(e,"end"),n[1]=z0(e,"error");do{if(n[2]=z0(e,"readable"),[i,a]=yield Ee(Promise.race(n.map(y=>y[2]))),i==="error")break;if((s=i==="end")||(Number.isFinite(l-u)?(f=Ue(e.read(l-u)),f.byteLength<l-u&&(f=Ue(e.read()))):f=Ue(e.read()),f.byteLength>0&&(h.push(f),u+=f.byteLength)),s||l<=u)do({cmd:o,size:l}=yield yield Ee(m()));while(l<u)}while(!s)}finally{yield Ee(g(n,i==="error"?a:null))}return yield Ee(null);function g(y,_){return f=h=null,new Promise((b,w)=>{for(const[S,E]of y)e.off(S,E);try{const S=e.destroy;S&&S.call(e,_),_=void 0}catch(S){_=S||_}finally{_!=null?w(_):b()}})}})}var $n;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})($n||($n={}));var Oi;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Oi||(Oi={}));var Ai;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Ai||(Ai={}));var Hs;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Hs||(Hs={}));var re;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(re||(re={}));var Fa;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Fa||(Fa={}));const P0=2,Ra=4,vr=4,nn=4,oo=new Int32Array(2),VE=new Float32Array(oo.buffer),XE=new Float64Array(oo.buffer),pp=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var q_;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(q_||(q_={}));let Zc=class AA{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new AA(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return oo[0]=this.readInt32(t),VE[0]}readFloat64(t){return oo[pp?0:1]=this.readInt32(t),oo[pp?1:0]=this.readInt32(t+4),XE[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){VE[0]=n,this.writeInt32(t,oo[0])}writeFloat64(t,n){XE[0]=n,this.writeInt32(t,oo[pp?0:1]),this.writeInt32(t+4,oo[pp?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Ra+vr)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<vr;n++)t+=String.fromCharCode(this.readInt8(this.position_+Ra+n));return t}__offset(t,n){const i=t-this.readInt32(t);return n<this.readInt16(i)?this.readInt16(i+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const i=this.readInt32(t);t+=Ra;const s=this.bytes_.subarray(t,t+i);return n===q_.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Ra}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=vr)throw new Error("FlatBuffers: file identifier must be length "+vr);for(let n=0;n<vr;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Ra+n))return!1;return!0}createScalarList(t,n){const i=[];for(let s=0;s<n;++s){const a=t(s);a!==null&&i.push(a)}return i}createObjList(t,n){const i=[];for(let s=0;s<n;++s){const a=t(s);a!==null&&i.push(a.unpack())}return i}},RA=class LA{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=Zc.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const i=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<i+t+n;){const s=this.bb.capacity();this.bb=LA.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(i)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,i){(this.force_defaults||n!=i)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,i){(this.force_defaults||n!=i)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,i){(this.force_defaults||n!=i)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,i){(this.force_defaults||n!==i)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,i){(this.force_defaults||n!=i)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,i){(this.force_defaults||n!=i)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,i){(this.force_defaults||n!=i)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,i){n!=i&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=n<<1,s=Zc.allocate(i);return s.setPosition(i-n),s.bytes().set(t.bytes(),i-n),s}addOffset(t){this.prep(Ra,0),this.writeInt32(this.offset()-t+Ra)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const i=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const s=2;this.addInt16(t-this.object_start);const a=(i+s)*P0;this.addInt16(a);let o=0;const l=this.space;t:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(a==this.bb.readInt16(u)){for(let h=P0;h<a;h+=P0)if(this.bb.readInt16(l+h)!=this.bb.readInt16(u+h))continue t;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,i){const s=i?nn:0;if(n){const a=n;if(this.prep(this.minalign,Ra+vr+s),a.length!=vr)throw new TypeError("FlatBuffers: file identifier must be length "+vr);for(let o=vr-1;o>=0;o--)this.writeInt8(a.charCodeAt(o))}this.prep(this.minalign,Ra+s),this.addOffset(t),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const i=this.bb.capacity()-t,s=i-this.bb.readInt32(i);if(!(n<this.bb.readInt16(s)&&this.bb.readInt16(s+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,i){this.notNested(),this.vector_num_elems=n,this.prep(Ra,t*n),this.prep(i,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;return t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(t){return t==null?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let i=0;i<t.length;++i){const s=t[i];if(s!==null)n.push(this.createObjectOffset(s));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};var xm;(function(e){e[e.BUFFER=0]="BUFFER"})(xm||(xm={}));var wm;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(wm||(wm={}));class lo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new lo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+nn),(n||new lo).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):wm.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):xm.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,wm.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,xm.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,i){return lo.startBodyCompression(t),lo.addCodec(t,n),lo.addMethod(t,i),lo.endBodyCompression(t)}}let DA=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,i){return t.prep(8,16),t.writeInt64(BigInt(i??0)),t.writeInt64(BigInt(n??0)),t.offset()}},OA=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,i){return t.prep(8,16),t.writeInt64(BigInt(i??0)),t.writeInt64(BigInt(n??0)),t.offset()}},gr=class z_{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new z_).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+nn),(n||new z_).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new OA).__init(this.bb.__vector(this.bb_pos+i)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new DA).__init(this.bb.__vector(this.bb_pos+i)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new lo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},_c=class P_{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new P_).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+nn),(n||new P_).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new gr).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var Qc;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(Qc||(Qc={}));var Sm;(function(e){e[e.DenseArray=0]="DenseArray"})(Sm||(Sm={}));class xs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new xs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+nn),(n||new xs).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,i){return xs.startInt(t),xs.addBitWidth(t,n),xs.addIsSigned(t,i),xs.endInt(t)}}class xr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new xr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+nn),(n||new xr).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new xs).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Sm.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,Sm.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class ii{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new ii).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+nn),(n||new ii).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,i){return ii.startKeyValue(t),ii.addKey(t,n),ii.addValue(t,i),ii.endKeyValue(t)}}let ZE=class Lh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Lh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+nn),(n||new Lh).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Lh.startBinary(t),Lh.endBinary(t)}},QE=class Dh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new Dh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+nn),(n||new Dh).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Dh.startBool(t),Dh.endBool(t)}},Vp=class vc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new vc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+nn),(n||new vc).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Hs.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Hs.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return vc.startDate(t),vc.addUnit(t,n),vc.endDate(t)}},xc=class ao{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new ao).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+nn),(n||new ao).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,i,s){return ao.startDecimal(t),ao.addPrecision(t,n),ao.addScale(t,i),ao.addBitWidth(t,s),ao.endDecimal(t)}},Xp=class wc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new wc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+nn),(n||new wc).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):re.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,re.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return wc.startDuration(t),wc.addUnit(t,n),wc.endDuration(t)}},Zp=class Sc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Sc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+nn),(n||new Sc).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Sc.startFixedSizeBinary(t),Sc.addByteWidth(t,n),Sc.endFixedSizeBinary(t)}},Qp=class Ec{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Ec).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+nn),(n||new Ec).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Ec.startFixedSizeList(t),Ec.addListSize(t,n),Ec.endFixedSizeList(t)}};class La{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new La).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+nn),(n||new La).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ai.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Ai.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return La.startFloatingPoint(t),La.addPrecision(t,n),La.endFloatingPoint(t)}}class Da{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Da).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+nn),(n||new Da).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Fa.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Fa.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Da.startInterval(t),Da.addUnit(t,n),Da.endInterval(t)}}let KE=class Oh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeBinary(t,n){return(n||new Oh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(t,n){return t.setPosition(t.position()+nn),(n||new Oh).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return Oh.startLargeBinary(t),Oh.endLargeBinary(t)}},JE=class Mh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeUtf8(t,n){return(n||new Mh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(t,n){return t.setPosition(t.position()+nn),(n||new Mh).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return Mh.startLargeUtf8(t),Mh.endLargeUtf8(t)}},tT=class Nh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new Nh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+nn),(n||new Nh).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Nh.startList(t),Nh.endList(t)}},Kp=class Tc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Tc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+nn),(n||new Tc).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Tc.startMap(t),Tc.addKeysSorted(t,n),Tc.endMap(t)}},eT=class Ih{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Ih).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+nn),(n||new Ih).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Ih.startNull(t),Ih.endNull(t)}};class al{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new al).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+nn),(n||new al).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return al.startStruct_(t),al.endStruct_(t)}}class qs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new qs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+nn),(n||new qs).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):re.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,re.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,i){return qs.startTime(t),qs.addUnit(t,n),qs.addBitWidth(t,i),qs.endTime(t)}}class zs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new zs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+nn),(n||new zs).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):re.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,re.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,i){return zs.startTimestamp(t),zs.addUnit(t,n),zs.addTimezone(t,i),zs.endTimestamp(t)}}class is{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new is).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+nn),(n||new is).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Oi.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Oi.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addInt32(n[i]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,i){return is.startUnion(t),is.addMode(t,n),is.addTypeIds(t,i),is.endUnion(t)}}let nT=class Bh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new Bh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+nn),(n||new Bh).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Bh.startUtf8(t),Bh.endUtf8(t)}};var vn;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(vn||(vn={}));let Fs=class Jp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Jp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+nn),(n||new Jp).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):vn.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new xr).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const i=this.bb.__offset(this.bb_pos,14);return i?(n||new Jp).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,16);return i?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,vn.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Ta=class hr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new hr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+nn),(n||new hr).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Qc.Little}fields(t,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new Fs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,Qc.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let i=n.length-1;i>=0;i--)t.addInt64(n[i]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,i,s,a){return hr.startSchema(t),hr.addEndianness(t,n),hr.addFields(t,i),hr.addCustomMetadata(t,s),hr.addFeatures(t,a),hr.endSchema(t)}};var je;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(je||(je={}));var K;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(K||(K={}));var yr;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(yr||(yr={}));const y4=void 0;function od(e){if(e===null)return"null";if(e===y4)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>od(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}function yn(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}function MA(e,t){return yn(e/t)+yn(e%t)/yn(t)}const b4=Symbol.for("isArrowBigNum");function ha(e,...t){return t.length===0?Object.setPrototypeOf(cn(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}ha.prototype[b4]=!0;ha.prototype.toJSON=function(){return`"${cd(this)}"`};ha.prototype.valueOf=function(e){return NA(this,e)};ha.prototype.toString=function(){return cd(this)};ha.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return NA(this);case"string":return cd(this);case"default":return x4(this)}return cd(this)};function Mc(...e){return ha.apply(this,e)}function Nc(...e){return ha.apply(this,e)}function ld(...e){return ha.apply(this,e)}Object.setPrototypeOf(Mc.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Nc.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(ld.prototype,Object.create(Uint32Array.prototype));Object.assign(Mc.prototype,ha.prototype,{constructor:Mc,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(Nc.prototype,ha.prototype,{constructor:Nc,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(ld.prototype,ha.prototype,{constructor:ld,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const _4=BigInt(4294967296)*BigInt(4294967296),v4=_4-BigInt(1);function NA(e,t){const{buffer:n,byteOffset:i,byteLength:s,signed:a}=e,o=new BigUint64Array(n,i,s/8),l=a&&o.at(-1)&BigInt(1)<<BigInt(63);let u=BigInt(0),h=0;if(l){for(const f of o)u|=(f^v4)*(BigInt(1)<<BigInt(64*h++));u*=BigInt(-1),u-=BigInt(1)}else for(const f of o)u|=f*(BigInt(1)<<BigInt(64*h++));if(typeof t=="number"){const f=BigInt(Math.pow(10,t)),m=u/f,g=u%f;return yn(m)+yn(g)/yn(f)}return yn(u)}function cd(e){if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return $0(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return $0(e);t=t.slice();let i=1;for(let a=0;a<t.length;a++){const o=t[a],l=~o+i;t[a]=l,i&=o===0?1:0}return`-${$0(t)}`}function x4(e){return e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:cd(e)}function $0(e){let t="";const n=new Uint32Array(2);let i=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const s=new Uint32Array((i=new Uint16Array(i).reverse()).buffer);let a=-1;const o=i.length-1;do{for(n[0]=i[a=0];a<o;)i[a++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+i[a];i[a]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(s[0]||s[1]||s[2]||s[3]);return t??"0"}class rx{static new(t,n){switch(n){case!0:return new Mc(t);case!1:return new Nc(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Mc(t)}return t.byteLength===16?new ld(t):new Nc(t)}static signed(t){return new Mc(t)}static unsigned(t){return new Nc(t)}static decimal(t){return new ld(t)}constructor(t,n){return rx.new(t,n)}}var IA,BA,FA,UA,qA,zA,PA,$A,HA,jA,WA,YA,GA,VA,XA,ZA,QA,KA,JA,tR,eR,nR;class jt{static isNull(t){return t?.typeId===K.Null}static isInt(t){return t?.typeId===K.Int}static isFloat(t){return t?.typeId===K.Float}static isBinary(t){return t?.typeId===K.Binary}static isLargeBinary(t){return t?.typeId===K.LargeBinary}static isUtf8(t){return t?.typeId===K.Utf8}static isLargeUtf8(t){return t?.typeId===K.LargeUtf8}static isBool(t){return t?.typeId===K.Bool}static isDecimal(t){return t?.typeId===K.Decimal}static isDate(t){return t?.typeId===K.Date}static isTime(t){return t?.typeId===K.Time}static isTimestamp(t){return t?.typeId===K.Timestamp}static isInterval(t){return t?.typeId===K.Interval}static isDuration(t){return t?.typeId===K.Duration}static isList(t){return t?.typeId===K.List}static isStruct(t){return t?.typeId===K.Struct}static isUnion(t){return t?.typeId===K.Union}static isFixedSizeBinary(t){return t?.typeId===K.FixedSizeBinary}static isFixedSizeList(t){return t?.typeId===K.FixedSizeList}static isMap(t){return t?.typeId===K.Map}static isDictionary(t){return t?.typeId===K.Dictionary}static isDenseUnion(t){return jt.isUnion(t)&&t.mode===Oi.Dense}static isSparseUnion(t){return jt.isUnion(t)&&t.mode===Oi.Sparse}constructor(t){this.typeId=t}}IA=Symbol.toStringTag;jt[IA]=(e=>(e.children=null,e.ArrayType=Array,e.OffsetArrayType=Int32Array,e[Symbol.toStringTag]="DataType"))(jt.prototype);class _o extends jt{constructor(){super(K.Null)}toString(){return"Null"}}BA=Symbol.toStringTag;_o[BA]=(e=>e[Symbol.toStringTag]="Null")(_o.prototype);class yl extends jt{constructor(t,n){super(K.Int),this.isSigned=t,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}FA=Symbol.toStringTag;yl[FA]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(yl.prototype);class ud extends yl{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(ud.prototype,"ArrayType",{value:Int32Array});class Em extends jt{constructor(t){super(K.Float),this.precision=t}get ArrayType(){switch(this.precision){case Ai.HALF:return Uint16Array;case Ai.SINGLE:return Float32Array;case Ai.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}UA=Symbol.toStringTag;Em[UA]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Em.prototype);class Tm extends jt{constructor(){super(K.Binary)}toString(){return"Binary"}}qA=Symbol.toStringTag;Tm[qA]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Tm.prototype);class km extends jt{constructor(){super(K.LargeBinary)}toString(){return"LargeBinary"}}zA=Symbol.toStringTag;km[zA]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeBinary"))(km.prototype);class Cm extends jt{constructor(){super(K.Utf8)}toString(){return"Utf8"}}PA=Symbol.toStringTag;Cm[PA]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(Cm.prototype);class Am extends jt{constructor(){super(K.LargeUtf8)}toString(){return"LargeUtf8"}}$A=Symbol.toStringTag;Am[$A]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeUtf8"))(Am.prototype);class Rm extends jt{constructor(){super(K.Bool)}toString(){return"Bool"}}HA=Symbol.toStringTag;Rm[HA]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Rm.prototype);class Lm extends jt{constructor(t,n,i=128){super(K.Decimal),this.scale=t,this.precision=n,this.bitWidth=i}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}jA=Symbol.toStringTag;Lm[jA]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(Lm.prototype);class Dm extends jt{constructor(t){super(K.Date),this.unit=t}toString(){return`Date${(this.unit+1)*32}<${Hs[this.unit]}>`}get ArrayType(){return this.unit===Hs.DAY?Int32Array:BigInt64Array}}WA=Symbol.toStringTag;Dm[WA]=(e=>(e.unit=null,e[Symbol.toStringTag]="Date"))(Dm.prototype);class Om extends jt{constructor(t,n){super(K.Time),this.unit=t,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${re[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}YA=Symbol.toStringTag;Om[YA]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Om.prototype);class Mm extends jt{constructor(t,n){super(K.Timestamp),this.unit=t,this.timezone=n}toString(){return`Timestamp<${re[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}GA=Symbol.toStringTag;Mm[GA]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Timestamp"))(Mm.prototype);class Nm extends jt{constructor(t){super(K.Interval),this.unit=t}toString(){return`Interval<${Fa[this.unit]}>`}}VA=Symbol.toStringTag;Nm[VA]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(Nm.prototype);class Im extends jt{constructor(t){super(K.Duration),this.unit=t}toString(){return`Duration<${re[this.unit]}>`}}XA=Symbol.toStringTag;Im[XA]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(Im.prototype);class Bm extends jt{constructor(t){super(K.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}ZA=Symbol.toStringTag;Bm[ZA]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(Bm.prototype);class qi extends jt{constructor(t){super(K.Struct),this.children=t}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}QA=Symbol.toStringTag;qi[QA]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(qi.prototype);class Fm extends jt{constructor(t,n,i){super(K.Union),this.mode=t,this.children=i,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((s,a,o)=>(s[a]=o)&&s||s,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}KA=Symbol.toStringTag;Fm[KA]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Fm.prototype);class Um extends jt{constructor(t){super(K.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}JA=Symbol.toStringTag;Um[JA]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(Um.prototype);class qm extends jt{constructor(t,n){super(K.FixedSizeList),this.listSize=t,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}tR=Symbol.toStringTag;qm[tR]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(qm.prototype);class zm extends jt{constructor(t,n=!1){var i,s,a;if(super(K.Map),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((i=t?.type)===null||i===void 0)&&i.children)){const o=(s=t?.type)===null||s===void 0?void 0:s.children[0];o&&(o.name="key");const l=(a=t?.type)===null||a===void 0?void 0:a.children[1];l&&(l.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}eR=Symbol.toStringTag;zm[eR]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(zm.prototype);const w4=(e=>()=>++e)(-1);class Kc extends jt{constructor(t,n,i,s){super(K.Dictionary),this.indices=n,this.dictionary=t,this.isOrdered=s||!1,this.id=i==null?w4():yn(i)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}nR=Symbol.toStringTag;Kc[nR]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Kc.prototype);function br(e){const t=e;switch(e.typeId){case K.Decimal:return e.bitWidth/32;case K.Interval:return 1+t.unit;case K.FixedSizeList:return t.listSize;case K.FixedSizeBinary:return t.byteWidth;default:return 1}}class Ae{visitMany(t,...n){return t.map((i,s)=>this.visit(i,...n.map(a=>a[s])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return S4(this,t,n)}getVisitFnByTypeId(t,n=!0){return kc(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitLargeUtf8(t,...n){return null}visitBinary(t,...n){return null}visitLargeBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function S4(e,t,n=!0){return typeof t=="number"?kc(e,t,n):typeof t=="string"&&t in K?kc(e,K[t],n):t&&t instanceof jt?kc(e,iT(t),n):t?.type&&t.type instanceof jt?kc(e,iT(t.type),n):kc(e,K.NONE,n)}function kc(e,t,n=!0){let i=null;switch(t){case K.Null:i=e.visitNull;break;case K.Bool:i=e.visitBool;break;case K.Int:i=e.visitInt;break;case K.Int8:i=e.visitInt8||e.visitInt;break;case K.Int16:i=e.visitInt16||e.visitInt;break;case K.Int32:i=e.visitInt32||e.visitInt;break;case K.Int64:i=e.visitInt64||e.visitInt;break;case K.Uint8:i=e.visitUint8||e.visitInt;break;case K.Uint16:i=e.visitUint16||e.visitInt;break;case K.Uint32:i=e.visitUint32||e.visitInt;break;case K.Uint64:i=e.visitUint64||e.visitInt;break;case K.Float:i=e.visitFloat;break;case K.Float16:i=e.visitFloat16||e.visitFloat;break;case K.Float32:i=e.visitFloat32||e.visitFloat;break;case K.Float64:i=e.visitFloat64||e.visitFloat;break;case K.Utf8:i=e.visitUtf8;break;case K.LargeUtf8:i=e.visitLargeUtf8;break;case K.Binary:i=e.visitBinary;break;case K.LargeBinary:i=e.visitLargeBinary;break;case K.FixedSizeBinary:i=e.visitFixedSizeBinary;break;case K.Date:i=e.visitDate;break;case K.DateDay:i=e.visitDateDay||e.visitDate;break;case K.DateMillisecond:i=e.visitDateMillisecond||e.visitDate;break;case K.Timestamp:i=e.visitTimestamp;break;case K.TimestampSecond:i=e.visitTimestampSecond||e.visitTimestamp;break;case K.TimestampMillisecond:i=e.visitTimestampMillisecond||e.visitTimestamp;break;case K.TimestampMicrosecond:i=e.visitTimestampMicrosecond||e.visitTimestamp;break;case K.TimestampNanosecond:i=e.visitTimestampNanosecond||e.visitTimestamp;break;case K.Time:i=e.visitTime;break;case K.TimeSecond:i=e.visitTimeSecond||e.visitTime;break;case K.TimeMillisecond:i=e.visitTimeMillisecond||e.visitTime;break;case K.TimeMicrosecond:i=e.visitTimeMicrosecond||e.visitTime;break;case K.TimeNanosecond:i=e.visitTimeNanosecond||e.visitTime;break;case K.Decimal:i=e.visitDecimal;break;case K.List:i=e.visitList;break;case K.Struct:i=e.visitStruct;break;case K.Union:i=e.visitUnion;break;case K.DenseUnion:i=e.visitDenseUnion||e.visitUnion;break;case K.SparseUnion:i=e.visitSparseUnion||e.visitUnion;break;case K.Dictionary:i=e.visitDictionary;break;case K.Interval:i=e.visitInterval;break;case K.IntervalDayTime:i=e.visitIntervalDayTime||e.visitInterval;break;case K.IntervalYearMonth:i=e.visitIntervalYearMonth||e.visitInterval;break;case K.Duration:i=e.visitDuration;break;case K.DurationSecond:i=e.visitDurationSecond||e.visitDuration;break;case K.DurationMillisecond:i=e.visitDurationMillisecond||e.visitDuration;break;case K.DurationMicrosecond:i=e.visitDurationMicrosecond||e.visitDuration;break;case K.DurationNanosecond:i=e.visitDurationNanosecond||e.visitDuration;break;case K.FixedSizeList:i=e.visitFixedSizeList;break;case K.Map:i=e.visitMap;break}if(typeof i=="function")return i;if(!n)return()=>null;throw new Error(`Unrecognized type '${K[t]}'`)}function iT(e){switch(e.typeId){case K.Null:return K.Null;case K.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?K.Int8:K.Uint8;case 16:return n?K.Int16:K.Uint16;case 32:return n?K.Int32:K.Uint32;case 64:return n?K.Int64:K.Uint64}return K.Int}case K.Float:switch(e.precision){case Ai.HALF:return K.Float16;case Ai.SINGLE:return K.Float32;case Ai.DOUBLE:return K.Float64}return K.Float;case K.Binary:return K.Binary;case K.LargeBinary:return K.LargeBinary;case K.Utf8:return K.Utf8;case K.LargeUtf8:return K.LargeUtf8;case K.Bool:return K.Bool;case K.Decimal:return K.Decimal;case K.Time:switch(e.unit){case re.SECOND:return K.TimeSecond;case re.MILLISECOND:return K.TimeMillisecond;case re.MICROSECOND:return K.TimeMicrosecond;case re.NANOSECOND:return K.TimeNanosecond}return K.Time;case K.Timestamp:switch(e.unit){case re.SECOND:return K.TimestampSecond;case re.MILLISECOND:return K.TimestampMillisecond;case re.MICROSECOND:return K.TimestampMicrosecond;case re.NANOSECOND:return K.TimestampNanosecond}return K.Timestamp;case K.Date:switch(e.unit){case Hs.DAY:return K.DateDay;case Hs.MILLISECOND:return K.DateMillisecond}return K.Date;case K.Interval:switch(e.unit){case Fa.DAY_TIME:return K.IntervalDayTime;case Fa.YEAR_MONTH:return K.IntervalYearMonth}return K.Interval;case K.Duration:switch(e.unit){case re.SECOND:return K.DurationSecond;case re.MILLISECOND:return K.DurationMillisecond;case re.MICROSECOND:return K.DurationMicrosecond;case re.NANOSECOND:return K.DurationNanosecond}return K.Duration;case K.Map:return K.Map;case K.List:return K.List;case K.Struct:return K.Struct;case K.Union:switch(e.mode){case Oi.Dense:return K.DenseUnion;case Oi.Sparse:return K.SparseUnion}return K.Union;case K.FixedSizeBinary:return K.FixedSizeBinary;case K.FixedSizeList:return K.FixedSizeList;case K.Dictionary:return K.Dictionary}throw new Error(`Unrecognized type '${K[e.typeId]}'`)}Ae.prototype.visitInt8=null;Ae.prototype.visitInt16=null;Ae.prototype.visitInt32=null;Ae.prototype.visitInt64=null;Ae.prototype.visitUint8=null;Ae.prototype.visitUint16=null;Ae.prototype.visitUint32=null;Ae.prototype.visitUint64=null;Ae.prototype.visitFloat16=null;Ae.prototype.visitFloat32=null;Ae.prototype.visitFloat64=null;Ae.prototype.visitDateDay=null;Ae.prototype.visitDateMillisecond=null;Ae.prototype.visitTimestampSecond=null;Ae.prototype.visitTimestampMillisecond=null;Ae.prototype.visitTimestampMicrosecond=null;Ae.prototype.visitTimestampNanosecond=null;Ae.prototype.visitTimeSecond=null;Ae.prototype.visitTimeMillisecond=null;Ae.prototype.visitTimeMicrosecond=null;Ae.prototype.visitTimeNanosecond=null;Ae.prototype.visitDenseUnion=null;Ae.prototype.visitSparseUnion=null;Ae.prototype.visitIntervalDayTime=null;Ae.prototype.visitIntervalYearMonth=null;Ae.prototype.visitDuration=null;Ae.prototype.visitDurationSecond=null;Ae.prototype.visitDurationMillisecond=null;Ae.prototype.visitDurationMicrosecond=null;Ae.prototype.visitDurationNanosecond=null;const iR=new Float64Array(1),pc=new Uint32Array(iR.buffer);function sR(e){const t=(e&31744)>>10,n=(e&1023)/1024,i=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return i*(n?Number.NaN:1/0);case 0:return i*(n?6103515625e-14*n:0)}return i*Math.pow(2,t-15)*(1+n)}function E4(e){if(e!==e)return 32256;iR[0]=e;const t=(pc[1]&2147483648)>>16&65535;let n=pc[1]&2146435072,i=0;return n>=1089470464?pc[0]>0?n=31744:(n=(n&2080374784)>>16,i=(pc[1]&1048575)>>10):n<=1056964608?(i=1048576+(pc[1]&1048575),i=1048576+(i<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,i=(pc[1]&1048575)+512>>10),t|n|i&65535}class oe extends Ae{}function de(e){return(t,n,i)=>{if(t.setValid(n,i!=null))return e(t,n,i)}}const T4=(e,t,n)=>{e[t]=Math.floor(n/864e5)},aR=(e,t,n,i)=>{if(n+1<t.length){const s=yn(t[n]),a=yn(t[n+1]);e.set(i.subarray(0,a-s),s)}},k4=({offset:e,values:t},n,i)=>{const s=e+n;i?t[s>>3]|=1<<s%8:t[s>>3]&=~(1<<s%8)},Ar=({values:e},t,n)=>{e[t]=n},ox=({values:e},t,n)=>{e[t]=n},rR=({values:e},t,n)=>{e[t]=E4(n)},C4=(e,t,n)=>{switch(e.type.precision){case Ai.HALF:return rR(e,t,n);case Ai.SINGLE:case Ai.DOUBLE:return ox(e,t,n)}},oR=({values:e},t,n)=>{T4(e,t,n.valueOf())},lR=({values:e},t,n)=>{e[t]=BigInt(n)},A4=({stride:e,values:t},n,i)=>{t.set(i.subarray(0,e),e*n)},cR=({values:e,valueOffsets:t},n,i)=>aR(e,t,n,i),uR=({values:e,valueOffsets:t},n,i)=>aR(e,t,n,ix(i)),R4=(e,t,n)=>{e.type.unit===Hs.DAY?oR(e,t,n):lR(e,t,n)},hR=({values:e},t,n)=>{e[t]=BigInt(n/1e3)},dR=({values:e},t,n)=>{e[t]=BigInt(n)},fR=({values:e},t,n)=>{e[t]=BigInt(n*1e3)},pR=({values:e},t,n)=>{e[t]=BigInt(n*1e6)},L4=(e,t,n)=>{switch(e.type.unit){case re.SECOND:return hR(e,t,n);case re.MILLISECOND:return dR(e,t,n);case re.MICROSECOND:return fR(e,t,n);case re.NANOSECOND:return pR(e,t,n)}},mR=({values:e},t,n)=>{e[t]=n},gR=({values:e},t,n)=>{e[t]=n},yR=({values:e},t,n)=>{e[t]=n},bR=({values:e},t,n)=>{e[t]=n},D4=(e,t,n)=>{switch(e.type.unit){case re.SECOND:return mR(e,t,n);case re.MILLISECOND:return gR(e,t,n);case re.MICROSECOND:return yR(e,t,n);case re.NANOSECOND:return bR(e,t,n)}},O4=({values:e,stride:t},n,i)=>{e.set(i.subarray(0,t),t*n)},M4=(e,t,n)=>{const i=e.children[0],s=e.valueOffsets,a=js.getVisitFn(i);if(Array.isArray(n))for(let o=-1,l=s[t],u=s[t+1];l<u;)a(i,l++,n[++o]);else for(let o=-1,l=s[t],u=s[t+1];l<u;)a(i,l++,n.get(++o))},N4=(e,t,n)=>{const i=e.children[0],{valueOffsets:s}=e,a=js.getVisitFn(i);let{[t]:o,[t+1]:l}=s;const u=n instanceof Map?n.entries():Object.entries(n);for(const h of u)if(a(i,o,h),++o>=l)break},I4=(e,t)=>(n,i,s,a)=>i&&n(i,e,t[a]),B4=(e,t)=>(n,i,s,a)=>i&&n(i,e,t.get(a)),F4=(e,t)=>(n,i,s,a)=>i&&n(i,e,t.get(s.name)),U4=(e,t)=>(n,i,s,a)=>i&&n(i,e,t[s.name]),q4=(e,t,n)=>{const i=e.type.children.map(a=>js.getVisitFn(a.type)),s=n instanceof Map?F4(t,n):n instanceof Qe?B4(t,n):Array.isArray(n)?I4(t,n):U4(t,n);e.type.children.forEach((a,o)=>s(i[o],e.children[o],a,o))},z4=(e,t,n)=>{e.type.mode===Oi.Dense?_R(e,t,n):vR(e,t,n)},_R=(e,t,n)=>{const i=e.type.typeIdToChildIndex[e.typeIds[t]],s=e.children[i];js.visit(s,e.valueOffsets[t],n)},vR=(e,t,n)=>{const i=e.type.typeIdToChildIndex[e.typeIds[t]],s=e.children[i];js.visit(s,t,n)},P4=(e,t,n)=>{var i;(i=e.dictionary)===null||i===void 0||i.set(e.values[t],n)},$4=(e,t,n)=>{e.type.unit===Fa.DAY_TIME?xR(e,t,n):wR(e,t,n)},xR=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},wR=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},SR=({values:e},t,n)=>{e[t]=n},ER=({values:e},t,n)=>{e[t]=n},TR=({values:e},t,n)=>{e[t]=n},kR=({values:e},t,n)=>{e[t]=n},H4=(e,t,n)=>{switch(e.type.unit){case re.SECOND:return SR(e,t,n);case re.MILLISECOND:return ER(e,t,n);case re.MICROSECOND:return TR(e,t,n);case re.NANOSECOND:return kR(e,t,n)}},j4=(e,t,n)=>{const{stride:i}=e,s=e.children[0],a=js.getVisitFn(s);if(Array.isArray(n))for(let o=-1,l=t*i;++o<i;)a(s,l+o,n[o]);else for(let o=-1,l=t*i;++o<i;)a(s,l+o,n.get(o))};oe.prototype.visitBool=de(k4);oe.prototype.visitInt=de(Ar);oe.prototype.visitInt8=de(Ar);oe.prototype.visitInt16=de(Ar);oe.prototype.visitInt32=de(Ar);oe.prototype.visitInt64=de(Ar);oe.prototype.visitUint8=de(Ar);oe.prototype.visitUint16=de(Ar);oe.prototype.visitUint32=de(Ar);oe.prototype.visitUint64=de(Ar);oe.prototype.visitFloat=de(C4);oe.prototype.visitFloat16=de(rR);oe.prototype.visitFloat32=de(ox);oe.prototype.visitFloat64=de(ox);oe.prototype.visitUtf8=de(uR);oe.prototype.visitLargeUtf8=de(uR);oe.prototype.visitBinary=de(cR);oe.prototype.visitLargeBinary=de(cR);oe.prototype.visitFixedSizeBinary=de(A4);oe.prototype.visitDate=de(R4);oe.prototype.visitDateDay=de(oR);oe.prototype.visitDateMillisecond=de(lR);oe.prototype.visitTimestamp=de(L4);oe.prototype.visitTimestampSecond=de(hR);oe.prototype.visitTimestampMillisecond=de(dR);oe.prototype.visitTimestampMicrosecond=de(fR);oe.prototype.visitTimestampNanosecond=de(pR);oe.prototype.visitTime=de(D4);oe.prototype.visitTimeSecond=de(mR);oe.prototype.visitTimeMillisecond=de(gR);oe.prototype.visitTimeMicrosecond=de(yR);oe.prototype.visitTimeNanosecond=de(bR);oe.prototype.visitDecimal=de(O4);oe.prototype.visitList=de(M4);oe.prototype.visitStruct=de(q4);oe.prototype.visitUnion=de(z4);oe.prototype.visitDenseUnion=de(_R);oe.prototype.visitSparseUnion=de(vR);oe.prototype.visitDictionary=de(P4);oe.prototype.visitInterval=de($4);oe.prototype.visitIntervalDayTime=de(xR);oe.prototype.visitIntervalYearMonth=de(wR);oe.prototype.visitDuration=de(H4);oe.prototype.visitDurationSecond=de(SR);oe.prototype.visitDurationMillisecond=de(ER);oe.prototype.visitDurationMicrosecond=de(TR);oe.prototype.visitDurationNanosecond=de(kR);oe.prototype.visitFixedSizeList=de(j4);oe.prototype.visitMap=de(N4);const js=new oe,ta=Symbol.for("parent"),Ic=Symbol.for("rowIndex");class lx{constructor(t,n){return this[ta]=t,this[Ic]=n,new Proxy(this,new Y4)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ic],n=this[ta],i=n.type.children,s={};for(let a=-1,o=i.length;++a<o;)s[i[a].name]=us.visit(n.children[a],t);return s}toString(){return`{${[...this].map(([t,n])=>`${od(t)}: ${od(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new W4(this[ta],this[Ic])}}class W4{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,us.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(lx.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ta]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ic]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Y4{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ta].type.children.map(n=>n.name)}has(t,n){return t[ta].type.children.findIndex(i=>i.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[ta].type.children.findIndex(i=>i.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const i=t[ta].type.children.findIndex(s=>s.name===n);if(i!==-1){const s=us.visit(t[ta].children[i],t[Ic]);return Reflect.set(t,n,s),s}}set(t,n,i){const s=t[ta].type.children.findIndex(a=>a.name===n);return s!==-1?(js.visit(t[ta].children[s],t[Ic],i),Reflect.set(t,n,i)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,i):!1}}class te extends Ae{}function le(e){return(t,n)=>t.getValid(n)?e(t,n):null}const G4=(e,t)=>864e5*e[t],V4=(e,t)=>null,CR=(e,t,n)=>{if(n+1>=t.length)return null;const i=yn(t[n]),s=yn(t[n+1]);return e.subarray(i,s)},X4=({offset:e,values:t},n)=>{const i=e+n;return(t[i>>3]&1<<i%8)!==0},AR=({values:e},t)=>G4(e,t),RR=({values:e},t)=>yn(e[t]),Ao=({stride:e,values:t},n)=>t[e*n],Z4=({stride:e,values:t},n)=>sR(t[e*n]),LR=({values:e},t)=>e[t],Q4=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),DR=({values:e,valueOffsets:t},n)=>CR(e,t,n),OR=({values:e,valueOffsets:t},n)=>{const i=CR(e,t,n);return i!==null?B_(i):null},K4=({values:e},t)=>e[t],J4=({type:e,values:t},n)=>e.precision!==Ai.HALF?t[n]:sR(t[n]),t6=(e,t)=>e.type.unit===Hs.DAY?AR(e,t):RR(e,t),MR=({values:e},t)=>1e3*yn(e[t]),NR=({values:e},t)=>yn(e[t]),IR=({values:e},t)=>MA(e[t],BigInt(1e3)),BR=({values:e},t)=>MA(e[t],BigInt(1e6)),e6=(e,t)=>{switch(e.type.unit){case re.SECOND:return MR(e,t);case re.MILLISECOND:return NR(e,t);case re.MICROSECOND:return IR(e,t);case re.NANOSECOND:return BR(e,t)}},FR=({values:e},t)=>e[t],UR=({values:e},t)=>e[t],qR=({values:e},t)=>e[t],zR=({values:e},t)=>e[t],n6=(e,t)=>{switch(e.type.unit){case re.SECOND:return FR(e,t);case re.MILLISECOND:return UR(e,t);case re.MICROSECOND:return qR(e,t);case re.NANOSECOND:return zR(e,t)}},i6=({values:e,stride:t},n)=>rx.decimal(e.subarray(t*n,t*(n+1))),s6=(e,t)=>{const{valueOffsets:n,stride:i,children:s}=e,{[t*i]:a,[t*i+1]:o}=n,u=s[0].slice(a,o-a);return new Qe([u])},a6=(e,t)=>{const{valueOffsets:n,children:i}=e,{[t]:s,[t+1]:a}=n,o=i[0];return new cx(o.slice(s,a-s))},r6=(e,t)=>new lx(e,t),o6=(e,t)=>e.type.mode===Oi.Dense?PR(e,t):$R(e,t),PR=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[n];return us.visit(i,e.valueOffsets[t])},$R=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[n];return us.visit(i,t)},l6=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},c6=(e,t)=>e.type.unit===Fa.DAY_TIME?HR(e,t):jR(e,t),HR=({values:e},t)=>e.subarray(2*t,2*(t+1)),jR=({values:e},t)=>{const n=e[t],i=new Int32Array(2);return i[0]=Math.trunc(n/12),i[1]=Math.trunc(n%12),i},WR=({values:e},t)=>e[t],YR=({values:e},t)=>e[t],GR=({values:e},t)=>e[t],VR=({values:e},t)=>e[t],u6=(e,t)=>{switch(e.type.unit){case re.SECOND:return WR(e,t);case re.MILLISECOND:return YR(e,t);case re.MICROSECOND:return GR(e,t);case re.NANOSECOND:return VR(e,t)}},h6=(e,t)=>{const{stride:n,children:i}=e,a=i[0].slice(t*n,n);return new Qe([a])};te.prototype.visitNull=le(V4);te.prototype.visitBool=le(X4);te.prototype.visitInt=le(K4);te.prototype.visitInt8=le(Ao);te.prototype.visitInt16=le(Ao);te.prototype.visitInt32=le(Ao);te.prototype.visitInt64=le(LR);te.prototype.visitUint8=le(Ao);te.prototype.visitUint16=le(Ao);te.prototype.visitUint32=le(Ao);te.prototype.visitUint64=le(LR);te.prototype.visitFloat=le(J4);te.prototype.visitFloat16=le(Z4);te.prototype.visitFloat32=le(Ao);te.prototype.visitFloat64=le(Ao);te.prototype.visitUtf8=le(OR);te.prototype.visitLargeUtf8=le(OR);te.prototype.visitBinary=le(DR);te.prototype.visitLargeBinary=le(DR);te.prototype.visitFixedSizeBinary=le(Q4);te.prototype.visitDate=le(t6);te.prototype.visitDateDay=le(AR);te.prototype.visitDateMillisecond=le(RR);te.prototype.visitTimestamp=le(e6);te.prototype.visitTimestampSecond=le(MR);te.prototype.visitTimestampMillisecond=le(NR);te.prototype.visitTimestampMicrosecond=le(IR);te.prototype.visitTimestampNanosecond=le(BR);te.prototype.visitTime=le(n6);te.prototype.visitTimeSecond=le(FR);te.prototype.visitTimeMillisecond=le(UR);te.prototype.visitTimeMicrosecond=le(qR);te.prototype.visitTimeNanosecond=le(zR);te.prototype.visitDecimal=le(i6);te.prototype.visitList=le(s6);te.prototype.visitStruct=le(r6);te.prototype.visitUnion=le(o6);te.prototype.visitDenseUnion=le(PR);te.prototype.visitSparseUnion=le($R);te.prototype.visitDictionary=le(l6);te.prototype.visitInterval=le(c6);te.prototype.visitIntervalDayTime=le(HR);te.prototype.visitIntervalYearMonth=le(jR);te.prototype.visitDuration=le(u6);te.prototype.visitDurationSecond=le(WR);te.prototype.visitDurationMillisecond=le(YR);te.prototype.visitDurationMicrosecond=le(GR);te.prototype.visitDurationNanosecond=le(VR);te.prototype.visitFixedSizeList=le(h6);te.prototype.visitMap=le(a6);const us=new te,Cc=Symbol.for("keys"),Bc=Symbol.for("vals"),Ac=Symbol.for("kKeysAsStrings"),$_=Symbol.for("_kKeysAsStrings");class cx{constructor(t){return this[Cc]=new Qe([t.children[0]]).memoize(),this[Bc]=t.children[1],new Proxy(this,new f6)}get[Ac](){return this[$_]||(this[$_]=Array.from(this[Cc].toArray(),String))}[Symbol.iterator](){return new d6(this[Cc],this[Bc])}get size(){return this[Cc].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Cc],n=this[Bc],i={};for(let s=-1,a=t.length;++s<a;)i[t.get(s)]=us.visit(n,s);return i}toString(){return`{${[...this].map(([t,n])=>`${od(t)}: ${od(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class d6{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),us.visit(this.vals,t)]})}}class f6{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ac]}has(t,n){return t[Ac].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Ac].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const i=t[Ac].indexOf(n);if(i!==-1){const s=us.visit(Reflect.get(t,Bc),i);return Reflect.set(t,n,s),s}}set(t,n,i){const s=t[Ac].indexOf(n);return s!==-1?(js.visit(Reflect.get(t,Bc),s,i),Reflect.set(t,n,i)):Reflect.has(t,n)?Reflect.set(t,n,i):!1}}Object.defineProperties(cx.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Cc]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Bc]:{writable:!0,enumerable:!1,configurable:!1,value:null},[$_]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let sT;function XR(e,t,n,i){const{length:s=0}=e;let a=typeof t!="number"?0:t,o=typeof n!="number"?s:n;return a<0&&(a=(a%s+s)%s),o<0&&(o=(o%s+s)%s),o<a&&(sT=a,a=o,o=sT),o>s&&(o=s),i?i(e,a,o):[a,o]}const ux=(e,t)=>e<0?t+e:e,aT=e=>e!==e;function pu(e){if(typeof e!=="object"||e===null)return aT(e)?aT:n=>n===e;if(e instanceof Date){const n=e.valueOf();return i=>i instanceof Date?i.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?h4(e,n):!1:e instanceof Map?m6(e):Array.isArray(e)?p6(e):e instanceof Qe?g6(e):y6(e,!0)}function p6(e){const t=[];for(let n=-1,i=e.length;++n<i;)t[n]=pu(e[n]);return jg(t)}function m6(e){let t=-1;const n=[];for(const i of e.values())n[++t]=pu(i);return jg(n)}function g6(e){const t=[];for(let n=-1,i=e.length;++n<i;)t[n]=pu(e.get(n));return jg(t)}function y6(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const i=[];for(let s=-1,a=n.length;++s<a;)i[s]=pu(e[n[s]]);return jg(i,n)}function jg(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return b6(e,n);case Map:return rT(e,n,n.keys());case cx:case lx:case Object:case void 0:return rT(e,n,t||Object.keys(n))}return n instanceof Qe?_6(e,n):!1}}function b6(e,t){const n=e.length;if(t.length!==n)return!1;for(let i=-1;++i<n;)if(!e[i](t[i]))return!1;return!0}function _6(e,t){const n=e.length;if(t.length!==n)return!1;for(let i=-1;++i<n;)if(!e[i](t.get(i)))return!1;return!0}function rT(e,t,n){const i=n[Symbol.iterator](),s=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),a=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const l=e.length;let u=a.next(),h=i.next(),f=s.next();for(;o<l&&!h.done&&!f.done&&!u.done&&!(h.value!==f.value||!e[o](u.value));++o,h=i.next(),f=s.next(),u=a.next());return o===l&&h.done&&f.done&&u.done?!0:(i.return&&i.return(),s.return&&s.return(),a.return&&a.return(),!1)}function ZR(e,t,n,i){return(n&1<<i)!==0}function v6(e,t,n,i){return(n&1<<i)>>i}function Pm(e,t,n){const i=n.byteLength+7&-8;if(e>0||n.byteLength<i){const s=new Uint8Array(i);return s.set(e%8===0?n.subarray(e>>3):$m(new hx(n,e,t,null,ZR)).subarray(0,i)),s}return n}function $m(e){const t=[];let n=0,i=0,s=0;for(const o of e)o&&(s|=1<<i),++i===8&&(t[n++]=s,s=i=0);(n===0||i>0)&&(t[n++]=s);const a=new Uint8Array(t.length+7&-8);return a.set(t),a}class hx{constructor(t,n,i,s,a){this.bytes=t,this.length=i,this.context=s,this.get=a,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function H_(e,t,n){if(n-t<=0)return 0;if(n-t<8){let a=0;for(const o of new hx(e,t,n-t,e,v6))a+=o;return a}const i=n>>3<<3,s=t+(t%8===0?0:8-t%8);return H_(e,t,s)+H_(e,i,n)+x6(e,s>>3,i-s>>3)}function x6(e,t,n){let i=0,s=Math.trunc(t);const a=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:s+n;for(;o-s>=4;)i+=H0(a.getUint32(s)),s+=4;for(;o-s>=2;)i+=H0(a.getUint16(s)),s+=2;for(;o-s>=1;)i+=H0(a.getUint8(s)),s+=1;return i}function H0(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const w6=-1;class on{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return jt.isSparseUnion(t)?this.children.some(n=>n.nullable):jt.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:i,nullBitmap:s,typeIds:a}=this;return n&&(t+=n.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),a&&(t+=a.byteLength),this.children.reduce((o,l)=>o+l.byteLength,t)}get nullCount(){if(jt.isUnion(this.type))return this.children.reduce((i,s)=>i+s.nullCount,0);let t=this._nullCount,n;return t<=w6&&(n=this.nullBitmap)&&(this._nullCount=t=n.length===0?0:this.length-H_(n,this.offset,this.offset+this.length)),t}constructor(t,n,i,s,a,o=[],l){this.type=t,this.children=o,this.dictionary=l,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(s||0,-1));let u;a instanceof on?(this.stride=a.stride,this.values=a.values,this.typeIds=a.typeIds,this.nullBitmap=a.nullBitmap,this.valueOffsets=a.valueOffsets):(this.stride=br(t),a&&((u=a[0])&&(this.valueOffsets=u),(u=a[1])&&(this.values=u),(u=a[2])&&(this.nullBitmap=u),(u=a[3])&&(this.typeIds=u)))}getValid(t){const{type:n}=this;if(jt.isUnion(n)){const i=n,s=this.children[i.typeIdToChildIndex[this.typeIds[t]]],a=i.mode===Oi.Dense?this.valueOffsets[t]:t;return s.getValid(a)}if(this.nullable&&this.nullCount>0){const i=this.offset+t;return(this.nullBitmap[i>>3]&1<<i%8)!==0}return!0}setValid(t,n){let i;const{type:s}=this;if(jt.isUnion(s)){const a=s,o=this.children[a.typeIdToChildIndex[this.typeIds[t]]],l=a.mode===Oi.Dense?this.valueOffsets[t]:t;i=o.getValid(l),o.setValid(l,n)}else{let{nullBitmap:a}=this;const{offset:o,length:l}=this,u=o+t,h=1<<u%8,f=u>>3;(!a||a.byteLength<=f)&&(a=new Uint8Array((o+l+63&-64)>>3).fill(255),this.nullCount>0?(a.set(Pm(o,l,this.nullBitmap),0),Object.assign(this,{nullBitmap:a})):Object.assign(this,{nullBitmap:a,_nullCount:0}));const m=a[f];i=(m&h)!==0,a[f]=n?m|h:m&~h}return i!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,i=this.length,s=this._nullCount,a=this,o=this.children){return new on(t,n,i,s,a,o,this.dictionary)}slice(t,n){const{stride:i,typeId:s,children:a}=this,o=+(this._nullCount===0)-1,l=s===16?i:1,u=this._sliceBuffers(t,n,i,s);return this.clone(this.type,this.offset+t,n,o,u,a.length===0||this.valueOffsets?a:this._sliceChildren(a,l*t,l*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===K.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:i}=this,s=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);s[n>>3]=(1<<n-(n&-8))-1,i>0&&s.set(Pm(this.offset,n,this.nullBitmap),0);const a=this.buffers;return a[yr.VALIDITY]=s,this.clone(this.type,0,t,i+(t-n),a)}_sliceBuffers(t,n,i,s){let a;const{buffers:o}=this;return(a=o[yr.TYPE])&&(o[yr.TYPE]=a.subarray(t,t+n)),(a=o[yr.OFFSET])&&(o[yr.OFFSET]=a.subarray(t,t+n+1))||(a=o[yr.DATA])&&(o[yr.DATA]=s===6?a:a.subarray(i*t,i*(t+n))),o}_sliceChildren(t,n,i){return t.map(s=>s.slice(n,i))}}on.prototype.children=Object.freeze([]);class Zh extends Ae{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:i=0,["length"]:s=0}=t;return new on(n,i,s,s)}visitBool(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.ArrayType,t.data),{["length"]:o=a.length>>3,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,a,s])}visitInt(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.ArrayType,t.data),{["length"]:o=a.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,a,s])}visitFloat(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.ArrayType,t.data),{["length"]:o=a.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,a,s])}visitUtf8(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.data),a=Ue(t.nullBitmap),o=fh(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new on(n,i,l,u,[o,s,a])}visitLargeUtf8(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.data),a=Ue(t.nullBitmap),o=GE(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new on(n,i,l,u,[o,s,a])}visitBinary(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.data),a=Ue(t.nullBitmap),o=fh(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new on(n,i,l,u,[o,s,a])}visitLargeBinary(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.data),a=Ue(t.nullBitmap),o=GE(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new on(n,i,l,u,[o,s,a])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.ArrayType,t.data),{["length"]:o=a.length/br(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,a,s])}visitDate(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.ArrayType,t.data),{["length"]:o=a.length/br(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,a,s])}visitTimestamp(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.ArrayType,t.data),{["length"]:o=a.length/br(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,a,s])}visitTime(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.ArrayType,t.data),{["length"]:o=a.length/br(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,a,s])}visitDecimal(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.ArrayType,t.data),{["length"]:o=a.length/br(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,a,s])}visitList(t){const{["type"]:n,["offset"]:i=0,["child"]:s}=t,a=Ue(t.nullBitmap),o=fh(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new on(n,i,l,u,[o,void 0,a],[s])}visitStruct(t){const{["type"]:n,["offset"]:i=0,["children"]:s=[]}=t,a=Ue(t.nullBitmap),{length:o=s.reduce((u,{length:h})=>Math.max(u,h),0),nullCount:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,void 0,a],s)}visitUnion(t){const{["type"]:n,["offset"]:i=0,["children"]:s=[]}=t,a=cn(n.ArrayType,t.typeIds),{["length"]:o=a.length,["nullCount"]:l=-1}=t;if(jt.isSparseUnion(n))return new on(n,i,o,l,[void 0,void 0,void 0,a],s);const u=fh(t.valueOffsets);return new on(n,i,o,l,[u,void 0,void 0,a],s)}visitDictionary(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.indices.ArrayType,t.data),{["dictionary"]:o=new Qe([new Zh().visit({type:n.dictionary})])}=t,{["length"]:l=a.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new on(n,i,l,u,[void 0,a,s],[],o)}visitInterval(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.ArrayType,t.data),{["length"]:o=a.length/br(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,a,s])}visitDuration(t){const{["type"]:n,["offset"]:i=0}=t,s=Ue(t.nullBitmap),a=cn(n.ArrayType,t.data),{["length"]:o=a.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,a,s])}visitFixedSizeList(t){const{["type"]:n,["offset"]:i=0,["child"]:s=new Zh().visit({type:n.valueType})}=t,a=Ue(t.nullBitmap),{["length"]:o=s.length/br(n),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new on(n,i,o,l,[void 0,void 0,a],[s])}visitMap(t){const{["type"]:n,["offset"]:i=0,["child"]:s=new Zh().visit({type:n.childType})}=t,a=Ue(t.nullBitmap),o=fh(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new on(n,i,l,u,[o,void 0,a],[s])}}const S6=new Zh;function De(e){return S6.visit(e)}class oT{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function E6(e){return e.some(t=>t.nullable)}function QR(e){return e.reduce((t,n)=>t+n.nullCount,0)}function KR(e){return e.reduce((t,n,i)=>(t[i+1]=t[i]+n.length,t),new Uint32Array(e.length+1))}function JR(e,t,n,i){const s=[];for(let a=-1,o=e.length;++a<o;){const l=e[a],u=t[a],{length:h}=l;if(u>=i)break;if(n>=u+h)continue;if(u>=n&&u+h<=i){s.push(l);continue}const f=Math.max(0,n-u),m=Math.min(i-u,h);s.push(l.slice(f,m-f))}return s.length===0&&s.push(e[0].slice(0,0)),s}function dx(e,t,n,i){let s=0,a=0,o=t.length-1;do{if(s>=o-1)return n<t[o]?i(e,s,n-t[s]):null;a=s+Math.trunc((o-s)*.5),n<t[a]?o=a:s=a}while(s<o)}function fx(e,t){return e.getValid(t)}function Hm(e){function t(n,i,s){return e(n[i],s)}return function(n){const i=this.data;return dx(i,this._offsets,n,t)}}function tL(e){let t;function n(i,s,a){return e(i[s],a,t)}return function(i,s){const a=this.data;t=s;const o=dx(a,this._offsets,i,n);return t=void 0,o}}function eL(e){let t;function n(i,s,a){let o=a,l=0,u=0;for(let h=s-1,f=i.length;++h<f;){const m=i[h];if(~(l=e(m,t,o)))return u+l;o=0,u+=m.length}return-1}return function(i,s){t=i;const a=this.data,o=typeof s!="number"?n(a,0,0):dx(a,this._offsets,s,n);return t=void 0,o}}class ee extends Ae{}function T6(e,t){return t===null&&e.length>0?0:-1}function k6(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let i=0;for(const s of new hx(n,e.offset+(t||0),e.length,n,ZR)){if(!s)return i;++i}return-1}function me(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case K.Union:break;case K.Dictionary:break;default:return k6(e,n)}const i=us.getVisitFn(e),s=pu(t);for(let a=(n||0)-1,o=e.length;++a<o;)if(s(i(e,a)))return a;return-1}function nL(e,t,n){const i=us.getVisitFn(e),s=pu(t);for(let a=(n||0)-1,o=e.length;++a<o;)if(s(i(e,a)))return a;return-1}ee.prototype.visitNull=T6;ee.prototype.visitBool=me;ee.prototype.visitInt=me;ee.prototype.visitInt8=me;ee.prototype.visitInt16=me;ee.prototype.visitInt32=me;ee.prototype.visitInt64=me;ee.prototype.visitUint8=me;ee.prototype.visitUint16=me;ee.prototype.visitUint32=me;ee.prototype.visitUint64=me;ee.prototype.visitFloat=me;ee.prototype.visitFloat16=me;ee.prototype.visitFloat32=me;ee.prototype.visitFloat64=me;ee.prototype.visitUtf8=me;ee.prototype.visitLargeUtf8=me;ee.prototype.visitBinary=me;ee.prototype.visitLargeBinary=me;ee.prototype.visitFixedSizeBinary=me;ee.prototype.visitDate=me;ee.prototype.visitDateDay=me;ee.prototype.visitDateMillisecond=me;ee.prototype.visitTimestamp=me;ee.prototype.visitTimestampSecond=me;ee.prototype.visitTimestampMillisecond=me;ee.prototype.visitTimestampMicrosecond=me;ee.prototype.visitTimestampNanosecond=me;ee.prototype.visitTime=me;ee.prototype.visitTimeSecond=me;ee.prototype.visitTimeMillisecond=me;ee.prototype.visitTimeMicrosecond=me;ee.prototype.visitTimeNanosecond=me;ee.prototype.visitDecimal=me;ee.prototype.visitList=me;ee.prototype.visitStruct=me;ee.prototype.visitUnion=me;ee.prototype.visitDenseUnion=nL;ee.prototype.visitSparseUnion=nL;ee.prototype.visitDictionary=me;ee.prototype.visitInterval=me;ee.prototype.visitIntervalDayTime=me;ee.prototype.visitIntervalYearMonth=me;ee.prototype.visitDuration=me;ee.prototype.visitDurationSecond=me;ee.prototype.visitDurationMillisecond=me;ee.prototype.visitDurationMicrosecond=me;ee.prototype.visitDurationNanosecond=me;ee.prototype.visitFixedSizeList=me;ee.prototype.visitMap=me;const jm=new ee;class ne extends Ae{}function ce(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(jt.isInt(t)&&t.bitWidth!==64||jt.isTime(t)&&t.bitWidth!==64||jt.isFloat(t)&&t.precision!==Ai.HALF))return new oT(e.data.length,i=>{const s=e.data[i];return s.values.subarray(0,s.length)[Symbol.iterator]()});let n=0;return new oT(e.data.length,i=>{const a=e.data[i].length,o=e.slice(n,n+a);return n+=a,new C6(o)})}class C6{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}ne.prototype.visitNull=ce;ne.prototype.visitBool=ce;ne.prototype.visitInt=ce;ne.prototype.visitInt8=ce;ne.prototype.visitInt16=ce;ne.prototype.visitInt32=ce;ne.prototype.visitInt64=ce;ne.prototype.visitUint8=ce;ne.prototype.visitUint16=ce;ne.prototype.visitUint32=ce;ne.prototype.visitUint64=ce;ne.prototype.visitFloat=ce;ne.prototype.visitFloat16=ce;ne.prototype.visitFloat32=ce;ne.prototype.visitFloat64=ce;ne.prototype.visitUtf8=ce;ne.prototype.visitLargeUtf8=ce;ne.prototype.visitBinary=ce;ne.prototype.visitLargeBinary=ce;ne.prototype.visitFixedSizeBinary=ce;ne.prototype.visitDate=ce;ne.prototype.visitDateDay=ce;ne.prototype.visitDateMillisecond=ce;ne.prototype.visitTimestamp=ce;ne.prototype.visitTimestampSecond=ce;ne.prototype.visitTimestampMillisecond=ce;ne.prototype.visitTimestampMicrosecond=ce;ne.prototype.visitTimestampNanosecond=ce;ne.prototype.visitTime=ce;ne.prototype.visitTimeSecond=ce;ne.prototype.visitTimeMillisecond=ce;ne.prototype.visitTimeMicrosecond=ce;ne.prototype.visitTimeNanosecond=ce;ne.prototype.visitDecimal=ce;ne.prototype.visitList=ce;ne.prototype.visitStruct=ce;ne.prototype.visitUnion=ce;ne.prototype.visitDenseUnion=ce;ne.prototype.visitSparseUnion=ce;ne.prototype.visitDictionary=ce;ne.prototype.visitInterval=ce;ne.prototype.visitIntervalDayTime=ce;ne.prototype.visitIntervalYearMonth=ce;ne.prototype.visitDuration=ce;ne.prototype.visitDurationSecond=ce;ne.prototype.visitDurationMillisecond=ce;ne.prototype.visitDurationMicrosecond=ce;ne.prototype.visitDurationNanosecond=ce;ne.prototype.visitFixedSizeList=ce;ne.prototype.visitMap=ce;const px=new ne;var iL;const sL={},aL={};class Qe{constructor(t){var n,i,s;const a=t[0]instanceof Qe?t.flatMap(l=>l.data):t;if(a.length===0||a.some(l=>!(l instanceof on)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=a[0])===null||n===void 0?void 0:n.type;switch(a.length){case 0:this._offsets=[0];break;case 1:{const{get:l,set:u,indexOf:h}=sL[o.typeId],f=a[0];this.isValid=m=>fx(f,m),this.get=m=>l(f,m),this.set=(m,g)=>u(f,m,g),this.indexOf=m=>h(f,m),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,aL[o.typeId]),this._offsets=KR(a);break}this.data=a,this.type=o,this.stride=br(o),this.numChildren=(s=(i=o.children)===null||i===void 0?void 0:i.length)!==null&&s!==void 0?s:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullable(){return E6(this.data)}get nullCount(){return QR(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${K[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}at(t){return this.get(ux(t,this.length))}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}[Symbol.iterator](){return px.visit(this)}concat(...t){return new Qe(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new Qe(XR(this,t,n,({data:i,_offsets:s},a,o)=>JR(i,s,a,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:i,stride:s,ArrayType:a}=this;switch(t.typeId){case K.Int:case K.Float:case K.Decimal:case K.Time:case K.Timestamp:switch(n.length){case 0:return new a;case 1:return n[0].values.subarray(0,i*s);default:return n.reduce((o,{values:l,length:u})=>(o.array.set(l.subarray(0,u*s),o.offset),o.offset+=u*s,o),{array:new a(i*s),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(i=>i.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Qe(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return jt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(jt.isDictionary(this.type)){const t=new Wm(this.data[0].dictionary),n=this.data.map(i=>{const s=i.clone();return s.dictionary=t,s});return new Qe(n)}return new Wm(this)}unmemoize(){if(jt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(i=>{const s=i.clone();return s.dictionary=t,s});return new Qe(n)}return this}}iL=Symbol.toStringTag;Qe[iL]=(e=>{e.type=jt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(K).map(n=>K[n]).filter(n=>typeof n=="number"&&n!==K.NONE);for(const n of t){const i=us.getVisitFnByTypeId(n),s=js.getVisitFnByTypeId(n),a=jm.getVisitFnByTypeId(n);sL[n]={get:i,set:s,indexOf:a},aL[n]=Object.create(e,{isValid:{value:Hm(fx)},get:{value:Hm(us.getVisitFnByTypeId(n))},set:{value:tL(js.getVisitFnByTypeId(n))},indexOf:{value:eL(jm.getVisitFnByTypeId(n))}})}return"Vector"})(Qe.prototype);class Wm extends Qe{constructor(t){super(t.data);const n=this.get,i=this.set,s=this.slice,a=new Array(this.length);Object.defineProperty(this,"get",{value(o){const l=a[o];if(l!==void 0)return l;const u=n.call(this,o);return a[o]=u,u}}),Object.defineProperty(this,"set",{value(o,l){i.call(this,o,l),a[o]=l}}),Object.defineProperty(this,"slice",{value:(o,l)=>new Wm(s.call(this,o,l))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Qe(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class j_{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,i,s){return t.prep(8,24),t.writeInt64(BigInt(s??0)),t.pad(4),t.writeInt32(i),t.writeInt64(BigInt(n??0)),t.offset()}}class vs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new vs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+nn),(n||new vs).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):$n.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ta).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new j_).__init(this.bb.__vector(this.bb_pos+i)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const i=this.bb.__offset(this.bb_pos,10);return i?(n||new j_).__init(this.bb.__vector(this.bb_pos+i)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,$n.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Ke{constructor(t=[],n,i,s=$n.V5){this.fields=t||[],this.metadata=n||new Map,i||(i=W_(this.fields)),this.dictionaries=i,this.metadataVersion=s}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),i=this.fields.filter(s=>n.has(s.name));return new Ke(i,this.metadata)}selectAt(t){const n=t.map(i=>this.fields[i]).filter(Boolean);return new Ke(n,this.metadata)}assign(...t){const n=t[0]instanceof Ke?t[0]:Array.isArray(t[0])?new Ke(t[0]):new Ke(t),i=[...this.fields],s=mp(mp(new Map,this.metadata),n.metadata),a=n.fields.filter(l=>{const u=i.findIndex(h=>h.name===l.name);return~u?(i[u]=l.clone({metadata:mp(mp(new Map,i[u].metadata),l.metadata)}))&&!1:!0}),o=W_(a,new Map);return new Ke([...i,...a],s,new Map([...this.dictionaries,...o]))}}Ke.prototype.fields=null;Ke.prototype.metadata=null;Ke.prototype.dictionaries=null;class Tn{static new(...t){let[n,i,s,a]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],i===void 0&&(i=t[0].type),s===void 0&&(s=t[0].nullable),a===void 0&&(a=t[0].metadata)),new Tn(`${n}`,i,s,a)}constructor(t,n,i=!1,s){this.name=t,this.type=n,this.nullable=i,this.metadata=s||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,i,s,a]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,i=this.type,s=this.nullable,a=this.metadata]=t:{name:n=this.name,type:i=this.type,nullable:s=this.nullable,metadata:a=this.metadata}=t[0],Tn.new(n,i,s,a)}}Tn.prototype.type=null;Tn.prototype.name=null;Tn.prototype.nullable=null;Tn.prototype.metadata=null;function mp(e,t){return new Map([...e||new Map,...t||new Map])}function W_(e,t=new Map){for(let n=-1,i=e.length;++n<i;){const a=e[n].type;if(jt.isDictionary(a)){if(!t.has(a.id))t.set(a.id,a.dictionary);else if(t.get(a.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}a.children&&a.children.length>0&&W_(a.children,t)}return t}var A6=RA,R6=Zc;class hd{static decode(t){t=new R6(Ue(t));const n=vs.getRootAsFooter(t),i=Ke.decode(n.schema(),new Map,n.version());return new L6(i,n)}static encode(t){const n=new A6,i=Ke.encode(n,t.schema);vs.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())vo.encode(n,o);const s=n.endVector();vs.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())vo.encode(n,o);const a=n.endVector();return vs.startFooter(n),vs.addSchema(n,i),vs.addVersion(n,$n.V5),vs.addRecordBatches(n,s),vs.addDictionaries(n,a),vs.finishFooterBuffer(n,vs.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=$n.V5,i,s){this.schema=t,this.version=n,i&&(this._recordBatches=i),s&&(this._dictionaryBatches=s)}*recordBatches(){for(let t,n=-1,i=this.numRecordBatches;++n<i;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,i=this.numDictionaries;++n<i;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class L6 extends hd{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return vo.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return vo.decode(n)}return null}}class vo{static decode(t){return new vo(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:i}=n,s=BigInt(n.offset),a=BigInt(n.bodyLength);return j_.createBlock(t,s,i,a)}constructor(t,n,i){this.metaDataLength=t,this.offset=yn(i),this.bodyLength=yn(n)}}const On=Object.freeze({done:!0,value:void 0});class lT{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class mx{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class D6 extends mx{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return ye(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(On);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Us.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Us.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return ye(this,void 0,void 0,function*(){return yield this.abort(t),On})}return(t){return ye(this,void 0,void 0,function*(){return yield this.close(),On})}read(t){return ye(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return ye(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,i)=>{this.resolvers.push({resolve:n,reject:i})}):Promise.resolve(On)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class tm extends D6{write(t){if((t=Ue(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?B_(this.toUint8Array(!0)):this.toUint8Array(!1).then(B_)}toUint8Array(t=!1){return t?Ba(this._values)[0]:ye(this,void 0,void 0,function*(){var n,i,s,a;const o=[];let l=0;try{for(var u=!0,h=dl(this),f;f=yield h.next(),n=f.done,!n;u=!0){a=f.value,u=!1;const m=a;o.push(m),l+=m.byteLength}}catch(m){i={error:m}}finally{try{!u&&!n&&(s=h.return)&&(yield s.call(h))}finally{if(i)throw i.error}}return Ba(o,l)[0]})}}class Ym{constructor(t){t&&(this.source=new O6(Us.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Jc{constructor(t){t instanceof Jc?this.source=t.source:t instanceof tm?this.source=new Xo(Us.fromAsyncIterable(t)):TA(t)?this.source=new Xo(Us.fromNodeStream(t)):sx(t)?this.source=new Xo(Us.fromDOMStream(t)):EA(t)?this.source=new Xo(Us.fromDOMStream(t.body)):Md(t)?this.source=new Xo(Us.fromIterable(t)):gl(t)?this.source=new Xo(Us.fromAsyncIterable(t)):fu(t)&&(this.source=new Xo(Us.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class O6{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,n="read"){return this.source.next({cmd:n,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||On)}return(t){return Object.create(this.source.return&&this.source.return(t)||On)}}class Xo{constructor(t){this.source=t,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(t){return ye(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return ye(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return ye(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){return ye(this,arguments,void 0,function*(n,i="read"){return yield this.source.next({cmd:i,size:n})})}throw(t){return ye(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(t))||On;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(t){return ye(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(t))||On;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class cT extends Ym{constructor(t,n){super(),this.position=0,this.buffer=Ue(t),this.size=n===void 0?this.buffer.byteLength:n}readInt32(t){const{buffer:n,byteOffset:i}=this.readAt(t,4);return new DataView(n,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:n,size:i,position:s}=this;return n&&s<i?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,s+Math.min(i-s,t)),n.subarray(s,this.position)):null}readAt(t,n){const i=this.buffer,s=Math.min(this.size,t+n);return i?i.subarray(t,s):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Gm extends Jc{constructor(t,n){super(),this.position=0,this._handle=t,typeof n=="number"?this.size=n:this._pending=ye(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return ye(this,void 0,void 0,function*(){const{buffer:n,byteOffset:i}=yield this.readAt(t,4);return new DataView(n,i).getInt32(0,!0)})}seek(t){return ye(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return ye(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:i,position:s}=this;if(n&&s<i){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let a=s,o=0,l=0;const u=Math.min(i,a+Math.min(i-a,t)),h=new Uint8Array(Math.max(0,(this.position=u)-a));for(;(a+=l)<u&&(o+=l)<h.byteLength;)({bytesRead:l}=yield n.read(h,o,h.byteLength-o,a));return h}return null})}readAt(t,n){return ye(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:i,size:s}=this;if(i&&t+n<s){const a=Math.min(s,t+n),o=new Uint8Array(a-t);return(yield i.read(o,0,n,t)).buffer}return new Uint8Array(n)})}close(){return ye(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return ye(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return ye(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const M6=65536;function Dc(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}const tu=8,gx=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class rL{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),i=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let s=n[3]*i[3];this.buffer[0]=s&65535;let a=s>>>16;return s=n[2]*i[3],a+=s,s=n[3]*i[2]>>>0,a+=s,this.buffer[0]+=a<<16,this.buffer[1]=a>>>0<s?M6:0,this.buffer[1]+=a>>>16,this.buffer[1]+=n[1]*i[3]+n[2]*i[2]+n[3]*i[1],this.buffer[1]+=n[0]*i[3]+n[1]*i[2]+n[2]*i[1]+n[3]*i[0]<<16,this}_plus(t){const n=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${Dc(this.buffer[1])} ${Dc(this.buffer[0])}`}}class ln extends rL{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,n=new Uint32Array(2)){return ln.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return ln.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const i=t.length,s=new ln(n);for(let a=0;a<i;){const o=tu<i-a?tu:i-a,l=new ln(new Uint32Array([Number.parseInt(t.slice(a,a+o),10),0])),u=new ln(new Uint32Array([gx[o],0]));s.times(u),s.plus(l),a+=o}return s}static convertArray(t){const n=new Uint32Array(t.length*2);for(let i=-1,s=t.length;++i<s;)ln.from(t[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(t,n){return new ln(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new ln(new Uint32Array(t.buffer)).plus(n)}}class ns extends rL{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const n=this.buffer[1]<<0,i=t.buffer[1]<<0;return n<i||n===i&&this.buffer[0]<t.buffer[0]}static from(t,n=new Uint32Array(2)){return ns.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return ns.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const i=t.startsWith("-"),s=t.length,a=new ns(n);for(let o=i?1:0;o<s;){const l=tu<s-o?tu:s-o,u=new ns(new Uint32Array([Number.parseInt(t.slice(o,o+l),10),0])),h=new ns(new Uint32Array([gx[l],0]));a.times(h),a.plus(u),o+=l}return i?a.negate():a}static convertArray(t){const n=new Uint32Array(t.length*2);for(let i=-1,s=t.length;++i<s;)ns.from(t[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(t,n){return new ns(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new ns(new Uint32Array(t.buffer)).plus(n)}}class ka{constructor(t){this.buffer=t}high(){return new ns(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new ns(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const n=new ln(new Uint32Array([this.buffer[3],0])),i=new ln(new Uint32Array([this.buffer[2],0])),s=new ln(new Uint32Array([this.buffer[1],0])),a=new ln(new Uint32Array([this.buffer[0],0])),o=new ln(new Uint32Array([t.buffer[3],0])),l=new ln(new Uint32Array([t.buffer[2],0])),u=new ln(new Uint32Array([t.buffer[1],0])),h=new ln(new Uint32Array([t.buffer[0],0]));let f=ln.multiply(a,h);this.buffer[0]=f.low();const m=new ln(new Uint32Array([f.high(),0]));return f=ln.multiply(s,h),m.plus(f),f=ln.multiply(a,u),m.plus(f),this.buffer[1]=m.low(),this.buffer[3]=m.lessThan(f)?1:0,this.buffer[2]=m.high(),new ln(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ln.multiply(i,h)).plus(ln.multiply(s,u)).plus(ln.multiply(a,l)),this.buffer[3]+=ln.multiply(n,h).plus(ln.multiply(i,u)).plus(ln.multiply(s,l)).plus(ln.multiply(a,o)).low(),this}plus(t){const n=new Uint32Array(4);return n[3]=this.buffer[3]+t.buffer[3]>>>0,n[2]=this.buffer[2]+t.buffer[2]>>>0,n[1]=this.buffer[1]+t.buffer[1]>>>0,n[0]=this.buffer[0]+t.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${Dc(this.buffer[3])} ${Dc(this.buffer[2])} ${Dc(this.buffer[1])} ${Dc(this.buffer[0])}`}static multiply(t,n){return new ka(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new ka(new Uint32Array(t.buffer)).plus(n)}static from(t,n=new Uint32Array(4)){return ka.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(4)){return ka.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(4)){const i=t.startsWith("-"),s=t.length,a=new ka(n);for(let o=i?1:0;o<s;){const l=tu<s-o?tu:s-o,u=new ka(new Uint32Array([Number.parseInt(t.slice(o,o+l),10),0,0,0])),h=new ka(new Uint32Array([gx[l],0,0,0]));a.times(h),a.plus(u),o+=l}return i?a.negate():a}static convertArray(t){const n=new Uint32Array(t.length*4);for(let i=-1,s=t.length;++i<s;)ka.from(t[i],new Uint32Array(n.buffer,n.byteOffset+16*i,4));return n}}class oL extends Ae{constructor(t,n,i,s,a=$n.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=n,this.buffers=i,this.dictionaries=s,this.metadataVersion=a}visit(t){return super.visit(t instanceof Tn?t.type:t)}visitNull(t,{length:n}=this.nextFieldNode()){return De({type:t,length:n})}visitBool(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeUtf8(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return this.metadataVersion<$n.V5&&this.readNullBitmap(t,i),t.mode===Oi.Sparse?this.visitSparseUnion(t,{length:n,nullCount:i}):this.visitDenseUnion(t,{length:n,nullCount:i})}visitDenseUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDuration(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t,{length:n,nullCount:i}=this.nextFieldNode()){return De({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,n,i=this.nextBufferRange()){return n>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,n){return this.readData(t,n)}readTypeIds(t,n){return this.readData(t,n)}readData(t,{length:n,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+n)}readDictionary(t){return this.dictionaries.get(t.id)}}class N6 extends oL{constructor(t,n,i,s,a){super(new Uint8Array(0),n,i,s,a),this.sources=t}readNullBitmap(t,n,{offset:i}=this.nextBufferRange()){return n<=0?new Uint8Array(0):$m(this.sources[i])}readOffsets(t,{offset:n}=this.nextBufferRange()){return cn(Uint8Array,cn(t.OffsetArrayType,this.sources[n]))}readTypeIds(t,{offset:n}=this.nextBufferRange()){return cn(Uint8Array,cn(t.ArrayType,this.sources[n]))}readData(t,{offset:n}=this.nextBufferRange()){const{sources:i}=this;return jt.isTimestamp(t)||(jt.isInt(t)||jt.isTime(t))&&t.bitWidth===64||jt.isDuration(t)||jt.isDate(t)&&t.unit===Hs.MILLISECOND?cn(Uint8Array,ns.convertArray(i[n])):jt.isDecimal(t)?cn(Uint8Array,ka.convertArray(i[n])):jt.isBinary(t)||jt.isLargeBinary(t)||jt.isFixedSizeBinary(t)?I6(i[n]):jt.isBool(t)?$m(i[n]):jt.isUtf8(t)||jt.isLargeUtf8(t)?ix(i[n].join("")):cn(Uint8Array,cn(t.ArrayType,i[n].map(s=>+s)))}}function I6(e){const t=e.join(""),n=new Uint8Array(t.length/2);for(let i=0;i<t.length;i+=2)n[i>>1]=Number.parseInt(t.slice(i,i+2),16);return n}class ie extends Ae{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((i,s)=>this.compareFields(i,n[s]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Yi(e,t){return t instanceof e.constructor}function Cl(e,t){return e===t||Yi(e,t)}function Rr(e,t){return e===t||Yi(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function Wg(e,t){return e===t||Yi(e,t)&&e.precision===t.precision}function B6(e,t){return e===t||Yi(e,t)&&e.byteWidth===t.byteWidth}function yx(e,t){return e===t||Yi(e,t)&&e.unit===t.unit}function Nd(e,t){return e===t||Yi(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function Id(e,t){return e===t||Yi(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function F6(e,t){return e===t||Yi(e,t)&&e.children.length===t.children.length&&xo.compareManyFields(e.children,t.children)}function U6(e,t){return e===t||Yi(e,t)&&e.children.length===t.children.length&&xo.compareManyFields(e.children,t.children)}function bx(e,t){return e===t||Yi(e,t)&&e.mode===t.mode&&e.typeIds.every((n,i)=>n===t.typeIds[i])&&xo.compareManyFields(e.children,t.children)}function q6(e,t){return e===t||Yi(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&xo.visit(e.indices,t.indices)&&xo.visit(e.dictionary,t.dictionary)}function _x(e,t){return e===t||Yi(e,t)&&e.unit===t.unit}function Bd(e,t){return e===t||Yi(e,t)&&e.unit===t.unit}function z6(e,t){return e===t||Yi(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&xo.compareManyFields(e.children,t.children)}function P6(e,t){return e===t||Yi(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&xo.compareManyFields(e.children,t.children)}ie.prototype.visitNull=Cl;ie.prototype.visitBool=Cl;ie.prototype.visitInt=Rr;ie.prototype.visitInt8=Rr;ie.prototype.visitInt16=Rr;ie.prototype.visitInt32=Rr;ie.prototype.visitInt64=Rr;ie.prototype.visitUint8=Rr;ie.prototype.visitUint16=Rr;ie.prototype.visitUint32=Rr;ie.prototype.visitUint64=Rr;ie.prototype.visitFloat=Wg;ie.prototype.visitFloat16=Wg;ie.prototype.visitFloat32=Wg;ie.prototype.visitFloat64=Wg;ie.prototype.visitUtf8=Cl;ie.prototype.visitLargeUtf8=Cl;ie.prototype.visitBinary=Cl;ie.prototype.visitLargeBinary=Cl;ie.prototype.visitFixedSizeBinary=B6;ie.prototype.visitDate=yx;ie.prototype.visitDateDay=yx;ie.prototype.visitDateMillisecond=yx;ie.prototype.visitTimestamp=Nd;ie.prototype.visitTimestampSecond=Nd;ie.prototype.visitTimestampMillisecond=Nd;ie.prototype.visitTimestampMicrosecond=Nd;ie.prototype.visitTimestampNanosecond=Nd;ie.prototype.visitTime=Id;ie.prototype.visitTimeSecond=Id;ie.prototype.visitTimeMillisecond=Id;ie.prototype.visitTimeMicrosecond=Id;ie.prototype.visitTimeNanosecond=Id;ie.prototype.visitDecimal=Cl;ie.prototype.visitList=F6;ie.prototype.visitStruct=U6;ie.prototype.visitUnion=bx;ie.prototype.visitDenseUnion=bx;ie.prototype.visitSparseUnion=bx;ie.prototype.visitDictionary=q6;ie.prototype.visitInterval=_x;ie.prototype.visitIntervalDayTime=_x;ie.prototype.visitIntervalYearMonth=_x;ie.prototype.visitDuration=Bd;ie.prototype.visitDurationSecond=Bd;ie.prototype.visitDurationMillisecond=Bd;ie.prototype.visitDurationMicrosecond=Bd;ie.prototype.visitDurationNanosecond=Bd;ie.prototype.visitFixedSizeList=z6;ie.prototype.visitMap=P6;const xo=new ie;function Y_(e,t){return xo.compareSchemas(e,t)}function j0(e,t){return $6(e,t.map(n=>n.data.concat()))}function $6(e,t){const n=[...e.fields],i=[],s={numBatches:t.reduce((m,g)=>Math.max(m,g.length),0)};let a=0,o=0,l=-1;const u=t.length;let h,f=[];for(;s.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,l=-1;++l<u;)f[l]=h=t[l].shift(),o=Math.min(o,h?h.length:o);Number.isFinite(o)&&(f=H6(n,o,f,t,s),o>0&&(i[a++]=De({type:new qi(n),length:o,nullCount:0,children:f.slice()})))}return[e=e.assign(n),i.map(m=>new ss(e,m))]}function H6(e,t,n,i,s){var a;const o=(t+63&-64)>>3;for(let l=-1,u=i.length;++l<u;){const h=n[l],f=h?.length;if(f>=t)f===t?n[l]=h:(n[l]=h.slice(0,t),s.numBatches=Math.max(s.numBatches,i[l].unshift(h.slice(t,f-t))));else{const m=e[l];e[l]=m.clone({nullable:!0}),n[l]=(a=h?._changeLengthAndBackfillNullBitmap(t))!==null&&a!==void 0?a:De({type:m.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var lL;class Ui{constructor(...t){var n,i;if(t.length===0)return this.batches=[],this.schema=new Ke([]),this._offsets=[0],this;let s,a;t[0]instanceof Ke&&(s=t.shift()),t.at(-1)instanceof Uint32Array&&(a=t.pop());const o=u=>{if(u){if(u instanceof ss)return[u];if(u instanceof Ui)return u.batches;if(u instanceof on){if(u.type instanceof qi)return[new ss(new Ke(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(h=>o(h));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(h=>o(h));if(typeof u=="object"){const h=Object.keys(u),f=h.map(y=>new Qe([u[y]])),m=s??new Ke(h.map((y,_)=>new Tn(String(y),f[_].type,f[_].nullable))),[,g]=j0(m,f);return g.length===0?[new ss(u)]:g}}}return[]},l=t.flatMap(u=>o(u));if(s=(i=s??((n=l[0])===null||n===void 0?void 0:n.schema))!==null&&i!==void 0?i:new Ke([]),!(s instanceof Ke))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of l){if(!(u instanceof ss))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Y_(s,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=l,this._offsets=a??KR(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=QR(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}at(t){return this.get(ux(t,this.numRows))}set(t,n){}indexOf(t,n){return-1}[Symbol.iterator](){return this.batches.length>0?px.visit(new Qe(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,i=this.data.concat(t.flatMap(({data:s})=>s));return new Ui(n,i.map(s=>new ss(n,s)))}slice(t,n){const i=this.schema;[t,n]=XR({length:this.numRows},t,n);const s=JR(this.data,this._offsets,t,n);return new Ui(i,s.map(a=>new ss(i,a)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(i=>i.children[t]);if(n.length===0){const{type:i}=this.schema.fields[t],s=De({type:i,length:0,nullCount:0});n.push(s._changeLengthAndBackfillNullBitmap(this.numRows))}return new Qe(n)}return null}setChild(t,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(s=>s.name===t),n)}setChildAt(t,n){let i=this.schema,s=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Qe([De({type:new _o,length:this.numRows})]));const a=i.fields.slice(),o=a[t].clone({type:n.type}),l=this.schema.fields.map((u,h)=>this.getChildAt(h));[a[t],l[t]]=[o,n],[i,s]=j0(i,l)}return new Ui(i,s)}select(t){const n=this.schema.fields.reduce((i,s,a)=>i.set(s.name,a),new Map);return this.selectAt(t.map(i=>n.get(i)).filter(i=>i>-1))}selectAt(t){const n=this.schema.selectAt(t),i=this.batches.map(s=>s.selectAt(t));return new Ui(n,i)}assign(t){const n=this.schema.fields,[i,s]=t.schema.fields.reduce((l,u,h)=>{const[f,m]=l,g=n.findIndex(y=>y.name===u.name);return~g?m[g]=h:f.push(h),l},[[],[]]),a=this.schema.assign(t.schema),o=[...n.map((l,u)=>[u,s[u]]).map(([l,u])=>u===void 0?this.getChildAt(l):t.getChildAt(u)),...i.map(l=>t.getChildAt(l))].filter(Boolean);return new Ui(...j0(a,o))}}lL=Symbol.toStringTag;Ui[lL]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Hm(fx),e.get=Hm(us.getVisitFn(K.Struct)),e.set=tL(js.getVisitFn(K.Struct)),e.indexOf=eL(jm.getVisitFn(K.Struct)),"Table"))(Ui.prototype);var cL;let ss=class Fh{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Ke))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=De({nullCount:0,type:new qi(this.schema.fields),children:this.schema.fields.map(n=>De({type:n.type,nullCount:0}))})]=t,!(this.data instanceof on))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=uT(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:i,children:s,length:a}=Object.keys(n).reduce((u,h,f)=>(u.children[f]=n[h],u.length=Math.max(u.length,n[h].length),u.fields[f]=Tn.new({name:h,type:n[h].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new Ke(i),l=De({type:new qi(i),length:a,children:s,nullCount:0});[this.schema,this.data]=uT(o,l.children,a);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=uL(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return us.visit(this.data,t)}at(t){return this.get(ux(t,this.numRows))}set(t,n){return js.visit(this.data,t,n)}indexOf(t,n){return jm.visit(this.data,t,n)}[Symbol.iterator](){return px.visit(new Qe([this.data]))}toArray(){return[...this]}concat(...t){return new Ui(this.schema,[this,...t])}slice(t,n){const[i]=new Qe([this.data]).slice(t,n).data;return new Fh(this.schema,i)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Qe([this.data.children[t]]):null}setChild(t,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(s=>s.name===t),n)}setChildAt(t,n){let i=this.schema,s=this.data;if(t>-1&&t<this.numCols){n||(n=new Qe([De({type:new _o,length:this.numRows})]));const a=i.fields.slice(),o=s.children.slice(),l=a[t].clone({type:n.type});[a[t],o[t]]=[l,n.data[0]],i=new Ke(a,new Map(this.schema.metadata)),s=De({type:new qi(a),children:o})}return new Fh(i,s)}select(t){const n=this.schema.select(t),i=new qi(n.fields),s=[];for(const a of t){const o=this.schema.fields.findIndex(l=>l.name===a);~o&&(s[o]=this.data.children[o])}return new Fh(n,De({type:i,length:this.numRows,children:s}))}selectAt(t){const n=this.schema.selectAt(t),i=t.map(a=>this.data.children[a]).filter(Boolean),s=De({type:new qi(n.fields),length:this.numRows,children:i});return new Fh(n,s)}};cL=Symbol.toStringTag;ss[cL]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(ss.prototype);function uT(e,t,n=t.reduce((i,s)=>Math.max(i,s.length),0)){var i;const s=[...e.fields],a=[...t],o=(n+63&-64)>>3;for(const[l,u]of e.fields.entries()){const h=t[l];(!h||h.length!==n)&&(s[l]=u.clone({nullable:!0}),a[l]=(i=h?._changeLengthAndBackfillNullBitmap(n))!==null&&i!==void 0?i:De({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(s),De({type:new qi(s),length:n,children:a})]}function uL(e,t,n=new Map){var i,s;if(((i=e?.length)!==null&&i!==void 0?i:0)>0&&e?.length===t?.length)for(let a=-1,o=e.length;++a<o;){const{type:l}=e[a],u=t[a];for(const h of[u,...((s=u?.dictionary)===null||s===void 0?void 0:s.data)||[]])uL(l.children,h?.children,n);if(jt.isDictionary(l)){const{id:h}=l;if(!n.has(h))u?.dictionary&&n.set(h,u.dictionary);else if(n.get(h)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class vx extends ss{constructor(t){const n=t.fields.map(s=>De({type:s.type})),i=De({type:new qi(t.fields),nullCount:0,children:n});super(t,i)}}let no=class va{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new va).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+nn),(n||new va).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):$n.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):je.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new ii).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,$n.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,je.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,i,s,a,o){return va.startMessage(t),va.addVersion(t,n),va.addHeaderType(t,i),va.addHeader(t,s),va.addBodyLength(t,a),va.addCustomMetadata(t,o),va.endMessage(t)}};class j6 extends Ae{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return eT.startNull(n),eT.endNull(n)}visitInt(t,n){return xs.startInt(n),xs.addBitWidth(n,t.bitWidth),xs.addIsSigned(n,t.isSigned),xs.endInt(n)}visitFloat(t,n){return La.startFloatingPoint(n),La.addPrecision(n,t.precision),La.endFloatingPoint(n)}visitBinary(t,n){return ZE.startBinary(n),ZE.endBinary(n)}visitLargeBinary(t,n){return KE.startLargeBinary(n),KE.endLargeBinary(n)}visitBool(t,n){return QE.startBool(n),QE.endBool(n)}visitUtf8(t,n){return nT.startUtf8(n),nT.endUtf8(n)}visitLargeUtf8(t,n){return JE.startLargeUtf8(n),JE.endLargeUtf8(n)}visitDecimal(t,n){return xc.startDecimal(n),xc.addScale(n,t.scale),xc.addPrecision(n,t.precision),xc.addBitWidth(n,t.bitWidth),xc.endDecimal(n)}visitDate(t,n){return Vp.startDate(n),Vp.addUnit(n,t.unit),Vp.endDate(n)}visitTime(t,n){return qs.startTime(n),qs.addUnit(n,t.unit),qs.addBitWidth(n,t.bitWidth),qs.endTime(n)}visitTimestamp(t,n){const i=t.timezone&&n.createString(t.timezone)||void 0;return zs.startTimestamp(n),zs.addUnit(n,t.unit),i!==void 0&&zs.addTimezone(n,i),zs.endTimestamp(n)}visitInterval(t,n){return Da.startInterval(n),Da.addUnit(n,t.unit),Da.endInterval(n)}visitDuration(t,n){return Xp.startDuration(n),Xp.addUnit(n,t.unit),Xp.endDuration(n)}visitList(t,n){return tT.startList(n),tT.endList(n)}visitStruct(t,n){return al.startStruct_(n),al.endStruct_(n)}visitUnion(t,n){is.startTypeIdsVector(n,t.typeIds.length);const i=is.createTypeIdsVector(n,t.typeIds);return is.startUnion(n),is.addMode(n,t.mode),is.addTypeIds(n,i),is.endUnion(n)}visitDictionary(t,n){const i=this.visit(t.indices,n);return xr.startDictionaryEncoding(n),xr.addId(n,BigInt(t.id)),xr.addIsOrdered(n,t.isOrdered),i!==void 0&&xr.addIndexType(n,i),xr.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Zp.startFixedSizeBinary(n),Zp.addByteWidth(n,t.byteWidth),Zp.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Qp.startFixedSizeList(n),Qp.addListSize(n,t.listSize),Qp.endFixedSizeList(n)}visitMap(t,n){return Kp.startMap(n),Kp.addKeysSorted(n,t.keysSorted),Kp.endMap(n)}}const W0=new j6;function W6(e,t=new Map){return new Ke(G6(e,t),em(e.metadata),t)}function hL(e){return new ws(e.count,dL(e.columns),fL(e.columns))}function Y6(e){return new Ua(hL(e.data),e.id,e.isDelta)}function G6(e,t){return(e.fields||[]).filter(Boolean).map(n=>Tn.fromJSON(n,t))}function hT(e,t){return(e.children||[]).filter(Boolean).map(n=>Tn.fromJSON(n,t))}function dL(e){return(e||[]).reduce((t,n)=>[...t,new wo(n.count,V6(n.VALIDITY)),...dL(n.children)],[])}function fL(e,t=[]){for(let n=-1,i=(e||[]).length;++n<i;){const s=e[n];s.VALIDITY&&t.push(new Ma(t.length,s.VALIDITY.length)),s.TYPE_ID&&t.push(new Ma(t.length,s.TYPE_ID.length)),s.OFFSET&&t.push(new Ma(t.length,s.OFFSET.length)),s.DATA&&t.push(new Ma(t.length,s.DATA.length)),t=fL(s.children,t)}return t}function V6(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function X6(e,t){let n,i,s,a,o,l;return!t||!(a=e.dictionary)?(o=fT(e,hT(e,t)),s=new Tn(e.name,o,e.nullable,em(e.metadata))):t.has(n=a.id)?(i=(i=a.indexType)?dT(i):new ud,l=new Kc(t.get(n),i,n,a.isOrdered),s=new Tn(e.name,l,e.nullable,em(e.metadata))):(i=(i=a.indexType)?dT(i):new ud,t.set(n,o=fT(e,hT(e,t))),l=new Kc(o,i,n,a.isOrdered),s=new Tn(e.name,l,e.nullable,em(e.metadata))),s||null}function em(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function dT(e){return new yl(e.isSigned,e.bitWidth)}function fT(e,t){const n=e.type.name;switch(n){case"NONE":return new _o;case"null":return new _o;case"binary":return new Tm;case"largebinary":return new km;case"utf8":return new Cm;case"largeutf8":return new Am;case"bool":return new Rm;case"list":return new Bm((t||[])[0]);case"struct":return new qi(t||[]);case"struct_":return new qi(t||[])}switch(n){case"int":{const i=e.type;return new yl(i.isSigned,i.bitWidth)}case"floatingpoint":{const i=e.type;return new Em(Ai[i.precision])}case"decimal":{const i=e.type;return new Lm(i.scale,i.precision,i.bitWidth)}case"date":{const i=e.type;return new Dm(Hs[i.unit])}case"time":{const i=e.type;return new Om(re[i.unit],i.bitWidth)}case"timestamp":{const i=e.type;return new Mm(re[i.unit],i.timezone)}case"interval":{const i=e.type;return new Nm(Fa[i.unit])}case"duration":{const i=e.type;return new Im(re[i.unit])}case"union":{const i=e.type,[s,...a]=(i.mode+"").toLowerCase(),o=s.toUpperCase()+a.join("");return new Fm(Oi[o],i.typeIds||[],t||[])}case"fixedsizebinary":{const i=e.type;return new Um(i.byteWidth)}case"fixedsizelist":{const i=e.type;return new qm(i.listSize,(t||[])[0])}case"map":{const i=e.type;return new zm((t||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Z6=RA,Q6=Zc;class zi{static fromJSON(t,n){const i=new zi(0,$n.V5,n);return i._createHeader=K6(t,n),i}static decode(t){t=new Q6(Ue(t));const n=no.getRootAsMessage(t),i=n.bodyLength(),s=n.version(),a=n.headerType(),o=new zi(i,s,a);return o._createHeader=J6(n,a),o}static encode(t){const n=new Z6;let i=-1;return t.isSchema()?i=Ke.encode(n,t.header()):t.isRecordBatch()?i=ws.encode(n,t.header()):t.isDictionaryBatch()&&(i=Ua.encode(n,t.header())),no.startMessage(n),no.addVersion(n,$n.V5),no.addHeader(n,i),no.addHeaderType(n,t.headerType),no.addBodyLength(n,BigInt(t.bodyLength)),no.finishMessageBuffer(n,no.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Ke)return new zi(0,$n.V5,je.Schema,t);if(t instanceof ws)return new zi(n,$n.V5,je.RecordBatch,t);if(t instanceof Ua)return new zi(n,$n.V5,je.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===je.Schema}isRecordBatch(){return this.headerType===je.RecordBatch}isDictionaryBatch(){return this.headerType===je.DictionaryBatch}constructor(t,n,i,s){this._version=n,this._headerType=i,this.body=new Uint8Array(0),s&&(this._createHeader=()=>s),this._bodyLength=yn(t)}}class ws{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,i){this._nodes=n,this._buffers=i,this._length=yn(t)}}class Ua{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,i=!1){this._data=t,this._isDelta=i,this._id=yn(n)}}class Ma{constructor(t,n){this.offset=yn(t),this.length=yn(n)}}class wo{constructor(t,n){this.length=yn(t),this.nullCount=yn(n)}}function K6(e,t){return(()=>{switch(t){case je.Schema:return Ke.fromJSON(e);case je.RecordBatch:return ws.fromJSON(e);case je.DictionaryBatch:return Ua.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${je[t]}, type: ${t} }`)})}function J6(e,t){return(()=>{switch(t){case je.Schema:return Ke.decode(e.header(new Ta),new Map,e.version());case je.RecordBatch:return ws.decode(e.header(new gr),e.version());case je.DictionaryBatch:return Ua.decode(e.header(new _c),e.version())}throw new Error(`Unrecognized Message type: { name: ${je[t]}, type: ${t} }`)})}Tn.encode=uU;Tn.decode=lU;Tn.fromJSON=X6;Ke.encode=cU;Ke.decode=tU;Ke.fromJSON=W6;ws.encode=hU;ws.decode=eU;ws.fromJSON=hL;Ua.encode=dU;Ua.decode=nU;Ua.fromJSON=Y6;wo.encode=fU;wo.decode=sU;Ma.encode=pU;Ma.decode=iU;function tU(e,t=new Map,n=$n.V5){const i=oU(e,t);return new Ke(i,nm(e),t,n)}function eU(e,t=$n.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new ws(e.length(),aU(e),rU(e,t))}function nU(e,t=$n.V5){return new Ua(ws.decode(e.data(),t),e.id(),e.isDelta())}function iU(e){return new Ma(e.offset(),e.length())}function sU(e){return new wo(e.length(),e.nullCount())}function aU(e){const t=[];for(let n,i=-1,s=-1,a=e.nodesLength();++i<a;)(n=e.nodes(i))&&(t[++s]=wo.decode(n));return t}function rU(e,t){const n=[];for(let i,s=-1,a=-1,o=e.buffersLength();++s<o;)(i=e.buffers(s))&&(t<$n.V4&&(i.bb_pos+=8*(s+1)),n[++a]=Ma.decode(i));return n}function oU(e,t){const n=[];for(let i,s=-1,a=-1,o=e.fieldsLength();++s<o;)(i=e.fields(s))&&(n[++a]=Tn.decode(i,t));return n}function pT(e,t){const n=[];for(let i,s=-1,a=-1,o=e.childrenLength();++s<o;)(i=e.children(s))&&(n[++a]=Tn.decode(i,t));return n}function lU(e,t){let n,i,s,a,o,l;return!t||!(l=e.dictionary())?(s=gT(e,pT(e,t)),i=new Tn(e.name(),s,e.nullable(),nm(e))):t.has(n=yn(l.id()))?(a=(a=l.indexType())?mT(a):new ud,o=new Kc(t.get(n),a,n,l.isOrdered()),i=new Tn(e.name(),o,e.nullable(),nm(e))):(a=(a=l.indexType())?mT(a):new ud,t.set(n,s=gT(e,pT(e,t))),o=new Kc(s,a,n,l.isOrdered()),i=new Tn(e.name(),o,e.nullable(),nm(e))),i||null}function nm(e){const t=new Map;if(e)for(let n,i,s=-1,a=Math.trunc(e.customMetadataLength());++s<a;)(n=e.customMetadata(s))&&(i=n.key())!=null&&t.set(i,n.value());return t}function mT(e){return new yl(e.isSigned(),e.bitWidth())}function gT(e,t){const n=e.typeType();switch(n){case vn.NONE:return new _o;case vn.Null:return new _o;case vn.Binary:return new Tm;case vn.LargeBinary:return new km;case vn.Utf8:return new Cm;case vn.LargeUtf8:return new Am;case vn.Bool:return new Rm;case vn.List:return new Bm((t||[])[0]);case vn.Struct_:return new qi(t||[])}switch(n){case vn.Int:{const i=e.type(new xs);return new yl(i.isSigned(),i.bitWidth())}case vn.FloatingPoint:{const i=e.type(new La);return new Em(i.precision())}case vn.Decimal:{const i=e.type(new xc);return new Lm(i.scale(),i.precision(),i.bitWidth())}case vn.Date:{const i=e.type(new Vp);return new Dm(i.unit())}case vn.Time:{const i=e.type(new qs);return new Om(i.unit(),i.bitWidth())}case vn.Timestamp:{const i=e.type(new zs);return new Mm(i.unit(),i.timezone())}case vn.Interval:{const i=e.type(new Da);return new Nm(i.unit())}case vn.Duration:{const i=e.type(new Xp);return new Im(i.unit())}case vn.Union:{const i=e.type(new is);return new Fm(i.mode(),i.typeIdsArray()||[],t||[])}case vn.FixedSizeBinary:{const i=e.type(new Zp);return new Um(i.byteWidth())}case vn.FixedSizeList:{const i=e.type(new Qp);return new qm(i.listSize(),(t||[])[0])}case vn.Map:{const i=e.type(new Kp);return new zm((t||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${vn[n]}" (${n})`)}function cU(e,t){const n=t.fields.map(a=>Tn.encode(e,a));Ta.startFieldsVector(e,n.length);const i=Ta.createFieldsVector(e,n),s=t.metadata&&t.metadata.size>0?Ta.createCustomMetadataVector(e,[...t.metadata].map(([a,o])=>{const l=e.createString(`${a}`),u=e.createString(`${o}`);return ii.startKeyValue(e),ii.addKey(e,l),ii.addValue(e,u),ii.endKeyValue(e)})):-1;return Ta.startSchema(e),Ta.addFields(e,i),Ta.addEndianness(e,mU?Qc.Little:Qc.Big),s!==-1&&Ta.addCustomMetadata(e,s),Ta.endSchema(e)}function uU(e,t){let n=-1,i=-1,s=-1;const a=t.type;let o=t.typeId;jt.isDictionary(a)?(o=a.dictionary.typeId,s=W0.visit(a,e),i=W0.visit(a.dictionary,e)):i=W0.visit(a,e);const l=(a.children||[]).map(f=>Tn.encode(e,f)),u=Fs.createChildrenVector(e,l),h=t.metadata&&t.metadata.size>0?Fs.createCustomMetadataVector(e,[...t.metadata].map(([f,m])=>{const g=e.createString(`${f}`),y=e.createString(`${m}`);return ii.startKeyValue(e),ii.addKey(e,g),ii.addValue(e,y),ii.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Fs.startField(e),Fs.addType(e,i),Fs.addTypeType(e,o),Fs.addChildren(e,u),Fs.addNullable(e,!!t.nullable),n!==-1&&Fs.addName(e,n),s!==-1&&Fs.addDictionary(e,s),h!==-1&&Fs.addCustomMetadata(e,h),Fs.endField(e)}function hU(e,t){const n=t.nodes||[],i=t.buffers||[];gr.startNodesVector(e,n.length);for(const o of n.slice().reverse())wo.encode(e,o);const s=e.endVector();gr.startBuffersVector(e,i.length);for(const o of i.slice().reverse())Ma.encode(e,o);const a=e.endVector();return gr.startRecordBatch(e),gr.addLength(e,BigInt(t.length)),gr.addNodes(e,s),gr.addBuffers(e,a),gr.endRecordBatch(e)}function dU(e,t){const n=ws.encode(e,t.data);return _c.startDictionaryBatch(e),_c.addId(e,BigInt(t.id)),_c.addIsDelta(e,t.isDelta),_c.addData(e,n),_c.endDictionaryBatch(e)}function fU(e,t){return OA.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function pU(e,t){return DA.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const mU=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),xx=e=>`Expected ${je[e]} Message in stream, but was null or length 0.`,wx=e=>`Header pointer of flatbuffer-encoded ${je[e]} Message is null or length 0.`,pL=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,mL=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`;class gL{constructor(t){this.source=t instanceof Ym?t:new Ym(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?On:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(xx(t));return n.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const n=Ue(this.source.read(t));if(n.byteLength<t)throw new Error(mL(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(t=!1){const n=je.Schema,i=this.readMessage(n),s=i?.header();if(t&&!s)throw new Error(wx(n));return s}readMetadataLength(){const t=this.source.read(Yg),n=t&&new Zc(t),i=n?.readInt32(0)||0;return{done:i===0,value:i}}readMetadata(t){const n=this.source.read(t);if(!n)return On;if(n.byteLength<t)throw new Error(pL(t,n.byteLength));return{done:!1,value:zi.decode(n)}}}class gU{constructor(t,n){this.source=t instanceof Jc?t:SA(t)?new Gm(t,n):new Jc(t)}[Symbol.asyncIterator](){return this}next(){return ye(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?On:t})}throw(t){return ye(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return ye(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return ye(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(xx(t));return n.value})}readMessageBody(t){return ye(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const n=Ue(yield this.source.read(t));if(n.byteLength<t)throw new Error(mL(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return ye(this,arguments,void 0,function*(t=!1){const n=je.Schema,i=yield this.readMessage(n),s=i?.header();if(t&&!s)throw new Error(wx(n));return s})}readMetadataLength(){return ye(this,void 0,void 0,function*(){const t=yield this.source.read(Yg),n=t&&new Zc(t),i=n?.readInt32(0)||0;return{done:i===0,value:i}})}readMetadata(t){return ye(this,void 0,void 0,function*(){const n=yield this.source.read(t);if(!n)return On;if(n.byteLength<t)throw new Error(pL(t,n.byteLength));return{done:!1,value:zi.decode(n)}})}}class yU extends gL{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof lT?t:new lT(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:zi.fromJSON(t.schema,je.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const n=t.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:zi.fromJSON(n,je.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const n=t.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:zi.fromJSON(n,je.RecordBatch)}}return this._body=[],On}readMessageBody(t){return n(this._body);function n(i){return(i||[]).reduce((s,a)=>[...s,...a.VALIDITY&&[a.VALIDITY]||[],...a.TYPE_ID&&[a.TYPE_ID]||[],...a.OFFSET&&[a.OFFSET]||[],...a.DATA&&[a.DATA]||[],...n(a.children)],[])}}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(xx(t));return n.value}readSchema(){const t=je.Schema,n=this.readMessage(t),i=n?.header();if(!n||!i)throw new Error(wx(t));return i}}const Yg=4,G_="ARROW1",dd=new Uint8Array(G_.length);for(let e=0;e<G_.length;e+=1)dd[e]=G_.codePointAt(e);function Sx(e,t=0){for(let n=-1,i=dd.length;++n<i;)if(dd[n]!==e[t+n])return!1;return!0}const Fd=dd.length,yL=Fd+Yg,bU=Fd*2+Yg;class $s extends mx{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const n=this._impl.open(t);return gl(n)?n.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Us.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Us.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof $s?t:F_(t)?wU(t):SA(t)?TU(t):gl(t)?ye(this,void 0,void 0,function*(){return yield $s.from(yield t)}):EA(t)||sx(t)||TA(t)||fu(t)?EU(new Jc(t)):SU(new Ym(t))}static readAll(t){return t instanceof $s?t.isSync()?yT(t):bT(t):F_(t)||ArrayBuffer.isView(t)||Md(t)||wA(t)?yT(t):bT(t)}}class Vm extends $s{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Oa(this,arguments,function*(){yield Ee(yield*Gp(dl(this[Symbol.iterator]())))})}}class Xm extends $s{constructor(t){super(t),this._impl=t}readAll(){return ye(this,void 0,void 0,function*(){var t,n,i,s;const a=new Array;try{for(var o=!0,l=dl(this),u;u=yield l.next(),t=u.done,!t;o=!0){s=u.value,o=!1;const h=s;a.push(h)}}catch(h){n={error:h}}finally{try{!o&&!t&&(i=l.return)&&(yield i.call(l))}finally{if(n)throw n.error}}return a})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class bL extends Vm{constructor(t){super(t),this._impl=t}}class _U extends Xm{constructor(t){super(t),this._impl=t}}class _L{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,n){const i=this._loadVectors(t,n,this.schema.fields),s=De({type:new qi(this.schema.fields),length:t.length,children:i});return new ss(this.schema,s)}_loadDictionaryBatch(t,n){const{id:i,isDelta:s}=t,{dictionaries:a,schema:o}=this,l=a.get(i),u=o.dictionaries.get(i),h=this._loadVectors(t.data,n,[u]);return(l&&s?l.concat(new Qe(h)):new Qe(h)).memoize()}_loadVectors(t,n,i){return new oL(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(i)}}class Zm extends _L{constructor(t,n){super(n),this._reader=F_(t)?new yU(this._handle=t):new gL(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=xL(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):On}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):On}next(){if(this.closed)return On;let t;const{_reader:n}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),s=n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),s=n.readMessageBody(t.bodyLength),a=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,a)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new vx(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Qm extends _L{constructor(t,n){super(n),this._reader=new gU(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return ye(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return ye(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=xL(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return ye(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):On})}return(t){return ye(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):On})}next(){return ye(this,void 0,void 0,function*(){if(this.closed)return On;let t;const{_reader:n}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),s=yield n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),s=yield n.readMessageBody(t.bodyLength),a=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,a)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new vx(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return ye(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class vL extends Zm{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,n){super(t instanceof cT?t:new cT(t),n)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var n;if(this.closed)return null;this._footer||this.open();const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const s=this._reader.readMessage(je.RecordBatch);if(s?.isRecordBatch()){const a=s.header(),o=this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(a,o)}}return null}_readDictionaryBatch(t){var n;const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const s=this._reader.readMessage(je.DictionaryBatch);if(s?.isDictionaryBatch()){const a=s.header(),o=this._reader.readMessageBody(s.bodyLength),l=this._loadDictionaryBatch(a,o);this.dictionaries.set(a.id,l)}}}_readFooter(){const{_handle:t}=this,n=t.size-yL,i=t.readInt32(n),s=t.readAt(n-i,i);return hd.decode(s)}_readNextMessageAndValidate(t){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class vU extends Qm{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...n){const i=typeof n[0]!="number"?n.shift():void 0,s=n[0]instanceof Map?n.shift():void 0;super(t instanceof Gm?t:new Gm(t,i),s)}isFile(){return!0}isAsync(){return!0}open(t){const n=Object.create(null,{open:{get:()=>super.open}});return ye(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const i of this._footer.dictionaryBatches())i&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,t)})}readRecordBatch(t){return ye(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const s=yield this._reader.readMessage(je.RecordBatch);if(s?.isRecordBatch()){const a=s.header(),o=yield this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(a,o)}}return null})}_readDictionaryBatch(t){return ye(this,void 0,void 0,function*(){var n;const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const s=yield this._reader.readMessage(je.DictionaryBatch);if(s?.isDictionaryBatch()){const a=s.header(),o=yield this._reader.readMessageBody(s.bodyLength),l=this._loadDictionaryBatch(a,o);this.dictionaries.set(a.id,l)}}})}_readFooter(){return ye(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const n=t.size-yL,i=yield t.readInt32(n),s=yield t.readAt(n-i,i);return hd.decode(s)})}_readNextMessageAndValidate(t){return ye(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(t)}return null})}}class xU extends Zm{constructor(t,n){super(t,n)}_loadVectors(t,n,i){return new N6(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(i)}}function xL(e,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:e.autoDestroy}function*yT(e){const t=$s.from(e);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function bT(e){return Oa(this,arguments,function*(){const n=yield Ee($s.from(e));try{if(!(yield Ee(n.open({autoDestroy:!1}))).closed)do yield yield Ee(n);while(!(yield Ee(n.reset().open())).closed)}finally{yield Ee(n.cancel())}})}function wU(e){return new Vm(new xU(e))}function SU(e){const t=e.peek(Fd+7&-8);return t&&t.byteLength>=4?Sx(t)?new bL(new vL(e.read())):new Vm(new Zm(e)):new Vm(new Zm((function*(){})()))}function EU(e){return ye(this,void 0,void 0,function*(){const t=yield e.peek(Fd+7&-8);return t&&t.byteLength>=4?Sx(t)?new bL(new vL(yield e.read())):new Xm(new Qm(e)):new Xm(new Qm((function(){return Oa(this,arguments,function*(){})})()))})}function TU(e){return ye(this,void 0,void 0,function*(){const{size:t}=yield e.stat(),n=new Gm(e,t);return t>=bU&&Sx(yield n.readAt(0,Fd+7&-8))?new _U(new vU(n)):new Xm(new Qm(n))})}class Mn extends Ae{static assemble(...t){const n=s=>s.flatMap(a=>Array.isArray(a)?n(a):a instanceof ss?a.data.children:a.data),i=new Mn;return i.visitMany(n(t)),i}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof Qe)return this.visitMany(t.data),this;const{type:n}=t;if(!jt.isDictionary(n)){const{length:i}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(jt.isUnion(n))this.nodes.push(new wo(i,0));else{const{nullCount:s}=t;jt.isNull(n)||la.call(this,s<=0?new Uint8Array(0):Pm(t.offset,i,t.nullBitmap)),this.nodes.push(new wo(i,s))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function la(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Ma(this._byteLength,t)),this._byteLength+=t,this}function kU(e){var t;const{type:n,length:i,typeIds:s,valueOffsets:a}=e;if(la.call(this,s),n.mode===Oi.Sparse)return V_.call(this,e);if(n.mode===Oi.Dense){if(e.offset<=0)return la.call(this,a),V_.call(this,e);{const o=new Int32Array(i),l=Object.create(null),u=Object.create(null);for(let h,f,m=-1;++m<i;)(h=s[m])!==void 0&&((f=l[h])===void 0&&(f=l[h]=a[m]),o[m]=a[m]-f,u[h]=((t=u[h])!==null&&t!==void 0?t:0)+1);la.call(this,o),this.visitMany(e.children.map((h,f)=>{const m=n.typeIds[f],g=l[m],y=u[m];return h.slice(g,Math.min(i,y))}))}}return this}function CU(e){let t;return e.nullCount>=e.length?la.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?la.call(this,Pm(e.offset,e.length,t)):la.call(this,$m(e.values))}function Lr(e){return la.call(this,e.values.subarray(0,e.length*e.stride))}function Gg(e){const{length:t,values:n,valueOffsets:i}=e,s=yn(i[0]),a=yn(i[t]),o=Math.min(a-s,n.byteLength-s);return la.call(this,CA(-s,t+1,i)),la.call(this,n.subarray(s,s+o)),this}function Ex(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:i,[t]:s}=n;return la.call(this,CA(-i,t+1,n)),this.visit(e.children[0].slice(i,s-i))}return this.visit(e.children[0])}function V_(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Mn.prototype.visitBool=CU;Mn.prototype.visitInt=Lr;Mn.prototype.visitFloat=Lr;Mn.prototype.visitUtf8=Gg;Mn.prototype.visitLargeUtf8=Gg;Mn.prototype.visitBinary=Gg;Mn.prototype.visitLargeBinary=Gg;Mn.prototype.visitFixedSizeBinary=Lr;Mn.prototype.visitDate=Lr;Mn.prototype.visitTimestamp=Lr;Mn.prototype.visitTime=Lr;Mn.prototype.visitDecimal=Lr;Mn.prototype.visitList=Ex;Mn.prototype.visitStruct=V_;Mn.prototype.visitUnion=kU;Mn.prototype.visitInterval=Lr;Mn.prototype.visitDuration=Lr;Mn.prototype.visitFixedSizeList=Ex;Mn.prototype.visitMap=Ex;class wL extends mx{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new tm,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,cs(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return gl(t)?t.then(n=>this.writeAll(n)):fu(t)?Ax(this,t):Cx(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof tm?this._sink=t:(this._sink=new tm,t&&s4(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&a4(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!Y_(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Ui&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof ss&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Y_(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof ss?t instanceof vx||this._writeRecordBatch(t):t instanceof Ui?this.writeAll(t.batches):Md(t)&&this.writeAll(t)}_writeMessage(t,n=8){const i=n-1,s=zi.encode(t),a=s.byteLength,o=this._writeLegacyIpcFormat?4:8,l=a+o+i&~i,u=l-a-o;return t.headerType===je.RecordBatch?this._recordBatchBlocks.push(new vo(l,t.bodyLength,this._position)):t.headerType===je.DictionaryBatch&&this._dictionaryBlocks.push(new vo(l,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(l-o)),a>0&&this._write(s),this._writePadding(u)}_write(t){if(this._started){const n=Ue(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(zi.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(dd)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:i,bufferRegions:s,buffers:a}=Mn.assemble(t),o=new ws(t.numRows,i,s),l=zi.from(o,n);return this._writeDictionaries(t)._writeMessage(l)._writeBodyBuffers(a)}_writeDictionaryBatch(t,n,i=!1){const{byteLength:s,nodes:a,bufferRegions:o,buffers:l}=Mn.assemble(new Qe([t])),u=new ws(t.length,a,o),h=new Ua(u,n,i),f=zi.from(h,s);return this._writeMessage(f)._writeBodyBuffers(l)}_writeBodyBuffers(t){let n,i,s;for(let a=-1,o=t.length;++a<o;)(n=t[a])&&(i=n.byteLength)>0&&(this._write(n),(s=(i+7&-8)-i)>0&&this._writePadding(s));return this}_writeDictionaries(t){var n,i;for(const[s,a]of t.dictionaries){const o=(n=a?.data)!==null&&n!==void 0?n:[],l=this._seenDictionaries.get(s),u=(i=this._dictionaryDeltaOffsets.get(s))!==null&&i!==void 0?i:0;if(!l||l.data[0]!==o[0])for(const[h,f]of o.entries())this._writeDictionaryBatch(f,s,h>0);else if(u<o.length)for(const h of o.slice(u))this._writeDictionaryBatch(h,s,!0);this._seenDictionaries.set(s,a),this._dictionaryDeltaOffsets.set(s,o.length)}return this}}class Tx extends wL{static writeAll(t,n){const i=new Tx(n);return gl(t)?t.then(s=>i.writeAll(s)):fu(t)?Ax(i,t):Cx(i,t)}}class kx extends wL{static writeAll(t){const n=new kx;return gl(t)?t.then(i=>n.writeAll(i)):fu(t)?Ax(n,t):Cx(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(t,n,i=!1){if(!i&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(t,n,i)}_writeFooter(t){const n=hd.encode(new hd(t,$n.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Cx(e,t){let n=t;t instanceof Ui&&(n=t.batches,e.reset(void 0,t.schema));for(const i of n)e.write(i);return e.finish()}function Ax(e,t){return ye(this,void 0,void 0,function*(){var n,i,s,a,o,l,u;try{for(n=!0,i=dl(t);s=yield i.next(),a=s.done,!a;n=!0){u=s.value,n=!1;const h=u;e.write(h)}}catch(h){o={error:h}}finally{try{!n&&!a&&(l=i.return)&&(yield l.call(i))}finally{if(o)throw o.error}}return e.finish()})}function AU(e,t="stream"){return(t==="stream"?Tx:kx).writeAll(e).toUint8Array(!0)}var RU=Object.create,SL=Object.defineProperty,LU=Object.getOwnPropertyDescriptor,DU=Object.getOwnPropertyNames,OU=Object.getPrototypeOf,MU=Object.prototype.hasOwnProperty,NU=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),IU=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of DU(t))!MU.call(e,s)&&s!==n&&SL(e,s,{get:()=>t[s],enumerable:!(i=LU(t,s))||i.enumerable});return e},BU=(e,t,n)=>(n=e!=null?RU(OU(e)):{},IU(!e||!e.__esModule?SL(n,"default",{value:e,enumerable:!0}):n,e)),FU=NU((e,t)=>{t.exports=Worker}),UU=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.AUTOMATIC=1]="AUTOMATIC",e[e.READ_ONLY=2]="READ_ONLY",e[e.READ_WRITE=3]="READ_WRITE",e))(UU||{}),qU=(e=>(e[e.IDENTIFIER=0]="IDENTIFIER",e[e.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",e[e.STRING_CONSTANT=2]="STRING_CONSTANT",e[e.OPERATOR=3]="OPERATOR",e[e.KEYWORD=4]="KEYWORD",e[e.COMMENT=5]="COMMENT",e))(qU||{}),zU=(e=>(e[e.NONE=0]="NONE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR",e))(zU||{}),PU=(e=>(e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY",e[e.INSTANTIATE=5]="INSTANTIATE",e))(PU||{}),$U=(e=>(e[e.NONE=0]="NONE",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR",e[e.START=3]="START",e[e.RUN=4]="RUN",e[e.CAPTURE=5]="CAPTURE",e))($U||{}),HU=(e=>(e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",e))(HU||{}),jU=class{constructor(t=2){this.level=t}log(t){t.level>=this.level&&console.log(t)}},WU=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",e[e.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",e))(WU||{}),YU=class{constructor(t,n){this._bindings=t,this._conn=n}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let n=await this._bindings.runQuery(this._conn,t),i=$s.from(n);return console.assert(i.isSync(),"Reader is not sync"),console.assert(i.isFile(),"Reader is not file"),new Ui(i)}async send(t,n=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let i=await this._bindings.startPendingQuery(this._conn,t,n);for(;i==null;){if(this._bindings.isDetached()){console.error("cannot send a message since the worker is not set!");return}i=await this._bindings.pollPendingQuery(this._conn)}let s=new EL(this._bindings,this._conn,i),a=await $s.from(s);return console.assert(a.isAsync()),console.assert(a.isStream()),a}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let n=await this._bindings.createPrepared(this._conn,t);return new GU(this._bindings,this._conn,n)}async insertArrowTable(t,n){let i=AU(t,"stream");await this.insertArrowFromIPCStream(i,n)}async insertArrowFromIPCStream(t,n){await this._bindings.insertArrowFromIPCStream(this._conn,t,n)}async insertCSVFromPath(t,n){await this._bindings.insertCSVFromPath(this._conn,t,n)}async insertJSONFromPath(t,n){await this._bindings.insertJSONFromPath(this._conn,t,n)}},EL=class{constructor(t,n,i){this.db=t,this.conn=n,this.header=i,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t=null;for(this._inFlight!=null&&(t=await this._inFlight,this._inFlight=null);t==null;)t=await this.db.fetchQueryResults(this.conn);return this._depleted=t.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},GU=class{constructor(t,n,i){this.bindings=t,this.connectionId=n,this.statementId=i}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let n=await this.bindings.runPrepared(this.connectionId,this.statementId,t),i=$s.from(n);return console.assert(i.isSync()),console.assert(i.isFile()),new Ui(i)}async send(...t){let n=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),i=new EL(this.bindings,this.connectionId,n),s=await $s.from(i);return console.assert(s.isAsync()),console.assert(s.isStream()),s}},VU=(e=>(e.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",e.CLOSE_PREPARED="CLOSE_PREPARED",e.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",e.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",e.CONNECT="CONNECT",e.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",e.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",e.CREATE_PREPARED="CREATE_PREPARED",e.DISCONNECT="DISCONNECT",e.DROP_FILE="DROP_FILE",e.DROP_FILES="DROP_FILES",e.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",e.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",e.FLUSH_FILES="FLUSH_FILES",e.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",e.GET_TABLE_NAMES="GET_TABLE_NAMES",e.GET_VERSION="GET_VERSION",e.GLOB_FILE_INFOS="GLOB_FILE_INFOS",e.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",e.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",e.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",e.INSTANTIATE="INSTANTIATE",e.OPEN="OPEN",e.PING="PING",e.POLL_PENDING_QUERY="POLL_PENDING_QUERY",e.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",e.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",e.REGISTER_FILE_URL="REGISTER_FILE_URL",e.RESET="RESET",e.RUN_PREPARED="RUN_PREPARED",e.RUN_QUERY="RUN_QUERY",e.SEND_PREPARED="SEND_PREPARED",e.START_PENDING_QUERY="START_PENDING_QUERY",e.TOKENIZE="TOKENIZE",e))(VU||{}),XU=(e=>(e.CONNECTION_INFO="CONNECTION_INFO",e.ERROR="ERROR",e.FEATURE_FLAGS="FEATURE_FLAGS",e.FILE_BUFFER="FILE_BUFFER",e.FILE_INFOS="FILE_INFOS",e.FILE_SIZE="FILE_SIZE",e.FILE_STATISTICS="FILE_STATISTICS",e.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",e.LOG="LOG",e.PROGRESS_UPDATE="PROGRESS_UPDATE",e.OK="OK",e.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",e.QUERY_PLAN="QUERY_PLAN",e.QUERY_RESULT="QUERY_RESULT",e.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",e.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",e.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",e.REGISTERED_FILE="REGISTERED_FILE",e.SCRIPT_TOKENS="SCRIPT_TOKENS",e.SUCCESS="SUCCESS",e.TABLE_NAMES="TABLE_NAMES",e.VERSION_STRING="VERSION_STRING",e))(XU||{}),qe=class{constructor(t,n){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=n,this.promise=new Promise((i,s)=>{this.promiseResolver=i,this.promiseRejecter=s})}};function im(e){switch(e.typeId){case K.Binary:return{sqlType:"binary"};case K.Bool:return{sqlType:"bool"};case K.Date:return{sqlType:"date"};case K.DateDay:return{sqlType:"date32[d]"};case K.DateMillisecond:return{sqlType:"date64[ms]"};case K.Decimal:{let t=e;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case K.Float:return{sqlType:"float"};case K.Float16:return{sqlType:"float16"};case K.Float32:return{sqlType:"float32"};case K.Float64:return{sqlType:"float64"};case K.Int:return{sqlType:"int32"};case K.Int16:return{sqlType:"int16"};case K.Int32:return{sqlType:"int32"};case K.Int64:return{sqlType:"int64"};case K.Uint16:return{sqlType:"uint16"};case K.Uint32:return{sqlType:"uint32"};case K.Uint64:return{sqlType:"uint64"};case K.Uint8:return{sqlType:"uint8"};case K.IntervalDayTime:return{sqlType:"interval[dt]"};case K.IntervalYearMonth:return{sqlType:"interval[m]"};case K.List:return{sqlType:"list",valueType:im(e.valueType)};case K.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case K.Null:return{sqlType:"null"};case K.Utf8:return{sqlType:"utf8"};case K.Struct:return{sqlType:"struct",fields:e.children.map(t=>X_(t.name,t.type))};case K.Map:{let t=e;return{sqlType:"map",keyType:im(t.keyType),valueType:im(t.valueType)}}case K.Time:return{sqlType:"time[s]"};case K.TimeMicrosecond:return{sqlType:"time[us]"};case K.TimeMillisecond:return{sqlType:"time[ms]"};case K.TimeNanosecond:return{sqlType:"time[ns]"};case K.TimeSecond:return{sqlType:"time[s]"};case K.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case K.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case K.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case K.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case K.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(e.toString()))}function X_(e,t){let n=im(t);return n.name=e,n}var ZU=/'(opfs:\/\/\S*?)'/g,QU=/(opfs:\/\/\S*?)/g;function KU(e){return e.search(QU)>-1}function JU(e){return[...e.matchAll(ZU)].map(t=>t[1])}var tq=new TextEncoder,eq=class{constructor(t,n=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._config={},this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),n!=null&&this.attach(n)}get logger(){return this._logger}get config(){return this._config}attach(t){this._worker=t,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((n,i)=>{this._workerShutdownResolver=n})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,n=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!:"+t.type+","+t.data);return}let i=this._nextMessageId++;return this._pendingRequests.set(i,t),this._worker.postMessage({messageId:i,type:t.type,data:t.data},n),await t.promise}onMessage(t){var n;let i=t.data;switch(i.type){case"PROGRESS_UPDATE":{for(let a of this._onExecutionProgress)a(i.data);return}case"LOG":{this._logger.log(i.data);return}case"INSTANTIATE_PROGRESS":{for(let a of this._onInstantiationProgress)a(i.data);return}}let s=this._pendingRequests.get(i.requestId);if(!s){console.warn("unassociated response: [".concat(i.requestId,", ").concat(i.type.toString(),"]"));return}if(this._pendingRequests.delete(i.requestId),i.type=="ERROR"){let a=new Error(i.data.message);a.name=i.data.name,(n=Object.getOwnPropertyDescriptor(a,"stack"))!=null&&n.writable&&(a.stack=i.data.stack),s.promiseRejecter(a);return}switch(s.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(i.type=="OK"){s.promiseResolver(i.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],i.type=="OK"){s.promiseResolver(i.data);return}break;case"GLOB_FILE_INFOS":if(i.type=="FILE_INFOS"){s.promiseResolver(i.data);return}break;case"GET_VERSION":if(i.type=="VERSION_STRING"){s.promiseResolver(i.data);return}break;case"GET_FEATURE_FLAGS":if(i.type=="FEATURE_FLAGS"){s.promiseResolver(i.data);return}break;case"GET_TABLE_NAMES":if(i.type=="TABLE_NAMES"){s.promiseResolver(i.data);return}break;case"TOKENIZE":if(i.type=="SCRIPT_TOKENS"){s.promiseResolver(i.data);return}break;case"COPY_FILE_TO_BUFFER":if(i.type=="FILE_BUFFER"){s.promiseResolver(i.data);return}break;case"EXPORT_FILE_STATISTICS":if(i.type=="FILE_STATISTICS"){s.promiseResolver(i.data);return}break;case"CONNECT":if(i.type=="CONNECTION_INFO"){s.promiseResolver(i.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(i.type=="QUERY_RESULT"){s.promiseResolver(i.data);return}break;case"SEND_PREPARED":if(i.type=="QUERY_RESULT_HEADER"){s.promiseResolver(i.data);return}break;case"START_PENDING_QUERY":if(i.type=="QUERY_RESULT_HEADER_OR_NULL"){s.promiseResolver(i.data);return}break;case"POLL_PENDING_QUERY":if(i.type=="QUERY_RESULT_HEADER_OR_NULL"){s.promiseResolver(i.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],i.type=="SUCCESS"){s.promiseResolver(i.data);return}break;case"FETCH_QUERY_RESULTS":if(i.type=="QUERY_RESULT_CHUNK"){s.promiseResolver(i.data);return}break;case"CREATE_PREPARED":if(i.type=="PREPARED_STATEMENT_ID"){s.promiseResolver(i.data);return}break}s.promiseRejecter(new Error("unexpected response type: ".concat(i.type.toString())))}onError(t){console.error(t),console.error("error in duckdb worker: ".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}isDetached(){return!this._worker}async reset(){let t=new qe("RESET",null);return await this.postTask(t)}async ping(){let t=new qe("PING",null);await this.postTask(t)}async dropFile(t){let n=new qe("DROP_FILE",t);return await this.postTask(n)}async dropFiles(t){let n=new qe("DROP_FILES",t);return await this.postTask(n)}async flushFiles(){let t=new qe("FLUSH_FILES",null);return await this.postTask(t)}async instantiate(t,n=null,i=s=>{}){this._onInstantiationProgress.push(i);let s=new qe("INSTANTIATE",[t,n]);return await this.postTask(s)}async getVersion(){let t=new qe("GET_VERSION",null);return await this.postTask(t)}async getFeatureFlags(){let t=new qe("GET_FEATURE_FLAGS",null);return await this.postTask(t)}async open(t){this._config=t;let n=new qe("OPEN",t);await this.postTask(n)}async tokenize(t){let n=new qe("TOKENIZE",t);return await this.postTask(n)}async connectInternal(){let t=new qe("CONNECT",null);return await this.postTask(t)}async connect(){let t=await this.connectInternal();return new YU(this,t)}async disconnect(t){let n=new qe("DISCONNECT",t);await this.postTask(n)}async runQuery(t,n){if(this.shouldOPFSFileHandling()){let i=await this.registerOPFSFileFromSQL(n);try{return await this._runQueryAsync(t,n)}finally{i.length>0&&await this.dropFiles(i)}}else return await this._runQueryAsync(t,n)}async _runQueryAsync(t,n){let i=new qe("RUN_QUERY",[t,n]);return await this.postTask(i)}async startPendingQuery(t,n,i=!1){if(this.shouldOPFSFileHandling()){let s=await this.registerOPFSFileFromSQL(n);try{return await this._startPendingQueryAsync(t,n,i)}finally{s.length>0&&await this.dropFiles(s)}}else return await this._startPendingQueryAsync(t,n,i)}async _startPendingQueryAsync(t,n,i=!1){let s=new qe("START_PENDING_QUERY",[t,n,i]);return await this.postTask(s)}async pollPendingQuery(t){let n=new qe("POLL_PENDING_QUERY",t);return await this.postTask(n)}async cancelPendingQuery(t){let n=new qe("CANCEL_PENDING_QUERY",t);return await this.postTask(n)}async fetchQueryResults(t){let n=new qe("FETCH_QUERY_RESULTS",t);return await this.postTask(n)}async getTableNames(t,n){let i=new qe("GET_TABLE_NAMES",[t,n]);return await this.postTask(i)}async createPrepared(t,n){let i=new qe("CREATE_PREPARED",[t,n]);return await this.postTask(i)}async closePrepared(t,n){let i=new qe("CLOSE_PREPARED",[t,n]);await this.postTask(i)}async runPrepared(t,n,i){let s=new qe("RUN_PREPARED",[t,n,i]);return await this.postTask(s)}async sendPrepared(t,n,i){let s=new qe("SEND_PREPARED",[t,n,i]);return await this.postTask(s)}async globFiles(t){let n=new qe("GLOB_FILE_INFOS",t);return await this.postTask(n)}async registerFileText(t,n){let i=tq.encode(n);await this.registerFileBuffer(t,i)}async registerFileURL(t,n,i,s){n===void 0&&(n=t);let a=new qe("REGISTER_FILE_URL",[t,n,i,s]);await this.postTask(a)}async registerEmptyFileBuffer(t){}async registerFileBuffer(t,n){let i=new qe("REGISTER_FILE_BUFFER",[t,n]);await this.postTask(i,[n.buffer])}async registerFileHandle(t,n,i,s){let a=new qe("REGISTER_FILE_HANDLE",[t,n,i,s]);await this.postTask(a,[])}async registerOPFSFileName(t){let n=new qe("REGISTER_OPFS_FILE_NAME",[t]);await this.postTask(n,[])}async collectFileStatistics(t,n){let i=new qe("COLLECT_FILE_STATISTICS",[t,n]);await this.postTask(i,[])}async exportFileStatistics(t){let n=new qe("EXPORT_FILE_STATISTICS",t);return await this.postTask(n,[])}async copyFileToBuffer(t){let n=new qe("COPY_FILE_TO_BUFFER",t);return await this.postTask(n)}async copyFileToPath(t,n){let i=new qe("COPY_FILE_TO_PATH",[t,n]);await this.postTask(i)}async insertArrowFromIPCStream(t,n,i){if(n.length==0)return;let s=new qe("INSERT_ARROW_FROM_IPC_STREAM",[t,n,i]);await this.postTask(s,[n.buffer])}async insertCSVFromPath(t,n,i){if(i.columns!==void 0){let a=[];for(let o in i.columns){let l=i.columns[o];a.push(X_(o,l))}i.columnsFlat=a,delete i.columns}let s=new qe("IMPORT_CSV_FROM_PATH",[t,n,i]);await this.postTask(s)}async insertJSONFromPath(t,n,i){if(i.columns!==void 0){let a=[];for(let o in i.columns){let l=i.columns[o];a.push(X_(o,l))}i.columnsFlat=a,delete i.columns}let s=new qe("IMPORT_JSON_FROM_PATH",[t,n,i]);await this.postTask(s)}shouldOPFSFileHandling(){var t,n;return KU((t=this.config.path)!=null?t:"")?((n=this.config.opfs)==null?void 0:n.fileHandling)=="auto":!1}async registerOPFSFileFromSQL(t){let n=JU(t),i=[];for(let s of n)try{await this.registerOPFSFileName(s),i.push(s)}catch(a){throw console.error(a),new Error("File Not found:"+s)}return i}};function nq(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}nq();var iq=(e=>(e[e.BUFFER=0]="BUFFER",e[e.NODE_FS=1]="NODE_FS",e[e.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",e[e.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",e[e.HTTP=4]="HTTP",e[e.S3=5]="S3",e))(iq||{}),sq=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),aq=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),rq=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),oq=()=>(async e=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Rx={name:"@duckdb/duckdb-wasm",version:"1.33.1-dev18.0"},lq=Rx.name,cq=Rx.version,Lx=Rx.version.split(".");Lx[0];Lx[1];Lx[2];var uq=()=>typeof navigator>"u";function hq(){let e="https://cdn.jsdelivr.net/npm/".concat(lq,"@").concat(cq,"/dist/");return{mvp:{mainModule:"".concat(e,"duckdb-mvp.wasm"),mainWorker:"".concat(e,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(e,"duckdb-eh.wasm"),mainWorker:"".concat(e,"duckdb-browser-eh.worker.js")}}}var Y0=null,G0=null,V0=null,X0=null,Z0=null;async function dq(){return Y0==null&&(Y0=typeof BigInt64Array<"u"),G0==null&&(G0=await aq()),V0==null&&(V0=await oq()),X0==null&&(X0=await rq()),Z0==null&&(Z0=await sq()),{bigInt64Array:Y0,crossOriginIsolated:uq()||globalThis.crossOriginIsolated||!1,wasmExceptions:G0,wasmSIMD:X0,wasmThreads:V0,wasmBulkMemory:Z0}}async function fq(e){let t=await dq();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&e.coi)return{mainModule:e.coi.mainModule,mainWorker:e.coi.mainWorker,pthreadWorker:e.coi.pthreadWorker};if(e.eh)return{mainModule:e.eh.mainModule,mainWorker:e.eh.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}}BU(FU());const pq="modulepreload",mq=function(e){return"/"+e},_T={},en=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=u(n.map(h=>{if(h=mq(h),h in _T)return;_T[h]=!0;const f=h.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":pq,f||(g.as="script"),g.crossOrigin="",g.href=h,l&&g.setAttribute("nonce",l),document.head.appendChild(g),f)return new Promise((y,_)=>{g.addEventListener("load",y),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var vT={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},sm={exports:{}},gq=sm.exports,xT;function yq(){return xT||(xT=1,(function(e,t){(function(n,i){e.exports=i()})(gq,(function(){var n=1e3,i=6e4,s=36e5,a="millisecond",o="second",l="minute",u="hour",h="day",f="week",m="month",g="quarter",y="year",_="date",b="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var H=["th","st","nd","rd"],M=k%100;return"["+k+(H[(M-20)%10]||H[M]||H[0])+"]"}},C=function(k,H,M){var B=String(k);return!B||B.length>=H?k:""+Array(H+1-B.length).join(M)+k},D={s:C,z:function(k){var H=-k.utcOffset(),M=Math.abs(H),B=Math.floor(M/60),W=M%60;return(H<=0?"+":"-")+C(B,2,"0")+":"+C(W,2,"0")},m:function k(H,M){if(H.date()<M.date())return-k(M,H);var B=12*(M.year()-H.year())+(M.month()-H.month()),W=H.clone().add(B,m),Z=M-W<0,rt=H.clone().add(B+(Z?-1:1),m);return+(-(B+(M-W)/(Z?W-rt:rt-W))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:m,y,w:f,d:h,D:_,h:u,m:l,s:o,ms:a,Q:g}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},R="en",U={};U[R]=E;var N="$isDayjsObject",P=function(k){return k instanceof I||!(!k||!k[N])},$=function k(H,M,B){var W;if(!H)return R;if(typeof H=="string"){var Z=H.toLowerCase();U[Z]&&(W=Z),M&&(U[Z]=M,W=Z);var rt=H.split("-");if(!W&&rt.length>1)return k(rt[0])}else{var O=H.name;U[O]=H,W=O}return!B&&W&&(R=W),W||!B&&R},X=function(k,H){if(P(k))return k.clone();var M=typeof H=="object"?H:{};return M.date=k,M.args=arguments,new I(M)},V=D;V.l=$,V.i=P,V.w=function(k,H){return X(k,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var I=(function(){function k(M){this.$L=$(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[N]=!0}var H=k.prototype;return H.parse=function(M){this.$d=(function(B){var W=B.date,Z=B.utc;if(W===null)return new Date(NaN);if(V.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var rt=W.match(w);if(rt){var O=rt[2]-1||0,q=(rt[7]||"0").substring(0,3);return Z?new Date(Date.UTC(rt[1],O,rt[3]||1,rt[4]||0,rt[5]||0,rt[6]||0,q)):new Date(rt[1],O,rt[3]||1,rt[4]||0,rt[5]||0,rt[6]||0,q)}}return new Date(W)})(M),this.init()},H.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},H.$utils=function(){return V},H.isValid=function(){return this.$d.toString()!==b},H.isSame=function(M,B){var W=X(M);return this.startOf(B)<=W&&W<=this.endOf(B)},H.isAfter=function(M,B){return X(M)<this.startOf(B)},H.isBefore=function(M,B){return this.endOf(B)<X(M)},H.$g=function(M,B,W){return V.u(M)?this[B]:this.set(W,M)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(M,B){var W=this,Z=!!V.u(B)||B,rt=V.p(M),O=function(At,Gt){var be=V.w(W.$u?Date.UTC(W.$y,Gt,At):new Date(W.$y,Gt,At),W);return Z?be:be.endOf(h)},q=function(At,Gt){return V.w(W.toDate()[At].apply(W.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(Gt)),W)},tt=this.$W,it=this.$M,st=this.$D,Ct="set"+(this.$u?"UTC":"");switch(rt){case y:return Z?O(1,0):O(31,11);case m:return Z?O(1,it):O(0,it+1);case f:var Dt=this.$locale().weekStart||0,Ot=(tt<Dt?tt+7:tt)-Dt;return O(Z?st-Ot:st+(6-Ot),it);case h:case _:return q(Ct+"Hours",0);case u:return q(Ct+"Minutes",1);case l:return q(Ct+"Seconds",2);case o:return q(Ct+"Milliseconds",3);default:return this.clone()}},H.endOf=function(M){return this.startOf(M,!1)},H.$set=function(M,B){var W,Z=V.p(M),rt="set"+(this.$u?"UTC":""),O=(W={},W[h]=rt+"Date",W[_]=rt+"Date",W[m]=rt+"Month",W[y]=rt+"FullYear",W[u]=rt+"Hours",W[l]=rt+"Minutes",W[o]=rt+"Seconds",W[a]=rt+"Milliseconds",W)[Z],q=Z===h?this.$D+(B-this.$W):B;if(Z===m||Z===y){var tt=this.clone().set(_,1);tt.$d[O](q),tt.init(),this.$d=tt.set(_,Math.min(this.$D,tt.daysInMonth())).$d}else O&&this.$d[O](q);return this.init(),this},H.set=function(M,B){return this.clone().$set(M,B)},H.get=function(M){return this[V.p(M)]()},H.add=function(M,B){var W,Z=this;M=Number(M);var rt=V.p(B),O=function(it){var st=X(Z);return V.w(st.date(st.date()+Math.round(it*M)),Z)};if(rt===m)return this.set(m,this.$M+M);if(rt===y)return this.set(y,this.$y+M);if(rt===h)return O(1);if(rt===f)return O(7);var q=(W={},W[l]=i,W[u]=s,W[o]=n,W)[rt]||1,tt=this.$d.getTime()+M*q;return V.w(tt,this)},H.subtract=function(M,B){return this.add(-1*M,B)},H.format=function(M){var B=this,W=this.$locale();if(!this.isValid())return W.invalidDate||b;var Z=M||"YYYY-MM-DDTHH:mm:ssZ",rt=V.z(this),O=this.$H,q=this.$m,tt=this.$M,it=W.weekdays,st=W.months,Ct=W.meridiem,Dt=function(Gt,be,sn,Ve){return Gt&&(Gt[be]||Gt(B,Z))||sn[be].slice(0,Ve)},Ot=function(Gt){return V.s(O%12||12,Gt,"0")},At=Ct||function(Gt,be,sn){var Ve=Gt<12?"AM":"PM";return sn?Ve.toLowerCase():Ve};return Z.replace(S,(function(Gt,be){return be||(function(sn){switch(sn){case"YY":return String(B.$y).slice(-2);case"YYYY":return V.s(B.$y,4,"0");case"M":return tt+1;case"MM":return V.s(tt+1,2,"0");case"MMM":return Dt(W.monthsShort,tt,st,3);case"MMMM":return Dt(st,tt);case"D":return B.$D;case"DD":return V.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return Dt(W.weekdaysMin,B.$W,it,2);case"ddd":return Dt(W.weekdaysShort,B.$W,it,3);case"dddd":return it[B.$W];case"H":return String(O);case"HH":return V.s(O,2,"0");case"h":return Ot(1);case"hh":return Ot(2);case"a":return At(O,q,!0);case"A":return At(O,q,!1);case"m":return String(q);case"mm":return V.s(q,2,"0");case"s":return String(B.$s);case"ss":return V.s(B.$s,2,"0");case"SSS":return V.s(B.$ms,3,"0");case"Z":return rt}return null})(Gt)||rt.replace(":","")}))},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(M,B,W){var Z,rt=this,O=V.p(B),q=X(M),tt=(q.utcOffset()-this.utcOffset())*i,it=this-q,st=function(){return V.m(rt,q)};switch(O){case y:Z=st()/12;break;case m:Z=st();break;case g:Z=st()/3;break;case f:Z=(it-tt)/6048e5;break;case h:Z=(it-tt)/864e5;break;case u:Z=it/s;break;case l:Z=it/i;break;case o:Z=it/n;break;default:Z=it}return W?Z:V.a(Z)},H.daysInMonth=function(){return this.endOf(m).$D},H.$locale=function(){return U[this.$L]},H.locale=function(M,B){if(!M)return this.$L;var W=this.clone(),Z=$(M,B,!0);return Z&&(W.$L=Z),W},H.clone=function(){return V.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},k})(),G=I.prototype;return X.prototype=G,[["$ms",a],["$s",o],["$m",l],["$H",u],["$W",h],["$M",m],["$y",y],["$D",_]].forEach((function(k){G[k[1]]=function(H){return this.$g(H,k[0],k[1])}})),X.extend=function(k,H){return k.$i||(k(H,I,X),k.$i=!0),X},X.locale=$,X.isDayjs=P,X.unix=function(k){return X(1e3*k)},X.en=U[R],X.Ls=U,X.p={},X}))})(sm)),sm.exports}var bq=yq();const _q=vA(bq);var TL=Object.defineProperty,T=(e,t)=>TL(e,"name",{value:t,configurable:!0}),vq=(e,t)=>{for(var n in t)TL(e,n,{get:t[n],enumerable:!0})},lr={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},wt={trace:T((...e)=>{},"trace"),debug:T((...e)=>{},"debug"),info:T((...e)=>{},"info"),warn:T((...e)=>{},"warn"),error:T((...e)=>{},"error"),fatal:T((...e)=>{},"fatal")},Dx=T(function(e="fatal"){let t=lr.fatal;typeof e=="string"?e.toLowerCase()in lr&&(t=lr[e]):typeof e=="number"&&(t=e),wt.trace=()=>{},wt.debug=()=>{},wt.info=()=>{},wt.warn=()=>{},wt.error=()=>{},wt.fatal=()=>{},t<=lr.fatal&&(wt.fatal=console.error?console.error.bind(console,Is("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Is("FATAL"))),t<=lr.error&&(wt.error=console.error?console.error.bind(console,Is("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Is("ERROR"))),t<=lr.warn&&(wt.warn=console.warn?console.warn.bind(console,Is("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Is("WARN"))),t<=lr.info&&(wt.info=console.info?console.info.bind(console,Is("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Is("INFO"))),t<=lr.debug&&(wt.debug=console.debug?console.debug.bind(console,Is("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Is("DEBUG"))),t<=lr.trace&&(wt.trace=console.debug?console.debug.bind(console,Is("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Is("TRACE")))},"setLogLevel"),Is=T(e=>`%c${_q().format("ss.SSS")} : ${e} : `,"format");const am={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},i)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const s=n<.5?n*(1+t):n+t-n*t,a=2*n-s;switch(i){case"r":return am.hue2rgb(a,s,e+1/3)*255;case"g":return am.hue2rgb(a,s,e)*255;case"b":return am.hue2rgb(a,s,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},i)=>{e/=255,t/=255,n/=255;const s=Math.max(e,t,n),a=Math.min(e,t,n),o=(s+a)/2;if(i==="l")return o*100;if(s===a)return 0;const l=s-a,u=o>.5?l/(2-s-a):l/(s+a);if(i==="s")return u*100;switch(s){case e:return((t-n)/l+(t<n?6:0))*60;case t:return((n-e)/l+2)*60;case n:return((e-t)/l+4)*60;default:return-1}}},xq={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},wq={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},pe={channel:am,lang:xq,unit:wq},ro={};for(let e=0;e<=255;e++)ro[e]=pe.unit.dec2hex(e);const Si={ALL:0,RGB:1,HSL:2};class Sq{constructor(){this.type=Si.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Si.ALL}is(t){return this.type===t}}class Eq{constructor(t,n){this.color=n,this.changed=!1,this.data=t,this.type=new Sq}set(t,n){return this.color=n,this.changed=!1,this.data=t,this.type.type=Si.ALL,this}_ensureHSL(){const t=this.data,{h:n,s:i,l:s}=t;n===void 0&&(t.h=pe.channel.rgb2hsl(t,"h")),i===void 0&&(t.s=pe.channel.rgb2hsl(t,"s")),s===void 0&&(t.l=pe.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:n,g:i,b:s}=t;n===void 0&&(t.r=pe.channel.hsl2rgb(t,"r")),i===void 0&&(t.g=pe.channel.hsl2rgb(t,"g")),s===void 0&&(t.b=pe.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,n=t.r;return!this.type.is(Si.HSL)&&n!==void 0?n:(this._ensureHSL(),pe.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,n=t.g;return!this.type.is(Si.HSL)&&n!==void 0?n:(this._ensureHSL(),pe.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,n=t.b;return!this.type.is(Si.HSL)&&n!==void 0?n:(this._ensureHSL(),pe.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,n=t.h;return!this.type.is(Si.RGB)&&n!==void 0?n:(this._ensureRGB(),pe.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,n=t.s;return!this.type.is(Si.RGB)&&n!==void 0?n:(this._ensureRGB(),pe.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,n=t.l;return!this.type.is(Si.RGB)&&n!==void 0?n:(this._ensureRGB(),pe.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Si.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Si.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Si.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Si.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Si.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Si.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Vg=new Eq({r:0,g:0,b:0,a:0},"transparent"),Fc={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Fc.re);if(!t)return;const n=t[1],i=parseInt(n,16),s=n.length,a=s%4===0,o=s>4,l=o?1:17,u=o?8:4,h=a?0:-1,f=o?255:15;return Vg.set({r:(i>>u*(h+3)&f)*l,g:(i>>u*(h+2)&f)*l,b:(i>>u*(h+1)&f)*l,a:a?(i&f)*l/255:1},e)},stringify:e=>{const{r:t,g:n,b:i,a:s}=e;return s<1?`#${ro[Math.round(t)]}${ro[Math.round(n)]}${ro[Math.round(i)]}${ro[Math.round(s*255)]}`:`#${ro[Math.round(t)]}${ro[Math.round(n)]}${ro[Math.round(i)]}`}},rl={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(rl.hueRe);if(t){const[,n,i]=t;switch(i){case"grad":return pe.channel.clamp.h(parseFloat(n)*.9);case"rad":return pe.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return pe.channel.clamp.h(parseFloat(n)*360)}}return pe.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(rl.re);if(!n)return;const[,i,s,a,o,l]=n;return Vg.set({h:rl._hue2deg(i),s:pe.channel.clamp.s(parseFloat(s)),l:pe.channel.clamp.l(parseFloat(a)),a:o?pe.channel.clamp.a(l?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:n,l:i,a:s}=e;return s<1?`hsla(${pe.lang.round(t)}, ${pe.lang.round(n)}%, ${pe.lang.round(i)}%, ${s})`:`hsl(${pe.lang.round(t)}, ${pe.lang.round(n)}%, ${pe.lang.round(i)}%)`}},Qh={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Qh.colors[e];if(t)return Fc.parse(t)},stringify:e=>{const t=Fc.stringify(e);for(const n in Qh.colors)if(Qh.colors[n]===t)return n}},Uh={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(Uh.re);if(!n)return;const[,i,s,a,o,l,u,h,f]=n;return Vg.set({r:pe.channel.clamp.r(s?parseFloat(i)*2.55:parseFloat(i)),g:pe.channel.clamp.g(o?parseFloat(a)*2.55:parseFloat(a)),b:pe.channel.clamp.b(u?parseFloat(l)*2.55:parseFloat(l)),a:h?pe.channel.clamp.a(f?parseFloat(h)/100:parseFloat(h)):1},e)},stringify:e=>{const{r:t,g:n,b:i,a:s}=e;return s<1?`rgba(${pe.lang.round(t)}, ${pe.lang.round(n)}, ${pe.lang.round(i)}, ${pe.lang.round(s)})`:`rgb(${pe.lang.round(t)}, ${pe.lang.round(n)}, ${pe.lang.round(i)})`}},qa={format:{keyword:Qh,hex:Fc,rgb:Uh,rgba:Uh,hsl:rl,hsla:rl},parse:e=>{if(typeof e!="string")return e;const t=Fc.parse(e)||Uh.parse(e)||rl.parse(e)||Qh.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Si.HSL)||e.data.r===void 0?rl.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Uh.stringify(e):Fc.stringify(e)},kL=(e,t)=>{const n=qa.parse(e);for(const i in t)n[i]=pe.channel.clamp[i](t[i]);return qa.stringify(n)},Kh=(e,t,n=0,i=1)=>{if(typeof e!="number")return kL(e,{a:t});const s=Vg.set({r:pe.channel.clamp.r(e),g:pe.channel.clamp.g(t),b:pe.channel.clamp.b(n),a:pe.channel.clamp.a(i)});return qa.stringify(s)},Tq=e=>{const{r:t,g:n,b:i}=qa.parse(e),s=.2126*pe.channel.toLinear(t)+.7152*pe.channel.toLinear(n)+.0722*pe.channel.toLinear(i);return pe.lang.round(s)},kq=e=>Tq(e)>=.5,Ud=e=>!kq(e),CL=(e,t,n)=>{const i=qa.parse(e),s=i[t],a=pe.channel.clamp[t](s+n);return s!==a&&(i[t]=a),qa.stringify(i)},Ft=(e,t)=>CL(e,"l",t),Xt=(e,t)=>CL(e,"l",-t),ot=(e,t)=>{const n=qa.parse(e),i={};for(const s in t)t[s]&&(i[s]=n[s]+t[s]);return kL(e,i)},Cq=(e,t,n=50)=>{const{r:i,g:s,b:a,a:o}=qa.parse(e),{r:l,g:u,b:h,a:f}=qa.parse(t),m=n/100,g=m*2-1,y=o-f,b=((g*y===-1?g:(g+y)/(1+g*y))+1)/2,w=1-b,S=i*b+l*w,E=s*b+u*w,C=a*b+h*w,D=o*m+f*(1-m);return Kh(S,E,C,D)},Lt=(e,t=100)=>{const n=qa.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,Cq(n,e,t)};const{entries:AL,setPrototypeOf:wT,isFrozen:Aq,getPrototypeOf:Rq,getOwnPropertyDescriptor:Lq}=Object;let{freeze:ji,seal:Ws,create:Z_}=Object,{apply:Q_,construct:K_}=typeof Reflect<"u"&&Reflect;ji||(ji=function(t){return t});Ws||(Ws=function(t){return t});Q_||(Q_=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];return t.apply(n,s)});K_||(K_=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return new t(...i)});const gp=Wi(Array.prototype.forEach),Dq=Wi(Array.prototype.lastIndexOf),ST=Wi(Array.prototype.pop),ph=Wi(Array.prototype.push),Oq=Wi(Array.prototype.splice),rm=Wi(String.prototype.toLowerCase),Q0=Wi(String.prototype.toString),K0=Wi(String.prototype.match),mh=Wi(String.prototype.replace),Mq=Wi(String.prototype.indexOf),Nq=Wi(String.prototype.trim),Js=Wi(Object.prototype.hasOwnProperty),Fi=Wi(RegExp.prototype.test),gh=Iq(TypeError);function Wi(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return Q_(e,t,i)}}function Iq(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return K_(e,n)}}function Le(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rm;wT&&wT(e,null);let i=t.length;for(;i--;){let s=t[i];if(typeof s=="string"){const a=n(s);a!==s&&(Aq(t)||(t[i]=a),s=a)}e[s]=!0}return e}function Bq(e){for(let t=0;t<e.length;t++)Js(e,t)||(e[t]=null);return e}function xa(e){const t=Z_(null);for(const[n,i]of AL(e))Js(e,n)&&(Array.isArray(i)?t[n]=Bq(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=xa(i):t[n]=i);return t}function yh(e,t){for(;e!==null;){const i=Lq(e,t);if(i){if(i.get)return Wi(i.get);if(typeof i.value=="function")return Wi(i.value)}e=Rq(e)}function n(){return null}return n}const ET=ji(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),J0=ji(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),t_=ji(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fq=ji(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),e_=ji(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Uq=ji(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),TT=ji(["#text"]),kT=ji(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),n_=ji(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),CT=ji(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yp=ji(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qq=Ws(/\{\{[\w\W]*|[\w\W]*\}\}/gm),zq=Ws(/<%[\w\W]*|[\w\W]*%>/gm),Pq=Ws(/\$\{[\w\W]*/gm),$q=Ws(/^data-[\-\w.\u00B7-\uFFFF]+$/),Hq=Ws(/^aria-[\-\w]+$/),RL=Ws(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),jq=Ws(/^(?:\w+script|data):/i),Wq=Ws(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),LL=Ws(/^html$/i),Yq=Ws(/^[a-z][.\w]*(-[.\w]+)+$/i);var AT=Object.freeze({__proto__:null,ARIA_ATTR:Hq,ATTR_WHITESPACE:Wq,CUSTOM_ELEMENT:Yq,DATA_ATTR:$q,DOCTYPE_NAME:LL,ERB_EXPR:zq,IS_ALLOWED_URI:RL,IS_SCRIPT_OR_DATA:jq,MUSTACHE_EXPR:qq,TMPLIT_EXPR:Pq});const bh={element:1,text:3,progressingInstruction:7,comment:8,document:9},Gq=function(){return typeof window>"u"?null:window},Vq=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(i=n.getAttribute(s));const a="dompurify"+(i?"#"+i:"");try{return t.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},RT=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function DL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gq();const t=$t=>DL($t);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==bh.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,s=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:l,Element:u,NodeFilter:h,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:g,trustedTypes:y}=e,_=u.prototype,b=yh(_,"cloneNode"),w=yh(_,"remove"),S=yh(_,"nextSibling"),E=yh(_,"childNodes"),C=yh(_,"parentNode");if(typeof o=="function"){const $t=n.createElement("template");$t.content&&$t.content.ownerDocument&&(n=$t.content.ownerDocument)}let D,R="";const{implementation:U,createNodeIterator:N,createDocumentFragment:P,getElementsByTagName:$}=n,{importNode:X}=i;let V=RT();t.isSupported=typeof AL=="function"&&typeof C=="function"&&U&&U.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:G,TMPLIT_EXPR:k,DATA_ATTR:H,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:W,CUSTOM_ELEMENT:Z}=AT;let{IS_ALLOWED_URI:rt}=AT,O=null;const q=Le({},[...ET,...J0,...t_,...e_,...TT]);let tt=null;const it=Le({},[...kT,...n_,...CT,...yp]);let st=Object.seal(Z_(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ct=null,Dt=null;const Ot=Object.seal(Z_(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let At=!0,Gt=!0,be=!1,sn=!0,Ve=!1,L=!0,mt=!1,dt=!1,Y=!1,j=!1,nt=!1,yt=!1,xt=!0,lt=!1;const vt="user-content-";let Tt=!0,St=!1,It={},ue=null;const Kt=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ln=null;const Ni=Le({},["audio","video","img","source","image","track"]);let Fn=null;const Un=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),kt="http://www.w3.org/1998/Math/MathML",_e="http://www.w3.org/2000/svg",Zt="http://www.w3.org/1999/xhtml";let Yt=Zt,Xe=!1,Rt=null;const fe=Le({},[kt,_e,Zt],Q0);let ge=Le({},["mi","mo","mn","ms","mtext"]),xe=Le({},["annotation-xml"]);const Te=Le({},["title","style","font","a","script"]);let ae=null;const qn=["application/xhtml+xml","text/html"],bn="text/html";let Re=null,Wn=null;const fi=n.createElement("form"),Yn=function(J){return J instanceof RegExp||J instanceof Function},ci=function(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Wn&&Wn===J)){if((!J||typeof J!="object")&&(J={}),J=xa(J),ae=qn.indexOf(J.PARSER_MEDIA_TYPE)===-1?bn:J.PARSER_MEDIA_TYPE,Re=ae==="application/xhtml+xml"?Q0:rm,O=Js(J,"ALLOWED_TAGS")?Le({},J.ALLOWED_TAGS,Re):q,tt=Js(J,"ALLOWED_ATTR")?Le({},J.ALLOWED_ATTR,Re):it,Rt=Js(J,"ALLOWED_NAMESPACES")?Le({},J.ALLOWED_NAMESPACES,Q0):fe,Fn=Js(J,"ADD_URI_SAFE_ATTR")?Le(xa(Un),J.ADD_URI_SAFE_ATTR,Re):Un,Ln=Js(J,"ADD_DATA_URI_TAGS")?Le(xa(Ni),J.ADD_DATA_URI_TAGS,Re):Ni,ue=Js(J,"FORBID_CONTENTS")?Le({},J.FORBID_CONTENTS,Re):Kt,Ct=Js(J,"FORBID_TAGS")?Le({},J.FORBID_TAGS,Re):xa({}),Dt=Js(J,"FORBID_ATTR")?Le({},J.FORBID_ATTR,Re):xa({}),It=Js(J,"USE_PROFILES")?J.USE_PROFILES:!1,At=J.ALLOW_ARIA_ATTR!==!1,Gt=J.ALLOW_DATA_ATTR!==!1,be=J.ALLOW_UNKNOWN_PROTOCOLS||!1,sn=J.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ve=J.SAFE_FOR_TEMPLATES||!1,L=J.SAFE_FOR_XML!==!1,mt=J.WHOLE_DOCUMENT||!1,j=J.RETURN_DOM||!1,nt=J.RETURN_DOM_FRAGMENT||!1,yt=J.RETURN_TRUSTED_TYPE||!1,Y=J.FORCE_BODY||!1,xt=J.SANITIZE_DOM!==!1,lt=J.SANITIZE_NAMED_PROPS||!1,Tt=J.KEEP_CONTENT!==!1,St=J.IN_PLACE||!1,rt=J.ALLOWED_URI_REGEXP||RL,Yt=J.NAMESPACE||Zt,ge=J.MATHML_TEXT_INTEGRATION_POINTS||ge,xe=J.HTML_INTEGRATION_POINTS||xe,st=J.CUSTOM_ELEMENT_HANDLING||{},J.CUSTOM_ELEMENT_HANDLING&&Yn(J.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(st.tagNameCheck=J.CUSTOM_ELEMENT_HANDLING.tagNameCheck),J.CUSTOM_ELEMENT_HANDLING&&Yn(J.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(st.attributeNameCheck=J.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),J.CUSTOM_ELEMENT_HANDLING&&typeof J.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(st.allowCustomizedBuiltInElements=J.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ve&&(Gt=!1),nt&&(j=!0),It&&(O=Le({},TT),tt=[],It.html===!0&&(Le(O,ET),Le(tt,kT)),It.svg===!0&&(Le(O,J0),Le(tt,n_),Le(tt,yp)),It.svgFilters===!0&&(Le(O,t_),Le(tt,n_),Le(tt,yp)),It.mathMl===!0&&(Le(O,e_),Le(tt,CT),Le(tt,yp))),J.ADD_TAGS&&(typeof J.ADD_TAGS=="function"?Ot.tagCheck=J.ADD_TAGS:(O===q&&(O=xa(O)),Le(O,J.ADD_TAGS,Re))),J.ADD_ATTR&&(typeof J.ADD_ATTR=="function"?Ot.attributeCheck=J.ADD_ATTR:(tt===it&&(tt=xa(tt)),Le(tt,J.ADD_ATTR,Re))),J.ADD_URI_SAFE_ATTR&&Le(Fn,J.ADD_URI_SAFE_ATTR,Re),J.FORBID_CONTENTS&&(ue===Kt&&(ue=xa(ue)),Le(ue,J.FORBID_CONTENTS,Re)),J.ADD_FORBID_CONTENTS&&(ue===Kt&&(ue=xa(ue)),Le(ue,J.ADD_FORBID_CONTENTS,Re)),Tt&&(O["#text"]=!0),mt&&Le(O,["html","head","body"]),O.table&&(Le(O,["tbody"]),delete Ct.tbody),J.TRUSTED_TYPES_POLICY){if(typeof J.TRUSTED_TYPES_POLICY.createHTML!="function")throw gh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof J.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw gh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');D=J.TRUSTED_TYPES_POLICY,R=D.createHTML("")}else D===void 0&&(D=Vq(y,s)),D!==null&&typeof R=="string"&&(R=D.createHTML(""));ji&&ji(J),Wn=J}},ui=Le({},[...J0,...t_,...Fq]),xi=Le({},[...e_,...Uq]),hi=function(J){let Et=C(J);(!Et||!Et.tagName)&&(Et={namespaceURI:Yt,tagName:"template"});const Nt=rm(J.tagName),Ze=rm(Et.tagName);return Rt[J.namespaceURI]?J.namespaceURI===_e?Et.namespaceURI===Zt?Nt==="svg":Et.namespaceURI===kt?Nt==="svg"&&(Ze==="annotation-xml"||ge[Ze]):!!ui[Nt]:J.namespaceURI===kt?Et.namespaceURI===Zt?Nt==="math":Et.namespaceURI===_e?Nt==="math"&&xe[Ze]:!!xi[Nt]:J.namespaceURI===Zt?Et.namespaceURI===_e&&!xe[Ze]||Et.namespaceURI===kt&&!ge[Ze]?!1:!xi[Nt]&&(Te[Nt]||!ui[Nt]):!!(ae==="application/xhtml+xml"&&Rt[J.namespaceURI]):!1},dn=function(J){ph(t.removed,{element:J});try{C(J).removeChild(J)}catch{w(J)}},kn=function(J,Et){try{ph(t.removed,{attribute:Et.getAttributeNode(J),from:Et})}catch{ph(t.removed,{attribute:null,from:Et})}if(Et.removeAttribute(J),J==="is")if(j||nt)try{dn(Et)}catch{}else try{Et.setAttribute(J,"")}catch{}},Ii=function(J){let Et=null,Nt=null;if(Y)J="<remove></remove>"+J;else{const ke=K0(J,/^[\r\n\t ]+/);Nt=ke&&ke[0]}ae==="application/xhtml+xml"&&Yt===Zt&&(J='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+J+"</body></html>");const Ze=D?D.createHTML(J):J;if(Yt===Zt)try{Et=new g().parseFromString(Ze,ae)}catch{}if(!Et||!Et.documentElement){Et=U.createDocument(Yt,"template",null);try{Et.documentElement.innerHTML=Xe?R:Ze}catch{}}const Dn=Et.body||Et.documentElement;return J&&Nt&&Dn.insertBefore(n.createTextNode(Nt),Dn.childNodes[0]||null),Yt===Zt?$.call(Et,mt?"html":"body")[0]:mt?Et.documentElement:Dn},hs=function(J){return N.call(J.ownerDocument||J,J,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Kn=function(J){return J instanceof m&&(typeof J.nodeName!="string"||typeof J.textContent!="string"||typeof J.removeChild!="function"||!(J.attributes instanceof f)||typeof J.removeAttribute!="function"||typeof J.setAttribute!="function"||typeof J.namespaceURI!="string"||typeof J.insertBefore!="function"||typeof J.hasChildNodes!="function")},Cn=function(J){return typeof l=="function"&&J instanceof l};function _n($t,J,Et){gp($t,Nt=>{Nt.call(t,J,Et,Wn)})}const Ha=function(J){let Et=null;if(_n(V.beforeSanitizeElements,J,null),Kn(J))return dn(J),!0;const Nt=Re(J.nodeName);if(_n(V.uponSanitizeElement,J,{tagName:Nt,allowedTags:O}),L&&J.hasChildNodes()&&!Cn(J.firstElementChild)&&Fi(/<[/\w!]/g,J.innerHTML)&&Fi(/<[/\w!]/g,J.textContent)||J.nodeType===bh.progressingInstruction||L&&J.nodeType===bh.comment&&Fi(/<[/\w]/g,J.data))return dn(J),!0;if(!(Ot.tagCheck instanceof Function&&Ot.tagCheck(Nt))&&(!O[Nt]||Ct[Nt])){if(!Ct[Nt]&&Zd(Nt)&&(st.tagNameCheck instanceof RegExp&&Fi(st.tagNameCheck,Nt)||st.tagNameCheck instanceof Function&&st.tagNameCheck(Nt)))return!1;if(Tt&&!ue[Nt]){const Ze=C(J)||J.parentNode,Dn=E(J)||J.childNodes;if(Dn&&Ze){const ke=Dn.length;for(let pi=ke-1;pi>=0;--pi){const Es=b(Dn[pi],!0);Es.__removalCount=(J.__removalCount||0)+1,Ze.insertBefore(Es,S(J))}}}return dn(J),!0}return J instanceof u&&!hi(J)||(Nt==="noscript"||Nt==="noembed"||Nt==="noframes")&&Fi(/<\/no(script|embed|frames)/i,J.innerHTML)?(dn(J),!0):(Ve&&J.nodeType===bh.text&&(Et=J.textContent,gp([I,G,k],Ze=>{Et=mh(Et,Ze," ")}),J.textContent!==Et&&(ph(t.removed,{element:J.cloneNode()}),J.textContent=Et)),_n(V.afterSanitizeElements,J,null),!1)},Nl=function(J,Et,Nt){if(xt&&(Et==="id"||Et==="name")&&(Nt in n||Nt in fi))return!1;if(!(Gt&&!Dt[Et]&&Fi(H,Et))){if(!(At&&Fi(M,Et))){if(!(Ot.attributeCheck instanceof Function&&Ot.attributeCheck(Et,J))){if(!tt[Et]||Dt[Et]){if(!(Zd(J)&&(st.tagNameCheck instanceof RegExp&&Fi(st.tagNameCheck,J)||st.tagNameCheck instanceof Function&&st.tagNameCheck(J))&&(st.attributeNameCheck instanceof RegExp&&Fi(st.attributeNameCheck,Et)||st.attributeNameCheck instanceof Function&&st.attributeNameCheck(Et,J))||Et==="is"&&st.allowCustomizedBuiltInElements&&(st.tagNameCheck instanceof RegExp&&Fi(st.tagNameCheck,Nt)||st.tagNameCheck instanceof Function&&st.tagNameCheck(Nt))))return!1}else if(!Fn[Et]){if(!Fi(rt,mh(Nt,W,""))){if(!((Et==="src"||Et==="xlink:href"||Et==="href")&&J!=="script"&&Mq(Nt,"data:")===0&&Ln[J])){if(!(be&&!Fi(B,mh(Nt,W,"")))){if(Nt)return!1}}}}}}}return!0},Zd=function(J){return J!=="annotation-xml"&&K0(J,Z)},Qd=function(J){_n(V.beforeSanitizeAttributes,J,null);const{attributes:Et}=J;if(!Et||Kn(J))return;const Nt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:tt,forceKeepAttr:void 0};let Ze=Et.length;for(;Ze--;){const Dn=Et[Ze],{name:ke,namespaceURI:pi,value:Es}=Dn,Gi=Re(ke),fa=Es;let Jn=ke==="value"?fa:Nq(fa);if(Nt.attrName=Gi,Nt.attrValue=Jn,Nt.keepAttr=!0,Nt.forceKeepAttr=void 0,_n(V.uponSanitizeAttribute,J,Nt),Jn=Nt.attrValue,lt&&(Gi==="id"||Gi==="name")&&(kn(ke,J),Jn=vt+Jn),L&&Fi(/((--!?|])>)|<\/(style|title|textarea)/i,Jn)){kn(ke,J);continue}if(Gi==="attributename"&&K0(Jn,"href")){kn(ke,J);continue}if(Nt.forceKeepAttr)continue;if(!Nt.keepAttr){kn(ke,J);continue}if(!sn&&Fi(/\/>/i,Jn)){kn(ke,J);continue}Ve&&gp([I,G,k],Su=>{Jn=mh(Jn,Su," ")});const wu=Re(J.nodeName);if(!Nl(wu,Gi,Jn)){kn(ke,J);continue}if(D&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!pi)switch(y.getAttributeType(wu,Gi)){case"TrustedHTML":{Jn=D.createHTML(Jn);break}case"TrustedScriptURL":{Jn=D.createScriptURL(Jn);break}}if(Jn!==fa)try{pi?J.setAttributeNS(pi,ke,Jn):J.setAttribute(ke,Jn),Kn(J)?dn(J):ST(t.removed)}catch{kn(ke,J)}}_n(V.afterSanitizeAttributes,J,null)},Kd=function $t(J){let Et=null;const Nt=hs(J);for(_n(V.beforeSanitizeShadowDOM,J,null);Et=Nt.nextNode();)_n(V.uponSanitizeShadowNode,Et,null),Ha(Et),Qd(Et),Et.content instanceof a&&$t(Et.content);_n(V.afterSanitizeShadowDOM,J,null)};return t.sanitize=function($t){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Et=null,Nt=null,Ze=null,Dn=null;if(Xe=!$t,Xe&&($t="<!-->"),typeof $t!="string"&&!Cn($t))if(typeof $t.toString=="function"){if($t=$t.toString(),typeof $t!="string")throw gh("dirty is not a string, aborting")}else throw gh("toString is not a function");if(!t.isSupported)return $t;if(dt||ci(J),t.removed=[],typeof $t=="string"&&(St=!1),St){if($t.nodeName){const Es=Re($t.nodeName);if(!O[Es]||Ct[Es])throw gh("root node is forbidden and cannot be sanitized in-place")}}else if($t instanceof l)Et=Ii("<!---->"),Nt=Et.ownerDocument.importNode($t,!0),Nt.nodeType===bh.element&&Nt.nodeName==="BODY"||Nt.nodeName==="HTML"?Et=Nt:Et.appendChild(Nt);else{if(!j&&!Ve&&!mt&&$t.indexOf("<")===-1)return D&&yt?D.createHTML($t):$t;if(Et=Ii($t),!Et)return j?null:yt?R:""}Et&&Y&&dn(Et.firstChild);const ke=hs(St?$t:Et);for(;Ze=ke.nextNode();)Ha(Ze),Qd(Ze),Ze.content instanceof a&&Kd(Ze.content);if(St)return $t;if(j){if(nt)for(Dn=P.call(Et.ownerDocument);Et.firstChild;)Dn.appendChild(Et.firstChild);else Dn=Et;return(tt.shadowroot||tt.shadowrootmode)&&(Dn=X.call(i,Dn,!0)),Dn}let pi=mt?Et.outerHTML:Et.innerHTML;return mt&&O["!doctype"]&&Et.ownerDocument&&Et.ownerDocument.doctype&&Et.ownerDocument.doctype.name&&Fi(LL,Et.ownerDocument.doctype.name)&&(pi="<!DOCTYPE "+Et.ownerDocument.doctype.name+`>
`+pi),Ve&&gp([I,G,k],Es=>{pi=mh(pi,Es," ")}),D&&yt?D.createHTML(pi):pi},t.setConfig=function(){let $t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ci($t),dt=!0},t.clearConfig=function(){Wn=null,dt=!1},t.isValidAttribute=function($t,J,Et){Wn||ci({});const Nt=Re($t),Ze=Re(J);return Nl(Nt,Ze,Et)},t.addHook=function($t,J){typeof J=="function"&&ph(V[$t],J)},t.removeHook=function($t,J){if(J!==void 0){const Et=Dq(V[$t],J);return Et===-1?void 0:Oq(V[$t],Et,1)[0]}return ST(V[$t])},t.removeHooks=function($t){V[$t]=[]},t.removeAllHooks=function(){V=RT()},t}var eu=DL(),OL=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Jh=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Xq=/\s*%%.*\n/gm,$c,ML=($c=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},T($c,"UnknownDiagramError"),$c),bl={},Ox=T(function(e,t){e=e.replace(OL,"").replace(Jh,"").replace(Xq,`
`);for(const[n,{detector:i}]of Object.entries(bl))if(i(e,t))return n;throw new ML(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),J_=T((...e)=>{for(const{id:t,detector:n,loader:i}of e)NL(t,n,i)},"registerLazyLoadedDiagrams"),NL=T((e,t,n)=>{bl[e]&&wt.warn(`Detector with key ${e} already exists. Overwriting.`),bl[e]={detector:t,loader:n},wt.debug(`Detector with key ${e} added${n?" with loader":""}`)},"addDetector"),Zq=T(e=>bl[e].loader,"getDiagramLoader"),tv=T((e,t,{depth:n=2,clobber:i=!1}={})=>{const s={depth:n,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>tv(e,a,s)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]=="object"&&(e[a]===void 0||typeof e[a]=="object")?(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=tv(e[a],t[a],{depth:n-1,clobber:i})):(i||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a])}),e)},"assignWithDepth"),si=tv,Xg="#ffffff",Zg="#f2f2f2",Pi=T((e,t)=>t?ot(e,{s:-40,l:10}):ot(e,{s:-40,l:-10}),"mkBorder"),Hc,Qq=(Hc=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||ot(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||ot(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Pi(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Pi(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Pi(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Pi(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Lt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Lt(this.tertiaryColor),this.lineColor=this.lineColor||Lt(this.background),this.arrowheadColor=this.arrowheadColor||Lt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Xt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Xt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Lt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ft(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Xt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Xt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330}),this.darkMode)for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=Xt(this["cScale"+n],75);else for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=Xt(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||Lt(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this.darkMode?this["cScalePeer"+n]=this["cScalePeer"+n]||Ft(this["cScale"+n],10):this["cScalePeer"+n]=this["cScalePeer"+n]||Xt(this["cScale"+n],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||ot(this.mainBkg,{h:180,s:-15,l:t*(5+n*3)}),this["surfacePeer"+n]=this["surfacePeer"+n]||ot(this.mainBkg,{h:180,s:-15,l:t*(8+n*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||ot(this.primaryColor,{h:64}),this.fillType3=this.fillType3||ot(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||ot(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||ot(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||ot(this.primaryColor,{h:128}),this.fillType7=this.fillType7||ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ot(this.primaryColor,{l:-10}),this.pie5=this.pie5||ot(this.secondaryColor,{l:-10}),this.pie6=this.pie6||ot(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||ot(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ot(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ot(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ot(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||ot(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||ot(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ud(this.quadrant1Fill)?Ft(this.quadrant1Fill):Xt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Xt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ot(this.primaryColor,{h:-30}),this.git4=this.git4||ot(this.primaryColor,{h:-60}),this.git5=this.git5||ot(this.primaryColor,{h:-90}),this.git6=this.git6||ot(this.primaryColor,{h:60}),this.git7=this.git7||ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=Xt(this.git0,25),this.git1=Xt(this.git1,25),this.git2=Xt(this.git2,25),this.git3=Xt(this.git3,25),this.git4=Xt(this.git4,25),this.git5=Xt(this.git5,25),this.git6=Xt(this.git6,25),this.git7=Xt(this.git7,25)),this.gitInv0=this.gitInv0||Lt(this.git0),this.gitInv1=this.gitInv1||Lt(this.git1),this.gitInv2=this.gitInv2||Lt(this.git2),this.gitInv3=this.gitInv3||Lt(this.git3),this.gitInv4=this.gitInv4||Lt(this.git4),this.gitInv5=this.gitInv5||Lt(this.git5),this.gitInv6=this.gitInv6||Lt(this.git6),this.gitInv7=this.gitInv7||Lt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xg,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zg}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},T(Hc,"Theme"),Hc),Kq=T(e=>{const t=new Qq;return t.calculate(e),t},"getThemeVariables"),jc,Jq=(jc=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ft(this.primaryColor,16),this.tertiaryColor=ot(this.primaryColor,{h:-160}),this.primaryBorderColor=Lt(this.background),this.secondaryBorderColor=Pi(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Pi(this.tertiaryColor,this.darkMode),this.primaryTextColor=Lt(this.primaryColor),this.secondaryTextColor=Lt(this.secondaryColor),this.tertiaryTextColor=Lt(this.tertiaryColor),this.lineColor=Lt(this.background),this.textColor=Lt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ft(Lt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Kh(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Xt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Xt(this.sectionBkgColor,10),this.taskBorderColor=Kh(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Kh(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ft(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Xt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Ft(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ft(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ft(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Lt(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||Ft(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||ot(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||ot(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ud(this.quadrant1Fill)?Ft(this.quadrant1Fill):Xt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Xt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ft(this.secondaryColor,20),this.git1=Ft(this.pie2||this.secondaryColor,20),this.git2=Ft(this.pie3||this.tertiaryColor,20),this.git3=Ft(this.pie4||ot(this.primaryColor,{h:-30}),20),this.git4=Ft(this.pie5||ot(this.primaryColor,{h:-60}),20),this.git5=Ft(this.pie6||ot(this.primaryColor,{h:-90}),10),this.git6=Ft(this.pie7||ot(this.primaryColor,{h:60}),10),this.git7=Ft(this.pie8||ot(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Lt(this.git0),this.gitInv1=this.gitInv1||Lt(this.git1),this.gitInv2=this.gitInv2||Lt(this.git2),this.gitInv3=this.gitInv3||Lt(this.git3),this.gitInv4=this.gitInv4||Lt(this.git4),this.gitInv5=this.gitInv5||Lt(this.git5),this.gitInv6=this.gitInv6||Lt(this.git6),this.gitInv7=this.gitInv7||Lt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Lt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Lt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ft(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ft(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},T(jc,"Theme"),jc),t8=T(e=>{const t=new Jq;return t.calculate(e),t},"getThemeVariables"),Wc,e8=(Wc=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=ot(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=ot(this.primaryColor,{h:-160}),this.primaryBorderColor=Pi(this.primaryColor,this.darkMode),this.secondaryBorderColor=Pi(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Pi(this.tertiaryColor,this.darkMode),this.primaryTextColor=Lt(this.primaryColor),this.secondaryTextColor=Lt(this.secondaryColor),this.tertiaryTextColor=Lt(this.tertiaryColor),this.lineColor=Lt(this.background),this.textColor=Lt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Kh(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Xt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Xt(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Xt(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Xt(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||ot(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||ot(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||ot(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Lt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Lt(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ft(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ft(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||ot(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||ot(this.primaryColor,{l:-10}),this.pie5=this.pie5||ot(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ot(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||ot(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||ot(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||ot(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||ot(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||ot(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||ot(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ud(this.quadrant1Fill)?Ft(this.quadrant1Fill):Xt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ot(this.primaryColor,{h:-30}),this.git4=this.git4||ot(this.primaryColor,{h:-60}),this.git5=this.git5||ot(this.primaryColor,{h:-90}),this.git6=this.git6||ot(this.primaryColor,{h:60}),this.git7=this.git7||ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=Xt(this.git0,25),this.git1=Xt(this.git1,25),this.git2=Xt(this.git2,25),this.git3=Xt(this.git3,25),this.git4=Xt(this.git4,25),this.git5=Xt(this.git5,25),this.git6=Xt(this.git6,25),this.git7=Xt(this.git7,25)),this.gitInv0=this.gitInv0||Xt(Lt(this.git0),25),this.gitInv1=this.gitInv1||Lt(this.git1),this.gitInv2=this.gitInv2||Lt(this.git2),this.gitInv3=this.gitInv3||Lt(this.git3),this.gitInv4=this.gitInv4||Lt(this.git4),this.gitInv5=this.gitInv5||Lt(this.git5),this.gitInv6=this.gitInv6||Lt(this.git6),this.gitInv7=this.gitInv7||Lt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Lt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Lt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xg,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zg}calculate(t){if(Object.keys(this).forEach(i=>{this[i]==="calculated"&&(this[i]=void 0)}),typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},T(Wc,"Theme"),Wc),n8=T(e=>{const t=new e8;return t.calculate(e),t},"getThemeVariables"),Yc,i8=(Yc=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ft("#cde498",10),this.primaryBorderColor=Pi(this.primaryColor,this.darkMode),this.secondaryBorderColor=Pi(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Pi(this.tertiaryColor,this.darkMode),this.primaryTextColor=Lt(this.primaryColor),this.secondaryTextColor=Lt(this.secondaryColor),this.tertiaryTextColor=Lt(this.primaryColor),this.lineColor=Lt(this.background),this.textColor=Lt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Xt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Xt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Xt(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Xt(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Xt(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||ot(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||ot(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||ot(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ot(this.primaryColor,{l:-30}),this.pie5=this.pie5||ot(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ot(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||ot(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ot(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ot(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ot(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||ot(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||ot(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ud(this.quadrant1Fill)?Ft(this.quadrant1Fill):Xt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ot(this.primaryColor,{h:-30}),this.git4=this.git4||ot(this.primaryColor,{h:-60}),this.git5=this.git5||ot(this.primaryColor,{h:-90}),this.git6=this.git6||ot(this.primaryColor,{h:60}),this.git7=this.git7||ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=Xt(this.git0,25),this.git1=Xt(this.git1,25),this.git2=Xt(this.git2,25),this.git3=Xt(this.git3,25),this.git4=Xt(this.git4,25),this.git5=Xt(this.git5,25),this.git6=Xt(this.git6,25),this.git7=Xt(this.git7,25)),this.gitInv0=this.gitInv0||Lt(this.git0),this.gitInv1=this.gitInv1||Lt(this.git1),this.gitInv2=this.gitInv2||Lt(this.git2),this.gitInv3=this.gitInv3||Lt(this.git3),this.gitInv4=this.gitInv4||Lt(this.git4),this.gitInv5=this.gitInv5||Lt(this.git5),this.gitInv6=this.gitInv6||Lt(this.git6),this.gitInv7=this.gitInv7||Lt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Lt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Lt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xg,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zg}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},T(Yc,"Theme"),Yc),s8=T(e=>{const t=new i8;return t.calculate(e),t},"getThemeVariables"),Gc,a8=(Gc=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ft(this.contrast,55),this.background="#ffffff",this.tertiaryColor=ot(this.primaryColor,{h:-160}),this.primaryBorderColor=Pi(this.primaryColor,this.darkMode),this.secondaryBorderColor=Pi(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Pi(this.tertiaryColor,this.darkMode),this.primaryTextColor=Lt(this.primaryColor),this.secondaryTextColor=Lt(this.secondaryColor),this.tertiaryTextColor=Lt(this.tertiaryColor),this.lineColor=Lt(this.background),this.textColor=Lt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Ft(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ft(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Lt(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||Ft(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Xt(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||ot(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||ot(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ft(this.contrast,30),this.sectionBkgColor2=Ft(this.contrast,30),this.taskBorderColor=Xt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ft(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Xt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ud(this.quadrant1Fill)?Ft(this.quadrant1Fill):Xt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Xt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||ot(this.primaryColor,{h:-30}),this.git4=this.pie5||ot(this.primaryColor,{h:-60}),this.git5=this.pie6||ot(this.primaryColor,{h:-90}),this.git6=this.pie7||ot(this.primaryColor,{h:60}),this.git7=this.pie8||ot(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Lt(this.git0),this.gitInv1=this.gitInv1||Lt(this.git1),this.gitInv2=this.gitInv2||Lt(this.git2),this.gitInv3=this.gitInv3||Lt(this.git3),this.gitInv4=this.gitInv4||Lt(this.git4),this.gitInv5=this.gitInv5||Lt(this.git5),this.gitInv6=this.gitInv6||Lt(this.git6),this.gitInv7=this.gitInv7||Lt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xg,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zg}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},T(Gc,"Theme"),Gc),r8=T(e=>{const t=new a8;return t.calculate(e),t},"getThemeVariables"),Sr={base:{getThemeVariables:Kq},dark:{getThemeVariables:t8},default:{getThemeVariables:n8},forest:{getThemeVariables:s8},neutral:{getThemeVariables:r8}},ba={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},IL={...ba,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Sr.default.getThemeVariables(),sequence:{...ba.sequence,messageFont:T(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:T(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:T(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...ba.gantt,tickInterval:void 0,useWidth:void 0},c4:{...ba.c4,useWidth:void 0,personFont:T(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...ba.flowchart,inheritDir:!1},external_personFont:T(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:T(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:T(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:T(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:T(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:T(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:T(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:T(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:T(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:T(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:T(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:T(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:T(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:T(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:T(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:T(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:T(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:T(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:T(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:T(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:T(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...ba.pie,useWidth:984},xyChart:{...ba.xyChart,useWidth:void 0},requirement:{...ba.requirement,useWidth:void 0},packet:{...ba.packet},radar:{...ba.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},BL=T((e,t="")=>Object.keys(e).reduce((n,i)=>Array.isArray(e[i])?n:typeof e[i]=="object"&&e[i]!==null?[...n,t+i,...BL(e[i],"")]:[...n,t+i],[]),"keyify"),o8=new Set(BL(IL,"")),FL=IL,Km=T(e=>{if(wt.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Km(t));return}for(const t of Object.keys(e)){if(wt.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!o8.has(t)||e[t]==null){wt.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){wt.debug("sanitizing object",t),Km(e[t]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const i of n)t.includes(i)&&(wt.debug("sanitizing css option",t),e[t]=l8(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const n=e.themeVariables[t];n?.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}wt.debug("After sanitization",e)}},"sanitizeDirective"),l8=T(e=>{let t=0,n=0;for(const i of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),nu=Object.freeze(FL),as=si({},nu),Jm,_l=[],td=si({},nu),Qg=T((e,t)=>{let n=si({},e),i={};for(const s of t)zL(s),i=si(i,s);if(n=si(n,i),i.theme&&i.theme in Sr){const s=si({},Jm),a=si(s.themeVariables||{},i.themeVariables);n.theme&&n.theme in Sr&&(n.themeVariables=Sr[n.theme].getThemeVariables(a))}return td=n,PL(td),td},"updateCurrentConfig"),c8=T(e=>(as=si({},nu),as=si(as,e),e.theme&&Sr[e.theme]&&(as.themeVariables=Sr[e.theme].getThemeVariables(e.themeVariables)),Qg(as,_l),as),"setSiteConfig"),u8=T(e=>{Jm=si({},e)},"saveConfigFromInitialize"),h8=T(e=>(as=si(as,e),Qg(as,_l),as),"updateSiteConfig"),UL=T(()=>si({},as),"getSiteConfig"),qL=T(e=>(PL(e),si(td,e),Ri()),"setConfig"),Ri=T(()=>si({},td),"getConfig"),zL=T(e=>{e&&(["secure",...as.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(wt.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&zL(e[t])}))},"sanitize"),d8=T(e=>{Km(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),_l.push(e),Qg(as,_l)},"addDirective"),tg=T((e=as)=>{_l=[],Qg(e,_l)},"reset"),f8={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},LT={},p8=T(e=>{LT[e]||(wt.warn(f8[e]),LT[e]=!0)},"issueWarning"),PL=T(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&p8("LAZY_LOAD_DEPRECATED")},"checkConfig"),jnt=T(()=>{let e={};Jm&&(e=si(e,Jm));for(const t of _l)e=si(e,t);return e},"getUserDefinedConfig"),qd=/<br\s*\/?>/gi,m8=T(e=>e?jL(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),g8=(()=>{let e=!1;return()=>{e||($L(),e=!0)}})();function $L(){const e="data-temp-href-target";eu.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),eu.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}T($L,"setupDompurifyHooks");var HL=T(e=>(g8(),eu.sanitize(e)),"removeScript"),DT=T((e,t)=>{if(t.flowchart?.htmlLabels!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=HL(e):n!=="loose"&&(e=jL(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=v8(e))}return e},"sanitizeMore"),Ys=T((e,t)=>e&&(t.dompurifyConfig?e=eu.sanitize(DT(e,t),t.dompurifyConfig).toString():e=eu.sanitize(DT(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),y8=T((e,t)=>typeof e=="string"?Ys(e,t):e.flat().map(n=>Ys(n,t)),"sanitizeTextOrArray"),b8=T(e=>qd.test(e),"hasBreaks"),_8=T(e=>e.split(qd),"splitBreaks"),v8=T(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),jL=T(e=>e.replace(qd,"#br#"),"breakToPlaceholder"),x8=T(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),li=T(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),w8=T(function(...e){const t=e.filter(n=>!isNaN(n));return Math.max(...t)},"getMax"),S8=T(function(...e){const t=e.filter(n=>!isNaN(n));return Math.min(...t)},"getMin"),OT=T(function(e){const t=e.split(/(,)/),n=[];for(let i=0;i<t.length;i++){let s=t[i];if(s===","&&i>0&&i+1<t.length){const a=t[i-1],o=t[i+1];E8(a,o)&&(s=a+","+o,i++,n.pop())}n.push(T8(s))}return n.join("")},"parseGenericTypes"),ev=T((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),E8=T((e,t)=>{const n=ev(e,"~"),i=ev(t,"~");return n===1&&i===1},"shouldCombineSets"),T8=T(e=>{const t=ev(e,"~");let n=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),n=!0);const i=[...e];let s=i.indexOf("~"),a=i.lastIndexOf("~");for(;s!==-1&&a!==-1&&s!==a;)i[s]="<",i[a]=">",s=i.indexOf("~"),a=i.lastIndexOf("~");return n&&i.unshift("~"),i.join("")},"processSet"),MT=T(()=>window.MathMLElement!==void 0,"isMathMLSupported"),nv=/\$\$(.*)\$\$/g,iu=T(e=>(e.match(nv)?.length??0)>0,"hasKatex"),Wnt=T(async(e,t)=>{const n=document.createElement("div");n.innerHTML=await Mx(e,t),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",n);const s={width:n.clientWidth,height:n.clientHeight};return n.remove(),s},"calculateMathMLDimensions"),k8=T(async(e,t)=>{if(!iu(e))return e;if(!(MT()||t.legacyMathML||t.forceLegacyMathML))return e.replace(nv,"MathML is unsupported in this environment.");{const{default:n}=await en(async()=>{const{default:s}=await import("./katex-DhXJpUyf.js");return{default:s}},[]),i=t.forceLegacyMathML||!MT()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(qd).map(s=>iu(s)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${s}</div>`:`<div>${s}</div>`).join("").replace(nv,(s,a)=>n.renderToString(a,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Mx=T(async(e,t)=>Ys(await k8(e,t),t),"renderKatexSanitized"),mu={getRows:m8,sanitizeText:Ys,sanitizeTextOrArray:y8,hasBreaks:b8,splitBreaks:_8,lineBreakRegex:qd,removeScript:HL,getUrl:x8,evaluate:li,getMax:w8,getMin:S8},C8=T(function(e,t){for(let n of t)e.attr(n[0],n[1])},"d3Attrs"),A8=T(function(e,t,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},"calculateSvgSizeAttrs"),WL=T(function(e,t,n,i){const s=A8(t,n,i);C8(e,s)},"configureSvgSize"),R8=T(function(e,t,n,i){const s=t.node().getBBox(),a=s.width,o=s.height;wt.info(`SVG bounds: ${a}x${o}`,s);let l=0,u=0;wt.info(`Graph bounds: ${l}x${u}`,e),l=a+n*2,u=o+n*2,wt.info(`Calculated bounds: ${l}x${u}`),WL(t,u,l,i);const h=`${s.x-n} ${s.y-n} ${s.width+2*n} ${s.height+2*n}`;t.attr("viewBox",h)},"setupGraphViewbox"),om={},L8=T((e,t,n)=>{let i="";return e in om&&om[e]?i=om[e](n):wt.warn(`No theme found for ${e}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${t}
`},"getStyles"),D8=T((e,t)=>{t!==void 0&&(om[e]=t)},"addStylesForDiagram"),O8=L8,YL={};vq(YL,{clear:()=>M8,getAccDescription:()=>F8,getAccTitle:()=>I8,getDiagramTitle:()=>q8,setAccDescription:()=>B8,setAccTitle:()=>N8,setDiagramTitle:()=>U8});var Nx="",Ix="",Bx="",Fx=T(e=>Ys(e,Ri()),"sanitizeText"),M8=T(()=>{Nx="",Bx="",Ix=""},"clear"),N8=T(e=>{Nx=Fx(e).replace(/^\s+/g,"")},"setAccTitle"),I8=T(()=>Nx,"getAccTitle"),B8=T(e=>{Bx=Fx(e).replace(/\n\s+/g,`
`)},"setAccDescription"),F8=T(()=>Bx,"getAccDescription"),U8=T(e=>{Ix=Fx(e)},"setDiagramTitle"),q8=T(()=>Ix,"getDiagramTitle"),NT=wt,z8=Dx,Je=Ri,Ynt=qL,Gnt=nu,Ux=T(e=>Ys(e,Je()),"sanitizeText"),P8=R8,$8=T(()=>YL,"getCommonDb"),eg={},ng=T((e,t,n)=>{eg[e]&&NT.warn(`Diagram with id ${e} already registered. Overwriting.`),eg[e]=t,n&&NL(e,n),D8(e,t.styles),t.injectUtils?.(NT,z8,Je,Ux,P8,$8(),()=>{})},"registerDiagram"),iv=T(e=>{if(e in eg)return eg[e];throw new H8(e)},"getDiagram"),Vc,H8=(Vc=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},T(Vc,"DiagramNotFoundError"),Vc),j8={value:()=>{}};function GL(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new lm(n)}function lm(e){this._=e}function W8(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}lm.prototype=GL.prototype={constructor:lm,on:function(e,t){var n=this._,i=W8(e+"",n),s,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((s=(e=i[a]).type)&&(s=Y8(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(s=(e=i[a]).type)n[s]=IT(n[s],e.name,t);else if(t==null)for(s in n)n[s]=IT(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new lm(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,a;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,s=a.length;i<s;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,a=i.length;s<a;++s)i[s].value.apply(t,n)}};function Y8(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function IT(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=j8,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var sv="http://www.w3.org/1999/xhtml";const BT={svg:"http://www.w3.org/2000/svg",xhtml:sv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kg(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),BT.hasOwnProperty(t)?{space:BT[t],local:e}:e}function G8(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===sv&&t.documentElement.namespaceURI===sv?t.createElement(e):t.createElementNS(n,e)}}function V8(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function VL(e){var t=Kg(e);return(t.local?V8:G8)(t)}function X8(){}function qx(e){return e==null?X8:function(){return this.querySelector(e)}}function Z8(e){typeof e!="function"&&(e=qx(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=new Array(o),u,h,f=0;f<o;++f)(u=a[f])&&(h=e.call(u,u.__data__,f,a))&&("__data__"in u&&(h.__data__=u.__data__),l[f]=h);return new Ss(i,this._parents)}function Q8(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function K8(){return[]}function XL(e){return e==null?K8:function(){return this.querySelectorAll(e)}}function J8(e){return function(){return Q8(e.apply(this,arguments))}}function tz(e){typeof e=="function"?e=J8(e):e=XL(e);for(var t=this._groups,n=t.length,i=[],s=[],a=0;a<n;++a)for(var o=t[a],l=o.length,u,h=0;h<l;++h)(u=o[h])&&(i.push(e.call(u,u.__data__,h,o)),s.push(u));return new Ss(i,s)}function ZL(e){return function(){return this.matches(e)}}function QL(e){return function(t){return t.matches(e)}}var ez=Array.prototype.find;function nz(e){return function(){return ez.call(this.children,e)}}function iz(){return this.firstElementChild}function sz(e){return this.select(e==null?iz:nz(typeof e=="function"?e:QL(e)))}var az=Array.prototype.filter;function rz(){return Array.from(this.children)}function oz(e){return function(){return az.call(this.children,e)}}function lz(e){return this.selectAll(e==null?rz:oz(typeof e=="function"?e:QL(e)))}function cz(e){typeof e!="function"&&(e=ZL(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],u,h=0;h<o;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&l.push(u);return new Ss(i,this._parents)}function KL(e){return new Array(e.length)}function uz(){return new Ss(this._enter||this._groups.map(KL),this._parents)}function ig(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ig.prototype={constructor:ig,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function hz(e){return function(){return e}}function dz(e,t,n,i,s,a){for(var o=0,l,u=t.length,h=a.length;o<h;++o)(l=t[o])?(l.__data__=a[o],i[o]=l):n[o]=new ig(e,a[o]);for(;o<u;++o)(l=t[o])&&(s[o]=l)}function fz(e,t,n,i,s,a,o){var l,u,h=new Map,f=t.length,m=a.length,g=new Array(f),y;for(l=0;l<f;++l)(u=t[l])&&(g[l]=y=o.call(u,u.__data__,l,t)+"",h.has(y)?s[l]=u:h.set(y,u));for(l=0;l<m;++l)y=o.call(e,a[l],l,a)+"",(u=h.get(y))?(i[l]=u,u.__data__=a[l],h.delete(y)):n[l]=new ig(e,a[l]);for(l=0;l<f;++l)(u=t[l])&&h.get(g[l])===u&&(s[l]=u)}function pz(e){return e.__data__}function mz(e,t){if(!arguments.length)return Array.from(this,pz);var n=t?fz:dz,i=this._parents,s=this._groups;typeof e!="function"&&(e=hz(e));for(var a=s.length,o=new Array(a),l=new Array(a),u=new Array(a),h=0;h<a;++h){var f=i[h],m=s[h],g=m.length,y=gz(e.call(f,f&&f.__data__,h,i)),_=y.length,b=l[h]=new Array(_),w=o[h]=new Array(_),S=u[h]=new Array(g);n(f,m,b,w,S,y,t);for(var E=0,C=0,D,R;E<_;++E)if(D=b[E]){for(E>=C&&(C=E+1);!(R=w[C])&&++C<_;);D._next=R||null}}return o=new Ss(o,i),o._enter=l,o._exit=u,o}function gz(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yz(){return new Ss(this._exit||this._groups.map(KL),this._parents)}function bz(e,t,n){var i=this.enter(),s=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),i&&s?i.merge(s).order():s}function _z(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,s=n.length,a=i.length,o=Math.min(s,a),l=new Array(s),u=0;u<o;++u)for(var h=n[u],f=i[u],m=h.length,g=l[u]=new Array(m),y,_=0;_<m;++_)(y=h[_]||f[_])&&(g[_]=y);for(;u<s;++u)l[u]=n[u];return new Ss(l,this._parents)}function vz(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],s=i.length-1,a=i[s],o;--s>=0;)(o=i[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function xz(e){e||(e=wz);function t(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a){for(var o=n[a],l=o.length,u=s[a]=new Array(l),h,f=0;f<l;++f)(h=o[f])&&(u[f]=h);u.sort(t)}return new Ss(s,this._parents).order()}function wz(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Sz(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ez(){return Array.from(this)}function Tz(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length;s<a;++s){var o=i[s];if(o)return o}return null}function kz(){let e=0;for(const t of this)++e;return e}function Cz(){return!this.node()}function Az(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s);return this}function Rz(e){return function(){this.removeAttribute(e)}}function Lz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Dz(e,t){return function(){this.setAttribute(e,t)}}function Oz(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Mz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Nz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Iz(e,t){var n=Kg(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Lz:Rz:typeof t=="function"?n.local?Nz:Mz:n.local?Oz:Dz)(n,t))}function JL(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bz(e){return function(){this.style.removeProperty(e)}}function Fz(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Uz(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function qz(e,t,n){return arguments.length>1?this.each((t==null?Bz:typeof t=="function"?Uz:Fz)(e,t,n??"")):su(this.node(),e)}function su(e,t){return e.style.getPropertyValue(t)||JL(e).getComputedStyle(e,null).getPropertyValue(t)}function zz(e){return function(){delete this[e]}}function Pz(e,t){return function(){this[e]=t}}function $z(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Hz(e,t){return arguments.length>1?this.each((t==null?zz:typeof t=="function"?$z:Pz)(e,t)):this.node()[e]}function tD(e){return e.trim().split(/^|\s+/)}function zx(e){return e.classList||new eD(e)}function eD(e){this._node=e,this._names=tD(e.getAttribute("class")||"")}eD.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function nD(e,t){for(var n=zx(e),i=-1,s=t.length;++i<s;)n.add(t[i])}function iD(e,t){for(var n=zx(e),i=-1,s=t.length;++i<s;)n.remove(t[i])}function jz(e){return function(){nD(this,e)}}function Wz(e){return function(){iD(this,e)}}function Yz(e,t){return function(){(t.apply(this,arguments)?nD:iD)(this,e)}}function Gz(e,t){var n=tD(e+"");if(arguments.length<2){for(var i=zx(this.node()),s=-1,a=n.length;++s<a;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Yz:t?jz:Wz)(n,t))}function Vz(){this.textContent=""}function Xz(e){return function(){this.textContent=e}}function Zz(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Qz(e){return arguments.length?this.each(e==null?Vz:(typeof e=="function"?Zz:Xz)(e)):this.node().textContent}function Kz(){this.innerHTML=""}function Jz(e){return function(){this.innerHTML=e}}function t9(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function e9(e){return arguments.length?this.each(e==null?Kz:(typeof e=="function"?t9:Jz)(e)):this.node().innerHTML}function n9(){this.nextSibling&&this.parentNode.appendChild(this)}function i9(){return this.each(n9)}function s9(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function a9(){return this.each(s9)}function r9(e){var t=typeof e=="function"?e:VL(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function o9(){return null}function l9(e,t){var n=typeof e=="function"?e:VL(e),i=t==null?o9:typeof t=="function"?t:qx(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function c9(){var e=this.parentNode;e&&e.removeChild(this)}function u9(){return this.each(c9)}function h9(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function d9(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function f9(e){return this.select(e?d9:h9)}function p9(e){return arguments.length?this.property("__data__",e):this.node().__data__}function m9(e){return function(t){e.call(this,t,this.__data__)}}function g9(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function y9(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function b9(e,t,n){return function(){var i=this.__on,s,a=m9(t);if(i){for(var o=0,l=i.length;o<l;++o)if((s=i[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(s):this.__on=[s]}}function _9(e,t,n){var i=g9(e+""),s,a=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,h=l.length,f;u<h;++u)for(s=0,f=l[u];s<a;++s)if((o=i[s]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?b9:y9,s=0;s<a;++s)this.each(l(i[s],t,n));return this}function sD(e,t,n){var i=JL(e),s=i.CustomEvent;typeof s=="function"?s=new s(t,n):(s=i.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function v9(e,t){return function(){return sD(this,e,t)}}function x9(e,t){return function(){return sD(this,e,t.apply(this,arguments))}}function w9(e,t){return this.each((typeof t=="function"?x9:v9)(e,t))}function*S9(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length,o;s<a;++s)(o=i[s])&&(yield o)}var aD=[null];function Ss(e,t){this._groups=e,this._parents=t}function zd(){return new Ss([[document.documentElement]],aD)}function E9(){return this}Ss.prototype=zd.prototype={constructor:Ss,select:Z8,selectAll:tz,selectChild:sz,selectChildren:lz,filter:cz,data:mz,enter:uz,exit:yz,join:bz,merge:_z,selection:E9,order:vz,sort:xz,call:Sz,nodes:Ez,node:Tz,size:kz,empty:Cz,each:Az,attr:Iz,style:qz,property:Hz,classed:Gz,text:Qz,html:e9,raise:i9,lower:a9,append:r9,insert:l9,remove:u9,clone:f9,datum:p9,on:_9,dispatch:w9,[Symbol.iterator]:S9};function ze(e){return typeof e=="string"?new Ss([[document.querySelector(e)]],[document.documentElement]):new Ss([[e]],aD)}function Px(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rD(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Pd(){}var fd=.7,sg=1/fd,Uc="\\s*([+-]?\\d+)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T9=/^#([0-9a-f]{3,8})$/,k9=new RegExp(`^rgb\\(${Uc},${Uc},${Uc}\\)$`),C9=new RegExp(`^rgb\\(${Na},${Na},${Na}\\)$`),A9=new RegExp(`^rgba\\(${Uc},${Uc},${Uc},${pd}\\)$`),R9=new RegExp(`^rgba\\(${Na},${Na},${Na},${pd}\\)$`),L9=new RegExp(`^hsl\\(${pd},${Na},${Na}\\)$`),D9=new RegExp(`^hsla\\(${pd},${Na},${Na},${pd}\\)$`),FT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Px(Pd,md,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:UT,formatHex:UT,formatHex8:O9,formatHsl:M9,formatRgb:qT,toString:qT});function UT(){return this.rgb().formatHex()}function O9(){return this.rgb().formatHex8()}function M9(){return oD(this).formatHsl()}function qT(){return this.rgb().formatRgb()}function md(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=T9.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zT(t):n===3?new ls(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=k9.exec(e))?new ls(t[1],t[2],t[3],1):(t=C9.exec(e))?new ls(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=A9.exec(e))?bp(t[1],t[2],t[3],t[4]):(t=R9.exec(e))?bp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L9.exec(e))?HT(t[1],t[2]/100,t[3]/100,1):(t=D9.exec(e))?HT(t[1],t[2]/100,t[3]/100,t[4]):FT.hasOwnProperty(e)?zT(FT[e]):e==="transparent"?new ls(NaN,NaN,NaN,0):null}function zT(e){return new ls(e>>16&255,e>>8&255,e&255,1)}function bp(e,t,n,i){return i<=0&&(e=t=n=NaN),new ls(e,t,n,i)}function N9(e){return e instanceof Pd||(e=md(e)),e?(e=e.rgb(),new ls(e.r,e.g,e.b,e.opacity)):new ls}function av(e,t,n,i){return arguments.length===1?N9(e):new ls(e,t,n,i??1)}function ls(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Px(ls,av,rD(Pd,{brighter(e){return e=e==null?sg:Math.pow(sg,e),new ls(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fd:Math.pow(fd,e),new ls(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ls(fl(this.r),fl(this.g),fl(this.b),ag(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PT,formatHex:PT,formatHex8:I9,formatRgb:$T,toString:$T}));function PT(){return`#${ol(this.r)}${ol(this.g)}${ol(this.b)}`}function I9(){return`#${ol(this.r)}${ol(this.g)}${ol(this.b)}${ol((isNaN(this.opacity)?1:this.opacity)*255)}`}function $T(){const e=ag(this.opacity);return`${e===1?"rgb(":"rgba("}${fl(this.r)}, ${fl(this.g)}, ${fl(this.b)}${e===1?")":`, ${e})`}`}function ag(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ol(e){return e=fl(e),(e<16?"0":"")+e.toString(16)}function HT(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new aa(e,t,n,i)}function oD(e){if(e instanceof aa)return new aa(e.h,e.s,e.l,e.opacity);if(e instanceof Pd||(e=md(e)),!e)return new aa;if(e instanceof aa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,l=a-s,u=(a+s)/2;return l?(t===a?o=(n-i)/l+(n<i)*6:n===a?o=(i-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+s:2-a-s,o*=60):l=u>0&&u<1?0:o,new aa(o,l,u,e.opacity)}function B9(e,t,n,i){return arguments.length===1?oD(e):new aa(e,t,n,i??1)}function aa(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Px(aa,B9,rD(Pd,{brighter(e){return e=e==null?sg:Math.pow(sg,e),new aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fd:Math.pow(fd,e),new aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new ls(i_(e>=240?e-240:e+120,s,i),i_(e,s,i),i_(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new aa(jT(this.h),_p(this.s),_p(this.l),ag(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ag(this.opacity);return`${e===1?"hsl(":"hsla("}${jT(this.h)}, ${_p(this.s)*100}%, ${_p(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jT(e){return e=(e||0)%360,e<0?e+360:e}function _p(e){return Math.max(0,Math.min(1,e||0))}function i_(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $x=e=>()=>e;function lD(e,t){return function(n){return e+n*t}}function F9(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Vnt(e,t){var n=t-e;return n?lD(e,n>180||n<-180?n-360*Math.round(n/360):n):$x(isNaN(e)?t:e)}function U9(e){return(e=+e)==1?cD:function(t,n){return n-t?F9(t,n,e):$x(isNaN(t)?n:t)}}function cD(e,t){var n=t-e;return n?lD(e,n):$x(isNaN(e)?t:e)}const WT=(function e(t){var n=U9(t);function i(s,a){var o=n((s=av(s)).r,(a=av(a)).r),l=n(s.g,a.g),u=n(s.b,a.b),h=cD(s.opacity,a.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=u(f),s.opacity=h(f),s+""}}return i.gamma=e,i})(1);function co(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var rv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s_=new RegExp(rv.source,"g");function q9(e){return function(){return e}}function z9(e){return function(t){return e(t)+""}}function P9(e,t){var n=rv.lastIndex=s_.lastIndex=0,i,s,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(i=rv.exec(e))&&(s=s_.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:co(i,s)})),n=s_.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?z9(u[0].x):q9(t):(t=u.length,function(h){for(var f=0,m;f<t;++f)l[(m=u[f]).i]=m.x(h);return l.join("")})}var YT=180/Math.PI,ov={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uD(e,t,n,i,s,a){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*i)&&(n-=e*u,i-=t*u),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,u/=l),e*i<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*YT,skewX:Math.atan(u)*YT,scaleX:o,scaleY:l}}var vp;function $9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ov:uD(t.a,t.b,t.c,t.d,t.e,t.f)}function H9(e){return e==null||(vp||(vp=document.createElementNS("http://www.w3.org/2000/svg","g")),vp.setAttribute("transform",e),!(e=vp.transform.baseVal.consolidate()))?ov:(e=e.matrix,uD(e.a,e.b,e.c,e.d,e.e,e.f))}function hD(e,t,n,i){function s(h){return h.length?h.pop()+" ":""}function a(h,f,m,g,y,_){if(h!==m||f!==g){var b=y.push("translate(",null,t,null,n);_.push({i:b-4,x:co(h,m)},{i:b-2,x:co(f,g)})}else(m||g)&&y.push("translate("+m+t+g+n)}function o(h,f,m,g){h!==f?(h-f>180?f+=360:f-h>180&&(h+=360),g.push({i:m.push(s(m)+"rotate(",null,i)-2,x:co(h,f)})):f&&m.push(s(m)+"rotate("+f+i)}function l(h,f,m,g){h!==f?g.push({i:m.push(s(m)+"skewX(",null,i)-2,x:co(h,f)}):f&&m.push(s(m)+"skewX("+f+i)}function u(h,f,m,g,y,_){if(h!==m||f!==g){var b=y.push(s(y)+"scale(",null,",",null,")");_.push({i:b-4,x:co(h,m)},{i:b-2,x:co(f,g)})}else(m!==1||g!==1)&&y.push(s(y)+"scale("+m+","+g+")")}return function(h,f){var m=[],g=[];return h=e(h),f=e(f),a(h.translateX,h.translateY,f.translateX,f.translateY,m,g),o(h.rotate,f.rotate,m,g),l(h.skewX,f.skewX,m,g),u(h.scaleX,h.scaleY,f.scaleX,f.scaleY,m,g),h=f=null,function(y){for(var _=-1,b=g.length,w;++_<b;)m[(w=g[_]).i]=w.x(y);return m.join("")}}}var j9=hD($9,"px, ","px)","deg)"),W9=hD(H9,", ",")",")"),au=0,qh=0,_h=0,dD=1e3,rg,zh,og=0,vl=0,Jg=0,gd=typeof performance=="object"&&performance.now?performance:Date,fD=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Hx(){return vl||(fD(Y9),vl=gd.now()+Jg)}function Y9(){vl=0}function lg(){this._call=this._time=this._next=null}lg.prototype=pD.prototype={constructor:lg,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Hx():+n)+(t==null?0:+t),!this._next&&zh!==this&&(zh?zh._next=this:rg=this,zh=this),this._call=e,this._time=n,lv()},stop:function(){this._call&&(this._call=null,this._time=1/0,lv())}};function pD(e,t,n){var i=new lg;return i.restart(e,t,n),i}function G9(){Hx(),++au;for(var e=rg,t;e;)(t=vl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--au}function GT(){vl=(og=gd.now())+Jg,au=qh=0;try{G9()}finally{au=0,X9(),vl=0}}function V9(){var e=gd.now(),t=e-og;t>dD&&(Jg-=t,og=e)}function X9(){for(var e,t=rg,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:rg=n);zh=e,lv(i)}function lv(e){if(!au){qh&&(qh=clearTimeout(qh));var t=e-vl;t>24?(e<1/0&&(qh=setTimeout(GT,e-gd.now()-Jg)),_h&&(_h=clearInterval(_h))):(_h||(og=gd.now(),_h=setInterval(V9,dD)),au=1,fD(GT))}}function VT(e,t,n){var i=new lg;return t=t==null?0:+t,i.restart(s=>{i.stop(),e(s+t)},t,n),i}var Z9=GL("start","end","cancel","interrupt"),Q9=[],mD=0,XT=1,cv=2,cm=3,ZT=4,uv=5,um=6;function ty(e,t,n,i,s,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;K9(e,n,{name:t,index:i,group:s,on:Z9,tween:Q9,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:mD})}function jx(e,t){var n=da(e,t);if(n.state>mD)throw new Error("too late; already scheduled");return n}function Pa(e,t){var n=da(e,t);if(n.state>cm)throw new Error("too late; already running");return n}function da(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function K9(e,t,n){var i=e.__transition,s;i[t]=n,n.timer=pD(a,0,n.time);function a(h){n.state=XT,n.timer.restart(o,n.delay,n.time),n.delay<=h&&o(h-n.delay)}function o(h){var f,m,g,y;if(n.state!==XT)return u();for(f in i)if(y=i[f],y.name===n.name){if(y.state===cm)return VT(o);y.state===ZT?(y.state=um,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete i[f]):+f<t&&(y.state=um,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete i[f])}if(VT(function(){n.state===cm&&(n.state=ZT,n.timer.restart(l,n.delay,n.time),l(h))}),n.state=cv,n.on.call("start",e,e.__data__,n.index,n.group),n.state===cv){for(n.state=cm,s=new Array(g=n.tween.length),f=0,m=-1;f<g;++f)(y=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(s[++m]=y);s.length=m+1}}function l(h){for(var f=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(u),n.state=uv,1),m=-1,g=s.length;++m<g;)s[m].call(e,f);n.state===uv&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=um,n.timer.stop(),delete i[t];for(var h in i)return;delete e.__transition}}function J9(e,t){var n=e.__transition,i,s,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){a=!1;continue}s=i.state>cv&&i.state<uv,i.state=um,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}a&&delete e.__transition}}function tP(e){return this.each(function(){J9(this,e)})}function eP(e,t){var n,i;return function(){var s=Pa(this,e),a=s.tween;if(a!==n){i=n=a;for(var o=0,l=i.length;o<l;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}s.tween=i}}function nP(e,t,n){var i,s;if(typeof n!="function")throw new Error;return function(){var a=Pa(this,e),o=a.tween;if(o!==i){s=(i=o).slice();for(var l={name:t,value:n},u=0,h=s.length;u<h;++u)if(s[u].name===t){s[u]=l;break}u===h&&s.push(l)}a.tween=s}}function iP(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=da(this.node(),n).tween,s=0,a=i.length,o;s<a;++s)if((o=i[s]).name===e)return o.value;return null}return this.each((t==null?eP:nP)(n,e,t))}function Wx(e,t,n){var i=e._id;return e.each(function(){var s=Pa(this,i);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return da(s,i).value[t]}}function gD(e,t){var n;return(typeof t=="number"?co:t instanceof md?WT:(n=md(t))?(t=n,WT):P9)(e,t)}function sP(e){return function(){this.removeAttribute(e)}}function aP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rP(e,t,n){var i,s=n+"",a;return function(){var o=this.getAttribute(e);return o===s?null:o===i?a:a=t(i=o,n)}}function oP(e,t,n){var i,s=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===i?a:a=t(i=o,n)}}function lP(e,t,n){var i,s,a;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===i&&u===s?a:(s=u,a=t(i=o,l)))}}function cP(e,t,n){var i,s,a;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===i&&u===s?a:(s=u,a=t(i=o,l)))}}function uP(e,t){var n=Kg(e),i=n==="transform"?W9:gD;return this.attrTween(e,typeof t=="function"?(n.local?cP:lP)(n,i,Wx(this,"attr."+e,t)):t==null?(n.local?aP:sP)(n):(n.local?oP:rP)(n,i,t))}function hP(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function dP(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function fP(e,t){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&dP(e,a)),n}return s._value=t,s}function pP(e,t){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&hP(e,a)),n}return s._value=t,s}function mP(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Kg(e);return this.tween(n,(i.local?fP:pP)(i,t))}function gP(e,t){return function(){jx(this,e).delay=+t.apply(this,arguments)}}function yP(e,t){return t=+t,function(){jx(this,e).delay=t}}function bP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gP:yP)(t,e)):da(this.node(),t).delay}function _P(e,t){return function(){Pa(this,e).duration=+t.apply(this,arguments)}}function vP(e,t){return t=+t,function(){Pa(this,e).duration=t}}function xP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_P:vP)(t,e)):da(this.node(),t).duration}function wP(e,t){if(typeof t!="function")throw new Error;return function(){Pa(this,e).ease=t}}function SP(e){var t=this._id;return arguments.length?this.each(wP(t,e)):da(this.node(),t).ease}function EP(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Pa(this,e).ease=n}}function TP(e){if(typeof e!="function")throw new Error;return this.each(EP(this._id,e))}function kP(e){typeof e!="function"&&(e=ZL(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],u,h=0;h<o;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&l.push(u);return new Tr(i,this._parents,this._name,this._id)}function CP(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var u=t[l],h=n[l],f=u.length,m=o[l]=new Array(f),g,y=0;y<f;++y)(g=u[y]||h[y])&&(m[y]=g);for(;l<i;++l)o[l]=t[l];return new Tr(o,this._parents,this._name,this._id)}function AP(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function RP(e,t,n){var i,s,a=AP(t)?jx:Pa;return function(){var o=a(this,e),l=o.on;l!==i&&(s=(i=l).copy()).on(t,n),o.on=s}}function LP(e,t){var n=this._id;return arguments.length<2?da(this.node(),n).on.on(e):this.each(RP(n,e,t))}function DP(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function OP(){return this.on("end.remove",DP(this._id))}function MP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qx(e));for(var i=this._groups,s=i.length,a=new Array(s),o=0;o<s;++o)for(var l=i[o],u=l.length,h=a[o]=new Array(u),f,m,g=0;g<u;++g)(f=l[g])&&(m=e.call(f,f.__data__,g,l))&&("__data__"in f&&(m.__data__=f.__data__),h[g]=m,ty(h[g],t,n,g,h,da(f,n)));return new Tr(a,this._parents,t,n)}function NP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=XL(e));for(var i=this._groups,s=i.length,a=[],o=[],l=0;l<s;++l)for(var u=i[l],h=u.length,f,m=0;m<h;++m)if(f=u[m]){for(var g=e.call(f,f.__data__,m,u),y,_=da(f,n),b=0,w=g.length;b<w;++b)(y=g[b])&&ty(y,t,n,b,g,_);a.push(g),o.push(f)}return new Tr(a,o,t,n)}var IP=zd.prototype.constructor;function BP(){return new IP(this._groups,this._parents)}function FP(e,t){var n,i,s;return function(){var a=su(this,e),o=(this.style.removeProperty(e),su(this,e));return a===o?null:a===n&&o===i?s:s=t(n=a,i=o)}}function yD(e){return function(){this.style.removeProperty(e)}}function UP(e,t,n){var i,s=n+"",a;return function(){var o=su(this,e);return o===s?null:o===i?a:a=t(i=o,n)}}function qP(e,t,n){var i,s,a;return function(){var o=su(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),su(this,e))),o===u?null:o===i&&u===s?a:(s=u,a=t(i=o,l))}}function zP(e,t){var n,i,s,a="style."+t,o="end."+a,l;return function(){var u=Pa(this,e),h=u.on,f=u.value[a]==null?l||(l=yD(t)):void 0;(h!==n||s!==f)&&(i=(n=h).copy()).on(o,s=f),u.on=i}}function PP(e,t,n){var i=(e+="")=="transform"?j9:gD;return t==null?this.styleTween(e,FP(e,i)).on("end.style."+e,yD(e)):typeof t=="function"?this.styleTween(e,qP(e,i,Wx(this,"style."+e,t))).each(zP(this._id,e)):this.styleTween(e,UP(e,i,t),n).on("end.style."+e,null)}function $P(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function HP(e,t,n){var i,s;function a(){var o=t.apply(this,arguments);return o!==s&&(i=(s=o)&&$P(e,o,n)),i}return a._value=t,a}function jP(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,HP(e,t,n??""))}function WP(e){return function(){this.textContent=e}}function YP(e){return function(){var t=e(this);this.textContent=t??""}}function GP(e){return this.tween("text",typeof e=="function"?YP(Wx(this,"text",e)):WP(e==null?"":e+""))}function VP(e){return function(t){this.textContent=e.call(this,t)}}function XP(e){var t,n;function i(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&VP(s)),t}return i._value=e,i}function ZP(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,XP(e))}function QP(){for(var e=this._name,t=this._id,n=bD(),i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,u,h=0;h<l;++h)if(u=o[h]){var f=da(u,t);ty(u,e,n,h,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Tr(i,this._parents,e,n)}function KP(){var e,t,n=this,i=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},u={value:function(){--s===0&&a()}};n.each(function(){var h=Pa(this,i),f=h.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),h.on=t}),s===0&&a()})}var JP=0;function Tr(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function bD(){return++JP}var cr=zd.prototype;Tr.prototype={constructor:Tr,select:MP,selectAll:NP,selectChild:cr.selectChild,selectChildren:cr.selectChildren,filter:kP,merge:CP,selection:BP,transition:QP,call:cr.call,nodes:cr.nodes,node:cr.node,size:cr.size,empty:cr.empty,each:cr.each,on:LP,attr:uP,attrTween:mP,style:PP,styleTween:jP,text:GP,textTween:ZP,remove:OP,tween:iP,delay:bP,duration:xP,ease:SP,easeVarying:TP,end:KP,[Symbol.iterator]:cr[Symbol.iterator]};function t$(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var e$={time:null,delay:0,duration:250,ease:t$};function n$(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function i$(e){var t,n;e instanceof Tr?(t=e._id,e=e._name):(t=bD(),(n=e$).time=Hx(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,u,h=0;h<l;++h)(u=o[h])&&ty(u,e,t,h,o,n||n$(u,t));return new Tr(i,this._parents,e,t)}zd.prototype.interrupt=tP;zd.prototype.transition=i$;const hv=Math.PI,dv=2*hv,tl=1e-6,s$=dv-tl;function _D(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function a$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _D;const n=10**t;return function(i){this._+=i[0];for(let s=1,a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class r${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_D:a$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,a,o){this._append`C${+t},${+n},${+i},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,i,s,a){if(t=+t,n=+n,i=+i,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=i-t,h=s-n,f=o-t,m=l-n,g=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>tl)if(!(Math.abs(m*u-h*f)>tl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=i-o,_=s-l,b=u*u+h*h,w=y*y+_*_,S=Math.sqrt(b),E=Math.sqrt(g),C=a*Math.tan((hv-Math.acos((b+g-w)/(2*S*E)))/2),D=C/E,R=C/S;Math.abs(D-1)>tl&&this._append`L${t+D*f},${n+D*m}`,this._append`A${a},${a},0,0,${+(m*y>f*_)},${this._x1=t+R*u},${this._y1=n+R*h}`}}arc(t,n,i,s,a,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),u=i*Math.sin(s),h=t+l,f=n+u,m=1^o,g=o?s-a:a-s;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>tl||Math.abs(this._y1-f)>tl)&&this._append`L${h},${f}`,i&&(g<0&&(g=g%dv+dv),g>s$?this._append`A${i},${i},0,1,${m},${t-l},${n-u}A${i},${i},0,1,${m},${this._x1=h},${this._y1=f}`:g>tl&&this._append`A${i},${i},0,${+(g>=hv)},${m},${this._x1=t+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function mc(e){return function(){return e}}const Xnt=Math.abs,Znt=Math.atan2,Qnt=Math.cos,Knt=Math.max,Jnt=Math.min,tit=Math.sin,eit=Math.sqrt,QT=1e-12,Yx=Math.PI,KT=Yx/2,nit=2*Yx;function iit(e){return e>1?0:e<-1?Yx:Math.acos(e)}function sit(e){return e>=1?KT:e<=-1?-KT:Math.asin(e)}function o$(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new r$(t)}function l$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vD(e){this._context=e}vD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cg(e){return new vD(e)}function c$(e){return e[0]}function u$(e){return e[1]}function h$(e,t){var n=mc(!0),i=null,s=cg,a=null,o=o$(l);e=typeof e=="function"?e:e===void 0?c$:mc(e),t=typeof t=="function"?t:t===void 0?u$:mc(t);function l(u){var h,f=(u=l$(u)).length,m,g=!1,y;for(i==null&&(a=s(y=o())),h=0;h<=f;++h)!(h<f&&n(m=u[h],h,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(m,h,u),+t(m,h,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:mc(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:mc(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:mc(!!u),l):n},l.curve=function(u){return arguments.length?(s=u,i!=null&&(a=s(i)),l):s},l.context=function(u){return arguments.length?(u==null?i=a=null:a=s(i=u),l):i},l}class xD{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function wD(e){return new xD(e,!0)}function SD(e){return new xD(e,!1)}function So(){}function ug(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ey(e){this._context=e}ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ug(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ug(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hm(e){return new ey(e)}function ED(e){this._context=e}ED.prototype={areaStart:So,areaEnd:So,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ug(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d$(e){return new ED(e)}function TD(e){this._context=e}TD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:ug(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function f$(e){return new TD(e)}function kD(e,t){this._basis=new ey(e),this._beta=t}kD.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i=e[0],s=t[0],a=e[n]-i,o=t[n]-s,l=-1,u;++l<=n;)u=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+u*a),this._beta*t[l]+(1-this._beta)*(s+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const p$=(function e(t){function n(i){return t===1?new ey(i):new kD(i,t)}return n.beta=function(i){return e(+i)},n})(.85);function hg(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Gx(e,t){this._context=e,this._k=(1-t)/6}Gx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:hg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:hg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const CD=(function e(t){function n(i){return new Gx(i,t)}return n.tension=function(i){return e(+i)},n})(0);function Vx(e,t){this._context=e,this._k=(1-t)/6}Vx.prototype={areaStart:So,areaEnd:So,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:hg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const m$=(function e(t){function n(i){return new Vx(i,t)}return n.tension=function(i){return e(+i)},n})(0);function Xx(e,t){this._context=e,this._k=(1-t)/6}Xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const g$=(function e(t){function n(i){return new Xx(i,t)}return n.tension=function(i){return e(+i)},n})(0);function Zx(e,t,n){var i=e._x1,s=e._y1,a=e._x2,o=e._y2;if(e._l01_a>QT){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,s=(s*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>QT){var h=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*h+e._x1*e._l23_2a-t*e._l12_2a)/f,o=(o*h+e._y1*e._l23_2a-n*e._l12_2a)/f}e._context.bezierCurveTo(i,s,a,o,e._x2,e._y2)}function AD(e,t){this._context=e,this._alpha=t}AD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Zx(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const RD=(function e(t){function n(i){return t?new AD(i,t):new Gx(i,0)}return n.alpha=function(i){return e(+i)},n})(.5);function LD(e,t){this._context=e,this._alpha=t}LD.prototype={areaStart:So,areaEnd:So,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Zx(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const y$=(function e(t){function n(i){return t?new LD(i,t):new Vx(i,0)}return n.alpha=function(i){return e(+i)},n})(.5);function DD(e,t){this._context=e,this._alpha=t}DD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zx(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const b$=(function e(t){function n(i){return t?new DD(i,t):new Xx(i,0)}return n.alpha=function(i){return e(+i)},n})(.5);function OD(e){this._context=e}OD.prototype={areaStart:So,areaEnd:So,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _$(e){return new OD(e)}function JT(e){return e<0?-1:1}function tk(e,t,n){var i=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(i||s<0&&-0),o=(n-e._y1)/(s||i<0&&-0),l=(a*s+o*i)/(i+s);return(JT(a)+JT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function ek(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function a_(e,t,n){var i=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-i)/3;e._context.bezierCurveTo(i+l,s+l*t,a-l,o-l*n,a,o)}function dg(e){this._context=e}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a_(this,this._t0,ek(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,a_(this,ek(this,n=tk(this,e,t)),n);break;default:a_(this,this._t0,n=tk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function MD(e){this._context=new ND(e)}(MD.prototype=Object.create(dg.prototype)).point=function(e,t){dg.prototype.point.call(this,t,e)};function ND(e){this._context=e}ND.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,s,a){this._context.bezierCurveTo(t,e,i,n,a,s)}};function ID(e){return new dg(e)}function BD(e){return new MD(e)}function FD(e){this._context=e}FD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=nk(e),s=nk(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],s[0][a],i[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nk(e){var t,n=e.length-1,i,s=new Array(n),a=new Array(n),o=new Array(n);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=s[t]/a[t-1],a[t]-=i,o[t]-=i*o[t-1];for(s[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function UD(e){return new FD(e)}function ny(e,t){this._context=e,this._t=t}ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function qD(e){return new ny(e,.5)}function zD(e){return new ny(e,0)}function PD(e){return new ny(e,1)}function Ph(e,t,n){this.k=e,this.x=t,this.y=n}Ph.prototype={constructor:Ph,scale:function(e){return e===1?this:new Ph(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ph(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ph.prototype;var v$=T(e=>{const{securityLevel:t}=Je();let n=ze("body");if(t==="sandbox"){const a=ze(`#i${e}`).node()?.contentDocument??document;n=ze(a.body)}return n.select(`#${e}`)},"selectSvgElement");function Qx(e){return typeof e>"u"||e===null}T(Qx,"isNothing");function $D(e){return typeof e=="object"&&e!==null}T($D,"isObject");function HD(e){return Array.isArray(e)?e:Qx(e)?[]:[e]}T(HD,"toArray");function jD(e,t){var n,i,s,a;if(t)for(a=Object.keys(t),n=0,i=a.length;n<i;n+=1)s=a[n],e[s]=t[s];return e}T(jD,"extend");function WD(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}T(WD,"repeat");function YD(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}T(YD,"isNegativeZero");var x$=Qx,w$=$D,S$=HD,E$=WD,T$=YD,k$=jD,ai={isNothing:x$,isObject:w$,toArray:S$,repeat:E$,isNegativeZero:T$,extend:k$};function Kx(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}T(Kx,"formatError");function ru(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Kx(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}T(ru,"YAMLException$1");ru.prototype=Object.create(Error.prototype);ru.prototype.constructor=ru;ru.prototype.toString=T(function(t){return this.name+": "+Kx(this,t)},"toString");var rs=ru;function dm(e,t,n,i,s){var a="",o="",l=Math.floor(s/2)-1;return i-t>l&&(a=" ... ",t=i-l+a.length),n-i>l&&(o=" ...",n=i+l-o.length),{str:a+e.slice(t,n).replace(/\t/g,"")+o,pos:i-t+a.length}}T(dm,"getLine");function fm(e,t){return ai.repeat(" ",t-e.length)+e}T(fm,"padStart");function GD(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],s=[],a,o=-1;a=n.exec(e.buffer);)s.push(a.index),i.push(a.index+a[0].length),e.position<=a.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var l="",u,h,f=Math.min(e.line+t.linesAfter,s.length).toString().length,m=t.maxLength-(t.indent+f+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)h=dm(e.buffer,i[o-u],s[o-u],e.position-(i[o]-i[o-u]),m),l=ai.repeat(" ",t.indent)+fm((e.line-u+1).toString(),f)+" | "+h.str+`
`+l;for(h=dm(e.buffer,i[o],s[o],e.position,m),l+=ai.repeat(" ",t.indent)+fm((e.line+1).toString(),f)+" | "+h.str+`
`,l+=ai.repeat("-",t.indent+f+3+h.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=s.length);u++)h=dm(e.buffer,i[o+u],s[o+u],e.position-(i[o]-i[o+u]),m),l+=ai.repeat(" ",t.indent)+fm((e.line+u+1).toString(),f)+" | "+h.str+`
`;return l.replace(/\n$/,"")}T(GD,"makeSnippet");var C$=GD,A$=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],R$=["scalar","sequence","mapping"];function VD(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}T(VD,"compileStyleAliases");function XD(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(A$.indexOf(n)===-1)throw new rs('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=VD(t.styleAliases||null),R$.indexOf(this.kind)===-1)throw new rs('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}T(XD,"Type$1");var Li=XD;function fv(e,t){var n=[];return e[t].forEach(function(i){var s=n.length;n.forEach(function(a,o){a.tag===i.tag&&a.kind===i.kind&&a.multi===i.multi&&(s=o)}),n[s]=i}),n}T(fv,"compileList");function ZD(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(s){s.multi?(e.multi[s.kind].push(s),e.multi.fallback.push(s)):e[s.kind][s.tag]=e.fallback[s.tag]=s}for(T(i,"collectType"),t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}T(ZD,"compileMap");function fg(e){return this.extend(e)}T(fg,"Schema$1");fg.prototype.extend=T(function(t){var n=[],i=[];if(t instanceof Li)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new rs("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof Li))throw new rs("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new rs("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new rs("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(a){if(!(a instanceof Li))throw new rs("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(fg.prototype);return s.implicit=(this.implicit||[]).concat(n),s.explicit=(this.explicit||[]).concat(i),s.compiledImplicit=fv(s,"implicit"),s.compiledExplicit=fv(s,"explicit"),s.compiledTypeMap=ZD(s.compiledImplicit,s.compiledExplicit),s},"extend");var L$=fg,D$=new Li("tag:yaml.org,2002:str",{kind:"scalar",construct:T(function(e){return e!==null?e:""},"construct")}),O$=new Li("tag:yaml.org,2002:seq",{kind:"sequence",construct:T(function(e){return e!==null?e:[]},"construct")}),M$=new Li("tag:yaml.org,2002:map",{kind:"mapping",construct:T(function(e){return e!==null?e:{}},"construct")}),N$=new L$({explicit:[D$,O$,M$]});function QD(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}T(QD,"resolveYamlNull");function KD(){return null}T(KD,"constructYamlNull");function JD(e){return e===null}T(JD,"isNull");var I$=new Li("tag:yaml.org,2002:null",{kind:"scalar",resolve:QD,construct:KD,predicate:JD,represent:{canonical:T(function(){return"~"},"canonical"),lowercase:T(function(){return"null"},"lowercase"),uppercase:T(function(){return"NULL"},"uppercase"),camelcase:T(function(){return"Null"},"camelcase"),empty:T(function(){return""},"empty")},defaultStyle:"lowercase"});function tO(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}T(tO,"resolveYamlBoolean");function eO(e){return e==="true"||e==="True"||e==="TRUE"}T(eO,"constructYamlBoolean");function nO(e){return Object.prototype.toString.call(e)==="[object Boolean]"}T(nO,"isBoolean");var B$=new Li("tag:yaml.org,2002:bool",{kind:"scalar",resolve:tO,construct:eO,predicate:nO,represent:{lowercase:T(function(e){return e?"true":"false"},"lowercase"),uppercase:T(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:T(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function iO(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}T(iO,"isHexCode");function sO(e){return 48<=e&&e<=55}T(sO,"isOctCode");function aO(e){return 48<=e&&e<=57}T(aO,"isDecCode");function rO(e){if(e===null)return!1;var t=e.length,n=0,i=!1,s;if(!t)return!1;if(s=e[n],(s==="-"||s==="+")&&(s=e[++n]),s==="0"){if(n+1===t)return!0;if(s=e[++n],s==="b"){for(n++;n<t;n++)if(s=e[n],s!=="_"){if(s!=="0"&&s!=="1")return!1;i=!0}return i&&s!=="_"}if(s==="x"){for(n++;n<t;n++)if(s=e[n],s!=="_"){if(!iO(e.charCodeAt(n)))return!1;i=!0}return i&&s!=="_"}if(s==="o"){for(n++;n<t;n++)if(s=e[n],s!=="_"){if(!sO(e.charCodeAt(n)))return!1;i=!0}return i&&s!=="_"}}if(s==="_")return!1;for(;n<t;n++)if(s=e[n],s!=="_"){if(!aO(e.charCodeAt(n)))return!1;i=!0}return!(!i||s==="_")}T(rO,"resolveYamlInteger");function oO(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}T(oO,"constructYamlInteger");function lO(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ai.isNegativeZero(e)}T(lO,"isInteger");var F$=new Li("tag:yaml.org,2002:int",{kind:"scalar",resolve:rO,construct:oO,predicate:lO,represent:{binary:T(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:T(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:T(function(e){return e.toString(10)},"decimal"),hexadecimal:T(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),U$=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function cO(e){return!(e===null||!U$.test(e)||e[e.length-1]==="_")}T(cO,"resolveYamlFloat");function uO(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}T(uO,"constructYamlFloat");var q$=/^[-+]?[0-9]+e/;function hO(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ai.isNegativeZero(e))return"-0.0";return n=e.toString(10),q$.test(n)?n.replace("e",".e"):n}T(hO,"representYamlFloat");function dO(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ai.isNegativeZero(e))}T(dO,"isFloat");var z$=new Li("tag:yaml.org,2002:float",{kind:"scalar",resolve:cO,construct:uO,predicate:dO,represent:hO,defaultStyle:"lowercase"}),fO=N$.extend({implicit:[I$,B$,F$,z$]}),P$=fO,pO=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),mO=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function gO(e){return e===null?!1:pO.exec(e)!==null||mO.exec(e)!==null}T(gO,"resolveYamlTimestamp");function yO(e){var t,n,i,s,a,o,l,u=0,h=null,f,m,g;if(t=pO.exec(e),t===null&&(t=mO.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(n,i,s));if(a=+t[4],o=+t[5],l=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(f=+t[10],m=+(t[11]||0),h=(f*60+m)*6e4,t[9]==="-"&&(h=-h)),g=new Date(Date.UTC(n,i,s,a,o,l,u)),h&&g.setTime(g.getTime()-h),g}T(yO,"constructYamlTimestamp");function bO(e){return e.toISOString()}T(bO,"representYamlTimestamp");var $$=new Li("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:gO,construct:yO,instanceOf:Date,represent:bO});function _O(e){return e==="<<"||e===null}T(_O,"resolveYamlMerge");var H$=new Li("tag:yaml.org,2002:merge",{kind:"scalar",resolve:_O}),Jx=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function vO(e){if(e===null)return!1;var t,n,i=0,s=e.length,a=Jx;for(n=0;n<s;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}T(vO,"resolveYamlBinary");function xO(e){var t,n,i=e.replace(/[\r\n=]/g,""),s=i.length,a=Jx,o=0,l=[];for(t=0;t<s;t++)t%4===0&&t&&(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)),o=o<<6|a.indexOf(i.charAt(t));return n=s%4*6,n===0?(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)):n===18?(l.push(o>>10&255),l.push(o>>2&255)):n===12&&l.push(o>>4&255),new Uint8Array(l)}T(xO,"constructYamlBinary");function wO(e){var t="",n=0,i,s,a=e.length,o=Jx;for(i=0;i<a;i++)i%3===0&&i&&(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]),n=(n<<8)+e[i];return s=a%3,s===0?(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]):s===2?(t+=o[n>>10&63],t+=o[n>>4&63],t+=o[n<<2&63],t+=o[64]):s===1&&(t+=o[n>>2&63],t+=o[n<<4&63],t+=o[64],t+=o[64]),t}T(wO,"representYamlBinary");function SO(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}T(SO,"isBinary");var j$=new Li("tag:yaml.org,2002:binary",{kind:"scalar",resolve:vO,construct:xO,predicate:SO,represent:wO}),W$=Object.prototype.hasOwnProperty,Y$=Object.prototype.toString;function EO(e){if(e===null)return!0;var t=[],n,i,s,a,o,l=e;for(n=0,i=l.length;n<i;n+=1){if(s=l[n],o=!1,Y$.call(s)!=="[object Object]")return!1;for(a in s)if(W$.call(s,a))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}T(EO,"resolveYamlOmap");function TO(e){return e!==null?e:[]}T(TO,"constructYamlOmap");var G$=new Li("tag:yaml.org,2002:omap",{kind:"sequence",resolve:EO,construct:TO}),V$=Object.prototype.toString;function kO(e){if(e===null)return!0;var t,n,i,s,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1){if(i=o[t],V$.call(i)!=="[object Object]"||(s=Object.keys(i),s.length!==1))return!1;a[t]=[s[0],i[s[0]]]}return!0}T(kO,"resolveYamlPairs");function CO(e){if(e===null)return[];var t,n,i,s,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1)i=o[t],s=Object.keys(i),a[t]=[s[0],i[s[0]]];return a}T(CO,"constructYamlPairs");var X$=new Li("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:kO,construct:CO}),Z$=Object.prototype.hasOwnProperty;function AO(e){if(e===null)return!0;var t,n=e;for(t in n)if(Z$.call(n,t)&&n[t]!==null)return!1;return!0}T(AO,"resolveYamlSet");function RO(e){return e!==null?e:{}}T(RO,"constructYamlSet");var Q$=new Li("tag:yaml.org,2002:set",{kind:"mapping",resolve:AO,construct:RO}),LO=P$.extend({implicit:[$$,H$],explicit:[j$,G$,X$,Q$]}),Eo=Object.prototype.hasOwnProperty,pg=1,DO=2,OO=3,mg=4,r_=1,K$=2,ik=3,J$=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,tH=/[\x85\u2028\u2029]/,eH=/[,\[\]\{\}]/,MO=/^(?:!|!!|![a-z\-]+!)$/i,NO=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function pv(e){return Object.prototype.toString.call(e)}T(pv,"_class");function ca(e){return e===10||e===13}T(ca,"is_EOL");function go(e){return e===9||e===32}T(go,"is_WHITE_SPACE");function $i(e){return e===9||e===32||e===10||e===13}T($i,"is_WS_OR_EOL");function ll(e){return e===44||e===91||e===93||e===123||e===125}T(ll,"is_FLOW_INDICATOR");function IO(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}T(IO,"fromHexCode");function BO(e){return e===120?2:e===117?4:e===85?8:0}T(BO,"escapedHexLen");function FO(e){return 48<=e&&e<=57?e-48:-1}T(FO,"fromDecimalCode");function mv(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}T(mv,"simpleEscapeSequence");function UO(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}T(UO,"charFromCodepoint");var qO=new Array(256),zO=new Array(256);for(Zo=0;Zo<256;Zo++)qO[Zo]=mv(Zo)?1:0,zO[Zo]=mv(Zo);var Zo;function PO(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||LO,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}T(PO,"State$1");function t1(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=C$(n),new rs(t,n)}T(t1,"generateError");function Wt(e,t){throw t1(e,t)}T(Wt,"throwError");function yd(e,t){e.onWarning&&e.onWarning.call(null,t1(e,t))}T(yd,"throwWarning");var sk={YAML:T(function(t,n,i){var s,a,o;t.version!==null&&Wt(t,"duplication of %YAML directive"),i.length!==1&&Wt(t,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),s===null&&Wt(t,"ill-formed argument of the YAML directive"),a=parseInt(s[1],10),o=parseInt(s[2],10),a!==1&&Wt(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&yd(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:T(function(t,n,i){var s,a;i.length!==2&&Wt(t,"TAG directive accepts exactly two arguments"),s=i[0],a=i[1],MO.test(s)||Wt(t,"ill-formed tag handle (first argument) of the TAG directive"),Eo.call(t.tagMap,s)&&Wt(t,'there is a previously declared suffix for "'+s+'" tag handle'),NO.test(a)||Wt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{Wt(t,"tag prefix is malformed: "+a)}t.tagMap[s]=a},"handleTagDirective")};function Er(e,t,n,i){var s,a,o,l;if(t<n){if(l=e.input.slice(t,n),i)for(s=0,a=l.length;s<a;s+=1)o=l.charCodeAt(s),o===9||32<=o&&o<=1114111||Wt(e,"expected valid JSON character");else J$.test(l)&&Wt(e,"the stream contains non-printable characters");e.result+=l}}T(Er,"captureSegment");function gv(e,t,n,i){var s,a,o,l;for(ai.isObject(n)||Wt(e,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(n),o=0,l=s.length;o<l;o+=1)a=s[o],Eo.call(t,a)||(t[a]=n[a],i[a]=!0)}T(gv,"mergeMappings");function cl(e,t,n,i,s,a,o,l,u){var h,f;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),h=0,f=s.length;h<f;h+=1)Array.isArray(s[h])&&Wt(e,"nested arrays are not supported inside keys"),typeof s=="object"&&pv(s[h])==="[object Object]"&&(s[h]="[object Object]");if(typeof s=="object"&&pv(s)==="[object Object]"&&(s="[object Object]"),s=String(s),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(h=0,f=a.length;h<f;h+=1)gv(e,t,a[h],n);else gv(e,t,a,n);else!e.json&&!Eo.call(n,s)&&Eo.call(t,s)&&(e.line=o||e.line,e.lineStart=l||e.lineStart,e.position=u||e.position,Wt(e,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(t,s,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[s]=a,delete n[s];return t}T(cl,"storeMappingPair");function iy(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Wt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}T(iy,"readLineBreak");function Hn(e,t,n){for(var i=0,s=e.input.charCodeAt(e.position);s!==0;){for(;go(s);)s===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(t&&s===35)do s=e.input.charCodeAt(++e.position);while(s!==10&&s!==13&&s!==0);if(ca(s))for(iy(e),s=e.input.charCodeAt(e.position),i++,e.lineIndent=0;s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&yd(e,"deficient indentation"),i}T(Hn,"skipSeparationSpace");function $d(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||$i(n)))}T($d,"testDocumentSeparator");function sy(e,t){t===1?e.result+=" ":t>1&&(e.result+=ai.repeat(`
`,t-1))}T(sy,"writeFoldedLines");function $O(e,t,n){var i,s,a,o,l,u,h,f,m=e.kind,g=e.result,y;if(y=e.input.charCodeAt(e.position),$i(y)||ll(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(s=e.input.charCodeAt(e.position+1),$i(s)||n&&ll(s)))return!1;for(e.kind="scalar",e.result="",a=o=e.position,l=!1;y!==0;){if(y===58){if(s=e.input.charCodeAt(e.position+1),$i(s)||n&&ll(s))break}else if(y===35){if(i=e.input.charCodeAt(e.position-1),$i(i))break}else{if(e.position===e.lineStart&&$d(e)||n&&ll(y))break;if(ca(y))if(u=e.line,h=e.lineStart,f=e.lineIndent,Hn(e,!1,-1),e.lineIndent>=t){l=!0,y=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=h,e.lineIndent=f;break}}l&&(Er(e,a,o,!1),sy(e,e.line-u),a=o=e.position,l=!1),go(y)||(o=e.position+1),y=e.input.charCodeAt(++e.position)}return Er(e,a,o,!1),e.result?!0:(e.kind=m,e.result=g,!1)}T($O,"readPlainScalar");function HO(e,t){var n,i,s;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=s=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Er(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,s=e.position;else return!0;else ca(n)?(Er(e,i,s,!0),sy(e,Hn(e,!1,t)),i=s=e.position):e.position===e.lineStart&&$d(e)?Wt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,s=e.position);Wt(e,"unexpected end of the stream within a single quoted scalar")}T(HO,"readSingleQuotedScalar");function jO(e,t){var n,i,s,a,o,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return Er(e,n,e.position,!0),e.position++,!0;if(l===92){if(Er(e,n,e.position,!0),l=e.input.charCodeAt(++e.position),ca(l))Hn(e,!1,t);else if(l<256&&qO[l])e.result+=zO[l],e.position++;else if((o=BO(l))>0){for(s=o,a=0;s>0;s--)l=e.input.charCodeAt(++e.position),(o=IO(l))>=0?a=(a<<4)+o:Wt(e,"expected hexadecimal character");e.result+=UO(a),e.position++}else Wt(e,"unknown escape sequence");n=i=e.position}else ca(l)?(Er(e,n,i,!0),sy(e,Hn(e,!1,t)),n=i=e.position):e.position===e.lineStart&&$d(e)?Wt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}Wt(e,"unexpected end of the stream within a double quoted scalar")}T(jO,"readDoubleQuotedScalar");function WO(e,t){var n=!0,i,s,a,o=e.tag,l,u=e.anchor,h,f,m,g,y,_=Object.create(null),b,w,S,E;if(E=e.input.charCodeAt(e.position),E===91)f=93,y=!1,l=[];else if(E===123)f=125,y=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),E=e.input.charCodeAt(++e.position);E!==0;){if(Hn(e,!0,t),E=e.input.charCodeAt(e.position),E===f)return e.position++,e.tag=o,e.anchor=u,e.kind=y?"mapping":"sequence",e.result=l,!0;n?E===44&&Wt(e,"expected the node content, but found ','"):Wt(e,"missed comma between flow collection entries"),w=b=S=null,m=g=!1,E===63&&(h=e.input.charCodeAt(e.position+1),$i(h)&&(m=g=!0,e.position++,Hn(e,!0,t))),i=e.line,s=e.lineStart,a=e.position,xl(e,t,pg,!1,!0),w=e.tag,b=e.result,Hn(e,!0,t),E=e.input.charCodeAt(e.position),(g||e.line===i)&&E===58&&(m=!0,E=e.input.charCodeAt(++e.position),Hn(e,!0,t),xl(e,t,pg,!1,!0),S=e.result),y?cl(e,l,_,w,b,S,i,s,a):m?l.push(cl(e,null,_,w,b,S,i,s,a)):l.push(b),Hn(e,!0,t),E=e.input.charCodeAt(e.position),E===44?(n=!0,E=e.input.charCodeAt(++e.position)):n=!1}Wt(e,"unexpected end of the stream within a flow collection")}T(WO,"readFlowCollection");function YO(e,t){var n,i,s=r_,a=!1,o=!1,l=t,u=0,h=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)i=!1;else if(m===62)i=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)r_===s?s=m===43?ik:K$:Wt(e,"repeat of a chomping mode identifier");else if((f=FO(m))>=0)f===0?Wt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Wt(e,"repeat of an indentation width identifier"):(l=t+f-1,o=!0);else break;if(go(m)){do m=e.input.charCodeAt(++e.position);while(go(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!ca(m)&&m!==0)}for(;m!==0;){for(iy(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!o||e.lineIndent<l)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>l&&(l=e.lineIndent),ca(m)){u++;continue}if(e.lineIndent<l){s===ik?e.result+=ai.repeat(`
`,a?1+u:u):s===r_&&a&&(e.result+=`
`);break}for(i?go(m)?(h=!0,e.result+=ai.repeat(`
`,a?1+u:u)):h?(h=!1,e.result+=ai.repeat(`
`,u+1)):u===0?a&&(e.result+=" "):e.result+=ai.repeat(`
`,u):e.result+=ai.repeat(`
`,a?1+u:u),a=!0,o=!0,u=0,n=e.position;!ca(m)&&m!==0;)m=e.input.charCodeAt(++e.position);Er(e,n,e.position,!1)}return!0}T(YO,"readBlockScalar");function yv(e,t){var n,i=e.tag,s=e.anchor,a=[],o,l=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Wt(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!$i(o))));){if(l=!0,e.position++,Hn(e,!0,-1)&&e.lineIndent<=t){a.push(null),u=e.input.charCodeAt(e.position);continue}if(n=e.line,xl(e,t,OO,!1,!0),a.push(e.result),Hn(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&u!==0)Wt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=i,e.anchor=s,e.kind="sequence",e.result=a,!0):!1}T(yv,"readBlockSequence");function GO(e,t,n){var i,s,a,o,l,u,h=e.tag,f=e.anchor,m={},g=Object.create(null),y=null,_=null,b=null,w=!1,S=!1,E;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),E=e.input.charCodeAt(e.position);E!==0;){if(!w&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Wt(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),a=e.line,(E===63||E===58)&&$i(i))E===63?(w&&(cl(e,m,g,y,_,null,o,l,u),y=_=b=null),S=!0,w=!0,s=!0):w?(w=!1,s=!0):Wt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,E=i;else{if(o=e.line,l=e.lineStart,u=e.position,!xl(e,n,DO,!1,!0))break;if(e.line===a){for(E=e.input.charCodeAt(e.position);go(E);)E=e.input.charCodeAt(++e.position);if(E===58)E=e.input.charCodeAt(++e.position),$i(E)||Wt(e,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(cl(e,m,g,y,_,null,o,l,u),y=_=b=null),S=!0,w=!1,s=!1,y=e.tag,_=e.result;else if(S)Wt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=f,!0}else if(S)Wt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=f,!0}if((e.line===a||e.lineIndent>t)&&(w&&(o=e.line,l=e.lineStart,u=e.position),xl(e,t,mg,!0,s)&&(w?_=e.result:b=e.result),w||(cl(e,m,g,y,_,b,o,l,u),y=_=b=null),Hn(e,!0,-1),E=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&E!==0)Wt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return w&&cl(e,m,g,y,_,null,o,l,u),S&&(e.tag=h,e.anchor=f,e.kind="mapping",e.result=m),S}T(GO,"readBlockMapping");function VO(e){var t,n=!1,i=!1,s,a,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&Wt(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(n=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,s="!!",o=e.input.charCodeAt(++e.position)):s="!",t=e.position,n){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(a=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):Wt(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!$i(o);)o===33&&(i?Wt(e,"tag suffix cannot contain exclamation marks"):(s=e.input.slice(t-1,e.position+1),MO.test(s)||Wt(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),eH.test(a)&&Wt(e,"tag suffix cannot contain flow indicator characters")}a&&!NO.test(a)&&Wt(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{Wt(e,"tag name is malformed: "+a)}return n?e.tag=a:Eo.call(e.tagMap,s)?e.tag=e.tagMap[s]+a:s==="!"?e.tag="!"+a:s==="!!"?e.tag="tag:yaml.org,2002:"+a:Wt(e,'undeclared tag handle "'+s+'"'),!0}T(VO,"readTagProperty");function XO(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&Wt(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!$i(n)&&!ll(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Wt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}T(XO,"readAnchorProperty");function ZO(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!$i(i)&&!ll(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&Wt(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),Eo.call(e.anchorMap,n)||Wt(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Hn(e,!0,-1),!0}T(ZO,"readAlias");function xl(e,t,n,i,s){var a,o,l,u=1,h=!1,f=!1,m,g,y,_,b,w;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=l=mg===n||OO===n,i&&Hn(e,!0,-1)&&(h=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;VO(e)||XO(e);)Hn(e,!0,-1)?(h=!0,l=a,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):l=!1;if(l&&(l=h||s),(u===1||mg===n)&&(pg===n||DO===n?b=t:b=t+1,w=e.position-e.lineStart,u===1?l&&(yv(e,w)||GO(e,w,b))||WO(e,b)?f=!0:(o&&YO(e,b)||HO(e,b)||jO(e,b)?f=!0:ZO(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Wt(e,"alias node should not have any properties")):$O(e,b,pg===n)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(f=l&&yv(e,w))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Wt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,g=e.implicitTypes.length;m<g;m+=1)if(_=e.implicitTypes[m],_.resolve(e.result)){e.result=_.construct(e.result),e.tag=_.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Eo.call(e.typeMap[e.kind||"fallback"],e.tag))_=e.typeMap[e.kind||"fallback"][e.tag];else for(_=null,y=e.typeMap.multi[e.kind||"fallback"],m=0,g=y.length;m<g;m+=1)if(e.tag.slice(0,y[m].tag.length)===y[m].tag){_=y[m];break}_||Wt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&_.kind!==e.kind&&Wt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"'),_.resolve(e.result,e.tag)?(e.result=_.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Wt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}T(xl,"composeNode");function QO(e){var t=e.position,n,i,s,a=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Hn(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(a=!0,o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!$i(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),s=[],i.length<1&&Wt(e,"directive name must not be less than one character in length");o!==0;){for(;go(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!ca(o));break}if(ca(o))break;for(n=e.position;o!==0&&!$i(o);)o=e.input.charCodeAt(++e.position);s.push(e.input.slice(n,e.position))}o!==0&&iy(e),Eo.call(sk,i)?sk[i](e,i,s):yd(e,'unknown document directive "'+i+'"')}if(Hn(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Hn(e,!0,-1)):a&&Wt(e,"directives end mark is expected"),xl(e,e.lineIndent-1,mg,!1,!0),Hn(e,!0,-1),e.checkLineBreaks&&tH.test(e.input.slice(t,e.position))&&yd(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&$d(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Hn(e,!0,-1));return}if(e.position<e.length-1)Wt(e,"end of the stream or a document separator is expected");else return}T(QO,"readDocument");function e1(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new PO(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,Wt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)QO(n);return n.documents}T(e1,"loadDocuments");function nH(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var i=e1(e,n);if(typeof t!="function")return i;for(var s=0,a=i.length;s<a;s+=1)t(i[s])}T(nH,"loadAll$1");function KO(e,t){var n=e1(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new rs("expected a single document in the stream, but found more")}}T(KO,"load$1");var iH=KO,sH={load:iH},JO=Object.prototype.toString,tM=Object.prototype.hasOwnProperty,n1=65279,aH=9,bd=10,rH=13,oH=32,lH=33,cH=34,bv=35,uH=37,hH=38,dH=39,fH=42,eM=44,pH=45,gg=58,mH=61,gH=62,yH=63,bH=64,nM=91,iM=93,_H=96,sM=123,vH=124,aM=125,Mi={};Mi[0]="\\0";Mi[7]="\\a";Mi[8]="\\b";Mi[9]="\\t";Mi[10]="\\n";Mi[11]="\\v";Mi[12]="\\f";Mi[13]="\\r";Mi[27]="\\e";Mi[34]='\\"';Mi[92]="\\\\";Mi[133]="\\N";Mi[160]="\\_";Mi[8232]="\\L";Mi[8233]="\\P";var xH=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],wH=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function rM(e,t){var n,i,s,a,o,l,u;if(t===null)return{};for(n={},i=Object.keys(t),s=0,a=i.length;s<a;s+=1)o=i[s],l=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&tM.call(u.styleAliases,l)&&(l=u.styleAliases[l]),n[o]=l;return n}T(rM,"compileStyleMap");function oM(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else if(e<=4294967295)n="U",i=8;else throw new rs("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+ai.repeat("0",i-t.length)+t}T(oM,"encodeHex");var SH=1,_d=2;function lM(e){this.schema=e.schema||LO,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ai.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=rM(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?_d:SH,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}T(lM,"State");function _v(e,t){for(var n=ai.repeat(" ",t),i=0,s=-1,a="",o,l=e.length;i<l;)s=e.indexOf(`
`,i),s===-1?(o=e.slice(i),i=l):(o=e.slice(i,s+1),i=s+1),o.length&&o!==`
`&&(a+=n),a+=o;return a}T(_v,"indentString");function yg(e,t){return`
`+ai.repeat(" ",e.indent*t)}T(yg,"generateNextLine");function cM(e,t){var n,i,s;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(s=e.implicitTypes[n],s.resolve(t))return!0;return!1}T(cM,"testImplicitResolving");function vd(e){return e===oH||e===aH}T(vd,"isWhitespace");function ou(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==n1||65536<=e&&e<=1114111}T(ou,"isPrintable");function vv(e){return ou(e)&&e!==n1&&e!==rH&&e!==bd}T(vv,"isNsCharOrWhitespace");function xv(e,t,n){var i=vv(e),s=i&&!vd(e);return(n?i:i&&e!==eM&&e!==nM&&e!==iM&&e!==sM&&e!==aM)&&e!==bv&&!(t===gg&&!s)||vv(t)&&!vd(t)&&e===bv||t===gg&&s}T(xv,"isPlainSafe");function uM(e){return ou(e)&&e!==n1&&!vd(e)&&e!==pH&&e!==yH&&e!==gg&&e!==eM&&e!==nM&&e!==iM&&e!==sM&&e!==aM&&e!==bv&&e!==hH&&e!==fH&&e!==lH&&e!==vH&&e!==mH&&e!==gH&&e!==dH&&e!==cH&&e!==uH&&e!==bH&&e!==_H}T(uM,"isPlainSafeFirst");function hM(e){return!vd(e)&&e!==gg}T(hM,"isPlainSafeLast");function Oc(e,t){var n=e.charCodeAt(t),i;return n>=55296&&n<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}T(Oc,"codePointAt");function i1(e){var t=/^\n* /;return t.test(e)}T(i1,"needIndentIndicator");var dM=1,wv=2,fM=3,pM=4,Rc=5;function mM(e,t,n,i,s,a,o,l){var u,h=0,f=null,m=!1,g=!1,y=i!==-1,_=-1,b=uM(Oc(e,0))&&hM(Oc(e,e.length-1));if(t||o)for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=Oc(e,u),!ou(h))return Rc;b=b&&xv(h,f,l),f=h}else{for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=Oc(e,u),h===bd)m=!0,y&&(g=g||u-_-1>i&&e[_+1]!==" ",_=u);else if(!ou(h))return Rc;b=b&&xv(h,f,l),f=h}g=g||y&&u-_-1>i&&e[_+1]!==" "}return!m&&!g?b&&!o&&!s(e)?dM:a===_d?Rc:wv:n>9&&i1(e)?Rc:o?a===_d?Rc:wv:g?pM:fM}T(mM,"chooseScalarStyle");function gM(e,t,n,i,s){e.dump=(function(){if(t.length===0)return e.quotingType===_d?'""':"''";if(!e.noCompatMode&&(xH.indexOf(t)!==-1||wH.test(t)))return e.quotingType===_d?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,n),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),l=i||e.flowLevel>-1&&n>=e.flowLevel;function u(h){return cM(e,h)}switch(T(u,"testAmbiguity"),mM(t,l,e.indent,o,u,e.quotingType,e.forceQuotes&&!i,s)){case dM:return t;case wv:return"'"+t.replace(/'/g,"''")+"'";case fM:return"|"+Sv(t,e.indent)+Ev(_v(t,a));case pM:return">"+Sv(t,e.indent)+Ev(_v(yM(t,o),a));case Rc:return'"'+bM(t)+'"';default:throw new rs("impossible error: invalid scalar style")}})()}T(gM,"writeScalar");function Sv(e,t){var n=i1(e)?String(t):"",i=e[e.length-1]===`
`,s=i&&(e[e.length-2]===`
`||e===`
`),a=s?"+":i?"":"-";return n+a+`
`}T(Sv,"blockHeader");function Ev(e){return e[e.length-1]===`
`?e.slice(0,-1):e}T(Ev,"dropEndingNewline");function yM(e,t){for(var n=/(\n+)([^\n]*)/g,i=(function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,n.lastIndex=h,Tv(e.slice(0,h),t)})(),s=e[0]===`
`||e[0]===" ",a,o;o=n.exec(e);){var l=o[1],u=o[2];a=u[0]===" ",i+=l+(!s&&!a&&u!==""?`
`:"")+Tv(u,t),s=a}return i}T(yM,"foldString");function Tv(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,i,s=0,a,o=0,l=0,u="";i=n.exec(e);)l=i.index,l-s>t&&(a=o>s?o:l,u+=`
`+e.slice(s,a),s=a+1),o=l;return u+=`
`,e.length-s>t&&o>s?u+=e.slice(s,o)+`
`+e.slice(o+1):u+=e.slice(s),u.slice(1)}T(Tv,"foldLine");function bM(e){for(var t="",n=0,i,s=0;s<e.length;n>=65536?s+=2:s++)n=Oc(e,s),i=Mi[n],!i&&ou(n)?(t+=e[s],n>=65536&&(t+=e[s+1])):t+=i||oM(n);return t}T(bM,"escapeString");function _M(e,t,n){var i="",s=e.tag,a,o,l;for(a=0,o=n.length;a<o;a+=1)l=n[a],e.replacer&&(l=e.replacer.call(n,String(a),l)),(za(e,t,l,!1,!1)||typeof l>"u"&&za(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=s,e.dump="["+i+"]"}T(_M,"writeFlowSequence");function kv(e,t,n,i){var s="",a=e.tag,o,l,u;for(o=0,l=n.length;o<l;o+=1)u=n[o],e.replacer&&(u=e.replacer.call(n,String(o),u)),(za(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&za(e,t+1,null,!0,!0,!1,!0))&&((!i||s!=="")&&(s+=yg(e,t)),e.dump&&bd===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=a,e.dump=s||"[]"}T(kv,"writeBlockSequence");function vM(e,t,n){var i="",s=e.tag,a=Object.keys(n),o,l,u,h,f;for(o=0,l=a.length;o<l;o+=1)f="",i!==""&&(f+=", "),e.condenseFlow&&(f+='"'),u=a[o],h=n[u],e.replacer&&(h=e.replacer.call(n,u,h)),za(e,t,u,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),za(e,t,h,!1,!1)&&(f+=e.dump,i+=f));e.tag=s,e.dump="{"+i+"}"}T(vM,"writeFlowMapping");function xM(e,t,n,i){var s="",a=e.tag,o=Object.keys(n),l,u,h,f,m,g;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new rs("sortKeys must be a boolean or a function");for(l=0,u=o.length;l<u;l+=1)g="",(!i||s!=="")&&(g+=yg(e,t)),h=o[l],f=n[h],e.replacer&&(f=e.replacer.call(n,h,f)),za(e,t+1,h,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&bd===e.dump.charCodeAt(0)?g+="?":g+="? "),g+=e.dump,m&&(g+=yg(e,t)),za(e,t+1,f,!0,m)&&(e.dump&&bd===e.dump.charCodeAt(0)?g+=":":g+=": ",g+=e.dump,s+=g));e.tag=a,e.dump=s||"{}"}T(xM,"writeBlockMapping");function Cv(e,t,n){var i,s,a,o,l,u;for(s=n?e.explicitTypes:e.implicitTypes,a=0,o=s.length;a<o;a+=1)if(l=s[a],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(n?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(u=e.styleMap[l.tag]||l.defaultStyle,JO.call(l.represent)==="[object Function]")i=l.represent(t,u);else if(tM.call(l.represent,u))i=l.represent[u](t,u);else throw new rs("!<"+l.tag+'> tag resolver accepts not "'+u+'" style');e.dump=i}return!0}return!1}T(Cv,"detectType");function za(e,t,n,i,s,a,o){e.tag=null,e.dump=n,Cv(e,n,!1)||Cv(e,n,!0);var l=JO.call(e.dump),u=i,h;i&&(i=e.flowLevel<0||e.flowLevel>t);var f=l==="[object Object]"||l==="[object Array]",m,g;if(f&&(m=e.duplicates.indexOf(n),g=m!==-1),(e.tag!==null&&e.tag!=="?"||g||e.indent!==2&&t>0)&&(s=!1),g&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&g&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),l==="[object Object]")i&&Object.keys(e.dump).length!==0?(xM(e,t,e.dump,s),g&&(e.dump="&ref_"+m+e.dump)):(vM(e,t,e.dump),g&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?kv(e,t-1,e.dump,s):kv(e,t,e.dump,s),g&&(e.dump="&ref_"+m+e.dump)):(_M(e,t,e.dump),g&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&gM(e,e.dump,t,a,u);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new rs("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",e.dump=h+" "+e.dump)}return!0}T(za,"writeNode");function wM(e,t){var n=[],i=[],s,a;for(bg(e,n,i),s=0,a=i.length;s<a;s+=1)t.duplicates.push(n[i[s]]);t.usedDuplicates=new Array(a)}T(wM,"getDuplicateReferences");function bg(e,t,n){var i,s,a;if(e!==null&&typeof e=="object")if(s=t.indexOf(e),s!==-1)n.indexOf(s)===-1&&n.push(s);else if(t.push(e),Array.isArray(e))for(s=0,a=e.length;s<a;s+=1)bg(e[s],t,n);else for(i=Object.keys(e),s=0,a=i.length;s<a;s+=1)bg(e[i[s]],t,n)}T(bg,"inspectNode");function EH(e,t){t=t||{};var n=new lM(t);n.noRefs||wM(e,n);var i=e;return n.replacer&&(i=n.replacer.call({"":i},"",i)),za(n,0,i,!0,!0)?n.dump+`
`:""}T(EH,"dump$1");function TH(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}T(TH,"renamed");var kH=fO,CH=sH.load;var Ei={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},ak={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function $h(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Rn(e),t=Rn(t);const[n,i]=[e.x,e.y],[s,a]=[t.x,t.y],o=s-n,l=a-i;return{angle:Math.atan(l/o),deltaX:o,deltaY:l}}T($h,"calculateDeltaAndAngle");var Rn=T(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),AH=T(e=>({x:T(function(t,n,i){let s=0;const a=Rn(i[0]).x<Rn(i[i.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(Ei,e.arrowTypeStart)){const{angle:y,deltaX:_}=$h(i[0],i[1]);s=Ei[e.arrowTypeStart]*Math.cos(y)*(_>=0?1:-1)}else if(n===i.length-1&&Object.hasOwn(Ei,e.arrowTypeEnd)){const{angle:y,deltaX:_}=$h(i[i.length-1],i[i.length-2]);s=Ei[e.arrowTypeEnd]*Math.cos(y)*(_>=0?1:-1)}const o=Math.abs(Rn(t).x-Rn(i[i.length-1]).x),l=Math.abs(Rn(t).y-Rn(i[i.length-1]).y),u=Math.abs(Rn(t).x-Rn(i[0]).x),h=Math.abs(Rn(t).y-Rn(i[0]).y),f=Ei[e.arrowTypeStart],m=Ei[e.arrowTypeEnd],g=1;if(o<m&&o>0&&l<m){let y=m+g-o;y*=a==="right"?-1:1,s-=y}if(u<f&&u>0&&h<f){let y=f+g-u;y*=a==="right"?-1:1,s+=y}return Rn(t).x+s},"x"),y:T(function(t,n,i){let s=0;const a=Rn(i[0]).y<Rn(i[i.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(Ei,e.arrowTypeStart)){const{angle:y,deltaY:_}=$h(i[0],i[1]);s=Ei[e.arrowTypeStart]*Math.abs(Math.sin(y))*(_>=0?1:-1)}else if(n===i.length-1&&Object.hasOwn(Ei,e.arrowTypeEnd)){const{angle:y,deltaY:_}=$h(i[i.length-1],i[i.length-2]);s=Ei[e.arrowTypeEnd]*Math.abs(Math.sin(y))*(_>=0?1:-1)}const o=Math.abs(Rn(t).y-Rn(i[i.length-1]).y),l=Math.abs(Rn(t).x-Rn(i[i.length-1]).x),u=Math.abs(Rn(t).y-Rn(i[0]).y),h=Math.abs(Rn(t).x-Rn(i[0]).x),f=Ei[e.arrowTypeStart],m=Ei[e.arrowTypeEnd],g=1;if(o<m&&o>0&&l<m){let y=m+g-o;y*=a==="up"?-1:1,s-=y}if(u<f&&u>0&&h<f){let y=f+g-u;y*=a==="up"?-1:1,s+=y}return Rn(t).y+s},"y")}),"getLineFunctionsWithOffset"),s1=T(({flowchart:e})=>{const t=e?.subGraphTitleMargin?.top??0,n=e?.subGraphTitleMargin?.bottom??0,i=t+n;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins"),RH=T(e=>{const{handDrawnSeed:t}=Je();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),gu=T(e=>{const t=LH([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),LH=T(e=>{const t=new Map;return e.forEach(n=>{const[i,s]=n.split(":");t.set(i.trim(),s?.trim())}),t},"styles2Map"),SM=T(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),zt=T(e=>{const{stylesArray:t}=gu(e),n=[],i=[],s=[],a=[];return t.forEach(o=>{const l=o[0];SM(l)?n.push(o.join(":")+" !important"):(i.push(o.join(":")+" !important"),l.includes("stroke")&&s.push(o.join(":")+" !important"),l==="fill"&&a.push(o.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:i.join(";"),stylesArray:t,borderStyles:s,backgroundStyles:a}},"styles2String"),qt=T((e,t)=>{const{themeVariables:n,handDrawnSeed:i}=Je(),{nodeBorder:s,mainBkg:a}=n,{stylesMap:o}=gu(e);return Object.assign({roughness:.7,fill:o.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||s,seed:i,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:DH(o.get("stroke-dasharray"))},t)},"userNodeOverrides"),DH=T(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const s=isNaN(t[0])?0:t[0];return[s,s]}const n=isNaN(t[0])?0:t[0],i=isNaN(t[1])?0:t[1];return[n,i]},"getStrokeDashArray"),xp={},ei={},rk;function OH(){return rk||(rk=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.BLANK_URL=ei.relativeFirstCharacters=ei.whitespaceEscapeCharsRegex=ei.urlSchemeRegex=ei.ctrlCharactersRegex=ei.htmlCtrlEntityRegex=ei.htmlEntitiesRegex=ei.invalidProtocolRegex=void 0,ei.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,ei.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,ei.htmlCtrlEntityRegex=/&(newline|tab);/gi,ei.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ei.urlSchemeRegex=/^.+(:|&colon;)/gim,ei.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,ei.relativeFirstCharacters=[".","/"],ei.BLANK_URL="about:blank"),ei}var ok;function MH(){if(ok)return xp;ok=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.sanitizeUrl=a;var e=OH();function t(o){return e.relativeFirstCharacters.indexOf(o[0])>-1}function n(o){var l=o.replace(e.ctrlCharactersRegex,"");return l.replace(e.htmlEntitiesRegex,function(u,h){return String.fromCharCode(h)})}function i(o){return URL.canParse(o)}function s(o){try{return decodeURIComponent(o)}catch{return o}}function a(o){if(!o)return e.BLANK_URL;var l,u=s(o.trim());do u=n(u).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),u=s(u),l=u.match(e.ctrlCharactersRegex)||u.match(e.htmlEntitiesRegex)||u.match(e.htmlCtrlEntityRegex)||u.match(e.whitespaceEscapeCharsRegex);while(l&&l.length>0);var h=u;if(!h)return e.BLANK_URL;if(t(h))return h;var f=h.trimStart(),m=f.match(e.urlSchemeRegex);if(!m)return h;var g=m[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(g))return e.BLANK_URL;var y=f.replace(/\\/g,"/");if(g==="mailto:"||g.includes("://"))return y;if(g==="http:"||g==="https:"){if(!i(y))return e.BLANK_URL;var _=new URL(y);return _.protocol=_.protocol.toLowerCase(),_.hostname=_.hostname.toLowerCase(),_.toString()}return y}return xp}var NH=MH(),EM=typeof global=="object"&&global&&global.Object===Object&&global,IH=typeof self=="object"&&self&&self.Object===Object&&self,$a=EM||IH||Function("return this")(),_g=$a.Symbol,TM=Object.prototype,BH=TM.hasOwnProperty,FH=TM.toString,vh=_g?_g.toStringTag:void 0;function UH(e){var t=BH.call(e,vh),n=e[vh];try{e[vh]=void 0;var i=!0}catch{}var s=FH.call(e);return i&&(t?e[vh]=n:delete e[vh]),s}var qH=Object.prototype,zH=qH.toString;function PH(e){return zH.call(e)}var $H="[object Null]",HH="[object Undefined]",lk=_g?_g.toStringTag:void 0;function yu(e){return e==null?e===void 0?HH:$H:lk&&lk in Object(e)?UH(e):PH(e)}function Al(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var jH="[object AsyncFunction]",WH="[object Function]",YH="[object GeneratorFunction]",GH="[object Proxy]";function a1(e){if(!Al(e))return!1;var t=yu(e);return t==WH||t==YH||t==jH||t==GH}var o_=$a["__core-js_shared__"],ck=(function(){var e=/[^.]+$/.exec(o_&&o_.keys&&o_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function VH(e){return!!ck&&ck in e}var XH=Function.prototype,ZH=XH.toString;function Rl(e){if(e!=null){try{return ZH.call(e)}catch{}try{return e+""}catch{}}return""}var QH=/[\\^$.*+?()[\]{}|]/g,KH=/^\[object .+?Constructor\]$/,JH=Function.prototype,tj=Object.prototype,ej=JH.toString,nj=tj.hasOwnProperty,ij=RegExp("^"+ej.call(nj).replace(QH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sj(e){if(!Al(e)||VH(e))return!1;var t=a1(e)?ij:KH;return t.test(Rl(e))}function aj(e,t){return e?.[t]}function Ll(e,t){var n=aj(e,t);return sj(n)?n:void 0}var xd=Ll(Object,"create");function rj(){this.__data__=xd?xd(null):{},this.size=0}function oj(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lj="__lodash_hash_undefined__",cj=Object.prototype,uj=cj.hasOwnProperty;function hj(e){var t=this.__data__;if(xd){var n=t[e];return n===lj?void 0:n}return uj.call(t,e)?t[e]:void 0}var dj=Object.prototype,fj=dj.hasOwnProperty;function pj(e){var t=this.__data__;return xd?t[e]!==void 0:fj.call(t,e)}var mj="__lodash_hash_undefined__";function gj(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xd&&t===void 0?mj:t,this}function wl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}wl.prototype.clear=rj;wl.prototype.delete=oj;wl.prototype.get=hj;wl.prototype.has=pj;wl.prototype.set=gj;function yj(){this.__data__=[],this.size=0}function ay(e,t){return e===t||e!==e&&t!==t}function ry(e,t){for(var n=e.length;n--;)if(ay(e[n][0],t))return n;return-1}var bj=Array.prototype,_j=bj.splice;function vj(e){var t=this.__data__,n=ry(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():_j.call(t,n,1),--this.size,!0}function xj(e){var t=this.__data__,n=ry(t,e);return n<0?void 0:t[n][1]}function wj(e){return ry(this.__data__,e)>-1}function Sj(e,t){var n=this.__data__,i=ry(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function Dr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Dr.prototype.clear=yj;Dr.prototype.delete=vj;Dr.prototype.get=xj;Dr.prototype.has=wj;Dr.prototype.set=Sj;var wd=Ll($a,"Map");function Ej(){this.size=0,this.__data__={hash:new wl,map:new(wd||Dr),string:new wl}}function Tj(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function oy(e,t){var n=e.__data__;return Tj(t)?n[typeof t=="string"?"string":"hash"]:n.map}function kj(e){var t=oy(this,e).delete(e);return this.size-=t?1:0,t}function Cj(e){return oy(this,e).get(e)}function Aj(e){return oy(this,e).has(e)}function Rj(e,t){var n=oy(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function Ro(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ro.prototype.clear=Ej;Ro.prototype.delete=kj;Ro.prototype.get=Cj;Ro.prototype.has=Aj;Ro.prototype.set=Rj;var Lj="Expected a function";function Hd(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Lj);var n=function(){var i=arguments,s=t?t.apply(this,i):i[0],a=n.cache;if(a.has(s))return a.get(s);var o=e.apply(this,i);return n.cache=a.set(s,o)||a,o};return n.cache=new(Hd.Cache||Ro),n}Hd.Cache=Ro;function Dj(){this.__data__=new Dr,this.size=0}function Oj(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Mj(e){return this.__data__.get(e)}function Nj(e){return this.__data__.has(e)}var Ij=200;function Bj(e,t){var n=this.__data__;if(n instanceof Dr){var i=n.__data__;if(!wd||i.length<Ij-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ro(i)}return n.set(e,t),this.size=n.size,this}function bu(e){var t=this.__data__=new Dr(e);this.size=t.size}bu.prototype.clear=Dj;bu.prototype.delete=Oj;bu.prototype.get=Mj;bu.prototype.has=Nj;bu.prototype.set=Bj;var vg=(function(){try{var e=Ll(Object,"defineProperty");return e({},"",{}),e}catch{}})();function r1(e,t,n){t=="__proto__"&&vg?vg(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Av(e,t,n){(n!==void 0&&!ay(e[t],n)||n===void 0&&!(t in e))&&r1(e,t,n)}function Fj(e){return function(t,n,i){for(var s=-1,a=Object(t),o=i(t),l=o.length;l--;){var u=o[++s];if(n(a[u],u,a)===!1)break}return t}}var Uj=Fj(),kM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,uk=kM&&typeof module=="object"&&module&&!module.nodeType&&module,qj=uk&&uk.exports===kM,hk=qj?$a.Buffer:void 0,dk=hk?hk.allocUnsafe:void 0;function zj(e,t){if(t)return e.slice();var n=e.length,i=dk?dk(n):new e.constructor(n);return e.copy(i),i}var fk=$a.Uint8Array;function Pj(e){var t=new e.constructor(e.byteLength);return new fk(t).set(new fk(e)),t}function $j(e,t){var n=t?Pj(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Hj(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var pk=Object.create,jj=(function(){function e(){}return function(t){if(!Al(t))return{};if(pk)return pk(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function CM(e,t){return function(n){return e(t(n))}}var AM=CM(Object.getPrototypeOf,Object),Wj=Object.prototype;function ly(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Wj;return e===n}function Yj(e){return typeof e.constructor=="function"&&!ly(e)?jj(AM(e)):{}}function jd(e){return e!=null&&typeof e=="object"}var Gj="[object Arguments]";function mk(e){return jd(e)&&yu(e)==Gj}var RM=Object.prototype,Vj=RM.hasOwnProperty,Xj=RM.propertyIsEnumerable,xg=mk((function(){return arguments})())?mk:function(e){return jd(e)&&Vj.call(e,"callee")&&!Xj.call(e,"callee")},wg=Array.isArray,Zj=9007199254740991;function LM(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zj}function cy(e){return e!=null&&LM(e.length)&&!a1(e)}function Qj(e){return jd(e)&&cy(e)}function Kj(){return!1}var DM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gk=DM&&typeof module=="object"&&module&&!module.nodeType&&module,Jj=gk&&gk.exports===DM,yk=Jj?$a.Buffer:void 0,t7=yk?yk.isBuffer:void 0,o1=t7||Kj,e7="[object Object]",n7=Function.prototype,i7=Object.prototype,OM=n7.toString,s7=i7.hasOwnProperty,a7=OM.call(Object);function r7(e){if(!jd(e)||yu(e)!=e7)return!1;var t=AM(e);if(t===null)return!0;var n=s7.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&OM.call(n)==a7}var o7="[object Arguments]",l7="[object Array]",c7="[object Boolean]",u7="[object Date]",h7="[object Error]",d7="[object Function]",f7="[object Map]",p7="[object Number]",m7="[object Object]",g7="[object RegExp]",y7="[object Set]",b7="[object String]",_7="[object WeakMap]",v7="[object ArrayBuffer]",x7="[object DataView]",w7="[object Float32Array]",S7="[object Float64Array]",E7="[object Int8Array]",T7="[object Int16Array]",k7="[object Int32Array]",C7="[object Uint8Array]",A7="[object Uint8ClampedArray]",R7="[object Uint16Array]",L7="[object Uint32Array]",Sn={};Sn[w7]=Sn[S7]=Sn[E7]=Sn[T7]=Sn[k7]=Sn[C7]=Sn[A7]=Sn[R7]=Sn[L7]=!0;Sn[o7]=Sn[l7]=Sn[v7]=Sn[c7]=Sn[x7]=Sn[u7]=Sn[h7]=Sn[d7]=Sn[f7]=Sn[p7]=Sn[m7]=Sn[g7]=Sn[y7]=Sn[b7]=Sn[_7]=!1;function D7(e){return jd(e)&&LM(e.length)&&!!Sn[yu(e)]}function O7(e){return function(t){return e(t)}}var MM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ed=MM&&typeof module=="object"&&module&&!module.nodeType&&module,M7=ed&&ed.exports===MM,l_=M7&&EM.process,bk=(function(){try{var e=ed&&ed.require&&ed.require("util").types;return e||l_&&l_.binding&&l_.binding("util")}catch{}})(),_k=bk&&bk.isTypedArray,l1=_k?O7(_k):D7;function Rv(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var N7=Object.prototype,I7=N7.hasOwnProperty;function B7(e,t,n){var i=e[t];(!(I7.call(e,t)&&ay(i,n))||n===void 0&&!(t in e))&&r1(e,t,n)}function F7(e,t,n,i){var s=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var l=t[a],u=void 0;u===void 0&&(u=e[l]),s?r1(n,l,u):B7(n,l,u)}return n}function U7(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var q7=9007199254740991,z7=/^(?:0|[1-9]\d*)$/;function NM(e,t){var n=typeof e;return t=t??q7,!!t&&(n=="number"||n!="symbol"&&z7.test(e))&&e>-1&&e%1==0&&e<t}var P7=Object.prototype,$7=P7.hasOwnProperty;function H7(e,t){var n=wg(e),i=!n&&xg(e),s=!n&&!i&&o1(e),a=!n&&!i&&!s&&l1(e),o=n||i||s||a,l=o?U7(e.length,String):[],u=l.length;for(var h in e)(t||$7.call(e,h))&&!(o&&(h=="length"||s&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||NM(h,u)))&&l.push(h);return l}function j7(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var W7=Object.prototype,Y7=W7.hasOwnProperty;function G7(e){if(!Al(e))return j7(e);var t=ly(e),n=[];for(var i in e)i=="constructor"&&(t||!Y7.call(e,i))||n.push(i);return n}function IM(e){return cy(e)?H7(e,!0):G7(e)}function V7(e){return F7(e,IM(e))}function X7(e,t,n,i,s,a,o){var l=Rv(e,n),u=Rv(t,n),h=o.get(u);if(h){Av(e,n,h);return}var f=a?a(l,u,n+"",e,t,o):void 0,m=f===void 0;if(m){var g=wg(u),y=!g&&o1(u),_=!g&&!y&&l1(u);f=u,g||y||_?wg(l)?f=l:Qj(l)?f=Hj(l):y?(m=!1,f=zj(u,!0)):_?(m=!1,f=$j(u,!0)):f=[]:r7(u)||xg(u)?(f=l,xg(l)?f=V7(l):(!Al(l)||a1(l))&&(f=Yj(u))):m=!1}m&&(o.set(u,f),s(f,u,i,a,o),o.delete(u)),Av(e,n,f)}function BM(e,t,n,i,s){e!==t&&Uj(t,function(a,o){if(s||(s=new bu),Al(a))X7(e,t,o,n,BM,i,s);else{var l=i?i(Rv(e,o),a,o+"",e,t,s):void 0;l===void 0&&(l=a),Av(e,o,l)}},IM)}function FM(e){return e}function Z7(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var vk=Math.max;function Q7(e,t,n){return t=vk(t===void 0?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=vk(i.length-t,0),o=Array(a);++s<a;)o[s]=i[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=i[s];return l[t]=n(o),Z7(e,this,l)}}function K7(e){return function(){return e}}var J7=vg?function(e,t){return vg(e,"toString",{configurable:!0,enumerable:!1,value:K7(t),writable:!0})}:FM,tW=800,eW=16,nW=Date.now;function iW(e){var t=0,n=0;return function(){var i=nW(),s=eW-(i-n);if(n=i,s>0){if(++t>=tW)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sW=iW(J7);function aW(e,t){return sW(Q7(e,t,FM),e+"")}function rW(e,t,n){if(!Al(n))return!1;var i=typeof t;return(i=="number"?cy(n)&&NM(t,n.length):i=="string"&&t in n)?ay(n[t],e):!1}function oW(e){return aW(function(t,n){var i=-1,s=n.length,a=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(s--,a):void 0,o&&rW(n[0],n[1],o)&&(a=s<3?void 0:a,s=1),t=Object(t);++i<s;){var l=n[i];l&&e(t,l,i,a)}return t})}var lW=oW(function(e,t,n){BM(e,t,n)}),cW="",uW={curveBasis:hm,curveBasisClosed:d$,curveBasisOpen:f$,curveBumpX:wD,curveBumpY:SD,curveBundle:p$,curveCardinalClosed:m$,curveCardinalOpen:g$,curveCardinal:CD,curveCatmullRomClosed:y$,curveCatmullRomOpen:b$,curveCatmullRom:RD,curveLinear:cg,curveLinearClosed:_$,curveMonotoneX:ID,curveMonotoneY:BD,curveNatural:UD,curveStep:qD,curveStepAfter:PD,curveStepBefore:zD},hW=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,dW=T(function(e,t){const n=UM(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const o=n.map(l=>l.args);Km(o),i=si(i,[...o])}else i=n.args;if(!i)return;let s=Ox(e,t);const a="config";return i[a]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),i[s]=i[a],delete i[a]),i},"detectInit"),UM=T(function(e,t=null){try{const n=new RegExp(`[%]{2}(?![{]${hW.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(n,"").replace(/'/gm,'"'),wt.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let i;const s=[];for(;(i=Jh.exec(e))!==null;)if(i.index===Jh.lastIndex&&Jh.lastIndex++,i&&!t||t&&i[1]?.match(t)||t&&i[2]?.match(t)){const a=i[1]?i[1]:i[2],o=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;s.push({type:a,args:o})}return s.length===0?{type:e,args:null}:s.length===1?s[0]:s}catch(n){return wt.error(`ERROR: ${n.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),fW=T(function(e){return e.replace(Jh,"")},"removeDirectives"),pW=T(function(e,t){for(const[n,i]of t.entries())if(i.match(e))return n;return-1},"isSubstringInArray");function c1(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return uW[n]??t}T(c1,"interpolateToCurve");function qM(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?NH.sanitizeUrl(n):n}T(qM,"formatUrl");var mW=T((e,...t)=>{const n=e.split("."),i=n.length-1,s=n[i];let a=window;for(let o=0;o<i;o++)if(a=a[n[o]],!a){wt.error(`Function name: ${e} not found in window`);return}a[s](...t)},"runFunc");function u1(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}T(u1,"distance");function zM(e){let t,n=0;e.forEach(s=>{n+=u1(s,t),t=s});const i=n/2;return h1(e,i)}T(zM,"traverseEdge");function PM(e){return e.length===1?e[0]:zM(e)}T(PM,"calcLabelPosition");var xk=T((e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},"roundNumber"),h1=T((e,t)=>{let n,i=t;for(const s of e){if(n){const a=u1(s,n);if(a===0)return n;if(a<i)i-=a;else{const o=i/a;if(o<=0)return n;if(o>=1)return{x:s.x,y:s.y};if(o>0&&o<1)return{x:xk((1-o)*n.x+o*s.x,5),y:xk((1-o)*n.y+o*s.y,5)}}}n=s}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),gW=T((e,t,n)=>{wt.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());const s=h1(t,25),a=e?10:5,o=Math.atan2(t[0].y-s.y,t[0].x-s.x),l={x:0,y:0};return l.x=Math.sin(o)*a+(t[0].x+s.x)/2,l.y=-Math.cos(o)*a+(t[0].y+s.y)/2,l},"calcCardinalityPosition");function $M(e,t,n){const i=structuredClone(n);wt.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();const s=25+e,a=h1(i,s),o=10+e*.5,l=Math.atan2(i[0].y-a.y,i[0].x-a.x),u={x:0,y:0};return t==="start_left"?(u.x=Math.sin(l+Math.PI)*o+(i[0].x+a.x)/2,u.y=-Math.cos(l+Math.PI)*o+(i[0].y+a.y)/2):t==="end_right"?(u.x=Math.sin(l-Math.PI)*o+(i[0].x+a.x)/2-5,u.y=-Math.cos(l-Math.PI)*o+(i[0].y+a.y)/2-5):t==="end_left"?(u.x=Math.sin(l)*o+(i[0].x+a.x)/2-5,u.y=-Math.cos(l)*o+(i[0].y+a.y)/2-5):(u.x=Math.sin(l)*o+(i[0].x+a.x)/2,u.y=-Math.cos(l)*o+(i[0].y+a.y)/2),u}T($M,"calcTerminalLabelPosition");function HM(e){let t="",n="";for(const i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":t=t+i+";");return{style:t,labelStyle:n}}T(HM,"getStylesFromArray");var wk=0,yW=T(()=>(wk++,"id-"+Math.random().toString(36).substr(2,12)+"-"+wk),"generateId");function jM(e){let t="";const n="0123456789abcdef",i=n.length;for(let s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*i));return t}T(jM,"makeRandomHex");var bW=T(e=>jM(e.length),"random"),_W=T(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),vW=T(function(e,t){const n=t.text.replace(mu.lineBreakRegex," "),[,i]=uy(t.fontSize),s=e.append("text");s.attr("x",t.x),s.attr("y",t.y),s.style("text-anchor",t.anchor),s.style("font-family",t.fontFamily),s.style("font-size",i),s.style("font-weight",t.fontWeight),s.attr("fill",t.fill),t.class!==void 0&&s.attr("class",t.class);const a=s.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.attr("fill",t.fill),a.text(n),s},"drawSimpleText"),xW=Hd((e,t,n)=>{if(!e||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),mu.lineBreakRegex.test(e)))return e;const i=e.split(" ").filter(Boolean),s=[];let a="";return i.forEach((o,l)=>{const u=kr(`${o} `,n),h=kr(a,n);if(u>t){const{hyphenatedStrings:g,remainingWord:y}=wW(o,t,"-",n);s.push(a,...g),a=y}else h+u>=t?(s.push(a),a=o):a=[a,o].filter(Boolean).join(" ");l+1===i.length&&s.push(a)}),s.filter(o=>o!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),wW=Hd((e,t,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const s=[...e],a=[];let o="";return s.forEach((l,u)=>{const h=`${o}${l}`;if(kr(h,i)>=t){const m=u+1,g=s.length===m,y=`${h}${n}`;a.push(g?h:y),o=""}else o=h}),{hyphenatedStrings:a,remainingWord:o}},(e,t,n="-",i)=>`${e}${t}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function WM(e,t){return d1(e,t).height}T(WM,"calculateTextHeight");function kr(e,t){return d1(e,t).width}T(kr,"calculateTextWidth");var d1=Hd((e,t)=>{const{fontSize:n=12,fontFamily:i="Arial",fontWeight:s=400}=t;if(!e)return{width:0,height:0};const[,a]=uy(n),o=["sans-serif",i],l=e.split(mu.lineBreakRegex),u=[],h=ze("body");if(!h.remove)return{width:0,height:0,lineHeight:0};const f=h.append("svg");for(const g of o){let y=0;const _={width:0,height:0,lineHeight:0};for(const b of l){const w=_W();w.text=b||cW;const S=vW(f,w).style("font-size",a).style("font-weight",s).style("font-family",g),E=(S._groups||S)[0][0].getBBox();if(E.width===0&&E.height===0)throw new Error("svg element not in render tree");_.width=Math.round(Math.max(_.width,E.width)),y=Math.round(E.height),_.height+=y,_.lineHeight=Math.round(Math.max(_.lineHeight,y))}u.push(_)}f.remove();const m=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[m]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Xc,SW=(Xc=class{constructor(t=!1,n){this.count=0,this.count=n?n.length:0,this.next=t?()=>this.count++:()=>Date.now()}},T(Xc,"InitIDGenerator"),Xc),wp,EW=T(function(e){return wp=wp||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),wp.innerHTML=e,unescape(wp.textContent)},"entityDecode");function f1(e){return"str"in e}T(f1,"isDetailedError");var TW=T((e,t,n,i)=>{if(!i)return;const s=e.node()?.getBBox();s&&e.append("text").text(i).attr("text-anchor","middle").attr("x",s.x+s.width/2).attr("y",-n).attr("class",t)},"insertTitle"),uy=T(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function p1(e,t){return lW({},e,t)}T(p1,"cleanAndMerge");var ra={assignWithDepth:si,wrapLabel:xW,calculateTextHeight:WM,calculateTextWidth:kr,calculateTextDimensions:d1,cleanAndMerge:p1,detectInit:dW,detectDirective:UM,isSubstringInArray:pW,interpolateToCurve:c1,calcLabelPosition:PM,calcCardinalityPosition:gW,calcTerminalLabelPosition:$M,formatUrl:qM,getStylesFromArray:HM,generateId:yW,random:bW,runFunc:mW,entityDecode:EW,insertTitle:TW,isLabelCoordinateInPath:YM,parseFontSize:uy,InitIDGenerator:SW},kW=T(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/#\w+;/g,function(n){const i=n.substring(1,n.length-1);return/^\+?\d+$/.test(i)?""+i+"":""+i+""}),t},"encodeEntities"),Dl=T(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),ait=T((e,t,{counter:n=0,prefix:i,suffix:s},a)=>a||`${i?`${i}_`:""}${e}_${t}_${n}${s?`_${s}`:""}`,"getEdgeId");function Di(e){return e??null}T(Di,"handleUndefinedAttr");function YM(e,t){const n=Math.round(e.x),i=Math.round(e.y),s=t.replace(/(\d+\.\d+)/g,a=>Math.round(parseFloat(a)).toString());return s.includes(n.toString())||s.includes(i.toString())}T(YM,"isLabelCoordinateInPath");const CW=Object.freeze({left:0,top:0,width:16,height:16}),Sg=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),GM=Object.freeze({...CW,...Sg}),AW=Object.freeze({...GM,body:"",hidden:!1}),RW=Object.freeze({width:null,height:null}),LW=Object.freeze({...RW,...Sg}),DW=(e,t,n,i="")=>{const s=e.split(":");if(e.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;i=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const l=s.pop(),u=s.pop(),h={provider:s.length>0?s[0]:i,prefix:u,name:l};return c_(h)?h:null}const a=s[0],o=a.split("-");if(o.length>1){const l={provider:i,prefix:o.shift(),name:o.join("-")};return c_(l)?l:null}if(n&&i===""){const l={provider:i,prefix:"",name:a};return c_(l,n)?l:null}return null},c_=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function OW(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const i=((e.rotate||0)+(t.rotate||0))%4;return i&&(n.rotate=i),n}function Sk(e,t){const n=OW(e,t);for(const i in AW)i in Sg?i in e&&!(i in n)&&(n[i]=Sg[i]):i in t?n[i]=t[i]:i in e&&(n[i]=e[i]);return n}function MW(e,t){const n=e.icons,i=e.aliases||Object.create(null),s=Object.create(null);function a(o){if(n[o])return s[o]=[];if(!(o in s)){s[o]=null;const l=i[o]&&i[o].parent,u=l&&a(l);u&&(s[o]=[l].concat(u))}return s[o]}return(t||Object.keys(n).concat(Object.keys(i))).forEach(a),s}function Ek(e,t,n){const i=e.icons,s=e.aliases||Object.create(null);let a={};function o(l){a=Sk(i[l]||s[l],a)}return o(t),n.forEach(o),Sk(e,a)}function NW(e,t){if(e.icons[t])return Ek(e,t,[]);const n=MW(e,[t])[t];return n?Ek(e,t,n):null}const IW=/(-?[0-9.]*[0-9]+[0-9.]*)/g,BW=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Tk(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const i=e.split(IW);if(i===null||!i.length)return e;const s=[];let a=i.shift(),o=BW.test(a);for(;;){if(o){const l=parseFloat(a);isNaN(l)?s.push(a):s.push(Math.ceil(l*t*n)/n)}else s.push(a);if(a=i.shift(),a===void 0)return s.join("");o=!o}}function FW(e,t="defs"){let n="";const i=e.indexOf("<"+t);for(;i>=0;){const s=e.indexOf(">",i),a=e.indexOf("</"+t);if(s===-1||a===-1)break;const o=e.indexOf(">",a);if(o===-1)break;n+=e.slice(s+1,a).trim(),e=e.slice(0,i).trim()+e.slice(o+1)}return{defs:n,content:e}}function UW(e,t){return e?"<defs>"+e+"</defs>"+t:t}function qW(e,t,n){const i=FW(e);return UW(i.defs,t+i.content+n)}const zW=e=>e==="unset"||e==="undefined"||e==="none";function PW(e,t){const n={...GM,...e},i={...LW,...t},s={left:n.left,top:n.top,width:n.width,height:n.height};let a=n.body;[n,i].forEach(b=>{const w=[],S=b.hFlip,E=b.vFlip;let C=b.rotate;S?E?C+=2:(w.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),w.push("scale(-1 1)"),s.top=s.left=0):E&&(w.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),w.push("scale(1 -1)"),s.top=s.left=0);let D;switch(C<0&&(C-=Math.floor(C/4)*4),C=C%4,C){case 1:D=s.height/2+s.top,w.unshift("rotate(90 "+D.toString()+" "+D.toString()+")");break;case 2:w.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:D=s.width/2+s.left,w.unshift("rotate(-90 "+D.toString()+" "+D.toString()+")");break}C%2===1&&(s.left!==s.top&&(D=s.left,s.left=s.top,s.top=D),s.width!==s.height&&(D=s.width,s.width=s.height,s.height=D)),w.length&&(a=qW(a,'<g transform="'+w.join(" ")+'">',"</g>"))});const o=i.width,l=i.height,u=s.width,h=s.height;let f,m;o===null?(m=l===null?"1em":l==="auto"?h:l,f=Tk(m,u/h)):(f=o==="auto"?u:o,m=l===null?Tk(f,h/u):l==="auto"?h:l);const g={},y=(b,w)=>{zW(w)||(g[b]=w.toString())};y("width",f),y("height",m);const _=[s.left,s.top,u,h];return g.viewBox=_.join(" "),{attributes:g,viewBox:_,body:a}}const $W=/\sid="(\S+)"/g,kk=new Map;function HW(e){e=e.replace(/[0-9]+$/,"")||"a";const t=kk.get(e)||0;return kk.set(e,t+1),t?`${e}${t}`:e}function jW(e){const t=[];let n;for(;n=$W.exec(e);)t.push(n[1]);if(!t.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(s=>{const a=HW(s),o=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}function WW(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in t)n+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function m1(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ol=m1();function VM(e){Ol=e}var nd={exec:()=>null};function We(e,t=""){let n=typeof e=="string"?e:e.source,i={replace:(s,a)=>{let o=typeof a=="string"?a:a.source;return o=o.replace(Hi.caret,"$1"),n=n.replace(s,o),i},getRegex:()=>new RegExp(n,t)};return i}var YW=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Hi={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},GW=/^(?:[ \t]*(?:\n|$))+/,VW=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,XW=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Wd=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ZW=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,g1=/(?:[*+-]|\d{1,9}[.)])/,XM=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ZM=We(XM).replace(/bull/g,g1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),QW=We(XM).replace(/bull/g,g1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),y1=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,KW=/^[^\n]+/,b1=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,JW=We(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",b1).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),tY=We(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,g1).getRegex(),hy="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_1=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,eY=We("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",_1).replace("tag",hy).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),QM=We(y1).replace("hr",Wd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hy).getRegex(),nY=We(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",QM).getRegex(),v1={blockquote:nY,code:VW,def:JW,fences:XW,heading:ZW,hr:Wd,html:eY,lheading:ZM,list:tY,newline:GW,paragraph:QM,table:nd,text:KW},Ck=We("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Wd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hy).getRegex(),iY={...v1,lheading:QW,table:Ck,paragraph:We(y1).replace("hr",Wd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ck).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hy).getRegex()},sY={...v1,html:We(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_1).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:nd,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:We(y1).replace("hr",Wd).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ZM).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},aY=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,rY=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,KM=/^( {2,}|\\)\n(?!\s*$)/,oY=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,dy=/[\p{P}\p{S}]/u,x1=/[\s\p{P}\p{S}]/u,JM=/[^\s\p{P}\p{S}]/u,lY=We(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,x1).getRegex(),tN=/(?!~)[\p{P}\p{S}]/u,cY=/(?!~)[\s\p{P}\p{S}]/u,uY=/(?:[^\s\p{P}\p{S}]|~)/u,hY=We(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",YW?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),eN=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,dY=We(eN,"u").replace(/punct/g,dy).getRegex(),fY=We(eN,"u").replace(/punct/g,tN).getRegex(),nN="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",pY=We(nN,"gu").replace(/notPunctSpace/g,JM).replace(/punctSpace/g,x1).replace(/punct/g,dy).getRegex(),mY=We(nN,"gu").replace(/notPunctSpace/g,uY).replace(/punctSpace/g,cY).replace(/punct/g,tN).getRegex(),gY=We("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,JM).replace(/punctSpace/g,x1).replace(/punct/g,dy).getRegex(),yY=We(/\\(punct)/,"gu").replace(/punct/g,dy).getRegex(),bY=We(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_Y=We(_1).replace("(?:-->|$)","-->").getRegex(),vY=We("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_Y).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Eg=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,xY=We(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Eg).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),iN=We(/^!?\[(label)\]\[(ref)\]/).replace("label",Eg).replace("ref",b1).getRegex(),sN=We(/^!?\[(ref)\](?:\[\])?/).replace("ref",b1).getRegex(),wY=We("reflink|nolink(?!\\()","g").replace("reflink",iN).replace("nolink",sN).getRegex(),Ak=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,w1={_backpedal:nd,anyPunctuation:yY,autolink:bY,blockSkip:hY,br:KM,code:rY,del:nd,emStrongLDelim:dY,emStrongRDelimAst:pY,emStrongRDelimUnd:gY,escape:aY,link:xY,nolink:sN,punctuation:lY,reflink:iN,reflinkSearch:wY,tag:vY,text:oY,url:nd},SY={...w1,link:We(/^!?\[(label)\]\((.*?)\)/).replace("label",Eg).getRegex(),reflink:We(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Eg).getRegex()},Lv={...w1,emStrongRDelimAst:mY,emStrongLDelim:fY,url:We(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Ak).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:We(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Ak).getRegex()},EY={...Lv,br:We(KM).replace("{2,}","*").getRegex(),text:We(Lv.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Sp={normal:v1,gfm:iY,pedantic:sY},xh={normal:w1,gfm:Lv,breaks:EY,pedantic:SY},TY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Rk=e=>TY[e];function wa(e,t){if(t){if(Hi.escapeTest.test(e))return e.replace(Hi.escapeReplace,Rk)}else if(Hi.escapeTestNoEncode.test(e))return e.replace(Hi.escapeReplaceNoEncode,Rk);return e}function Lk(e){try{e=encodeURI(e).replace(Hi.percentDecode,"%")}catch{return null}return e}function Dk(e,t){let n=e.replace(Hi.findPipe,(a,o,l)=>{let u=!1,h=o;for(;--h>=0&&l[h]==="\\";)u=!u;return u?"|":" |"}),i=n.split(Hi.splitPipe),s=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(Hi.slashPipe,"|");return i}function wh(e,t,n){let i=e.length;if(i===0)return"";let s=0;for(;s<i&&e.charAt(i-s-1)===t;)s++;return e.slice(0,i-s)}function kY(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function Ok(e,t,n,i,s){let a=t.href,o=t.title||null,l=e[1].replace(s.other.outputLinkReplace,"$1");i.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:a,title:o,text:l,tokens:i.inlineTokens(l)};return i.state.inLink=!1,u}function CY(e,t,n){let i=e.match(n.other.indentCodeCompensation);if(i===null)return t;let s=i[1];return t.split(`
`).map(a=>{let o=a.match(n.other.beginningSpace);if(o===null)return a;let[l]=o;return l.length>=s.length?a.slice(s.length):a}).join(`
`)}var Tg=class{options;rules;lexer;constructor(t){this.options=t||Ol}space(t){let n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){let n=this.rules.block.code.exec(t);if(n){let i=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:wh(i,`
`)}}}fences(t){let n=this.rules.block.fences.exec(t);if(n){let i=n[0],s=CY(i,n[3]||"",this.rules);return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:s}}}heading(t){let n=this.rules.block.heading.exec(t);if(n){let i=n[2].trim();if(this.rules.other.endingHash.test(i)){let s=wh(i,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(i=s.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){let n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:wh(n[0],`
`)}}blockquote(t){let n=this.rules.block.blockquote.exec(t);if(n){let i=wh(n[0],`
`).split(`
`),s="",a="",o=[];for(;i.length>0;){let l=!1,u=[],h;for(h=0;h<i.length;h++)if(this.rules.other.blockquoteStart.test(i[h]))u.push(i[h]),l=!0;else if(!l)u.push(i[h]);else break;i=i.slice(h);let f=u.join(`
`),m=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${f}`:f,a=a?`${a}
${m}`:m;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,o,!0),this.lexer.state.top=g,i.length===0)break;let y=o.at(-1);if(y?.type==="code")break;if(y?.type==="blockquote"){let _=y,b=_.raw+`
`+i.join(`
`),w=this.blockquote(b);o[o.length-1]=w,s=s.substring(0,s.length-_.raw.length)+w.raw,a=a.substring(0,a.length-_.text.length)+w.text;break}else if(y?.type==="list"){let _=y,b=_.raw+`
`+i.join(`
`),w=this.list(b);o[o.length-1]=w,s=s.substring(0,s.length-y.raw.length)+w.raw,a=a.substring(0,a.length-_.raw.length)+w.raw,i=b.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:o,text:a}}}list(t){let n=this.rules.block.list.exec(t);if(n){let i=n[1].trim(),s=i.length>1,a={type:"list",raw:"",ordered:s,start:s?+i.slice(0,-1):"",loose:!1,items:[]};i=s?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=s?i:"[*+-]");let o=this.rules.other.listItemRegex(i),l=!1;for(;t;){let h=!1,f="",m="";if(!(n=o.exec(t))||this.rules.block.hr.test(t))break;f=n[0],t=t.substring(f.length);let g=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),y=t.split(`
`,1)[0],_=!g.trim(),b=0;if(this.options.pedantic?(b=2,m=g.trimStart()):_?b=n[1].length+1:(b=n[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,m=g.slice(b),b+=n[1].length),_&&this.rules.other.blankLine.test(y)&&(f+=y+`
`,t=t.substring(y.length+1),h=!0),!h){let E=this.rules.other.nextBulletRegex(b),C=this.rules.other.hrRegex(b),D=this.rules.other.fencesBeginRegex(b),R=this.rules.other.headingBeginRegex(b),U=this.rules.other.htmlBeginRegex(b);for(;t;){let N=t.split(`
`,1)[0],P;if(y=N,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),P=y):P=y.replace(this.rules.other.tabCharGlobal,"    "),D.test(y)||R.test(y)||U.test(y)||E.test(y)||C.test(y))break;if(P.search(this.rules.other.nonSpaceChar)>=b||!y.trim())m+=`
`+P.slice(b);else{if(_||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||D.test(g)||R.test(g)||C.test(g))break;m+=`
`+y}!_&&!y.trim()&&(_=!0),f+=N+`
`,t=t.substring(N.length+1),g=P.slice(b)}}a.loose||(l?a.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(l=!0));let w=null,S;this.options.gfm&&(w=this.rules.other.listIsTask.exec(m),w&&(S=w[0]!=="[ ] ",m=m.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:f,task:!!w,checked:S,loose:!1,text:m,tokens:[]}),a.raw+=f}let u=a.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let h=0;h<a.items.length;h++)if(this.lexer.state.top=!1,a.items[h].tokens=this.lexer.blockTokens(a.items[h].text,[]),!a.loose){let f=a.items[h].tokens.filter(g=>g.type==="space"),m=f.length>0&&f.some(g=>this.rules.other.anyLine.test(g.raw));a.loose=m}if(a.loose)for(let h=0;h<a.items.length;h++)a.items[h].loose=!0;return a}}html(t){let n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){let n=this.rules.block.def.exec(t);if(n){let i=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:s,title:a}}}table(t){let n=this.rules.block.table.exec(t);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let i=Dk(n[1]),s=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(i.length===s.length){for(let l of s)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<i.length;l++)o.header.push({text:i[l],tokens:this.lexer.inline(i[l]),header:!0,align:o.align[l]});for(let l of a)o.rows.push(Dk(l,o.header.length).map((u,h)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[h]})));return o}}lheading(t){let n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){let n=this.rules.block.paragraph.exec(t);if(n){let i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(t){let n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){let n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(t){let n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){let n=this.rules.inline.link.exec(t);if(n){let i=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let o=wh(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{let o=kY(n[2],"()");if(o===-2)return;if(o>-1){let l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let s=n[2],a="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(s);o&&(s=o[1],a=o[3])}else a=n[3]?n[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?s=s.slice(1):s=s.slice(1,-1)),Ok(n,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(t,n){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let s=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=n[s.toLowerCase()];if(!a){let o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return Ok(i,a,i[0],this.lexer,this.rules)}}emStrong(t,n,i=""){let s=this.rules.inline.emStrongLDelim.exec(t);if(!(!s||s[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!i||this.rules.inline.punctuation.exec(i))){let a=[...s[0]].length-1,o,l,u=a,h=0,f=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,n=n.slice(-1*t.length+a);(s=f.exec(n))!=null;){if(o=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!o)continue;if(l=[...o].length,s[3]||s[4]){u+=l;continue}else if((s[5]||s[6])&&a%3&&!((a+l)%3)){h+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+h);let m=[...s[0]][0].length,g=t.slice(0,a+s.index+m+l);if(Math.min(a,l)%2){let _=g.slice(1,-1);return{type:"em",raw:g,text:_,tokens:this.lexer.inlineTokens(_)}}let y=g.slice(2,-2);return{type:"strong",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(t){let n=this.rules.inline.code.exec(t);if(n){let i=n[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(i),a=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return s&&a&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:n[0],text:i}}}br(t){let n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){let n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){let n=this.rules.inline.autolink.exec(t);if(n){let i,s;return n[2]==="@"?(i=n[1],s="mailto:"+i):(i=n[1],s=i),{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(t){let n;if(n=this.rules.inline.url.exec(t)){let i,s;if(n[2]==="@")i=n[0],s="mailto:"+i;else{let a;do a=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(a!==n[0]);i=n[0],n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){let n=this.rules.inline.text.exec(t);if(n){let i=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:i}}}},ia=class Dv{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ol,this.options.tokenizer=this.options.tokenizer||new Tg,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Hi,block:Sp.normal,inline:xh.normal};this.options.pedantic?(n.block=Sp.pedantic,n.inline=xh.pedantic):this.options.gfm&&(n.block=Sp.gfm,this.options.breaks?n.inline=xh.breaks:n.inline=xh.gfm),this.tokenizer.rules=n}static get rules(){return{block:Sp,inline:xh}}static lex(t,n){return new Dv(n).lex(t)}static lexInline(t,n){return new Dv(n).inlineTokens(t)}lex(t){t=t.replace(Hi.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){for(this.options.pedantic&&(t=t.replace(Hi.tabCharGlobal,"    ").replace(Hi.spaceLine,""));t;){let s;if(this.options.extensions?.block?.some(o=>(s=o.call({lexer:this},t,n))?(t=t.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(t)){t=t.substring(s.raw.length);let o=n.at(-1);s.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(t)){t=t.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(s=this.tokenizer.fences(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(t)){t=t.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title},n.push(s));continue}if(s=this.tokenizer.table(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(t)){t=t.substring(s.raw.length),n.push(s);continue}let a=t;if(this.options.extensions?.startBlock){let o=1/0,l=t.slice(1),u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},l),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(a=t.substring(0,o+1))}if(this.state.top&&(s=this.tokenizer.paragraph(a))){let o=n.at(-1);i&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s),i=a.length!==t.length,t=t.substring(s.raw.length);continue}if(s=this.tokenizer.text(t)){t=t.substring(s.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(t){let o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i=t,s=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,s.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let a;for(;(s=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)a=s[2]?s[2].length:0,i=i.slice(0,s.index+a)+"["+"a".repeat(s[0].length-a-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let o=!1,l="";for(;t;){o||(l=""),o=!1;let u;if(this.options.extensions?.inline?.some(f=>(u=f.call({lexer:this},t,n))?(t=t.substring(u.raw.length),n.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);let f=n.at(-1);u.type==="text"&&f?.type==="text"?(f.raw+=u.raw,f.text+=u.text):n.push(u);continue}if(u=this.tokenizer.emStrong(t,i,l)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),n.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),n.push(u);continue}let h=t;if(this.options.extensions?.startInline){let f=1/0,m=t.slice(1),g;this.options.extensions.startInline.forEach(y=>{g=y.call({lexer:this},m),typeof g=="number"&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(h=t.substring(0,f+1))}if(u=this.tokenizer.inlineText(h)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(l=u.raw.slice(-1)),o=!0;let f=n.at(-1);f?.type==="text"?(f.raw+=u.raw,f.text+=u.text):n.push(u);continue}if(t){let f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}},kg=class{options;parser;constructor(t){this.options=t||Ol}space(t){return""}code({text:t,lang:n,escaped:i}){let s=(n||"").match(Hi.notSpaceStart)?.[0],a=t.replace(Hi.endingNewline,"")+`
`;return s?'<pre><code class="language-'+wa(s)+'">'+(i?a:wa(a,!0))+`</code></pre>
`:"<pre><code>"+(i?a:wa(a,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:n}){return`<h${n}>${this.parser.parseInline(t)}</h${n}>
`}hr(t){return`<hr>
`}list(t){let n=t.ordered,i=t.start,s="";for(let l=0;l<t.items.length;l++){let u=t.items[l];s+=this.listitem(u)}let a=n?"ol":"ul",o=n&&i!==1?' start="'+i+'"':"";return"<"+a+o+`>
`+s+"</"+a+`>
`}listitem(t){let n="";if(t.task){let i=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+wa(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):n+=i+" "}return n+=this.parser.parse(t.tokens,!!t.loose),`<li>${n}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let n="",i="";for(let a=0;a<t.header.length;a++)i+=this.tablecell(t.header[a]);n+=this.tablerow({text:i});let s="";for(let a=0;a<t.rows.length;a++){let o=t.rows[a];i="";for(let l=0;l<o.length;l++)i+=this.tablecell(o[l]);s+=this.tablerow({text:i})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+s+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let n=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+n+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${wa(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:n,tokens:i}){let s=this.parser.parseInline(i),a=Lk(t);if(a===null)return s;t=a;let o='<a href="'+t+'"';return n&&(o+=' title="'+wa(n)+'"'),o+=">"+s+"</a>",o}image({href:t,title:n,text:i,tokens:s}){s&&(i=this.parser.parseInline(s,this.parser.textRenderer));let a=Lk(t);if(a===null)return wa(i);t=a;let o=`<img src="${t}" alt="${i}"`;return n&&(o+=` title="${wa(n)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:wa(t.text)}},S1=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},sa=class Ov{options;renderer;textRenderer;constructor(t){this.options=t||Ol,this.options.renderer=this.options.renderer||new kg,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new S1}static parse(t,n){return new Ov(n).parse(t)}static parseInline(t,n){return new Ov(n).parseInline(t)}parse(t,n=!0){let i="";for(let s=0;s<t.length;s++){let a=t[s];if(this.options.extensions?.renderers?.[a.type]){let l=a,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){i+=u||"";continue}}let o=a;switch(o.type){case"space":{i+=this.renderer.space(o);continue}case"hr":{i+=this.renderer.hr(o);continue}case"heading":{i+=this.renderer.heading(o);continue}case"code":{i+=this.renderer.code(o);continue}case"table":{i+=this.renderer.table(o);continue}case"blockquote":{i+=this.renderer.blockquote(o);continue}case"list":{i+=this.renderer.list(o);continue}case"html":{i+=this.renderer.html(o);continue}case"def":{i+=this.renderer.def(o);continue}case"paragraph":{i+=this.renderer.paragraph(o);continue}case"text":{let l=o,u=this.renderer.text(l);for(;s+1<t.length&&t[s+1].type==="text";)l=t[++s],u+=`
`+this.renderer.text(l);n?i+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):i+=u;continue}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}parseInline(t,n=this.renderer){let i="";for(let s=0;s<t.length;s++){let a=t[s];if(this.options.extensions?.renderers?.[a.type]){let l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){i+=l||"";continue}}let o=a;switch(o.type){case"escape":{i+=n.text(o);break}case"html":{i+=n.html(o);break}case"link":{i+=n.link(o);break}case"image":{i+=n.image(o);break}case"strong":{i+=n.strong(o);break}case"em":{i+=n.em(o);break}case"codespan":{i+=n.codespan(o);break}case"br":{i+=n.br(o);break}case"del":{i+=n.del(o);break}case"text":{i+=n.text(o);break}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}},Hh=class{options;block;constructor(t){this.options=t||Ol}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?ia.lex:ia.lexInline}provideParser(){return this.block?sa.parse:sa.parseInline}},AY=class{defaults=m1();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=sa;Renderer=kg;TextRenderer=S1;Lexer=ia;Tokenizer=Tg;Hooks=Hh;constructor(...t){this.use(...t)}walkTokens(t,n){let i=[];for(let s of t)switch(i=i.concat(n.call(this,s)),s.type){case"table":{let a=s;for(let o of a.header)i=i.concat(this.walkTokens(o.tokens,n));for(let o of a.rows)for(let l of o)i=i.concat(this.walkTokens(l.tokens,n));break}case"list":{let a=s;i=i.concat(this.walkTokens(a.items,n));break}default:{let a=s;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{let l=a[o].flat(1/0);i=i.concat(this.walkTokens(l,n))}):a.tokens&&(i=i.concat(this.walkTokens(a.tokens,n)))}}return i}use(...t){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{let s={...i};if(s.async=this.defaults.async||s.async||!1,i.extensions&&(i.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){let o=n.renderers[a.name];o?n.renderers[a.name]=function(...l){let u=a.renderer.apply(this,l);return u===!1&&(u=o.apply(this,l)),u}:n.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=n[a.level];o?o.unshift(a.tokenizer):n[a.level]=[a.tokenizer],a.start&&(a.level==="block"?n.startBlock?n.startBlock.push(a.start):n.startBlock=[a.start]:a.level==="inline"&&(n.startInline?n.startInline.push(a.start):n.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(n.childTokens[a.name]=a.childTokens)}),s.extensions=n),i.renderer){let a=this.defaults.renderer||new kg(this.defaults);for(let o in i.renderer){if(!(o in a))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let l=o,u=i.renderer[l],h=a[l];a[l]=(...f)=>{let m=u.apply(a,f);return m===!1&&(m=h.apply(a,f)),m||""}}s.renderer=a}if(i.tokenizer){let a=this.defaults.tokenizer||new Tg(this.defaults);for(let o in i.tokenizer){if(!(o in a))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let l=o,u=i.tokenizer[l],h=a[l];a[l]=(...f)=>{let m=u.apply(a,f);return m===!1&&(m=h.apply(a,f)),m}}s.tokenizer=a}if(i.hooks){let a=this.defaults.hooks||new Hh;for(let o in i.hooks){if(!(o in a))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let l=o,u=i.hooks[l],h=a[l];Hh.passThroughHooks.has(o)?a[l]=f=>{if(this.defaults.async&&Hh.passThroughHooksRespectAsync.has(o))return(async()=>{let g=await u.call(a,f);return h.call(a,g)})();let m=u.call(a,f);return h.call(a,m)}:a[l]=(...f)=>{if(this.defaults.async)return(async()=>{let g=await u.apply(a,f);return g===!1&&(g=await h.apply(a,f)),g})();let m=u.apply(a,f);return m===!1&&(m=h.apply(a,f)),m}}s.hooks=a}if(i.walkTokens){let a=this.defaults.walkTokens,o=i.walkTokens;s.walkTokens=function(l){let u=[];return u.push(o.call(this,l)),a&&(u=u.concat(a.call(this,l))),u}}this.defaults={...this.defaults,...s}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return ia.lex(t,n??this.defaults)}parser(t,n){return sa.parse(t,n??this.defaults)}parseMarkdown(t){return(n,i)=>{let s={...i},a={...this.defaults,...s},o=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&s.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(a.hooks&&(a.hooks.options=a,a.hooks.block=t),a.async)return(async()=>{let l=a.hooks?await a.hooks.preprocess(n):n,u=await(a.hooks?await a.hooks.provideLexer():t?ia.lex:ia.lexInline)(l,a),h=a.hooks?await a.hooks.processAllTokens(u):u;a.walkTokens&&await Promise.all(this.walkTokens(h,a.walkTokens));let f=await(a.hooks?await a.hooks.provideParser():t?sa.parse:sa.parseInline)(h,a);return a.hooks?await a.hooks.postprocess(f):f})().catch(o);try{a.hooks&&(n=a.hooks.preprocess(n));let l=(a.hooks?a.hooks.provideLexer():t?ia.lex:ia.lexInline)(n,a);a.hooks&&(l=a.hooks.processAllTokens(l)),a.walkTokens&&this.walkTokens(l,a.walkTokens);let u=(a.hooks?a.hooks.provideParser():t?sa.parse:sa.parseInline)(l,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(l){return o(l)}}}onError(t,n){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let s="<p>An error occurred:</p><pre>"+wa(i.message+"",!0)+"</pre>";return n?Promise.resolve(s):s}if(n)return Promise.reject(i);throw i}}},Sl=new AY;function tn(e,t){return Sl.parse(e,t)}tn.options=tn.setOptions=function(e){return Sl.setOptions(e),tn.defaults=Sl.defaults,VM(tn.defaults),tn};tn.getDefaults=m1;tn.defaults=Ol;tn.use=function(...e){return Sl.use(...e),tn.defaults=Sl.defaults,VM(tn.defaults),tn};tn.walkTokens=function(e,t){return Sl.walkTokens(e,t)};tn.parseInline=Sl.parseInline;tn.Parser=sa;tn.parser=sa.parse;tn.Renderer=kg;tn.TextRenderer=S1;tn.Lexer=ia;tn.lexer=ia.lex;tn.Tokenizer=Tg;tn.Hooks=Hh;tn.parse=tn;tn.options;tn.setOptions;tn.use;tn.walkTokens;tn.parseInline;sa.parse;ia.lex;function aN(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var s=i.reduce(function(l,u){var h=u.match(/\n([\t ]+|(?!\s).)/g);return h?l.concat(h.map(function(f){var m,g;return(g=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&g!==void 0?g:0})):l},[]);if(s.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,s)+"}","g");i=i.map(function(l){return l.replace(a,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var o=i[0];return t.forEach(function(l,u){var h=o.match(/(?:^|\n)( *)$/),f=h?h[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(g,y){return y===0?g:""+f+g}).join(`
`)),o+=m+i[u+1]}),o}var RY={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Mv=new Map,rN=new Map,LY=T(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(wt.debug("Registering icon pack:",t.name),"loader"in t)rN.set(t.name,t.loader);else if("icons"in t)Mv.set(t.name,t.icons);else throw wt.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),oN=T(async(e,t)=>{const n=DW(e,!0,t!==void 0);if(!n)throw new Error(`Invalid icon name: ${e}`);const i=n.prefix||t;if(!i)throw new Error(`Icon name must contain a prefix: ${e}`);let s=Mv.get(i);if(!s){const o=rN.get(i);if(!o)throw new Error(`Icon set not found: ${n.prefix}`);try{s={...await o(),prefix:i},Mv.set(i,s)}catch(l){throw wt.error(l),new Error(`Failed to load icon set: ${n.prefix}`)}}const a=NW(s,n.name);if(!a)throw new Error(`Icon not found: ${e}`);return a},"getRegisteredIconData"),DY=T(async e=>{try{return await oN(e),!0}catch{return!1}},"isIconAvailable"),Yd=T(async(e,t,n)=>{let i;try{i=await oN(e,t?.fallbackPrefix)}catch(o){wt.error(o),i=RY}const s=PW(i,t),a=WW(jW(s.body),{...s.attributes,...n});return Ys(a,Ri())},"getIconSVG");function lN(e,{markdownAutoWrap:t}){const i=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),s=aN(i);return t===!1?s.replace(/ /g,"&nbsp;"):s}T(lN,"preprocessMarkdown");function cN(e,t={}){const n=lN(e,t),i=tn.lexer(n),s=[[]];let a=0;function o(l,u="normal"){l.type==="text"?l.text.split(`
`).forEach((f,m)=>{m!==0&&(a++,s.push([])),f.split(" ").forEach(g=>{g=g.replace(/&#39;/g,"'"),g&&s[a].push({content:g,type:u})})}):l.type==="strong"||l.type==="em"?l.tokens.forEach(h=>{o(h,l.type)}):l.type==="html"&&s[a].push({content:l.text,type:"normal"})}return T(o,"processNode"),i.forEach(l=>{l.type==="paragraph"?l.tokens?.forEach(u=>{o(u)}):l.type==="html"?s[a].push({content:l.text,type:"normal"}):s[a].push({content:l.raw,type:"normal"})}),s}T(cN,"markdownToLines");function uN(e,{markdownAutoWrap:t}={}){const n=tn.lexer(e);function i(s){return s.type==="text"?t===!1?s.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):s.text.replace(/\n */g,"<br/>"):s.type==="strong"?`<strong>${s.tokens?.map(i).join("")}</strong>`:s.type==="em"?`<em>${s.tokens?.map(i).join("")}</em>`:s.type==="paragraph"?`<p>${s.tokens?.map(i).join("")}</p>`:s.type==="space"?"":s.type==="html"?`${s.text}`:s.type==="escape"?s.text:(wt.warn(`Unsupported markdown: ${s.type}`),s.raw)}return T(i,"output"),n.map(i).join("")}T(uN,"markdownToHTML");function hN(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}T(hN,"splitTextToChars");function dN(e,t){const n=hN(t.content);return E1(e,[],n,t.type)}T(dN,"splitWordToFitWidth");function E1(e,t,n,i){if(n.length===0)return[{content:t.join(""),type:i},{content:"",type:i}];const[s,...a]=n,o=[...t,s];return e([{content:o.join(""),type:i}])?E1(e,o,a,i):(t.length===0&&s&&(t.push(s),n.shift()),[{content:t.join(""),type:i},{content:n.join(""),type:i}])}T(E1,"splitWordToFitWidthRecursion");function fN(e,t){if(e.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Cg(e,t)}T(fN,"splitLineToFitWidth");function Cg(e,t,n=[],i=[]){if(e.length===0)return i.length>0&&n.push(i),n.length>0?n:[];let s="";e[0].content===" "&&(s=" ",e.shift());const a=e.shift()??{content:" ",type:"normal"},o=[...i];if(s!==""&&o.push({content:s,type:"normal"}),o.push(a),t(o))return Cg(e,t,n,o);if(i.length>0)n.push(i),e.unshift(a);else if(a.content){const[l,u]=dN(t,a);n.push([l]),u.content&&e.unshift(u)}return Cg(e,t,n)}T(Cg,"splitLineToFitWidthRecursion");function Nv(e,t){t&&e.attr("style",t)}T(Nv,"applyStyle");async function pN(e,t,n,i,s=!1,a=Ri()){const o=e.append("foreignObject");o.attr("width",`${10*n}px`),o.attr("height",`${10*n}px`);const l=o.append("xhtml:div"),u=iu(t.label)?await Mx(t.label.replace(mu.lineBreakRegex,`
`),a):Ys(t.label,a),h=t.isNode?"nodeLabel":"edgeLabel",f=l.append("span");f.html(u),Nv(f,t.labelStyle),f.attr("class",`${h} ${i}`),Nv(l,t.labelStyle),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("line-height","1.5"),l.style("max-width",n+"px"),l.style("text-align","center"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),s&&l.attr("class","labelBkg");let m=l.node().getBoundingClientRect();return m.width===n&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",n+"px"),m=l.node().getBoundingClientRect()),o.node()}T(pN,"addHtmlSpan");function fy(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}T(fy,"createTspan");function mN(e,t,n){const i=e.append("text"),s=fy(i,1,t);py(s,n);const a=s.node().getComputedTextLength();return i.remove(),a}T(mN,"computeWidthOfText");function OY(e,t,n){const i=e.append("text"),s=fy(i,1,t);py(s,[{content:n,type:"normal"}]);const a=s.node()?.getBoundingClientRect();return a&&i.remove(),a}T(OY,"computeDimensionOfText");function gN(e,t,n,i=!1){const a=t.append("g"),o=a.insert("rect").attr("class","background").attr("style","stroke: none"),l=a.append("text").attr("y","-10.1");let u=0;for(const h of n){const f=T(g=>mN(a,1.1,g)<=e,"checkWidth"),m=f(h)?[h]:fN(h,f);for(const g of m){const y=fy(l,u,1.1);py(y,g),u++}}if(i){const h=l.node().getBBox(),f=2;return o.attr("x",h.x-f).attr("y",h.y-f).attr("width",h.width+2*f).attr("height",h.height+2*f),a.node()}else return l.node()}T(gN,"createFormattedText");function py(e,t){e.text(""),t.forEach((n,i)=>{const s=e.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");i===0?s.text(n.content):s.text(" "+n.content)})}T(py,"updateTextContentAndStyles");async function yN(e,t={}){const n=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(s,a,o)=>(n.push((async()=>{const l=`${a}:${o}`;return await DY(l)?await Yd(l,void 0,{class:"label-icon"}):`<i class='${Ys(s,t).replace(":"," ")}'></i>`})()),s));const i=await Promise.all(n);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}T(yN,"replaceIconSubstring");var Lo=T(async(e,t="",{style:n="",isTitle:i=!1,classes:s="",useHtmlLabels:a=!0,isNode:o=!0,width:l=200,addSvgBackground:u=!1}={},h)=>{if(wt.debug("XYZ createText",t,n,i,s,a,o,"addSvgBackground: ",u),a){const f=uN(t,h),m=await yN(Dl(f),h),g=t.replace(/\\\\/g,"\\"),y={isNode:o,label:iu(t)?g:m,labelStyle:n.replace("fill:","color:")};return await pN(e,y,l,s,u,h)}else{const f=t.replace(/<br\s*\/?>/g,"<br/>"),m=cN(f.replace("<br>","<br/>"),h),g=gN(l,e,m,t?u:!1);if(o){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const y=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");ze(g).attr("style",y)}else{const y=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");ze(g).select("rect").attr("style",y.replace(/background:/g,"fill:"));const _=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");ze(g).select("text").attr("style",_)}return g}},"createText");function u_(e,t,n){if(e&&e.length){const[i,s]=t,a=Math.PI/180*n,o=Math.cos(a),l=Math.sin(a);for(const u of e){const[h,f]=u;u[0]=(h-i)*o-(f-s)*l+i,u[1]=(h-i)*l+(f-s)*o+s}}}function MY(e,t){return e[0]===t[0]&&e[1]===t[1]}function NY(e,t,n,i=1){const s=n,a=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,l=[0,0];if(s)for(const h of o)u_(h,l,s);const u=(function(h,f,m){const g=[];for(const E of h){const C=[...E];MY(C[0],C[C.length-1])||C.push([C[0][0],C[0][1]]),C.length>2&&g.push(C)}const y=[];f=Math.max(f,.1);const _=[];for(const E of g)for(let C=0;C<E.length-1;C++){const D=E[C],R=E[C+1];if(D[1]!==R[1]){const U=Math.min(D[1],R[1]);_.push({ymin:U,ymax:Math.max(D[1],R[1]),x:U===D[1]?D[0]:R[0],islope:(R[0]-D[0])/(R[1]-D[1])})}}if(_.sort(((E,C)=>E.ymin<C.ymin?-1:E.ymin>C.ymin?1:E.x<C.x?-1:E.x>C.x?1:E.ymax===C.ymax?0:(E.ymax-C.ymax)/Math.abs(E.ymax-C.ymax))),!_.length)return y;let b=[],w=_[0].ymin,S=0;for(;b.length||_.length;){if(_.length){let E=-1;for(let C=0;C<_.length&&!(_[C].ymin>w);C++)E=C;_.splice(0,E+1).forEach((C=>{b.push({s:w,edge:C})}))}if(b=b.filter((E=>!(E.edge.ymax<=w))),b.sort(((E,C)=>E.edge.x===C.edge.x?0:(E.edge.x-C.edge.x)/Math.abs(E.edge.x-C.edge.x))),(m!==1||S%f==0)&&b.length>1)for(let E=0;E<b.length;E+=2){const C=E+1;if(C>=b.length)break;const D=b[E].edge,R=b[C].edge;y.push([[Math.round(D.x),w],[Math.round(R.x),w]])}w+=m,b.forEach((E=>{E.edge.x=E.edge.x+m*E.edge.islope})),S++}return y})(o,a,i);if(s){for(const h of o)u_(h,l,-s);(function(h,f,m){const g=[];h.forEach((y=>g.push(...y))),u_(g,f,m)})(u,l,-s)}return u}function Gd(e,t){var n;const i=t.hachureAngle+90;let s=t.hachureGap;s<0&&(s=4*t.strokeWidth),s=Math.round(Math.max(s,.1));let a=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(a=s),NY(e,s,i,a||1)}class T1{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const i=Gd(t,n);return{type:"fillSketch",ops:this.renderLines(i,n)}}renderLines(t,n){const i=[];for(const s of t)i.push(...this.helper.doubleLineOps(s[0][0],s[0][1],s[1][0],s[1][1],n));return i}}function my(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class IY extends T1{fillPolygons(t,n){let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);const s=Gd(t,Object.assign({},n,{hachureGap:i})),a=Math.PI/180*n.hachureAngle,o=[],l=.5*i*Math.cos(a),u=.5*i*Math.sin(a);for(const[h,f]of s)my([h,f])&&o.push([[h[0]-l,h[1]+u],[...f]],[[h[0]+l,h[1]-u],[...f]]);return{type:"fillSketch",ops:this.renderLines(o,n)}}}class BY extends T1{fillPolygons(t,n){const i=this._fillPolygons(t,n),s=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),a=this._fillPolygons(t,s);return i.ops=i.ops.concat(a.ops),i}}class FY{constructor(t){this.helper=t}fillPolygons(t,n){const i=Gd(t,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(i,n)}dotsOnLines(t,n){const i=[];let s=n.hachureGap;s<0&&(s=4*n.strokeWidth),s=Math.max(s,.1);let a=n.fillWeight;a<0&&(a=n.strokeWidth/2);const o=s/4;for(const l of t){const u=my(l),h=u/s,f=Math.ceil(h)-1,m=u-f*s,g=(l[0][0]+l[1][0])/2-s/4,y=Math.min(l[0][1],l[1][1]);for(let _=0;_<f;_++){const b=y+m+_*s,w=g-o+2*Math.random()*o,S=b-o+2*Math.random()*o,E=this.helper.ellipse(w,S,a,a,n);i.push(...E.ops)}}return{type:"fillSketch",ops:i}}}class UY{constructor(t){this.helper=t}fillPolygons(t,n){const i=Gd(t,n);return{type:"fillSketch",ops:this.dashedLine(i,n)}}dashedLine(t,n){const i=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,s=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,a=[];return t.forEach((o=>{const l=my(o),u=Math.floor(l/(i+s)),h=(l+s-u*(i+s))/2;let f=o[0],m=o[1];f[0]>m[0]&&(f=o[1],m=o[0]);const g=Math.atan((m[1]-f[1])/(m[0]-f[0]));for(let y=0;y<u;y++){const _=y*(i+s),b=_+i,w=[f[0]+_*Math.cos(g)+h*Math.cos(g),f[1]+_*Math.sin(g)+h*Math.sin(g)],S=[f[0]+b*Math.cos(g)+h*Math.cos(g),f[1]+b*Math.sin(g)+h*Math.sin(g)];a.push(...this.helper.doubleLineOps(w[0],w[1],S[0],S[1],n))}})),a}}class qY{constructor(t){this.helper=t}fillPolygons(t,n){const i=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,s=n.zigzagOffset<0?i:n.zigzagOffset,a=Gd(t,n=Object.assign({},n,{hachureGap:i+s}));return{type:"fillSketch",ops:this.zigzagLines(a,s,n)}}zigzagLines(t,n,i){const s=[];return t.forEach((a=>{const o=my(a),l=Math.round(o/(2*n));let u=a[0],h=a[1];u[0]>h[0]&&(u=a[1],h=a[0]);const f=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let m=0;m<l;m++){const g=2*m*n,y=2*(m+1)*n,_=Math.sqrt(2*Math.pow(n,2)),b=[u[0]+g*Math.cos(f),u[1]+g*Math.sin(f)],w=[u[0]+y*Math.cos(f),u[1]+y*Math.sin(f)],S=[b[0]+_*Math.cos(f+Math.PI/4),b[1]+_*Math.sin(f+Math.PI/4)];s.push(...this.helper.doubleLineOps(b[0],b[1],S[0],S[1],i),...this.helper.doubleLineOps(S[0],S[1],w[0],w[1],i))}})),s}}const ts={};class zY{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const PY=0,h_=1,Mk=2,Ep={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function d_(e,t){return e.type===t}function k1(e){const t=[],n=(function(o){const l=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))l[l.length]={type:PY,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];l[l.length]={type:h_,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return l[l.length]={type:Mk,text:""},l})(e);let i="BOD",s=0,a=n[s];for(;!d_(a,Mk);){let o=0;const l=[];if(i==="BOD"){if(a.text!=="M"&&a.text!=="m")return k1("M0,0"+e);s++,o=Ep[a.text],i=a.text}else d_(a,h_)?o=Ep[i]:(s++,o=Ep[a.text],i=a.text);if(!(s+o<n.length))throw new Error("Path data ended short");for(let u=s;u<s+o;u++){const h=n[u];if(!d_(h,h_))throw new Error("Param not a number: "+i+","+h.text);l[l.length]=+h.text}if(typeof Ep[i]!="number")throw new Error("Bad segment: "+i);{const u={key:i,data:l};t.push(u),s+=o,a=n[s],i==="M"&&(i="L"),i==="m"&&(i="l")}}return t}function bN(e){let t=0,n=0,i=0,s=0;const a=[];for(const{key:o,data:l}of e)switch(o){case"M":a.push({key:"M",data:[...l]}),[t,n]=l,[i,s]=l;break;case"m":t+=l[0],n+=l[1],a.push({key:"M",data:[t,n]}),i=t,s=n;break;case"L":a.push({key:"L",data:[...l]}),[t,n]=l;break;case"l":t+=l[0],n+=l[1],a.push({key:"L",data:[t,n]});break;case"C":a.push({key:"C",data:[...l]}),t=l[4],n=l[5];break;case"c":{const u=l.map(((h,f)=>f%2?h+n:h+t));a.push({key:"C",data:u}),t=u[4],n=u[5];break}case"Q":a.push({key:"Q",data:[...l]}),t=l[2],n=l[3];break;case"q":{const u=l.map(((h,f)=>f%2?h+n:h+t));a.push({key:"Q",data:u}),t=u[2],n=u[3];break}case"A":a.push({key:"A",data:[...l]}),t=l[5],n=l[6];break;case"a":t+=l[5],n+=l[6],a.push({key:"A",data:[l[0],l[1],l[2],l[3],l[4],t,n]});break;case"H":a.push({key:"H",data:[...l]}),t=l[0];break;case"h":t+=l[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...l]}),n=l[0];break;case"v":n+=l[0],a.push({key:"V",data:[n]});break;case"S":a.push({key:"S",data:[...l]}),t=l[2],n=l[3];break;case"s":{const u=l.map(((h,f)=>f%2?h+n:h+t));a.push({key:"S",data:u}),t=u[2],n=u[3];break}case"T":a.push({key:"T",data:[...l]}),t=l[0],n=l[1];break;case"t":t+=l[0],n+=l[1],a.push({key:"T",data:[t,n]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=i,n=s}return a}function _N(e){const t=[];let n="",i=0,s=0,a=0,o=0,l=0,u=0;for(const{key:h,data:f}of e){switch(h){case"M":t.push({key:"M",data:[...f]}),[i,s]=f,[a,o]=f;break;case"C":t.push({key:"C",data:[...f]}),i=f[4],s=f[5],l=f[2],u=f[3];break;case"L":t.push({key:"L",data:[...f]}),[i,s]=f;break;case"H":i=f[0],t.push({key:"L",data:[i,s]});break;case"V":s=f[0],t.push({key:"L",data:[i,s]});break;case"S":{let m=0,g=0;n==="C"||n==="S"?(m=i+(i-l),g=s+(s-u)):(m=i,g=s),t.push({key:"C",data:[m,g,...f]}),l=f[0],u=f[1],i=f[2],s=f[3];break}case"T":{const[m,g]=f;let y=0,_=0;n==="Q"||n==="T"?(y=i+(i-l),_=s+(s-u)):(y=i,_=s);const b=i+2*(y-i)/3,w=s+2*(_-s)/3,S=m+2*(y-m)/3,E=g+2*(_-g)/3;t.push({key:"C",data:[b,w,S,E,m,g]}),l=y,u=_,i=m,s=g;break}case"Q":{const[m,g,y,_]=f,b=i+2*(m-i)/3,w=s+2*(g-s)/3,S=y+2*(m-y)/3,E=_+2*(g-_)/3;t.push({key:"C",data:[b,w,S,E,y,_]}),l=m,u=g,i=y,s=_;break}case"A":{const m=Math.abs(f[0]),g=Math.abs(f[1]),y=f[2],_=f[3],b=f[4],w=f[5],S=f[6];m===0||g===0?(t.push({key:"C",data:[i,s,w,S,w,S]}),i=w,s=S):(i!==w||s!==S)&&(vN(i,s,w,S,m,g,y,_,b).forEach((function(E){t.push({key:"C",data:E})})),i=w,s=S);break}case"Z":t.push({key:"Z",data:[]}),i=a,s=o}n=h}return t}function Sh(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function vN(e,t,n,i,s,a,o,l,u,h){const f=(m=o,Math.PI*m/180);var m;let g=[],y=0,_=0,b=0,w=0;if(h)[y,_,b,w]=h;else{[e,t]=Sh(e,t,-f),[n,i]=Sh(n,i,-f);const G=(e-n)/2,k=(t-i)/2;let H=G*G/(s*s)+k*k/(a*a);H>1&&(H=Math.sqrt(H),s*=H,a*=H);const M=s*s,B=a*a,W=M*B-M*k*k-B*G*G,Z=M*k*k+B*G*G,rt=(l===u?-1:1)*Math.sqrt(Math.abs(W/Z));b=rt*s*k/a+(e+n)/2,w=rt*-a*G/s+(t+i)/2,y=Math.asin(parseFloat(((t-w)/a).toFixed(9))),_=Math.asin(parseFloat(((i-w)/a).toFixed(9))),e<b&&(y=Math.PI-y),n<b&&(_=Math.PI-_),y<0&&(y=2*Math.PI+y),_<0&&(_=2*Math.PI+_),u&&y>_&&(y-=2*Math.PI),!u&&_>y&&(_-=2*Math.PI)}let S=_-y;if(Math.abs(S)>120*Math.PI/180){const G=_,k=n,H=i;_=u&&_>y?y+120*Math.PI/180*1:y+120*Math.PI/180*-1,g=vN(n=b+s*Math.cos(_),i=w+a*Math.sin(_),k,H,s,a,o,0,u,[_,G,b,w])}S=_-y;const E=Math.cos(y),C=Math.sin(y),D=Math.cos(_),R=Math.sin(_),U=Math.tan(S/4),N=4/3*s*U,P=4/3*a*U,$=[e,t],X=[e+N*C,t-P*E],V=[n+N*R,i-P*D],I=[n,i];if(X[0]=2*$[0]-X[0],X[1]=2*$[1]-X[1],h)return[X,V,I].concat(g);{g=[X,V,I].concat(g);const G=[];for(let k=0;k<g.length;k+=3){const H=Sh(g[k][0],g[k][1],f),M=Sh(g[k+1][0],g[k+1][1],f),B=Sh(g[k+2][0],g[k+2][1],f);G.push([H[0],H[1],M[0],M[1],B[0],B[1]])}return G}}const $Y={randOffset:function(e,t){return he(e,t)},randOffsetWithRange:function(e,t,n){return Ag(e,t,n)},ellipse:function(e,t,n,i,s){const a=wN(n,i,s);return Iv(e,t,s,a).opset},doubleLineOps:function(e,t,n,i,s){return To(e,t,n,i,s,!0)}};function xN(e,t,n,i,s){return{type:"path",ops:To(e,t,n,i,s)}}function pm(e,t,n){const i=(e||[]).length;if(i>2){const s=[];for(let a=0;a<i-1;a++)s.push(...To(e[a][0],e[a][1],e[a+1][0],e[a+1][1],n));return t&&s.push(...To(e[i-1][0],e[i-1][1],e[0][0],e[0][1],n)),{type:"path",ops:s}}return i===2?xN(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function HY(e,t,n,i,s){return(function(a,o){return pm(a,!0,o)})([[e,t],[e+n,t],[e+n,t+i],[e,t+i]],s)}function Nk(e,t){if(e.length){const n=typeof e[0][0]=="number"?[e]:e,i=Tp(n[0],1*(1+.2*t.roughness),t),s=t.disableMultiStroke?[]:Tp(n[0],1.5*(1+.22*t.roughness),Fk(t));for(let a=1;a<n.length;a++){const o=n[a];if(o.length){const l=Tp(o,1*(1+.2*t.roughness),t),u=t.disableMultiStroke?[]:Tp(o,1.5*(1+.22*t.roughness),Fk(t));for(const h of l)h.op!=="move"&&i.push(h);for(const h of u)h.op!=="move"&&s.push(h)}}return{type:"path",ops:i.concat(s)}}return{type:"path",ops:[]}}function wN(e,t,n){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),s=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*i)),a=2*Math.PI/s;let o=Math.abs(e/2),l=Math.abs(t/2);const u=1-n.curveFitting;return o+=he(o*u,n),l+=he(l*u,n),{increment:a,rx:o,ry:l}}function Iv(e,t,n,i){const[s,a]=Uk(i.increment,e,t,i.rx,i.ry,1,i.increment*Ag(.1,Ag(.4,1,n),n),n);let o=Rg(s,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[l]=Uk(i.increment,e,t,i.rx,i.ry,1.5,0,n),u=Rg(l,null,n);o=o.concat(u)}return{estimatedPoints:a,opset:{type:"path",ops:o}}}function Ik(e,t,n,i,s,a,o,l,u){const h=e,f=t;let m=Math.abs(n/2),g=Math.abs(i/2);m+=he(.01*m,u),g+=he(.01*g,u);let y=s,_=a;for(;y<0;)y+=2*Math.PI,_+=2*Math.PI;_-y>2*Math.PI&&(y=0,_=2*Math.PI);const b=2*Math.PI/u.curveStepCount,w=Math.min(b/2,(_-y)/2),S=qk(w,h,f,m,g,y,_,1,u);if(!u.disableMultiStroke){const E=qk(w,h,f,m,g,y,_,1.5,u);S.push(...E)}return o&&(l?S.push(...To(h,f,h+m*Math.cos(y),f+g*Math.sin(y),u),...To(h,f,h+m*Math.cos(_),f+g*Math.sin(_),u)):S.push({op:"lineTo",data:[h,f]},{op:"lineTo",data:[h+m*Math.cos(y),f+g*Math.sin(y)]})),{type:"path",ops:S}}function Bk(e,t){const n=_N(bN(k1(e))),i=[];let s=[0,0],a=[0,0];for(const{key:o,data:l}of n)switch(o){case"M":a=[l[0],l[1]],s=[l[0],l[1]];break;case"L":i.push(...To(a[0],a[1],l[0],l[1],t)),a=[l[0],l[1]];break;case"C":{const[u,h,f,m,g,y]=l;i.push(...jY(u,h,f,m,g,y,a,t)),a=[g,y];break}case"Z":i.push(...To(a[0],a[1],s[0],s[1],t)),a=[s[0],s[1]]}return{type:"path",ops:i}}function f_(e,t){const n=[];for(const i of e)if(i.length){const s=t.maxRandomnessOffset||0,a=i.length;if(a>2){n.push({op:"move",data:[i[0][0]+he(s,t),i[0][1]+he(s,t)]});for(let o=1;o<a;o++)n.push({op:"lineTo",data:[i[o][0]+he(s,t),i[o][1]+he(s,t)]})}}return{type:"fillPath",ops:n}}function gc(e,t){return(function(n,i){let s=n.fillStyle||"hachure";if(!ts[s])switch(s){case"zigzag":ts[s]||(ts[s]=new IY(i));break;case"cross-hatch":ts[s]||(ts[s]=new BY(i));break;case"dots":ts[s]||(ts[s]=new FY(i));break;case"dashed":ts[s]||(ts[s]=new UY(i));break;case"zigzag-line":ts[s]||(ts[s]=new qY(i));break;default:s="hachure",ts[s]||(ts[s]=new T1(i))}return ts[s]})(t,$Y).fillPolygons(e,t)}function Fk(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function SN(e){return e.randomizer||(e.randomizer=new zY(e.seed||0)),e.randomizer.next()}function Ag(e,t,n,i=1){return n.roughness*i*(SN(n)*(t-e)+e)}function he(e,t,n=1){return Ag(-e,e,t,n)}function To(e,t,n,i,s,a=!1){const o=a?s.disableMultiStrokeFill:s.disableMultiStroke,l=Bv(e,t,n,i,s,!0,!1);if(o)return l;const u=Bv(e,t,n,i,s,!0,!0);return l.concat(u)}function Bv(e,t,n,i,s,a,o){const l=Math.pow(e-n,2)+Math.pow(t-i,2),u=Math.sqrt(l);let h=1;h=u<200?1:u>500?.4:-.0016668*u+1.233334;let f=s.maxRandomnessOffset||0;f*f*100>l&&(f=u/10);const m=f/2,g=.2+.2*SN(s);let y=s.bowing*s.maxRandomnessOffset*(i-t)/200,_=s.bowing*s.maxRandomnessOffset*(e-n)/200;y=he(y,s,h),_=he(_,s,h);const b=[],w=()=>he(m,s,h),S=()=>he(f,s,h),E=s.preserveVertices;return o?b.push({op:"move",data:[e+(E?0:w()),t+(E?0:w())]}):b.push({op:"move",data:[e+(E?0:he(f,s,h)),t+(E?0:he(f,s,h))]}),o?b.push({op:"bcurveTo",data:[y+e+(n-e)*g+w(),_+t+(i-t)*g+w(),y+e+2*(n-e)*g+w(),_+t+2*(i-t)*g+w(),n+(E?0:w()),i+(E?0:w())]}):b.push({op:"bcurveTo",data:[y+e+(n-e)*g+S(),_+t+(i-t)*g+S(),y+e+2*(n-e)*g+S(),_+t+2*(i-t)*g+S(),n+(E?0:S()),i+(E?0:S())]}),b}function Tp(e,t,n){if(!e.length)return[];const i=[];i.push([e[0][0]+he(t,n),e[0][1]+he(t,n)]),i.push([e[0][0]+he(t,n),e[0][1]+he(t,n)]);for(let s=1;s<e.length;s++)i.push([e[s][0]+he(t,n),e[s][1]+he(t,n)]),s===e.length-1&&i.push([e[s][0]+he(t,n),e[s][1]+he(t,n)]);return Rg(i,null,n)}function Rg(e,t,n){const i=e.length,s=[];if(i>3){const a=[],o=1-n.curveTightness;s.push({op:"move",data:[e[1][0],e[1][1]]});for(let l=1;l+2<i;l++){const u=e[l];a[0]=[u[0],u[1]],a[1]=[u[0]+(o*e[l+1][0]-o*e[l-1][0])/6,u[1]+(o*e[l+1][1]-o*e[l-1][1])/6],a[2]=[e[l+1][0]+(o*e[l][0]-o*e[l+2][0])/6,e[l+1][1]+(o*e[l][1]-o*e[l+2][1])/6],a[3]=[e[l+1][0],e[l+1][1]],s.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else i===3?(s.push({op:"move",data:[e[1][0],e[1][1]]}),s.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&s.push(...Bv(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return s}function Uk(e,t,n,i,s,a,o,l){const u=[],h=[];if(l.roughness===0){e/=4,h.push([t+i*Math.cos(-e),n+s*Math.sin(-e)]);for(let f=0;f<=2*Math.PI;f+=e){const m=[t+i*Math.cos(f),n+s*Math.sin(f)];u.push(m),h.push(m)}h.push([t+i*Math.cos(0),n+s*Math.sin(0)]),h.push([t+i*Math.cos(e),n+s*Math.sin(e)])}else{const f=he(.5,l)-Math.PI/2;h.push([he(a,l)+t+.9*i*Math.cos(f-e),he(a,l)+n+.9*s*Math.sin(f-e)]);const m=2*Math.PI+f-.01;for(let g=f;g<m;g+=e){const y=[he(a,l)+t+i*Math.cos(g),he(a,l)+n+s*Math.sin(g)];u.push(y),h.push(y)}h.push([he(a,l)+t+i*Math.cos(f+2*Math.PI+.5*o),he(a,l)+n+s*Math.sin(f+2*Math.PI+.5*o)]),h.push([he(a,l)+t+.98*i*Math.cos(f+o),he(a,l)+n+.98*s*Math.sin(f+o)]),h.push([he(a,l)+t+.9*i*Math.cos(f+.5*o),he(a,l)+n+.9*s*Math.sin(f+.5*o)])}return[h,u]}function qk(e,t,n,i,s,a,o,l,u){const h=a+he(.1,u),f=[];f.push([he(l,u)+t+.9*i*Math.cos(h-e),he(l,u)+n+.9*s*Math.sin(h-e)]);for(let m=h;m<=o;m+=e)f.push([he(l,u)+t+i*Math.cos(m),he(l,u)+n+s*Math.sin(m)]);return f.push([t+i*Math.cos(o),n+s*Math.sin(o)]),f.push([t+i*Math.cos(o),n+s*Math.sin(o)]),Rg(f,null,u)}function jY(e,t,n,i,s,a,o,l){const u=[],h=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3];let f=[0,0];const m=l.disableMultiStroke?1:2,g=l.preserveVertices;for(let y=0;y<m;y++)y===0?u.push({op:"move",data:[o[0],o[1]]}):u.push({op:"move",data:[o[0]+(g?0:he(h[0],l)),o[1]+(g?0:he(h[0],l))]}),f=g?[s,a]:[s+he(h[y],l),a+he(h[y],l)],u.push({op:"bcurveTo",data:[e+he(h[y],l),t+he(h[y],l),n+he(h[y],l),i+he(h[y],l),f[0],f[1]]});return u}function Eh(e){return[...e]}function zk(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const i=[];if(n===3)i.push(Eh(e[0]),Eh(e[1]),Eh(e[2]),Eh(e[2]));else{const s=[];s.push(e[0],e[0]);for(let l=1;l<e.length;l++)s.push(e[l]),l===e.length-1&&s.push(e[l]);const a=[],o=1-t;i.push(Eh(s[0]));for(let l=1;l+2<s.length;l++){const u=s[l];a[0]=[u[0],u[1]],a[1]=[u[0]+(o*s[l+1][0]-o*s[l-1][0])/6,u[1]+(o*s[l+1][1]-o*s[l-1][1])/6],a[2]=[s[l+1][0]+(o*s[l][0]-o*s[l+2][0])/6,s[l+1][1]+(o*s[l][1]-o*s[l+2][1])/6],a[3]=[s[l+1][0],s[l+1][1]],i.push(a[1],a[2],a[3])}}return i}function mm(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function WY(e,t,n){const i=mm(t,n);if(i===0)return mm(e,t);let s=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/i;return s=Math.max(0,Math.min(1,s)),mm(e,el(t,n,s))}function el(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function Fv(e,t,n,i){const s=i||[];if((function(l,u){const h=l[u+0],f=l[u+1],m=l[u+2],g=l[u+3];let y=3*f[0]-2*h[0]-g[0];y*=y;let _=3*f[1]-2*h[1]-g[1];_*=_;let b=3*m[0]-2*g[0]-h[0];b*=b;let w=3*m[1]-2*g[1]-h[1];return w*=w,y<b&&(y=b),_<w&&(_=w),y+_})(e,t)<n){const l=e[t+0];s.length?(a=s[s.length-1],o=l,Math.sqrt(mm(a,o))>1&&s.push(l)):s.push(l),s.push(e[t+3])}else{const u=e[t+0],h=e[t+1],f=e[t+2],m=e[t+3],g=el(u,h,.5),y=el(h,f,.5),_=el(f,m,.5),b=el(g,y,.5),w=el(y,_,.5),S=el(b,w,.5);Fv([u,g,b,S],0,n,s),Fv([S,w,_,m],0,n,s)}var a,o;return s}function YY(e,t){return Lg(e,0,e.length,t)}function Lg(e,t,n,i,s){const a=s||[],o=e[t],l=e[n-1];let u=0,h=1;for(let f=t+1;f<n-1;++f){const m=WY(e[f],o,l);m>u&&(u=m,h=f)}return Math.sqrt(u)>i?(Lg(e,t,h+1,i,a),Lg(e,h,n,i,a)):(a.length||a.push(o),a.push(l)),a}function p_(e,t=.15,n){const i=[],s=(e.length-1)/3;for(let a=0;a<s;a++)Fv(e,3*a,t,i);return n&&n>0?Lg(i,0,i.length,n):i}const _s="none";class Dg{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,i){return{shape:t,sets:n||[],options:i||this.defaultOptions}}line(t,n,i,s,a){const o=this._o(a);return this._d("line",[xN(t,n,i,s,o)],o)}rectangle(t,n,i,s,a){const o=this._o(a),l=[],u=HY(t,n,i,s,o);if(o.fill){const h=[[t,n],[t+i,n],[t+i,n+s],[t,n+s]];o.fillStyle==="solid"?l.push(f_([h],o)):l.push(gc([h],o))}return o.stroke!==_s&&l.push(u),this._d("rectangle",l,o)}ellipse(t,n,i,s,a){const o=this._o(a),l=[],u=wN(i,s,o),h=Iv(t,n,o,u);if(o.fill)if(o.fillStyle==="solid"){const f=Iv(t,n,o,u).opset;f.type="fillPath",l.push(f)}else l.push(gc([h.estimatedPoints],o));return o.stroke!==_s&&l.push(h.opset),this._d("ellipse",l,o)}circle(t,n,i,s){const a=this.ellipse(t,n,i,i,s);return a.shape="circle",a}linearPath(t,n){const i=this._o(n);return this._d("linearPath",[pm(t,!1,i)],i)}arc(t,n,i,s,a,o,l=!1,u){const h=this._o(u),f=[],m=Ik(t,n,i,s,a,o,l,!0,h);if(l&&h.fill)if(h.fillStyle==="solid"){const g=Object.assign({},h);g.disableMultiStroke=!0;const y=Ik(t,n,i,s,a,o,!0,!1,g);y.type="fillPath",f.push(y)}else f.push((function(g,y,_,b,w,S,E){const C=g,D=y;let R=Math.abs(_/2),U=Math.abs(b/2);R+=he(.01*R,E),U+=he(.01*U,E);let N=w,P=S;for(;N<0;)N+=2*Math.PI,P+=2*Math.PI;P-N>2*Math.PI&&(N=0,P=2*Math.PI);const $=(P-N)/E.curveStepCount,X=[];for(let V=N;V<=P;V+=$)X.push([C+R*Math.cos(V),D+U*Math.sin(V)]);return X.push([C+R*Math.cos(P),D+U*Math.sin(P)]),X.push([C,D]),gc([X],E)})(t,n,i,s,a,o,h));return h.stroke!==_s&&f.push(m),this._d("arc",f,h)}curve(t,n){const i=this._o(n),s=[],a=Nk(t,i);if(i.fill&&i.fill!==_s)if(i.fillStyle==="solid"){const o=Nk(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],l=t;if(l.length){const u=typeof l[0][0]=="number"?[l]:l;for(const h of u)h.length<3?o.push(...h):h.length===3?o.push(...p_(zk([h[0],h[0],h[1],h[2]]),10,(1+i.roughness)/2)):o.push(...p_(zk(h),10,(1+i.roughness)/2))}o.length&&s.push(gc([o],i))}return i.stroke!==_s&&s.push(a),this._d("curve",s,i)}polygon(t,n){const i=this._o(n),s=[],a=pm(t,!0,i);return i.fill&&(i.fillStyle==="solid"?s.push(f_([t],i)):s.push(gc([t],i))),i.stroke!==_s&&s.push(a),this._d("polygon",s,i)}path(t,n){const i=this._o(n),s=[];if(!t)return this._d("path",s,i);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=i.fill&&i.fill!=="transparent"&&i.fill!==_s,o=i.stroke!==_s,l=!!(i.simplification&&i.simplification<1),u=(function(f,m,g){const y=_N(bN(k1(f))),_=[];let b=[],w=[0,0],S=[];const E=()=>{S.length>=4&&b.push(...p_(S,m)),S=[]},C=()=>{E(),b.length&&(_.push(b),b=[])};for(const{key:R,data:U}of y)switch(R){case"M":C(),w=[U[0],U[1]],b.push(w);break;case"L":E(),b.push([U[0],U[1]]);break;case"C":if(!S.length){const N=b.length?b[b.length-1]:w;S.push([N[0],N[1]])}S.push([U[0],U[1]]),S.push([U[2],U[3]]),S.push([U[4],U[5]]);break;case"Z":E(),b.push([w[0],w[1]])}if(C(),!g)return _;const D=[];for(const R of _){const U=YY(R,g);U.length&&D.push(U)}return D})(t,1,l?4-4*(i.simplification||1):(1+i.roughness)/2),h=Bk(t,i);if(a)if(i.fillStyle==="solid")if(u.length===1){const f=Bk(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(f.ops)})}else s.push(f_(u,i));else s.push(gc(u,i));return o&&(l?u.forEach((f=>{s.push(pm(f,!1,i))})):s.push(h)),this._d("path",s,i)}opsToPath(t,n){let i="";for(const s of t.ops){const a=typeof n=="number"&&n>=0?s.data.map((o=>+o.toFixed(n))):s.data;switch(s.op){case"move":i+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":i+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":i+=`L${a[0]} ${a[1]} `}}return i.trim()}toPaths(t){const n=t.sets||[],i=t.options||this.defaultOptions,s=[];for(const a of n){let o=null;switch(a.type){case"path":o={d:this.opsToPath(a),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:_s};break;case"fillPath":o={d:this.opsToPath(a),stroke:_s,strokeWidth:0,fill:i.fill||_s};break;case"fillSketch":o=this.fillSketch(a,i)}o&&s.push(o)}return s}fillSketch(t,n){let i=n.fillWeight;return i<0&&(i=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||_s,strokeWidth:i,fill:_s}}_mergedShape(t){return t.filter(((n,i)=>i===0||n.op!=="move"))}}class GY{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Dg(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),s=this.ctx,a=t.options.fixedDecimalPlaceDigits;for(const o of n)switch(o.type){case"path":s.save(),s.strokeStyle=i.stroke==="none"?"transparent":i.stroke,s.lineWidth=i.strokeWidth,i.strokeLineDash&&s.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(s.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(s,o,a),s.restore();break;case"fillPath":{s.save(),s.fillStyle=i.fill||"";const l=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(s,o,a,l),s.restore();break}case"fillSketch":this.fillSketch(s,o,i)}}fillSketch(t,n,i){let s=i.fillWeight;s<0&&(s=i.strokeWidth/2),t.save(),i.fillLineDash&&t.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(t.lineDashOffset=i.fillLineDashOffset),t.strokeStyle=i.fill||"",t.lineWidth=s,this._drawToContext(t,n,i.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,i,s="nonzero"){t.beginPath();for(const a of n.ops){const o=typeof i=="number"&&i>=0?a.data.map((l=>+l.toFixed(i))):a.data;switch(a.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}n.type==="fillPath"?t.fill(s):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,i,s,a){const o=this.gen.line(t,n,i,s,a);return this.draw(o),o}rectangle(t,n,i,s,a){const o=this.gen.rectangle(t,n,i,s,a);return this.draw(o),o}ellipse(t,n,i,s,a){const o=this.gen.ellipse(t,n,i,s,a);return this.draw(o),o}circle(t,n,i,s){const a=this.gen.circle(t,n,i,s);return this.draw(a),a}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i),i}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i),i}arc(t,n,i,s,a,o,l=!1,u){const h=this.gen.arc(t,n,i,s,a,o,l,u);return this.draw(h),h}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i),i}path(t,n){const i=this.gen.path(t,n);return this.draw(i),i}}const kp="http://www.w3.org/2000/svg";class VY{constructor(t,n){this.svg=t,this.gen=new Dg(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),s=this.svg.ownerDocument||window.document,a=s.createElementNS(kp,"g"),o=t.options.fixedDecimalPlaceDigits;for(const l of n){let u=null;switch(l.type){case"path":u=s.createElementNS(kp,"path"),u.setAttribute("d",this.opsToPath(l,o)),u.setAttribute("stroke",i.stroke),u.setAttribute("stroke-width",i.strokeWidth+""),u.setAttribute("fill","none"),i.strokeLineDash&&u.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":u=s.createElementNS(kp,"path"),u.setAttribute("d",this.opsToPath(l,o)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",i.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(s,l,i)}u&&a.appendChild(u)}return a}fillSketch(t,n,i){let s=i.fillWeight;s<0&&(s=i.strokeWidth/2);const a=t.createElementNS(kp,"path");return a.setAttribute("d",this.opsToPath(n,i.fixedDecimalPlaceDigits)),a.setAttribute("stroke",i.fill||""),a.setAttribute("stroke-width",s+""),a.setAttribute("fill","none"),i.fillLineDash&&a.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,i,s,a){const o=this.gen.line(t,n,i,s,a);return this.draw(o)}rectangle(t,n,i,s,a){const o=this.gen.rectangle(t,n,i,s,a);return this.draw(o)}ellipse(t,n,i,s,a){const o=this.gen.ellipse(t,n,i,s,a);return this.draw(o)}circle(t,n,i,s){const a=this.gen.circle(t,n,i,s);return this.draw(a)}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i)}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i)}arc(t,n,i,s,a,o,l=!1,u){const h=this.gen.arc(t,n,i,s,a,o,l,u);return this.draw(h)}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i)}path(t,n){const i=this.gen.path(t,n);return this.draw(i)}}var Ut={canvas:(e,t)=>new GY(e,t),svg:(e,t)=>new VY(e,t),generator:e=>new Dg(e),newSeed:()=>Dg.newSeed()},se=T(async(e,t,n)=>{let i;const s=t.useHtmlLabels||li(Je()?.htmlLabels);n?i=n:i="node default";const a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=a.insert("g").attr("class","label").attr("style",Di(t.labelStyle));let l;t.label===void 0?l="":l=typeof t.label=="string"?t.label:t.label[0];const u=await Lo(o,Ys(Dl(l),Je()),{useHtmlLabels:s,width:t.width||Je().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let h=u.getBBox();const f=(t?.padding??0)/2;if(s){const m=u.children[0],g=ze(u),y=m.getElementsByTagName("img");if(y){const _=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(b=>new Promise(w=>{function S(){if(b.style.display="flex",b.style.flexDirection="column",_){const E=Je().fontSize?Je().fontSize:window.getComputedStyle(document.body).fontSize,C=5,[D=FL.fontSize]=uy(E),R=D*C+"px";b.style.minWidth=R,b.style.maxWidth=R}else b.style.width="100%";w(b)}T(S,"setupImage"),setTimeout(()=>{b.complete&&S()}),b.addEventListener("error",S),b.addEventListener("load",S)})))}h=m.getBoundingClientRect(),g.attr("width",h.width),g.attr("height",h.height)}return s?o.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):o.attr("transform","translate(0, "+-h.height/2+")"),t.centerLabel&&o.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:a,bbox:h,halfPadding:f,label:o}},"labelHelper"),m_=T(async(e,t,n)=>{const i=n.useHtmlLabels||li(Je()?.flowchart?.htmlLabels),s=e.insert("g").attr("class","label").attr("style",n.labelStyle||""),a=await Lo(s,Ys(Dl(t),Je()),{useHtmlLabels:i,width:n.width||Je()?.flowchart?.wrappingWidth,style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let o=a.getBBox();const l=n.padding/2;if(li(Je()?.flowchart?.htmlLabels)){const u=a.children[0],h=ze(a);o=u.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}return i?s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):s.attr("transform","translate(0, "+-o.height/2+")"),n.centerLabel&&s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:e,bbox:o,halfPadding:l,label:s}},"insertLabel"),Pt=T((e,t)=>{const n=t.node().getBBox();e.width=n.width,e.height=n.height},"updateNodeBounds"),Qt=T((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Ne(e){const t=e.map((n,i)=>`${i===0?"M":"L"}${n.x},${n.y}`);return t.push("Z"),t.join(" ")}T(Ne,"createPathFromPoints");function ko(e,t,n,i,s,a){const o=[],u=n-e,h=i-t,f=u/a,m=2*Math.PI/f,g=t+h/2;for(let y=0;y<=50;y++){const _=y/50,b=e+_*u,w=g+s*Math.sin(m*(b-e));o.push({x:b,y:w})}return o}T(ko,"generateFullSineWavePoints");function Sd(e,t,n,i,s,a){const o=[],l=s*Math.PI/180,f=(a*Math.PI/180-l)/(i-1);for(let m=0;m<i;m++){const g=l+m*f,y=e+n*Math.cos(g),_=t+n*Math.sin(g);o.push({x:-y,y:-_})}return o}T(Sd,"generateCirclePoints");var XY=T((e,t)=>{var n=e.x,i=e.y,s=t.x-n,a=t.y-i,o=e.width/2,l=e.height/2,u,h;return Math.abs(a)*o>Math.abs(s)*l?(a<0&&(l=-l),u=a===0?0:l*s/a,h=l):(s<0&&(o=-o),u=o,h=s===0?0:o*a/s),{x:n+u,y:i+h}},"intersectRect"),_u=XY;function EN(e,t){t&&e.attr("style",t)}T(EN,"applyStyle");async function TN(e){const t=ze(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=t.append("xhtml:div"),i=Je();let s=e.label;e.label&&iu(e.label)&&(s=await Mx(e.label.replace(mu.lineBreakRegex,`
`),i));const o='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+s+"</span>";return n.html(Ys(o,i)),EN(n,e.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}T(TN,"addHtmlLabel");var ZY=T(async(e,t,n,i)=>{let s=e||"";if(typeof s=="object"&&(s=s[0]),li(Je().flowchart.htmlLabels)){s=s.replace(/\\n|\n/g,"<br />"),wt.info("vertexText"+s);const a={isNode:i,label:Dl(s).replace(/fa[blrs]?:fa-[\w-]+/g,l=>`<i class='${l.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await TN(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof s=="string"?o=s.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(s)?o=s:o=[];for(const l of o){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),n?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=l.trim(),a.appendChild(u)}return a}},"createLabel"),ul=ZY,Do=T((e,t,n,i,s)=>["M",e+s,t,"H",e+n-s,"A",s,s,0,0,1,e+n,t+s,"V",t+i-s,"A",s,s,0,0,1,e+n-s,t+i,"H",e+s,"A",s,s,0,0,1,e,t+i-s,"V",t+s,"A",s,s,0,0,1,e+s,t,"Z"].join(" "),"createRoundedRectPathD"),kN=T(async(e,t)=>{wt.info("Creating subgraph rect for ",t.id,t);const n=Je(),{themeVariables:i,handDrawnSeed:s}=n,{clusterBkg:a,clusterBorder:o}=i,{labelStyles:l,nodeStyles:u,borderStyles:h,backgroundStyles:f}=zt(t),m=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),g=li(n.flowchart.htmlLabels),y=m.insert("g").attr("class","cluster-label "),_=await Lo(y,t.label,{style:t.labelStyle,useHtmlLabels:g,isNode:!0});let b=_.getBBox();if(li(n.flowchart.htmlLabels)){const N=_.children[0],P=ze(_);b=N.getBoundingClientRect(),P.attr("width",b.width),P.attr("height",b.height)}const w=t.width<=b.width+t.padding?b.width+t.padding:t.width;t.width<=b.width+t.padding?t.diff=(w-t.width)/2-t.padding:t.diff=-t.padding;const S=t.height,E=t.x-w/2,C=t.y-S/2;wt.trace("Data ",t,JSON.stringify(t));let D;if(t.look==="handDrawn"){const N=Ut.svg(m),P=qt(t,{roughness:.7,fill:a,stroke:o,fillWeight:3,seed:s}),$=N.path(Do(E,C,w,S,0),P);D=m.insert(()=>(wt.debug("Rough node insert CXC",$),$),":first-child"),D.select("path:nth-child(2)").attr("style",h.join(";")),D.select("path").attr("style",f.join(";").replace("fill","stroke"))}else D=m.insert("rect",":first-child"),D.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",E).attr("y",C).attr("width",w).attr("height",S);const{subGraphTitleTopMargin:R}=s1(n);if(y.attr("transform",`translate(${t.x-b.width/2}, ${t.y-t.height/2+R})`),l){const N=y.select("span");N&&N.attr("style",l)}const U=D.node().getBBox();return t.offsetX=0,t.width=U.width,t.height=U.height,t.offsetY=b.height-t.padding/2,t.intersect=function(N){return _u(t,N)},{cluster:m,labelBBox:b}},"rect"),QY=T((e,t)=>{const n=e.insert("g").attr("class","note-cluster").attr("id",t.id),i=n.insert("rect",":first-child"),s=0*t.padding,a=s/2;i.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+s).attr("height",t.height+s).attr("fill","none");const o=i.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(l){return _u(t,l)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),KY=T(async(e,t)=>{const n=Je(),{themeVariables:i,handDrawnSeed:s}=n,{altBackground:a,compositeBackground:o,compositeTitleBackground:l,nodeBorder:u}=i,h=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),f=h.insert("g",":first-child"),m=h.insert("g").attr("class","cluster-label");let g=h.append("rect");const y=m.node().appendChild(await ul(t.label,t.labelStyle,void 0,!0));let _=y.getBBox();if(li(n.flowchart.htmlLabels)){const $=y.children[0],X=ze(y);_=$.getBoundingClientRect(),X.attr("width",_.width),X.attr("height",_.height)}const b=0*t.padding,w=b/2,S=(t.width<=_.width+t.padding?_.width+t.padding:t.width)+b;t.width<=_.width+t.padding?t.diff=(S-t.width)/2-t.padding:t.diff=-t.padding;const E=t.height+b,C=t.height+b-_.height-6,D=t.x-S/2,R=t.y-E/2;t.width=S;const U=t.y-t.height/2-w+_.height+2;let N;if(t.look==="handDrawn"){const $=t.cssClasses.includes("statediagram-cluster-alt"),X=Ut.svg(h),V=t.rx||t.ry?X.path(Do(D,R,S,E,10),{roughness:.7,fill:l,fillStyle:"solid",stroke:u,seed:s}):X.rectangle(D,R,S,E,{seed:s});N=h.insert(()=>V,":first-child");const I=X.rectangle(D,U,S,C,{fill:$?a:o,fillStyle:$?"hachure":"solid",stroke:u,seed:s});N=h.insert(()=>V,":first-child"),g=h.insert(()=>I)}else N=f.insert("rect",":first-child"),N.attr("class","outer").attr("x",D).attr("y",R).attr("width",S).attr("height",E).attr("data-look",t.look),g.attr("class","inner").attr("x",D).attr("y",U).attr("width",S).attr("height",C);m.attr("transform",`translate(${t.x-_.width/2}, ${R+1-(li(n.flowchart.htmlLabels)?0:3)})`);const P=N.node().getBBox();return t.height=P.height,t.offsetX=0,t.offsetY=_.height-t.padding/2,t.labelBBox=_,t.intersect=function($){return _u(t,$)},{cluster:h,labelBBox:_}},"roundedWithTitle"),JY=T(async(e,t)=>{wt.info("Creating subgraph rect for ",t.id,t);const n=Je(),{themeVariables:i,handDrawnSeed:s}=n,{clusterBkg:a,clusterBorder:o}=i,{labelStyles:l,nodeStyles:u,borderStyles:h,backgroundStyles:f}=zt(t),m=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),g=li(n.flowchart.htmlLabels),y=m.insert("g").attr("class","cluster-label "),_=await Lo(y,t.label,{style:t.labelStyle,useHtmlLabels:g,isNode:!0,width:t.width});let b=_.getBBox();if(li(n.flowchart.htmlLabels)){const N=_.children[0],P=ze(_);b=N.getBoundingClientRect(),P.attr("width",b.width),P.attr("height",b.height)}const w=t.width<=b.width+t.padding?b.width+t.padding:t.width;t.width<=b.width+t.padding?t.diff=(w-t.width)/2-t.padding:t.diff=-t.padding;const S=t.height,E=t.x-w/2,C=t.y-S/2;wt.trace("Data ",t,JSON.stringify(t));let D;if(t.look==="handDrawn"){const N=Ut.svg(m),P=qt(t,{roughness:.7,fill:a,stroke:o,fillWeight:4,seed:s}),$=N.path(Do(E,C,w,S,t.rx),P);D=m.insert(()=>(wt.debug("Rough node insert CXC",$),$),":first-child"),D.select("path:nth-child(2)").attr("style",h.join(";")),D.select("path").attr("style",f.join(";").replace("fill","stroke"))}else D=m.insert("rect",":first-child"),D.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",E).attr("y",C).attr("width",w).attr("height",S);const{subGraphTitleTopMargin:R}=s1(n);if(y.attr("transform",`translate(${t.x-b.width/2}, ${t.y-t.height/2+R})`),l){const N=y.select("span");N&&N.attr("style",l)}const U=D.node().getBBox();return t.offsetX=0,t.width=U.width,t.height=U.height,t.offsetY=b.height-t.padding/2,t.intersect=function(N){return _u(t,N)},{cluster:m,labelBBox:b}},"kanbanSection"),tG=T((e,t)=>{const n=Je(),{themeVariables:i,handDrawnSeed:s}=n,{nodeBorder:a}=i,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),l=o.insert("g",":first-child"),u=0*t.padding,h=t.width+u;t.diff=-t.padding;const f=t.height+u,m=t.x-h/2,g=t.y-f/2;t.width=h;let y;if(t.look==="handDrawn"){const w=Ut.svg(o).rectangle(m,g,h,f,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:s});y=o.insert(()=>w,":first-child")}else y=l.insert("rect",":first-child"),y.attr("class","divider").attr("x",m).attr("y",g).attr("width",h).attr("height",f).attr("data-look",t.look);const _=y.node().getBBox();return t.height=_.height,t.offsetX=0,t.offsetY=0,t.intersect=function(b){return _u(t,b)},{cluster:o,labelBBox:{}}},"divider"),eG=kN,nG={rect:kN,squareRect:eG,roundedWithTitle:KY,noteGroup:QY,divider:tG,kanbanSection:JY},CN=new Map,iG=T(async(e,t)=>{const n=t.shape||"rect",i=await nG[n](e,t);return CN.set(t.id,i),i},"insertCluster"),hit=T(()=>{CN=new Map},"clear");function AN(e,t){return e.intersect(t)}T(AN,"intersectNode");var sG=AN;function RN(e,t,n,i){var s=e.x,a=e.y,o=s-i.x,l=a-i.y,u=Math.sqrt(t*t*l*l+n*n*o*o),h=Math.abs(t*n*o/u);i.x<s&&(h=-h);var f=Math.abs(t*n*l/u);return i.y<a&&(f=-f),{x:s+h,y:a+f}}T(RN,"intersectEllipse");var LN=RN;function DN(e,t,n){return LN(e,t,t,n)}T(DN,"intersectCircle");var aG=DN;function ON(e,t,n,i){{const s=t.y-e.y,a=e.x-t.x,o=t.x*e.y-e.x*t.y,l=s*n.x+a*n.y+o,u=s*i.x+a*i.y+o,h=1e-6;if(l!==0&&u!==0&&Uv(l,u))return;const f=i.y-n.y,m=n.x-i.x,g=i.x*n.y-n.x*i.y,y=f*e.x+m*e.y+g,_=f*t.x+m*t.y+g;if(Math.abs(y)<h&&Math.abs(_)<h&&Uv(y,_))return;const b=s*m-f*a;if(b===0)return;const w=Math.abs(b/2);let S=a*g-m*o;const E=S<0?(S-w)/b:(S+w)/b;S=f*o-s*g;const C=S<0?(S-w)/b:(S+w)/b;return{x:E,y:C}}}T(ON,"intersectLine");function Uv(e,t){return e*t>0}T(Uv,"sameSign");var rG=ON;function MN(e,t,n){let i=e.x,s=e.y,a=[],o=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(f){o=Math.min(o,f.x),l=Math.min(l,f.y)}):(o=Math.min(o,t.x),l=Math.min(l,t.y));let u=i-e.width/2-o,h=s-e.height/2-l;for(let f=0;f<t.length;f++){let m=t[f],g=t[f<t.length-1?f+1:0],y=rG(e,n,{x:u+m.x,y:h+m.y},{x:u+g.x,y:h+g.y});y&&a.push(y)}return a.length?(a.length>1&&a.sort(function(f,m){let g=f.x-n.x,y=f.y-n.y,_=Math.sqrt(g*g+y*y),b=m.x-n.x,w=m.y-n.y,S=Math.sqrt(b*b+w*w);return _<S?-1:_===S?0:1}),a[0]):e}T(MN,"intersectPolygon");var oG=MN,Mt={node:sG,circle:aG,ellipse:LN,polygon:oG,rect:_u};function NN(e,t){const{labelStyles:n}=zt(t);t.labelStyle=n;const i=Qt(t);let s=i;i||(s="anchor");const a=e.insert("g").attr("class",s).attr("id",t.domId||t.id),o=1,{cssStyles:l}=t,u=Ut.svg(a),h=qt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const f=u.circle(0,0,o*2,h),m=a.insert(()=>f,":first-child");return m.attr("class","anchor").attr("style",Di(l)),Pt(t,m),t.intersect=function(g){return wt.info("Circle intersect",t,o,g),Mt.circle(t,o,g)},a}T(NN,"anchor");function qv(e,t,n,i,s,a,o){const u=(e+n)/2,h=(t+i)/2,f=Math.atan2(i-t,n-e),m=(n-e)/2,g=(i-t)/2,y=m/s,_=g/a,b=Math.sqrt(y**2+_**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const w=Math.sqrt(1-b**2),S=u+w*a*Math.sin(f)*(o?-1:1),E=h-w*s*Math.cos(f)*(o?-1:1),C=Math.atan2((t-E)/a,(e-S)/s);let R=Math.atan2((i-E)/a,(n-S)/s)-C;o&&R<0&&(R+=2*Math.PI),!o&&R>0&&(R-=2*Math.PI);const U=[];for(let N=0;N<20;N++){const P=N/19,$=C+P*R,X=S+s*Math.cos($),V=E+a*Math.sin($);U.push({x:X,y:V})}return U}T(qv,"generateArcPoints");async function IN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=a.width+t.padding+20,l=a.height+t.padding,u=l/2,h=u/(2.5+l/50),{cssStyles:f}=t,m=[{x:o/2,y:-l/2},{x:-o/2,y:-l/2},...qv(-o/2,-l/2,-o/2,l/2,h,u,!1),{x:o/2,y:l/2},...qv(o/2,l/2,o/2,-l/2,h,u,!0)],g=Ut.svg(s),y=qt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const _=Ne(m),b=g.path(_,y),w=s.insert(()=>b,":first-child");return w.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(${h/2}, 0)`),Pt(t,w),t.intersect=function(S){return Mt.polygon(t,m,S)},s}T(IN,"bowTieRect");function Oo(e,t,n,i){return e.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}T(Oo,"insertPolygonShape");async function BN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=a.height+t.padding,l=12,u=a.width+t.padding+l,h=0,f=u,m=-o,g=0,y=[{x:h+l,y:m},{x:f,y:m},{x:f,y:g},{x:h,y:g},{x:h,y:m+l},{x:h+l,y:m}];let _;const{cssStyles:b}=t;if(t.look==="handDrawn"){const w=Ut.svg(s),S=qt(t,{}),E=Ne(y),C=w.path(E,S);_=s.insert(()=>C,":first-child").attr("transform",`translate(${-u/2}, ${o/2})`),b&&_.attr("style",b)}else _=Oo(s,u,o,y);return i&&_.attr("style",i),Pt(t,_),t.intersect=function(w){return Mt.polygon(t,y,w)},s}T(BN,"card");function FN(e,t){const{nodeStyles:n}=zt(t);t.label="";const i=e.insert("g").attr("class",Qt(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,a=Math.max(28,t.width??0),o=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],l=Ut.svg(i),u=qt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=Ne(o),f=l.path(h,u),m=i.insert(()=>f,":first-child");return s&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),t.width=28,t.height=28,t.intersect=function(g){return Mt.polygon(t,o,g)},i}T(FN,"choice");async function C1(e,t,n){const{labelStyles:i,nodeStyles:s}=zt(t);t.labelStyle=i;const{shapeSvg:a,bbox:o,halfPadding:l}=await se(e,t,Qt(t)),u=n?.padding??l,h=o.width/2+u;let f;const{cssStyles:m}=t;if(t.look==="handDrawn"){const g=Ut.svg(a),y=qt(t,{}),_=g.circle(0,0,h*2,y);f=a.insert(()=>_,":first-child"),f.attr("class","basic label-container").attr("style",Di(m))}else f=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",s).attr("r",h).attr("cx",0).attr("cy",0);return Pt(t,f),t.calcIntersect=function(g,y){const _=g.width/2;return Mt.circle(g,_,y)},t.intersect=function(g){return wt.info("Circle intersect",t,h,g),Mt.circle(t,h,g)},a}T(C1,"circle");function UN(e){const t=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),i=e*2,s={x:i/2*t,y:i/2*n},a={x:-(i/2)*t,y:i/2*n},o={x:-(i/2)*t,y:-(i/2)*n},l={x:i/2*t,y:-(i/2)*n};return`M ${a.x},${a.y} L ${l.x},${l.y}
                   M ${s.x},${s.y} L ${o.x},${o.y}`}T(UN,"createLine");function qN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n,t.label="";const s=e.insert("g").attr("class",Qt(t)).attr("id",t.domId??t.id),a=Math.max(30,t?.width??0),{cssStyles:o}=t,l=Ut.svg(s),u=qt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=l.circle(0,0,a*2,u),f=UN(a),m=l.path(f,u),g=s.insert(()=>h,":first-child");return g.insert(()=>m),o&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",o),i&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",i),Pt(t,g),t.intersect=function(y){return wt.info("crossedCircle intersect",t,{radius:a,point:y}),Mt.circle(t,a,y)},s}T(qN,"crossedCircle");function dr(e,t,n,i=100,s=0,a=180){const o=[],l=s*Math.PI/180,f=(a*Math.PI/180-l)/(i-1);for(let m=0;m<i;m++){const g=l+m*f,y=e+n*Math.cos(g),_=t+n*Math.sin(g);o.push({x:-y,y:-_})}return o}T(dr,"generateCirclePoints");async function zN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=t,m=[...dr(l/2,-u/2,h,30,-90,0),{x:-l/2-h,y:h},...dr(l/2+h*2,-h,h,20,-180,-270),...dr(l/2+h*2,h,h,20,-90,-180),{x:-l/2-h,y:-u/2},...dr(l/2,u/2,h,20,0,90)],g=[{x:l/2,y:-u/2-h},{x:-l/2,y:-u/2-h},...dr(l/2,-u/2,h,20,-90,0),{x:-l/2-h,y:-h},...dr(l/2+l*.1,-h,h,20,-180,-270),...dr(l/2+l*.1,h,h,20,-90,-180),{x:-l/2-h,y:u/2},...dr(l/2,u/2,h,20,0,90),{x:-l/2,y:u/2+h},{x:l/2,y:u/2+h}],y=Ut.svg(s),_=qt(t,{fill:"none"});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const w=Ne(m).replace("Z",""),S=y.path(w,_),E=Ne(g),C=y.path(E,{..._}),D=s.insert("g",":first-child");return D.insert(()=>C,":first-child").attr("stroke-opacity",0),D.insert(()=>S,":first-child"),D.attr("class","text"),f&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",i),D.attr("transform",`translate(${h}, 0)`),o.attr("transform",`translate(${-l/2+h-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),Pt(t,D),t.intersect=function(R){return Mt.polygon(t,g,R)},s}T(zN,"curlyBraceLeft");function fr(e,t,n,i=100,s=0,a=180){const o=[],l=s*Math.PI/180,f=(a*Math.PI/180-l)/(i-1);for(let m=0;m<i;m++){const g=l+m*f,y=e+n*Math.cos(g),_=t+n*Math.sin(g);o.push({x:y,y:_})}return o}T(fr,"generateCirclePoints");async function PN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=t,m=[...fr(l/2,-u/2,h,20,-90,0),{x:l/2+h,y:-h},...fr(l/2+h*2,-h,h,20,-180,-270),...fr(l/2+h*2,h,h,20,-90,-180),{x:l/2+h,y:u/2},...fr(l/2,u/2,h,20,0,90)],g=[{x:-l/2,y:-u/2-h},{x:l/2,y:-u/2-h},...fr(l/2,-u/2,h,20,-90,0),{x:l/2+h,y:-h},...fr(l/2+h*2,-h,h,20,-180,-270),...fr(l/2+h*2,h,h,20,-90,-180),{x:l/2+h,y:u/2},...fr(l/2,u/2,h,20,0,90),{x:l/2,y:u/2+h},{x:-l/2,y:u/2+h}],y=Ut.svg(s),_=qt(t,{fill:"none"});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const w=Ne(m).replace("Z",""),S=y.path(w,_),E=Ne(g),C=y.path(E,{..._}),D=s.insert("g",":first-child");return D.insert(()=>C,":first-child").attr("stroke-opacity",0),D.insert(()=>S,":first-child"),D.attr("class","text"),f&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",i),D.attr("transform",`translate(${-h}, 0)`),o.attr("transform",`translate(${-l/2+(t.padding??0)/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),Pt(t,D),t.intersect=function(R){return Mt.polygon(t,g,R)},s}T(PN,"curlyBraceRight");function _i(e,t,n,i=100,s=0,a=180){const o=[],l=s*Math.PI/180,f=(a*Math.PI/180-l)/(i-1);for(let m=0;m<i;m++){const g=l+m*f,y=e+n*Math.cos(g),_=t+n*Math.sin(g);o.push({x:-y,y:-_})}return o}T(_i,"generateCirclePoints");async function $N(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=t,m=[..._i(l/2,-u/2,h,30,-90,0),{x:-l/2-h,y:h},..._i(l/2+h*2,-h,h,20,-180,-270),..._i(l/2+h*2,h,h,20,-90,-180),{x:-l/2-h,y:-u/2},..._i(l/2,u/2,h,20,0,90)],g=[..._i(-l/2+h+h/2,-u/2,h,20,-90,-180),{x:l/2-h/2,y:h},..._i(-l/2-h/2,-h,h,20,0,90),..._i(-l/2-h/2,h,h,20,-90,0),{x:l/2-h/2,y:-h},..._i(-l/2+h+h/2,u/2,h,30,-180,-270)],y=[{x:l/2,y:-u/2-h},{x:-l/2,y:-u/2-h},..._i(l/2,-u/2,h,20,-90,0),{x:-l/2-h,y:-h},..._i(l/2+h*2,-h,h,20,-180,-270),..._i(l/2+h*2,h,h,20,-90,-180),{x:-l/2-h,y:u/2},..._i(l/2,u/2,h,20,0,90),{x:-l/2,y:u/2+h},{x:l/2-h-h/2,y:u/2+h},..._i(-l/2+h+h/2,-u/2,h,20,-90,-180),{x:l/2-h/2,y:h},..._i(-l/2-h/2,-h,h,20,0,90),..._i(-l/2-h/2,h,h,20,-90,0),{x:l/2-h/2,y:-h},..._i(-l/2+h+h/2,u/2,h,30,-180,-270)],_=Ut.svg(s),b=qt(t,{fill:"none"});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const S=Ne(m).replace("Z",""),E=_.path(S,b),D=Ne(g).replace("Z",""),R=_.path(D,b),U=Ne(y),N=_.path(U,{...b}),P=s.insert("g",":first-child");return P.insert(()=>N,":first-child").attr("stroke-opacity",0),P.insert(()=>E,":first-child"),P.insert(()=>R,":first-child"),P.attr("class","text"),f&&t.look!=="handDrawn"&&P.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&P.selectAll("path").attr("style",i),P.attr("transform",`translate(${h-h/4}, 0)`),o.attr("transform",`translate(${-l/2+(t.padding??0)/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),Pt(t,P),t.intersect=function($){return Mt.polygon(t,y,$)},s}T($N,"curlyBraces");async function HN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=80,l=20,u=Math.max(o,(a.width+(t.padding??0)*2)*1.25,t?.width??0),h=Math.max(l,a.height+(t.padding??0)*2,t?.height??0),f=h/2,{cssStyles:m}=t,g=Ut.svg(s),y=qt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const _=u,b=h,w=_-f,S=b/4,E=[{x:w,y:0},{x:S,y:0},{x:0,y:b/2},{x:S,y:b},{x:w,y:b},...Sd(-w,-b/2,f,50,270,90)],C=Ne(E),D=g.path(C,y),R=s.insert(()=>D,":first-child");return R.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&R.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&R.selectChildren("path").attr("style",i),R.attr("transform",`translate(${-u/2}, ${-h/2})`),Pt(t,R),t.intersect=function(U){return Mt.polygon(t,E,U)},s}T(HN,"curvedTrapezoid");var lG=T((e,t,n,i,s,a)=>[`M${e},${t+a}`,`a${s},${a} 0,0,0 ${n},0`,`a${s},${a} 0,0,0 ${-n},0`,`l0,${i}`,`a${s},${a} 0,0,0 ${n},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),cG=T((e,t,n,i,s,a)=>[`M${e},${t+a}`,`M${e+n},${t+a}`,`a${s},${a} 0,0,0 ${-n},0`,`l0,${i}`,`a${s},${a} 0,0,0 ${n},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),uG=T((e,t,n,i,s,a)=>[`M${e-n/2},${-i/2}`,`a${s},${a} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function jN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=Math.max(a.width+t.padding,t.width??0),u=l/2,h=u/(2.5+l/50),f=Math.max(a.height+h+t.padding,t.height??0);let m;const{cssStyles:g}=t;if(t.look==="handDrawn"){const y=Ut.svg(s),_=cG(0,0,l,f,u,h),b=uG(0,h,l,f,u,h),w=y.path(_,qt(t,{})),S=y.path(b,qt(t,{fill:"none"}));m=s.insert(()=>S,":first-child"),m=s.insert(()=>w,":first-child"),m.attr("class","basic label-container"),g&&m.attr("style",g)}else{const y=lG(0,0,l,f,u,h);m=s.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",Di(g)).attr("style",i)}return m.attr("label-offset-y",h),m.attr("transform",`translate(${-l/2}, ${-(f/2+h)})`),Pt(t,m),o.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(t.padding??0)/1.5-(a.y-(a.top??0))})`),t.intersect=function(y){const _=Mt.rect(t,y),b=_.x-(t.x??0);if(u!=0&&(Math.abs(b)<(t.width??0)/2||Math.abs(b)==(t.width??0)/2&&Math.abs(_.y-(t.y??0))>(t.height??0)/2-h)){let w=h*h*(1-b*b/(u*u));w>0&&(w=Math.sqrt(w)),w=h-w,y.y-(t.y??0)>0&&(w=-w),_.y+=w}return _},s}T(jN,"cylinder");async function WN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=a.width+t.padding,u=a.height+t.padding,h=u*.2,f=-l/2,m=-u/2-h/2,{cssStyles:g}=t,y=Ut.svg(s),_=qt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const b=[{x:f,y:m+h},{x:-f,y:m+h},{x:-f,y:-m},{x:f,y:-m},{x:f,y:m},{x:-f,y:m},{x:-f,y:m+h}],w=y.polygon(b.map(E=>[E.x,E.y]),_),S=s.insert(()=>w,":first-child");return S.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),o.attr("transform",`translate(${f+(t.padding??0)/2-(a.x-(a.left??0))}, ${m+h+(t.padding??0)/2-(a.y-(a.top??0))})`),Pt(t,S),t.intersect=function(E){return Mt.rect(t,E)},s}T(WN,"dividedRectangle");async function YN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,halfPadding:o}=await se(e,t,Qt(t)),u=a.width/2+o+5,h=a.width/2+o;let f;const{cssStyles:m}=t;if(t.look==="handDrawn"){const g=Ut.svg(s),y=qt(t,{roughness:.2,strokeWidth:2.5}),_=qt(t,{roughness:.2,strokeWidth:1.5}),b=g.circle(0,0,u*2,y),w=g.circle(0,0,h*2,_);f=s.insert("g",":first-child"),f.attr("class",Di(t.cssClasses)).attr("style",Di(m)),f.node()?.appendChild(b),f.node()?.appendChild(w)}else{f=s.insert("g",":first-child");const g=f.insert("circle",":first-child"),y=f.insert("circle");f.attr("class","basic label-container").attr("style",i),g.attr("class","outer-circle").attr("style",i).attr("r",u).attr("cx",0).attr("cy",0),y.attr("class","inner-circle").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0)}return Pt(t,f),t.intersect=function(g){return wt.info("DoubleCircle intersect",t,u,g),Mt.circle(t,u,g)},s}T(YN,"doublecircle");function GN(e,t,{config:{themeVariables:n}}){const{labelStyles:i,nodeStyles:s}=zt(t);t.label="",t.labelStyle=i;const a=e.insert("g").attr("class",Qt(t)).attr("id",t.domId??t.id),o=7,{cssStyles:l}=t,u=Ut.svg(a),{nodeBorder:h}=n,f=qt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(f.roughness=0);const m=u.circle(0,0,o*2,f),g=a.insert(()=>m,":first-child");return g.selectAll("path").attr("style",`fill: ${h} !important;`),l&&l.length>0&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",l),s&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",s),Pt(t,g),t.intersect=function(y){return wt.info("filledCircle intersect",t,{radius:o,point:y}),Mt.circle(t,o,y)},a}T(GN,"filledCircle");async function VN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=a.width+(t.padding??0),u=l+a.height,h=l+a.height,f=[{x:0,y:-u},{x:h,y:-u},{x:h/2,y:0}],{cssStyles:m}=t,g=Ut.svg(s),y=qt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const _=Ne(f),b=g.path(_,y),w=s.insert(()=>b,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return m&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",i),t.width=l,t.height=u,Pt(t,w),o.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-u/2+(t.padding??0)/2+(a.y-(a.top??0))})`),t.intersect=function(S){return wt.info("Triangle intersect",t,f,S),Mt.polygon(t,f,S)},s}T(VN,"flippedTriangle");function XN(e,t,{dir:n,config:{state:i,themeVariables:s}}){const{nodeStyles:a}=zt(t);t.label="";const o=e.insert("g").attr("class",Qt(t)).attr("id",t.domId??t.id),{cssStyles:l}=t;let u=Math.max(70,t?.width??0),h=Math.max(10,t?.height??0);n==="LR"&&(u=Math.max(10,t?.width??0),h=Math.max(70,t?.height??0));const f=-1*u/2,m=-1*h/2,g=Ut.svg(o),y=qt(t,{stroke:s.lineColor,fill:s.lineColor});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const _=g.rectangle(f,m,u,h,y),b=o.insert(()=>_,":first-child");l&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",l),a&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",a),Pt(t,b);const w=i?.padding??0;return t.width&&t.height&&(t.width+=w/2||0,t.height+=w/2||0),t.intersect=function(S){return Mt.rect(t,S)},o}T(XN,"forkJoin");async function ZN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const s=80,a=50,{shapeSvg:o,bbox:l}=await se(e,t,Qt(t)),u=Math.max(s,l.width+(t.padding??0)*2,t?.width??0),h=Math.max(a,l.height+(t.padding??0)*2,t?.height??0),f=h/2,{cssStyles:m}=t,g=Ut.svg(o),y=qt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const _=[{x:-u/2,y:-h/2},{x:u/2-f,y:-h/2},...Sd(-u/2+f,0,f,50,90,270),{x:u/2-f,y:h/2},{x:-u/2,y:h/2}],b=Ne(_),w=g.path(b,y),S=o.insert(()=>w,":first-child");return S.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),Pt(t,S),t.intersect=function(E){return wt.info("Pill intersect",t,{radius:f,point:E}),Mt.polygon(t,_,E)},o}T(ZN,"halfRoundedRectangle");async function QN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=a.height+(t.padding??0),l=a.width+(t.padding??0)*2.5,{cssStyles:u}=t,h=Ut.svg(s),f=qt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=l/2;const g=m/6;m=m+g;const y=o/2,_=y/2,b=m-_,w=[{x:-b,y:-y},{x:0,y:-y},{x:b,y:-y},{x:m,y:0},{x:b,y},{x:0,y},{x:-b,y},{x:-m,y:0}],S=Ne(w),E=h.path(S,f),C=s.insert(()=>E,":first-child");return C.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&C.selectChildren("path").attr("style",u),i&&t.look!=="handDrawn"&&C.selectChildren("path").attr("style",i),t.width=l,t.height=o,Pt(t,C),t.intersect=function(D){return Mt.polygon(t,w,D)},s}T(QN,"hexagon");async function KN(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.label="",t.labelStyle=n;const{shapeSvg:s}=await se(e,t,Qt(t)),a=Math.max(30,t?.width??0),o=Math.max(30,t?.height??0),{cssStyles:l}=t,u=Ut.svg(s),h=qt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=[{x:0,y:0},{x:a,y:0},{x:0,y:o},{x:a,y:o}],m=Ne(f),g=u.path(m,h),y=s.insert(()=>g,":first-child");return y.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",l),i&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),y.attr("transform",`translate(${-a/2}, ${-o/2})`),Pt(t,y),t.intersect=function(_){return wt.info("Pill intersect",t,{points:f}),Mt.polygon(t,f,_)},s}T(KN,"hourglass");async function JN(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:s}=zt(t);t.labelStyle=s;const a=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(a,o),u=i?.wrappingWidth;t.width=Math.max(l,u??0);const{shapeSvg:h,bbox:f,label:m}=await se(e,t,"icon-shape default"),g=t.pos==="t",y=l,_=l,{nodeBorder:b}=n,{stylesMap:w}=gu(t),S=-_/2,E=-y/2,C=t.label?8:0,D=Ut.svg(h),R=qt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const U=D.rectangle(S,E,_,y,R),N=Math.max(_,f.width),P=y+f.height+C,$=D.rectangle(-N/2,-P/2,N,P,{...R,fill:"transparent",stroke:"none"}),X=h.insert(()=>U,":first-child"),V=h.insert(()=>$);if(t.icon){const I=h.append("g");I.html(`<g>${await Yd(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const G=I.node().getBBox(),k=G.width,H=G.height,M=G.x,B=G.y;I.attr("transform",`translate(${-k/2-M},${g?f.height/2+C/2-H/2-B:-f.height/2-C/2-H/2-B})`),I.attr("style",`color: ${w.get("stroke")??b};`)}return m.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${g?-P/2:P/2-f.height})`),X.attr("transform",`translate(0,${g?f.height/2+C/2:-f.height/2-C/2})`),Pt(t,V),t.intersect=function(I){if(wt.info("iconSquare intersect",t,I),!t.label)return Mt.rect(t,I);const G=t.x??0,k=t.y??0,H=t.height??0;let M=[];return g?M=[{x:G-f.width/2,y:k-H/2},{x:G+f.width/2,y:k-H/2},{x:G+f.width/2,y:k-H/2+f.height+C},{x:G+_/2,y:k-H/2+f.height+C},{x:G+_/2,y:k+H/2},{x:G-_/2,y:k+H/2},{x:G-_/2,y:k-H/2+f.height+C},{x:G-f.width/2,y:k-H/2+f.height+C}]:M=[{x:G-_/2,y:k-H/2},{x:G+_/2,y:k-H/2},{x:G+_/2,y:k-H/2+y},{x:G+f.width/2,y:k-H/2+y},{x:G+f.width/2/2,y:k+H/2},{x:G-f.width/2,y:k+H/2},{x:G-f.width/2,y:k-H/2+y},{x:G-_/2,y:k-H/2+y}],Mt.polygon(t,M,I)},h}T(JN,"icon");async function tI(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:s}=zt(t);t.labelStyle=s;const a=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(a,o),u=i?.wrappingWidth;t.width=Math.max(l,u??0);const{shapeSvg:h,bbox:f,label:m}=await se(e,t,"icon-shape default"),g=20,y=t.label?8:0,_=t.pos==="t",{nodeBorder:b,mainBkg:w}=n,{stylesMap:S}=gu(t),E=Ut.svg(h),C=qt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const D=S.get("fill");C.stroke=D??w;const R=h.append("g");t.icon&&R.html(`<g>${await Yd(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const U=R.node().getBBox(),N=U.width,P=U.height,$=U.x,X=U.y,V=Math.max(N,P)*Math.SQRT2+g*2,I=E.circle(0,0,V,C),G=Math.max(V,f.width),k=V+f.height+y,H=E.rectangle(-G/2,-k/2,G,k,{...C,fill:"transparent",stroke:"none"}),M=h.insert(()=>I,":first-child"),B=h.insert(()=>H);return R.attr("transform",`translate(${-N/2-$},${_?f.height/2+y/2-P/2-X:-f.height/2-y/2-P/2-X})`),R.attr("style",`color: ${S.get("stroke")??b};`),m.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${_?-k/2:k/2-f.height})`),M.attr("transform",`translate(0,${_?f.height/2+y/2:-f.height/2-y/2})`),Pt(t,B),t.intersect=function(W){return wt.info("iconSquare intersect",t,W),Mt.rect(t,W)},h}T(tI,"iconCircle");async function eI(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:s}=zt(t);t.labelStyle=s;const a=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(a,o),u=i?.wrappingWidth;t.width=Math.max(l,u??0);const{shapeSvg:h,bbox:f,halfPadding:m,label:g}=await se(e,t,"icon-shape default"),y=t.pos==="t",_=l+m*2,b=l+m*2,{nodeBorder:w,mainBkg:S}=n,{stylesMap:E}=gu(t),C=-b/2,D=-_/2,R=t.label?8:0,U=Ut.svg(h),N=qt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const P=E.get("fill");N.stroke=P??S;const $=U.path(Do(C,D,b,_,5),N),X=Math.max(b,f.width),V=_+f.height+R,I=U.rectangle(-X/2,-V/2,X,V,{...N,fill:"transparent",stroke:"none"}),G=h.insert(()=>$,":first-child").attr("class","icon-shape2"),k=h.insert(()=>I);if(t.icon){const H=h.append("g");H.html(`<g>${await Yd(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const M=H.node().getBBox(),B=M.width,W=M.height,Z=M.x,rt=M.y;H.attr("transform",`translate(${-B/2-Z},${y?f.height/2+R/2-W/2-rt:-f.height/2-R/2-W/2-rt})`),H.attr("style",`color: ${E.get("stroke")??w};`)}return g.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${y?-V/2:V/2-f.height})`),G.attr("transform",`translate(0,${y?f.height/2+R/2:-f.height/2-R/2})`),Pt(t,k),t.intersect=function(H){if(wt.info("iconSquare intersect",t,H),!t.label)return Mt.rect(t,H);const M=t.x??0,B=t.y??0,W=t.height??0;let Z=[];return y?Z=[{x:M-f.width/2,y:B-W/2},{x:M+f.width/2,y:B-W/2},{x:M+f.width/2,y:B-W/2+f.height+R},{x:M+b/2,y:B-W/2+f.height+R},{x:M+b/2,y:B+W/2},{x:M-b/2,y:B+W/2},{x:M-b/2,y:B-W/2+f.height+R},{x:M-f.width/2,y:B-W/2+f.height+R}]:Z=[{x:M-b/2,y:B-W/2},{x:M+b/2,y:B-W/2},{x:M+b/2,y:B-W/2+_},{x:M+f.width/2,y:B-W/2+_},{x:M+f.width/2/2,y:B+W/2},{x:M-f.width/2,y:B+W/2},{x:M-f.width/2,y:B-W/2+_},{x:M-b/2,y:B-W/2+_}],Mt.polygon(t,Z,H)},h}T(eI,"iconRounded");async function nI(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:s}=zt(t);t.labelStyle=s;const a=t.assetHeight??48,o=t.assetWidth??48,l=Math.max(a,o),u=i?.wrappingWidth;t.width=Math.max(l,u??0);const{shapeSvg:h,bbox:f,halfPadding:m,label:g}=await se(e,t,"icon-shape default"),y=t.pos==="t",_=l+m*2,b=l+m*2,{nodeBorder:w,mainBkg:S}=n,{stylesMap:E}=gu(t),C=-b/2,D=-_/2,R=t.label?8:0,U=Ut.svg(h),N=qt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const P=E.get("fill");N.stroke=P??S;const $=U.path(Do(C,D,b,_,.1),N),X=Math.max(b,f.width),V=_+f.height+R,I=U.rectangle(-X/2,-V/2,X,V,{...N,fill:"transparent",stroke:"none"}),G=h.insert(()=>$,":first-child"),k=h.insert(()=>I);if(t.icon){const H=h.append("g");H.html(`<g>${await Yd(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const M=H.node().getBBox(),B=M.width,W=M.height,Z=M.x,rt=M.y;H.attr("transform",`translate(${-B/2-Z},${y?f.height/2+R/2-W/2-rt:-f.height/2-R/2-W/2-rt})`),H.attr("style",`color: ${E.get("stroke")??w};`)}return g.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${y?-V/2:V/2-f.height})`),G.attr("transform",`translate(0,${y?f.height/2+R/2:-f.height/2-R/2})`),Pt(t,k),t.intersect=function(H){if(wt.info("iconSquare intersect",t,H),!t.label)return Mt.rect(t,H);const M=t.x??0,B=t.y??0,W=t.height??0;let Z=[];return y?Z=[{x:M-f.width/2,y:B-W/2},{x:M+f.width/2,y:B-W/2},{x:M+f.width/2,y:B-W/2+f.height+R},{x:M+b/2,y:B-W/2+f.height+R},{x:M+b/2,y:B+W/2},{x:M-b/2,y:B+W/2},{x:M-b/2,y:B-W/2+f.height+R},{x:M-f.width/2,y:B-W/2+f.height+R}]:Z=[{x:M-b/2,y:B-W/2},{x:M+b/2,y:B-W/2},{x:M+b/2,y:B-W/2+_},{x:M+f.width/2,y:B-W/2+_},{x:M+f.width/2/2,y:B+W/2},{x:M-f.width/2,y:B+W/2},{x:M-f.width/2,y:B-W/2+_},{x:M-b/2,y:B-W/2+_}],Mt.polygon(t,Z,H)},h}T(nI,"iconSquare");async function iI(e,t,{config:{flowchart:n}}){const i=new Image;i.src=t?.img??"",await i.decode();const s=Number(i.naturalWidth.toString().replace("px","")),a=Number(i.naturalHeight.toString().replace("px",""));t.imageAspectRatio=s/a;const{labelStyles:o}=zt(t);t.labelStyle=o;const l=n?.wrappingWidth;t.defaultWidth=n?.wrappingWidth;const u=Math.max(t.label?l??0:0,t?.assetWidth??s),h=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:u,f=t.constraint==="on"?h/t.imageAspectRatio:t?.assetHeight??a;t.width=Math.max(h,l??0);const{shapeSvg:m,bbox:g,label:y}=await se(e,t,"image-shape default"),_=t.pos==="t",b=-h/2,w=-f/2,S=t.label?8:0,E=Ut.svg(m),C=qt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const D=E.rectangle(b,w,h,f,C),R=Math.max(h,g.width),U=f+g.height+S,N=E.rectangle(-R/2,-U/2,R,U,{...C,fill:"none",stroke:"none"}),P=m.insert(()=>D,":first-child"),$=m.insert(()=>N);if(t.img){const X=m.append("image");X.attr("href",t.img),X.attr("width",h),X.attr("height",f),X.attr("preserveAspectRatio","none"),X.attr("transform",`translate(${-h/2},${_?U/2-f:-U/2})`)}return y.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${_?-f/2-g.height/2-S/2:f/2-g.height/2+S/2})`),P.attr("transform",`translate(0,${_?g.height/2+S/2:-g.height/2-S/2})`),Pt(t,$),t.intersect=function(X){if(wt.info("iconSquare intersect",t,X),!t.label)return Mt.rect(t,X);const V=t.x??0,I=t.y??0,G=t.height??0;let k=[];return _?k=[{x:V-g.width/2,y:I-G/2},{x:V+g.width/2,y:I-G/2},{x:V+g.width/2,y:I-G/2+g.height+S},{x:V+h/2,y:I-G/2+g.height+S},{x:V+h/2,y:I+G/2},{x:V-h/2,y:I+G/2},{x:V-h/2,y:I-G/2+g.height+S},{x:V-g.width/2,y:I-G/2+g.height+S}]:k=[{x:V-h/2,y:I-G/2},{x:V+h/2,y:I-G/2},{x:V+h/2,y:I-G/2+f},{x:V+g.width/2,y:I-G/2+f},{x:V+g.width/2/2,y:I+G/2},{x:V-g.width/2,y:I+G/2},{x:V-g.width/2,y:I-G/2+f},{x:V-h/2,y:I-G/2+f}],Mt.polygon(t,k,X)},m}T(iI,"imageSquare");async function sI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=Math.max(a.width+(t.padding??0)*2,t?.width??0),l=Math.max(a.height+(t.padding??0)*2,t?.height??0),u=[{x:0,y:0},{x:o,y:0},{x:o+3*l/6,y:-l},{x:-3*l/6,y:-l}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const m=Ut.svg(s),g=qt(t,{}),y=Ne(u),_=m.path(y,g);h=s.insert(()=>_,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),f&&h.attr("style",f)}else h=Oo(s,o,l,u);return i&&h.attr("style",i),t.width=o,t.height=l,Pt(t,h),t.intersect=function(m){return Mt.polygon(t,u,m)},s}T(sI,"inv_trapezoid");async function gy(e,t,n){const{labelStyles:i,nodeStyles:s}=zt(t);t.labelStyle=i;const{shapeSvg:a,bbox:o}=await se(e,t,Qt(t)),l=Math.max(o.width+n.labelPaddingX*2,t?.width||0),u=Math.max(o.height+n.labelPaddingY*2,t?.height||0),h=-l/2,f=-u/2;let m,{rx:g,ry:y}=t;const{cssStyles:_}=t;if(n?.rx&&n.ry&&(g=n.rx,y=n.ry),t.look==="handDrawn"){const b=Ut.svg(a),w=qt(t,{}),S=g||y?b.path(Do(h,f,l,u,g||0),w):b.rectangle(h,f,l,u,w);m=a.insert(()=>S,":first-child"),m.attr("class","basic label-container").attr("style",Di(_))}else m=a.insert("rect",":first-child"),m.attr("class","basic label-container").attr("style",s).attr("rx",Di(g)).attr("ry",Di(y)).attr("x",h).attr("y",f).attr("width",l).attr("height",u);return Pt(t,m),t.calcIntersect=function(b,w){return Mt.rect(b,w)},t.intersect=function(b){return Mt.rect(t,b)},a}T(gy,"drawRect");async function aI(e,t){const{shapeSvg:n,bbox:i,label:s}=await se(e,t,"label"),a=n.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),s.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Pt(t,a),t.intersect=function(u){return Mt.rect(t,u)},n}T(aI,"labelRect");async function rI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=Math.max(a.width+(t.padding??0),t?.width??0),l=Math.max(a.height+(t.padding??0),t?.height??0),u=[{x:0,y:0},{x:o+3*l/6,y:0},{x:o,y:-l},{x:-(3*l)/6,y:-l}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const m=Ut.svg(s),g=qt(t,{}),y=Ne(u),_=m.path(y,g);h=s.insert(()=>_,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),f&&h.attr("style",f)}else h=Oo(s,o,l,u);return i&&h.attr("style",i),t.width=o,t.height=l,Pt(t,h),t.intersect=function(m){return Mt.polygon(t,u,m)},s}T(rI,"lean_left");async function oI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=Math.max(a.width+(t.padding??0),t?.width??0),l=Math.max(a.height+(t.padding??0),t?.height??0),u=[{x:-3*l/6,y:0},{x:o,y:0},{x:o+3*l/6,y:-l},{x:0,y:-l}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const m=Ut.svg(s),g=qt(t,{}),y=Ne(u),_=m.path(y,g);h=s.insert(()=>_,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),f&&h.attr("style",f)}else h=Oo(s,o,l,u);return i&&h.attr("style",i),t.width=o,t.height=l,Pt(t,h),t.intersect=function(m){return Mt.polygon(t,u,m)},s}T(oI,"lean_right");function lI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.label="",t.labelStyle=n;const s=e.insert("g").attr("class",Qt(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,o=Math.max(35,t?.width??0),l=Math.max(35,t?.height??0),u=7,h=[{x:o,y:0},{x:0,y:l+u/2},{x:o-2*u,y:l+u/2},{x:0,y:2*l},{x:o,y:l-u/2},{x:2*u,y:l-u/2}],f=Ut.svg(s),m=qt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const g=Ne(h),y=f.path(g,m),_=s.insert(()=>y,":first-child");return a&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",a),i&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",i),_.attr("transform",`translate(-${o/2},${-l})`),Pt(t,_),t.intersect=function(b){return wt.info("lightningBolt intersect",t,b),Mt.polygon(t,h,b)},s}T(lI,"lightningBolt");var hG=T((e,t,n,i,s,a,o)=>[`M${e},${t+a}`,`a${s},${a} 0,0,0 ${n},0`,`a${s},${a} 0,0,0 ${-n},0`,`l0,${i}`,`a${s},${a} 0,0,0 ${n},0`,`l0,${-i}`,`M${e},${t+a+o}`,`a${s},${a} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),dG=T((e,t,n,i,s,a,o)=>[`M${e},${t+a}`,`M${e+n},${t+a}`,`a${s},${a} 0,0,0 ${-n},0`,`l0,${i}`,`a${s},${a} 0,0,0 ${n},0`,`l0,${-i}`,`M${e},${t+a+o}`,`a${s},${a} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),fG=T((e,t,n,i,s,a)=>[`M${e-n/2},${-i/2}`,`a${s},${a} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function cI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=Math.max(a.width+(t.padding??0),t.width??0),u=l/2,h=u/(2.5+l/50),f=Math.max(a.height+h+(t.padding??0),t.height??0),m=f*.1;let g;const{cssStyles:y}=t;if(t.look==="handDrawn"){const _=Ut.svg(s),b=dG(0,0,l,f,u,h,m),w=fG(0,h,l,f,u,h),S=qt(t,{}),E=_.path(b,S),C=_.path(w,S);s.insert(()=>C,":first-child").attr("class","line"),g=s.insert(()=>E,":first-child"),g.attr("class","basic label-container"),y&&g.attr("style",y)}else{const _=hG(0,0,l,f,u,h,m);g=s.insert("path",":first-child").attr("d",_).attr("class","basic label-container").attr("style",Di(y)).attr("style",i)}return g.attr("label-offset-y",h),g.attr("transform",`translate(${-l/2}, ${-(f/2+h)})`),Pt(t,g),o.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+h-(a.y-(a.top??0))})`),t.intersect=function(_){const b=Mt.rect(t,_),w=b.x-(t.x??0);if(u!=0&&(Math.abs(w)<(t.width??0)/2||Math.abs(w)==(t.width??0)/2&&Math.abs(b.y-(t.y??0))>(t.height??0)/2-h)){let S=h*h*(1-w*w/(u*u));S>0&&(S=Math.sqrt(S)),S=h-S,_.y-(t.y??0)>0&&(S=-S),b.y+=S}return b},s}T(cI,"linedCylinder");async function uI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,f=u+h,{cssStyles:m}=t,g=Ut.svg(s),y=qt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const _=[{x:-l/2-l/2*.1,y:-f/2},{x:-l/2-l/2*.1,y:f/2},...ko(-l/2-l/2*.1,f/2,l/2+l/2*.1,f/2,h,.8),{x:l/2+l/2*.1,y:-f/2},{x:-l/2-l/2*.1,y:-f/2},{x:-l/2,y:-f/2},{x:-l/2,y:f/2*1.1},{x:-l/2,y:-f/2}],b=g.polygon(_.map(S=>[S.x,S.y]),y),w=s.insert(()=>b,":first-child");return w.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",m),i&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)+l/2*.1/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),Pt(t,w),t.intersect=function(S){return Mt.polygon(t,_,S)},s}T(uI,"linedWaveEdgedRect");async function hI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=5,f=-l/2,m=-u/2,{cssStyles:g}=t,y=Ut.svg(s),_=qt(t,{}),b=[{x:f-h,y:m+h},{x:f-h,y:m+u+h},{x:f+l-h,y:m+u+h},{x:f+l-h,y:m+u},{x:f+l,y:m+u},{x:f+l,y:m+u-h},{x:f+l+h,y:m+u-h},{x:f+l+h,y:m-h},{x:f+h,y:m-h},{x:f+h,y:m},{x:f,y:m},{x:f,y:m+h}],w=[{x:f,y:m+h},{x:f+l-h,y:m+h},{x:f+l-h,y:m+u},{x:f+l,y:m+u},{x:f+l,y:m},{x:f,y:m}];t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=Ne(b),E=y.path(S,_),C=Ne(w),D=y.path(C,{..._,fill:"none"}),R=s.insert(()=>D,":first-child");return R.insert(()=>E,":first-child"),R.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(a.width/2)-h-(a.x-(a.left??0))}, ${-(a.height/2)+h-(a.y-(a.top??0))})`),Pt(t,R),t.intersect=function(U){return Mt.polygon(t,b,U)},s}T(hI,"multiRect");async function dI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,f=u+h,m=-l/2,g=-f/2,y=5,{cssStyles:_}=t,b=ko(m-y,g+f+y,m+l-y,g+f+y,h,.8),w=b?.[b.length-1],S=[{x:m-y,y:g+y},{x:m-y,y:g+f+y},...b,{x:m+l-y,y:w.y-y},{x:m+l,y:w.y-y},{x:m+l,y:w.y-2*y},{x:m+l+y,y:w.y-2*y},{x:m+l+y,y:g-y},{x:m+y,y:g-y},{x:m+y,y:g},{x:m,y:g},{x:m,y:g+y}],E=[{x:m,y:g+y},{x:m+l-y,y:g+y},{x:m+l-y,y:w.y-y},{x:m+l,y:w.y-y},{x:m+l,y:g},{x:m,y:g}],C=Ut.svg(s),D=qt(t,{});t.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const R=Ne(S),U=C.path(R,D),N=Ne(E),P=C.path(N,D),$=s.insert(()=>U,":first-child");return $.insert(()=>P),$.attr("class","basic label-container"),_&&t.look!=="handDrawn"&&$.selectAll("path").attr("style",_),i&&t.look!=="handDrawn"&&$.selectAll("path").attr("style",i),$.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-(a.width/2)-y-(a.x-(a.left??0))}, ${-(a.height/2)+y-h/2-(a.y-(a.top??0))})`),Pt(t,$),t.intersect=function(X){return Mt.polygon(t,S,X)},s}T(dI,"multiWaveEdgedRectangle");async function fI(e,t,{config:{themeVariables:n}}){const{labelStyles:i,nodeStyles:s}=zt(t);t.labelStyle=i,t.useHtmlLabels||Ri().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);const{shapeSvg:o,bbox:l,label:u}=await se(e,t,Qt(t)),h=Math.max(l.width+(t.padding??0)*2,t?.width??0),f=Math.max(l.height+(t.padding??0)*2,t?.height??0),m=-h/2,g=-f/2,{cssStyles:y}=t,_=Ut.svg(o),b=qt(t,{fill:n.noteBkgColor,stroke:n.noteBorderColor});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const w=_.rectangle(m,g,h,f,b),S=o.insert(()=>w,":first-child");return S.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",y),s&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",s),u.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),Pt(t,S),t.intersect=function(E){return Mt.rect(t,E)},o}T(fI,"note");var pG=T((e,t,n)=>[`M${e+n/2},${t}`,`L${e+n},${t-n/2}`,`L${e+n/2},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function pI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=a.width+t.padding,l=a.height+t.padding,u=o+l,h=.5,f=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}];let m;const{cssStyles:g}=t;if(t.look==="handDrawn"){const y=Ut.svg(s),_=qt(t,{}),b=pG(0,0,u),w=y.path(b,_);m=s.insert(()=>w,":first-child").attr("transform",`translate(${-u/2+h}, ${u/2})`),g&&m.attr("style",g)}else m=Oo(s,u,u,f),m.attr("transform",`translate(${-u/2+h}, ${u/2})`);return i&&m.attr("style",i),Pt(t,m),t.calcIntersect=function(y,_){const b=y.width,w=[{x:b/2,y:0},{x:b,y:-b/2},{x:b/2,y:-b},{x:0,y:-b/2}],S=Mt.polygon(y,w,_);return{x:S.x-.5,y:S.y-.5}},t.intersect=function(y){return this.calcIntersect(t,y)},s}T(pI,"question");async function mI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=Math.max(a.width+(t.padding??0),t?.width??0),u=Math.max(a.height+(t.padding??0),t?.height??0),h=-l/2,f=-u/2,m=f/2,g=[{x:h+m,y:f},{x:h,y:0},{x:h+m,y:-f},{x:-h,y:-f},{x:-h,y:f}],{cssStyles:y}=t,_=Ut.svg(s),b=qt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const w=Ne(g),S=_.path(w,b),E=s.insert(()=>S,":first-child");return E.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(${-m/2},0)`),o.attr("transform",`translate(${-m/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Pt(t,E),t.intersect=function(C){return Mt.polygon(t,g,C)},s}T(mI,"rect_left_inv_arrow");async function gI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;let s;t.cssClasses?s="node "+t.cssClasses:s="node default";const a=e.insert("g").attr("class",s).attr("id",t.domId||t.id),o=a.insert("g"),l=a.insert("g").attr("class","label").attr("style",i),u=t.description,h=t.label,f=l.node().appendChild(await ul(h,t.labelStyle,!0,!0));let m={width:0,height:0};if(li(Je()?.flowchart?.htmlLabels)){const P=f.children[0],$=ze(f);m=P.getBoundingClientRect(),$.attr("width",m.width),$.attr("height",m.height)}wt.info("Text 2",u);const g=u||[],y=f.getBBox(),_=l.node().appendChild(await ul(g.join?g.join("<br/>"):g,t.labelStyle,!0,!0)),b=_.children[0],w=ze(_);m=b.getBoundingClientRect(),w.attr("width",m.width),w.attr("height",m.height);const S=(t.padding||0)/2;ze(_).attr("transform","translate( "+(m.width>y.width?0:(y.width-m.width)/2)+", "+(y.height+S+5)+")"),ze(f).attr("transform","translate( "+(m.width<y.width?0:-(y.width-m.width)/2)+", 0)"),m=l.node().getBBox(),l.attr("transform","translate("+-m.width/2+", "+(-m.height/2-S+3)+")");const E=m.width+(t.padding||0),C=m.height+(t.padding||0),D=-m.width/2-S,R=-m.height/2-S;let U,N;if(t.look==="handDrawn"){const P=Ut.svg(a),$=qt(t,{}),X=P.path(Do(D,R,E,C,t.rx||0),$),V=P.line(-m.width/2-S,-m.height/2-S+y.height+S,m.width/2+S,-m.height/2-S+y.height+S,$);N=a.insert(()=>(wt.debug("Rough node insert CXC",X),V),":first-child"),U=a.insert(()=>(wt.debug("Rough node insert CXC",X),X),":first-child")}else U=o.insert("rect",":first-child"),N=o.insert("line"),U.attr("class","outer title-state").attr("style",i).attr("x",-m.width/2-S).attr("y",-m.height/2-S).attr("width",m.width+(t.padding||0)).attr("height",m.height+(t.padding||0)),N.attr("class","divider").attr("x1",-m.width/2-S).attr("x2",m.width/2+S).attr("y1",-m.height/2-S+y.height+S).attr("y2",-m.height/2-S+y.height+S);return Pt(t,U),t.intersect=function(P){return Mt.rect(t,P)},a}T(gI,"rectWithTitle");function jh(e,t,n,i,s,a,o){const u=(e+n)/2,h=(t+i)/2,f=Math.atan2(i-t,n-e),m=(n-e)/2,g=(i-t)/2,y=m/s,_=g/a,b=Math.sqrt(y**2+_**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const w=Math.sqrt(1-b**2),S=u+w*a*Math.sin(f)*(o?-1:1),E=h-w*s*Math.cos(f)*(o?-1:1),C=Math.atan2((t-E)/a,(e-S)/s);let R=Math.atan2((i-E)/a,(n-S)/s)-C;o&&R<0&&(R+=2*Math.PI),!o&&R>0&&(R-=2*Math.PI);const U=[];for(let N=0;N<20;N++){const P=N/19,$=C+P*R,X=S+s*Math.cos($),V=E+a*Math.sin($);U.push({x:X,y:V})}return U}T(jh,"generateArcPoints");async function yI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=t?.padding??0,l=t?.padding??0,u=(t?.width?t?.width:a.width)+o*2,h=(t?.height?t?.height:a.height)+l*2,f=t.radius||5,m=t.taper||5,{cssStyles:g}=t,y=Ut.svg(s),_=qt(t,{});t.stroke&&(_.stroke=t.stroke),t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const b=[{x:-u/2+m,y:-h/2},{x:u/2-m,y:-h/2},...jh(u/2-m,-h/2,u/2,-h/2+m,f,f,!0),{x:u/2,y:-h/2+m},{x:u/2,y:h/2-m},...jh(u/2,h/2-m,u/2-m,h/2,f,f,!0),{x:u/2-m,y:h/2},{x:-u/2+m,y:h/2},...jh(-u/2+m,h/2,-u/2,h/2-m,f,f,!0),{x:-u/2,y:h/2-m},{x:-u/2,y:-h/2+m},...jh(-u/2,-h/2+m,-u/2+m,-h/2,f,f,!0)],w=Ne(b),S=y.path(w,_),E=s.insert(()=>S,":first-child");return E.attr("class","basic label-container outer-path"),g&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",i),Pt(t,E),t.intersect=function(C){return Mt.polygon(t,b,C)},s}T(yI,"roundedRect");async function bI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=t?.padding??0,u=Math.max(a.width+(t.padding??0)*2,t?.width??0),h=Math.max(a.height+(t.padding??0)*2,t?.height??0),f=-a.width/2-l,m=-a.height/2-l,{cssStyles:g}=t,y=Ut.svg(s),_=qt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const b=[{x:f,y:m},{x:f+u+8,y:m},{x:f+u+8,y:m+h},{x:f-8,y:m+h},{x:f-8,y:m},{x:f,y:m},{x:f,y:m+h}],w=y.polygon(b.map(E=>[E.x,E.y]),_),S=s.insert(()=>w,":first-child");return S.attr("class","basic label-container").attr("style",Di(g)),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),g&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),o.attr("transform",`translate(${-u/2+4+(t.padding??0)-(a.x-(a.left??0))},${-h/2+(t.padding??0)-(a.y-(a.top??0))})`),Pt(t,S),t.intersect=function(E){return Mt.rect(t,E)},s}T(bI,"shadedProcess");async function _I(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=-l/2,f=-u/2,{cssStyles:m}=t,g=Ut.svg(s),y=qt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const _=[{x:h,y:f},{x:h,y:f+u},{x:h+l,y:f+u},{x:h+l,y:f-u/2}],b=Ne(_),w=g.path(b,y),S=s.insert(()=>w,":first-child");return S.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),S.attr("transform",`translate(0, ${u/4})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))}, ${-u/4+(t.padding??0)-(a.y-(a.top??0))})`),Pt(t,S),t.intersect=function(E){return Mt.polygon(t,_,E)},s}T(_I,"slopedRect");async function vI(e,t){const n={rx:0,ry:0,labelPaddingX:t.labelPaddingX??(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return gy(e,t,n)}T(vI,"squareRect");async function xI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=a.height+t.padding,l=a.width+o/4+t.padding,u=o/2,{cssStyles:h}=t,f=Ut.svg(s),m=qt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const g=[{x:-l/2+u,y:-o/2},{x:l/2-u,y:-o/2},...Sd(-l/2+u,0,u,50,90,270),{x:l/2-u,y:o/2},...Sd(l/2-u,0,u,50,270,450)],y=Ne(g),_=f.path(y,m),b=s.insert(()=>_,":first-child");return b.attr("class","basic label-container outer-path"),h&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),Pt(t,b),t.intersect=function(w){return Mt.polygon(t,g,w)},s}T(xI,"stadium");async function wI(e,t){return gy(e,t,{rx:5,ry:5})}T(wI,"state");function SI(e,t,{config:{themeVariables:n}}){const{labelStyles:i,nodeStyles:s}=zt(t);t.labelStyle=i;const{cssStyles:a}=t,{lineColor:o,stateBorder:l,nodeBorder:u}=n,h=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),f=Ut.svg(h),m=qt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const g=f.circle(0,0,14,{...m,stroke:o,strokeWidth:2}),y=l??u,_=f.circle(0,0,5,{...m,fill:y,stroke:y,strokeWidth:2,fillStyle:"solid"}),b=h.insert(()=>g,":first-child");return b.insert(()=>_),a&&b.selectAll("path").attr("style",a),s&&b.selectAll("path").attr("style",s),Pt(t,b),t.intersect=function(w){return Mt.circle(t,7,w)},h}T(SI,"stateEnd");function EI(e,t,{config:{themeVariables:n}}){const{lineColor:i}=n,s=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let a;if(t.look==="handDrawn"){const l=Ut.svg(s).circle(0,0,14,RH(i));a=s.insert(()=>l),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=s.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Pt(t,a),t.intersect=function(o){return Mt.circle(t,7,o)},s}T(EI,"stateStart");async function TI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=(t?.padding||0)/2,l=a.width+t.padding,u=a.height+t.padding,h=-a.width/2-o,f=-a.height/2-o,m=[{x:0,y:0},{x:l,y:0},{x:l,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:l+8,y:0},{x:l+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(t.look==="handDrawn"){const g=Ut.svg(s),y=qt(t,{}),_=g.rectangle(h-8,f,l+16,u,y),b=g.line(h,f,h,f+u,y),w=g.line(h+l,f,h+l,f+u,y);s.insert(()=>b,":first-child"),s.insert(()=>w,":first-child");const S=s.insert(()=>_,":first-child"),{cssStyles:E}=t;S.attr("class","basic label-container").attr("style",Di(E)),Pt(t,S)}else{const g=Oo(s,l,u,m);i&&g.attr("style",i),Pt(t,g)}return t.intersect=function(g){return Mt.polygon(t,m,g)},s}T(TI,"subroutine");async function kI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=Math.max(a.width+(t.padding??0)*2,t?.width??0),l=Math.max(a.height+(t.padding??0)*2,t?.height??0),u=-o/2,h=-l/2,f=.2*l,m=.2*l,{cssStyles:g}=t,y=Ut.svg(s),_=qt(t,{}),b=[{x:u-f/2,y:h},{x:u+o+f/2,y:h},{x:u+o+f/2,y:h+l},{x:u-f/2,y:h+l}],w=[{x:u+o-f/2,y:h+l},{x:u+o+f/2,y:h+l},{x:u+o+f/2,y:h+l-m}];t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=Ne(b),E=y.path(S,_),C=Ne(w),D=y.path(C,{..._,fillStyle:"solid"}),R=s.insert(()=>D,":first-child");return R.insert(()=>E,":first-child"),R.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",i),Pt(t,R),t.intersect=function(U){return Mt.polygon(t,b,U)},s}T(kI,"taggedRect");async function CI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,f=.2*l,m=.2*u,g=u+h,{cssStyles:y}=t,_=Ut.svg(s),b=qt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const w=[{x:-l/2-l/2*.1,y:g/2},...ko(-l/2-l/2*.1,g/2,l/2+l/2*.1,g/2,h,.8),{x:l/2+l/2*.1,y:-g/2},{x:-l/2-l/2*.1,y:-g/2}],S=-l/2+l/2*.1,E=-g/2-m*.4,C=[{x:S+l-f,y:(E+u)*1.4},{x:S+l,y:E+u-m},{x:S+l,y:(E+u)*.9},...ko(S+l,(E+u)*1.3,S+l-f,(E+u)*1.5,-u*.03,.5)],D=Ne(w),R=_.path(D,b),U=Ne(C),N=_.path(U,{...b,fillStyle:"solid"}),P=s.insert(()=>N,":first-child");return P.insert(()=>R,":first-child"),P.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&P.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&P.selectAll("path").attr("style",i),P.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),Pt(t,P),t.intersect=function($){return Mt.polygon(t,w,$)},s}T(CI,"taggedWaveEdgedRectangle");async function AI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=Math.max(a.width+t.padding,t?.width||0),l=Math.max(a.height+t.padding,t?.height||0),u=-o/2,h=-l/2,f=s.insert("rect",":first-child");return f.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",u).attr("y",h).attr("width",o).attr("height",l),Pt(t,f),t.intersect=function(m){return Mt.rect(t,m)},s}T(AI,"text");var mG=T((e,t,n,i,s,a)=>`M${e},${t}
    a${s},${a} 0,0,1 0,${-i}
    l${n},0
    a${s},${a} 0,0,1 0,${i}
    M${n},${-i}
    a${s},${a} 0,0,0 0,${i}
    l${-n},0`,"createCylinderPathD"),gG=T((e,t,n,i,s,a)=>[`M${e},${t}`,`M${e+n},${t}`,`a${s},${a} 0,0,0 0,${-i}`,`l${-n},0`,`a${s},${a} 0,0,0 0,${i}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),yG=T((e,t,n,i,s,a)=>[`M${e+n/2},${-i/2}`,`a${s},${a} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD");async function RI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o,halfPadding:l}=await se(e,t,Qt(t)),u=t.look==="neo"?l*2:l,h=a.height+u,f=h/2,m=f/(2.5+h/50),g=a.width+m+u,{cssStyles:y}=t;let _;if(t.look==="handDrawn"){const b=Ut.svg(s),w=gG(0,0,g,h,m,f),S=yG(0,0,g,h,m,f),E=b.path(w,qt(t,{})),C=b.path(S,qt(t,{fill:"none"}));_=s.insert(()=>C,":first-child"),_=s.insert(()=>E,":first-child"),_.attr("class","basic label-container"),y&&_.attr("style",y)}else{const b=mG(0,0,g,h,m,f);_=s.insert("path",":first-child").attr("d",b).attr("class","basic label-container").attr("style",Di(y)).attr("style",i),_.attr("class","basic label-container"),y&&_.selectAll("path").attr("style",y),i&&_.selectAll("path").attr("style",i)}return _.attr("label-offset-x",m),_.attr("transform",`translate(${-g/2}, ${h/2} )`),o.attr("transform",`translate(${-(a.width/2)-m-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Pt(t,_),t.intersect=function(b){const w=Mt.rect(t,b),S=w.y-(t.y??0);if(f!=0&&(Math.abs(S)<(t.height??0)/2||Math.abs(S)==(t.height??0)/2&&Math.abs(w.x-(t.x??0))>(t.width??0)/2-m)){let E=m*m*(1-S*S/(f*f));E!=0&&(E=Math.sqrt(Math.abs(E))),E=m-E,b.x-(t.x??0)>0&&(E=-E),w.x+=E}return w},s}T(RI,"tiltedCylinder");async function LI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=a.width+t.padding,l=a.height+t.padding,u=[{x:-3*l/6,y:0},{x:o+3*l/6,y:0},{x:o,y:-l},{x:0,y:-l}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const m=Ut.svg(s),g=qt(t,{}),y=Ne(u),_=m.path(y,g);h=s.insert(()=>_,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),f&&h.attr("style",f)}else h=Oo(s,o,l,u);return i&&h.attr("style",i),t.width=o,t.height=l,Pt(t,h),t.intersect=function(m){return Mt.polygon(t,u,m)},s}T(LI,"trapezoid");async function DI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=60,l=20,u=Math.max(o,a.width+(t.padding??0)*2,t?.width??0),h=Math.max(l,a.height+(t.padding??0)*2,t?.height??0),{cssStyles:f}=t,m=Ut.svg(s),g=qt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=[{x:-u/2*.8,y:-h/2},{x:u/2*.8,y:-h/2},{x:u/2,y:-h/2*.6},{x:u/2,y:h/2},{x:-u/2,y:h/2},{x:-u/2,y:-h/2*.6}],_=Ne(y),b=m.path(_,g),w=s.insert(()=>b,":first-child");return w.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",f),i&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",i),Pt(t,w),t.intersect=function(S){return Mt.polygon(t,y,S)},s}T(DI,"trapezoidalPentagon");async function OI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=li(Je().flowchart?.htmlLabels),u=a.width+(t.padding??0),h=u+a.height,f=u+a.height,m=[{x:0,y:0},{x:f,y:0},{x:f/2,y:-h}],{cssStyles:g}=t,y=Ut.svg(s),_=qt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const b=Ne(m),w=y.path(b,_),S=s.insert(()=>w,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return g&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),t.width=u,t.height=h,Pt(t,S),o.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${h/2-(a.height+(t.padding??0)/(l?2:1)-(a.y-(a.top??0)))})`),t.intersect=function(E){return wt.info("Triangle intersect",t,m,E),Mt.polygon(t,m,E)},s}T(OI,"triangle");async function MI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/8,f=u+h,{cssStyles:m}=t,y=70-l,_=y>0?y/2:0,b=Ut.svg(s),w=qt(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const S=[{x:-l/2-_,y:f/2},...ko(-l/2-_,f/2,l/2+_,f/2,h,.8),{x:l/2+_,y:-f/2},{x:-l/2-_,y:-f/2}],E=Ne(S),C=b.path(E,w),D=s.insert(()=>C,":first-child");return D.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",m),i&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",i),D.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h-(a.y-(a.top??0))})`),Pt(t,D),t.intersect=function(R){return Mt.polygon(t,S,R)},s}T(MI,"waveEdgedRectangle");async function NI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await se(e,t,Qt(t)),o=100,l=50,u=Math.max(a.width+(t.padding??0)*2,t?.width??0),h=Math.max(a.height+(t.padding??0)*2,t?.height??0),f=u/h;let m=u,g=h;m>g*f?g=m/f:m=g*f,m=Math.max(m,o),g=Math.max(g,l);const y=Math.min(g*.2,g/4),_=g+y*2,{cssStyles:b}=t,w=Ut.svg(s),S=qt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const E=[{x:-m/2,y:_/2},...ko(-m/2,_/2,m/2,_/2,y,1),{x:m/2,y:-_/2},...ko(m/2,-_/2,-m/2,-_/2,y,-1)],C=Ne(E),D=w.path(C,S),R=s.insert(()=>D,":first-child");return R.attr("class","basic label-container"),b&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",b),i&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",i),Pt(t,R),t.intersect=function(U){return Mt.polygon(t,E,U)},s}T(NI,"waveRectangle");async function II(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,label:o}=await se(e,t,Qt(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=5,f=-l/2,m=-u/2,{cssStyles:g}=t,y=Ut.svg(s),_=qt(t,{}),b=[{x:f-h,y:m-h},{x:f-h,y:m+u},{x:f+l,y:m+u},{x:f+l,y:m-h}],w=`M${f-h},${m-h} L${f+l},${m-h} L${f+l},${m+u} L${f-h},${m+u} L${f-h},${m-h}
                M${f-h},${m} L${f+l},${m}
                M${f},${m-h} L${f},${m+u}`;t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=y.path(w,_),E=s.insert(()=>S,":first-child");return E.attr("transform",`translate(${h/2}, ${h/2})`),E.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(a.width/2)+h/2-(a.x-(a.left??0))}, ${-(a.height/2)+h/2-(a.y-(a.top??0))})`),Pt(t,E),t.intersect=function(C){return Mt.polygon(t,b,C)},s}T(II,"windowPane");async function A1(e,t){const n=t;if(n.alias&&(t.label=n.alias),t.look==="handDrawn"){const{themeVariables:q}=Ri(),{background:tt}=q,it={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${tt}`]};await A1(e,it)}const i=Ri();t.useHtmlLabels=i.htmlLabels;let s=i.er?.diagramPadding??10,a=i.er?.entityPadding??6;const{cssStyles:o}=t,{labelStyles:l,nodeStyles:u}=zt(t);if(n.attributes.length===0&&t.label){const q={rx:0,ry:0,labelPaddingX:s,labelPaddingY:s*1.5};kr(t.label,i)+q.labelPaddingX*2<i.er.minEntityWidth&&(t.width=i.er.minEntityWidth);const tt=await gy(e,t,q);if(!li(i.htmlLabels)){const it=tt.select("text"),st=it.node()?.getBBox();it.attr("transform",`translate(${-st.width/2}, 0)`)}return tt}i.htmlLabels||(s*=1.25,a*=1.25);let h=Qt(t);h||(h="node default");const f=e.insert("g").attr("class",h).attr("id",t.domId||t.id),m=await Lc(f,t.label??"",i,0,0,["name"],l);m.height+=a;let g=0;const y=[],_=[];let b=0,w=0,S=0,E=0,C=!0,D=!0;for(const q of n.attributes){const tt=await Lc(f,q.type,i,0,g,["attribute-type"],l);b=Math.max(b,tt.width+s);const it=await Lc(f,q.name,i,0,g,["attribute-name"],l);w=Math.max(w,it.width+s);const st=await Lc(f,q.keys.join(),i,0,g,["attribute-keys"],l);S=Math.max(S,st.width+s);const Ct=await Lc(f,q.comment,i,0,g,["attribute-comment"],l);E=Math.max(E,Ct.width+s);const Dt=Math.max(tt.height,it.height,st.height,Ct.height)+a;_.push({yOffset:g,rowHeight:Dt}),g+=Dt}let R=4;S<=s&&(C=!1,S=0,R--),E<=s&&(D=!1,E=0,R--);const U=f.node().getBBox();if(m.width+s*2-(b+w+S+E)>0){const q=m.width+s*2-(b+w+S+E);b+=q/R,w+=q/R,S>0&&(S+=q/R),E>0&&(E+=q/R)}const N=b+w+S+E,P=Ut.svg(f),$=qt(t,{});t.look!=="handDrawn"&&($.roughness=0,$.fillStyle="solid");let X=0;_.length>0&&(X=_.reduce((q,tt)=>q+(tt?.rowHeight??0),0));const V=Math.max(U.width+s*2,t?.width||0,N),I=Math.max((X??0)+m.height,t?.height||0),G=-V/2,k=-I/2;f.selectAll("g:not(:first-child)").each((q,tt,it)=>{const st=ze(it[tt]),Ct=st.attr("transform");let Dt=0,Ot=0;if(Ct){const Gt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Ct);Gt&&(Dt=parseFloat(Gt[1]),Ot=parseFloat(Gt[2]),st.attr("class").includes("attribute-name")?Dt+=b:st.attr("class").includes("attribute-keys")?Dt+=b+w:st.attr("class").includes("attribute-comment")&&(Dt+=b+w+S))}st.attr("transform",`translate(${G+s/2+Dt}, ${Ot+k+m.height+a/2})`)}),f.select(".name").attr("transform","translate("+-m.width/2+", "+(k+a/2)+")");const H=P.rectangle(G,k,V,I,$),M=f.insert(()=>H,":first-child").attr("style",o.join("")),{themeVariables:B}=Ri(),{rowEven:W,rowOdd:Z,nodeBorder:rt}=B;y.push(0);for(const[q,tt]of _.entries()){const st=(q+1)%2===0&&tt.yOffset!==0,Ct=P.rectangle(G,m.height+k+tt?.yOffset,V,tt?.rowHeight,{...$,fill:st?W:Z,stroke:rt});f.insert(()=>Ct,"g.label").attr("style",o.join("")).attr("class",`row-rect-${st?"even":"odd"}`)}let O=P.line(G,m.height+k,V+G,m.height+k,$);f.insert(()=>O).attr("class","divider"),O=P.line(b+G,m.height+k,b+G,I+k,$),f.insert(()=>O).attr("class","divider"),C&&(O=P.line(b+w+G,m.height+k,b+w+G,I+k,$),f.insert(()=>O).attr("class","divider")),D&&(O=P.line(b+w+S+G,m.height+k,b+w+S+G,I+k,$),f.insert(()=>O).attr("class","divider"));for(const q of y)O=P.line(G,m.height+k+q,V+G,m.height+k+q,$),f.insert(()=>O).attr("class","divider");if(Pt(t,M),u&&t.look!=="handDrawn"){const tt=u.split(";")?.filter(it=>it.includes("stroke"))?.map(it=>`${it}`).join("; ");f.selectAll("path").attr("style",tt??""),f.selectAll(".row-rect-even path").attr("style",u)}return t.intersect=function(q){return Mt.rect(t,q)},f}T(A1,"erBox");async function Lc(e,t,n,i=0,s=0,a=[],o=""){const l=e.insert("g").attr("class",`label ${a.join(" ")}`).attr("transform",`translate(${i}, ${s})`).attr("style",o);t!==OT(t)&&(t=OT(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const u=l.node().appendChild(await Lo(l,t,{width:kr(t,n)+100,style:o,useHtmlLabels:n.htmlLabels},n));if(t.includes("&lt;")||t.includes("&gt;")){let f=u.children[0];for(f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");f.childNodes[0];)f=f.childNodes[0],f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let h=u.getBBox();if(li(n.htmlLabels)){const f=u.children[0];f.style.textAlign="start";const m=ze(u);h=f.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}return h}T(Lc,"addText");async function BI(e,t,n,i,s=n.class.padding??12){const a=i?0:3,o=e.insert("g").attr("class",Qt(t)).attr("id",t.domId||t.id);let l=null,u=null,h=null,f=null,m=0,g=0,y=0;if(l=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const E=t.annotations[0];await Wh(l,{text:`${E}`},0),m=l.node().getBBox().height}u=o.insert("g").attr("class","label-group text"),await Wh(u,t,0,["font-weight: bolder"]);const _=u.node().getBBox();g=_.height,h=o.insert("g").attr("class","members-group text");let b=0;for(const E of t.members){const C=await Wh(h,E,b,[E.parseClassifier()]);b+=C+a}y=h.node().getBBox().height,y<=0&&(y=s/2),f=o.insert("g").attr("class","methods-group text");let w=0;for(const E of t.methods){const C=await Wh(f,E,w,[E.parseClassifier()]);w+=C+a}let S=o.node().getBBox();if(l!==null){const E=l.node().getBBox();l.attr("transform",`translate(${-E.width/2})`)}return u.attr("transform",`translate(${-_.width/2}, ${m})`),S=o.node().getBBox(),h.attr("transform",`translate(0, ${m+g+s*2})`),S=o.node().getBBox(),f.attr("transform",`translate(0, ${m+g+(y?y+s*4:s*2)})`),S=o.node().getBBox(),{shapeSvg:o,bbox:S}}T(BI,"textHelper");async function Wh(e,t,n,i=[]){const s=e.insert("g").attr("class","label").attr("style",i.join("; ")),a=Ri();let o="useHtmlLabels"in t?t.useHtmlLabels:li(a.htmlLabels)??!0,l="";"text"in t?l=t.text:l=t.label,!o&&l.startsWith("\\")&&(l=l.substring(1)),iu(l)&&(o=!0);const u=await Lo(s,Ux(Dl(l)),{width:kr(l,a)+50,classes:"markdown-node-label",useHtmlLabels:o},a);let h,f=1;if(o){const m=u.children[0],g=ze(u);f=m.innerHTML.split("<br>").length,m.innerHTML.includes("</math>")&&(f+=m.innerHTML.split("<mrow>").length-1);const y=m.getElementsByTagName("img");if(y){const _=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(b=>new Promise(w=>{function S(){if(b.style.display="flex",b.style.flexDirection="column",_){const E=a.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,D=parseInt(E,10)*5+"px";b.style.minWidth=D,b.style.maxWidth=D}else b.style.width="100%";w(b)}T(S,"setupImage"),setTimeout(()=>{b.complete&&S()}),b.addEventListener("error",S),b.addEventListener("load",S)})))}h=m.getBoundingClientRect(),g.attr("width",h.width),g.attr("height",h.height)}else{i.includes("font-weight: bolder")&&ze(u).selectAll("tspan").attr("font-weight",""),f=u.children.length;const m=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(m.textContent=l[0]+l.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),l[1]===" "&&(m.textContent=m.textContent[0]+" "+m.textContent.substring(1))),m.textContent==="undefined"&&(m.textContent=""),h=u.getBBox()}return s.attr("transform","translate(0,"+(-h.height/(2*f)+n)+")"),h.height}T(Wh,"addText");async function FI(e,t){const n=Je(),i=n.class.padding??12,s=i,a=t.useHtmlLabels??li(n.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:l,bbox:u}=await BI(e,t,n,a,s),{labelStyles:h,nodeStyles:f}=zt(t);t.labelStyle=h,t.cssStyles=o.styles||"";const m=o.styles?.join(";")||f||"";t.cssStyles||(t.cssStyles=m.replaceAll("!important","").split(";"));const g=o.members.length===0&&o.methods.length===0&&!n.class?.hideEmptyMembersBox,y=Ut.svg(l),_=qt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const b=u.width;let w=u.height;o.members.length===0&&o.methods.length===0?w+=s:o.members.length>0&&o.methods.length===0&&(w+=s*2);const S=-b/2,E=-w/2,C=y.rectangle(S-i,E-i-(g?i:o.members.length===0&&o.methods.length===0?-i/2:0),b+2*i,w+2*i+(g?i*2:o.members.length===0&&o.methods.length===0?-i:0),_),D=l.insert(()=>C,":first-child");D.attr("class","basic label-container");const R=D.node().getBBox();l.selectAll(".text").each(($,X,V)=>{const I=ze(V[X]),G=I.attr("transform");let k=0;if(G){const W=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(G);W&&(k=parseFloat(W[2]))}let H=k+E+i-(g?i:o.members.length===0&&o.methods.length===0?-i/2:0);a||(H-=4);let M=S;(I.attr("class").includes("label-group")||I.attr("class").includes("annotation-group"))&&(M=-I.node()?.getBBox().width/2||0,l.selectAll("text").each(function(B,W,Z){window.getComputedStyle(Z[W]).textAnchor==="middle"&&(M=0)})),I.attr("transform",`translate(${M}, ${H})`)});const U=l.select(".annotation-group").node().getBBox().height-(g?i/2:0)||0,N=l.select(".label-group").node().getBBox().height-(g?i/2:0)||0,P=l.select(".members-group").node().getBBox().height-(g?i/2:0)||0;if(o.members.length>0||o.methods.length>0||g){const $=y.line(R.x,U+N+E+i,R.x+R.width,U+N+E+i,_);l.insert(()=>$).attr("class","divider").attr("style",m)}if(g||o.members.length>0||o.methods.length>0){const $=y.line(R.x,U+N+P+E+s*2+i,R.x+R.width,U+N+P+E+i+s*2,_);l.insert(()=>$).attr("class","divider").attr("style",m)}if(o.look!=="handDrawn"&&l.selectAll("path").attr("style",m),D.select(":nth-child(2)").attr("style",m),l.selectAll(".divider").select("path").attr("style",m),t.labelStyle?l.selectAll("span").attr("style",t.labelStyle):l.selectAll("span").attr("style",m),!a){const $=RegExp(/color\s*:\s*([^;]*)/),X=$.exec(m);if(X){const V=X[0].replace("color","fill");l.selectAll("tspan").attr("style",V)}else if(h){const V=$.exec(h);if(V){const I=V[0].replace("color","fill");l.selectAll("tspan").attr("style",I)}}}return Pt(t,D),t.intersect=function($){return Mt.rect(t,$)},l}T(FI,"classBox");async function UI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const s=t,a=t,o=20,l=20,u="verifyMethod"in t,h=Qt(t),f=e.insert("g").attr("class",h).attr("id",t.domId??t.id);let m;u?m=await Sa(f,`&lt;&lt;${s.type}&gt;&gt;`,0,t.labelStyle):m=await Sa(f,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let g=m;const y=await Sa(f,s.name,g,t.labelStyle+"; font-weight: bold;");if(g+=y+l,u){const U=await Sa(f,`${s.requirementId?`ID: ${s.requirementId}`:""}`,g,t.labelStyle);g+=U;const N=await Sa(f,`${s.text?`Text: ${s.text}`:""}`,g,t.labelStyle);g+=N;const P=await Sa(f,`${s.risk?`Risk: ${s.risk}`:""}`,g,t.labelStyle);g+=P,await Sa(f,`${s.verifyMethod?`Verification: ${s.verifyMethod}`:""}`,g,t.labelStyle)}else{const U=await Sa(f,`${a.type?`Type: ${a.type}`:""}`,g,t.labelStyle);g+=U,await Sa(f,`${a.docRef?`Doc Ref: ${a.docRef}`:""}`,g,t.labelStyle)}const _=(f.node()?.getBBox().width??200)+o,b=(f.node()?.getBBox().height??200)+o,w=-_/2,S=-b/2,E=Ut.svg(f),C=qt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const D=E.rectangle(w,S,_,b,C),R=f.insert(()=>D,":first-child");if(R.attr("class","basic label-container").attr("style",i),f.selectAll(".label").each((U,N,P)=>{const $=ze(P[N]),X=$.attr("transform");let V=0,I=0;if(X){const M=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(X);M&&(V=parseFloat(M[1]),I=parseFloat(M[2]))}const G=I-b/2;let k=w+o/2;(N===0||N===1)&&(k=V),$.attr("transform",`translate(${k}, ${G+o})`)}),g>m+y+l){const U=E.line(w,S+m+y+l,w+_,S+m+y+l,C);f.insert(()=>U).attr("style",i)}return Pt(t,R),t.intersect=function(U){return Mt.rect(t,U)},f}T(UI,"requirementBox");async function Sa(e,t,n,i=""){if(t==="")return 0;const s=e.insert("g").attr("class","label").attr("style",i),a=Je(),o=a.htmlLabels??!0,l=await Lo(s,Ux(Dl(t)),{width:kr(t,a)+50,classes:"markdown-node-label",useHtmlLabels:o,style:i},a);let u;if(o){const h=l.children[0],f=ze(l);u=h.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}else{const h=l.children[0];for(const f of h.children)f.textContent=f.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&f.setAttribute("style",i);u=l.getBBox(),u.height+=6}return s.attr("transform",`translate(${-u.width/2},${-u.height/2+n})`),u.height}T(Sa,"addText");var bG=T(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function qI(e,t,{config:n}){const{labelStyles:i,nodeStyles:s}=zt(t);t.labelStyle=i||"";const a=10,o=t.width;t.width=(t.width??200)-10;const{shapeSvg:l,bbox:u,label:h}=await se(e,t,Qt(t)),f=t.padding||10;let m="",g;"ticket"in t&&t.ticket&&n?.kanban?.ticketBaseUrl&&(m=n?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),g=l.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",m).attr("target","_blank"));const y={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let _,b;g?{label:_,bbox:b}=await m_(g,"ticket"in t&&t.ticket||"",y):{label:_,bbox:b}=await m_(l,"ticket"in t&&t.ticket||"",y);const{label:w,bbox:S}=await m_(l,"assigned"in t&&t.assigned||"",y);t.width=o;const E=10,C=t?.width||0,D=Math.max(b.height,S.height)/2,R=Math.max(u.height+E*2,t?.height||0)+D,U=-C/2,N=-R/2;h.attr("transform","translate("+(f-C/2)+", "+(-D-u.height/2)+")"),_.attr("transform","translate("+(f-C/2)+", "+(-D+u.height/2)+")"),w.attr("transform","translate("+(f+C/2-S.width-2*a)+", "+(-D+u.height/2)+")");let P;const{rx:$,ry:X}=t,{cssStyles:V}=t;if(t.look==="handDrawn"){const I=Ut.svg(l),G=qt(t,{}),k=$||X?I.path(Do(U,N,C,R,$||0),G):I.rectangle(U,N,C,R,G);P=l.insert(()=>k,":first-child"),P.attr("class","basic label-container").attr("style",V||null)}else{P=l.insert("rect",":first-child"),P.attr("class","basic label-container __APA__").attr("style",s).attr("rx",$??5).attr("ry",X??5).attr("x",U).attr("y",N).attr("width",C).attr("height",R);const I="priority"in t&&t.priority;if(I){const G=l.append("line"),k=U+2,H=N+Math.floor(($??0)/2),M=N+R-Math.floor(($??0)/2);G.attr("x1",k).attr("y1",H).attr("x2",k).attr("y2",M).attr("stroke-width","4").attr("stroke",bG(I))}}return Pt(t,P),t.height=R,t.intersect=function(I){return Mt.rect(t,I)},l}T(qI,"kanbanItem");async function zI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,halfPadding:o,label:l}=await se(e,t,Qt(t)),u=a.width+10*o,h=a.height+8*o,f=.15*u,{cssStyles:m}=t,g=a.width+20,y=a.height+20,_=Math.max(u,g),b=Math.max(h,y);l.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`);let w;const S=`M0 0 
    a${f},${f} 1 0,0 ${_*.25},${-1*b*.1}
    a${f},${f} 1 0,0 ${_*.25},0
    a${f},${f} 1 0,0 ${_*.25},0
    a${f},${f} 1 0,0 ${_*.25},${b*.1}

    a${f},${f} 1 0,0 ${_*.15},${b*.33}
    a${f*.8},${f*.8} 1 0,0 0,${b*.34}
    a${f},${f} 1 0,0 ${-1*_*.15},${b*.33}

    a${f},${f} 1 0,0 ${-1*_*.25},${b*.15}
    a${f},${f} 1 0,0 ${-1*_*.25},0
    a${f},${f} 1 0,0 ${-1*_*.25},0
    a${f},${f} 1 0,0 ${-1*_*.25},${-1*b*.15}

    a${f},${f} 1 0,0 ${-1*_*.1},${-1*b*.33}
    a${f*.8},${f*.8} 1 0,0 0,${-1*b*.34}
    a${f},${f} 1 0,0 ${_*.1},${-1*b*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const E=Ut.svg(s),C=qt(t,{}),D=E.path(S,C);w=s.insert(()=>D,":first-child"),w.attr("class","basic label-container").attr("style",Di(m))}else w=s.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",S);return w.attr("transform",`translate(${-_/2}, ${-b/2})`),Pt(t,w),t.calcIntersect=function(E,C){return Mt.rect(E,C)},t.intersect=function(E){return wt.info("Bang intersect",t,E),Mt.rect(t,E)},s}T(zI,"bang");async function PI(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,halfPadding:o,label:l}=await se(e,t,Qt(t)),u=a.width+2*o,h=a.height+2*o,f=.15*u,m=.25*u,g=.35*u,y=.2*u,{cssStyles:_}=t;let b;const w=`M0 0 
    a${f},${f} 0 0,1 ${u*.25},${-1*u*.1}
    a${g},${g} 1 0,1 ${u*.4},${-1*u*.1}
    a${m},${m} 1 0,1 ${u*.35},${u*.2}

    a${f},${f} 1 0,1 ${u*.15},${h*.35}
    a${y},${y} 1 0,1 ${-1*u*.15},${h*.65}

    a${m},${f} 1 0,1 ${-1*u*.25},${u*.15}
    a${g},${g} 1 0,1 ${-1*u*.5},0
    a${f},${f} 1 0,1 ${-1*u*.25},${-1*u*.15}

    a${f},${f} 1 0,1 ${-1*u*.1},${-1*h*.35}
    a${y},${y} 1 0,1 ${u*.1},${-1*h*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const S=Ut.svg(s),E=qt(t,{}),C=S.path(w,E);b=s.insert(()=>C,":first-child"),b.attr("class","basic label-container").attr("style",Di(_))}else b=s.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",w);return l.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),b.attr("transform",`translate(${-u/2}, ${-h/2})`),Pt(t,b),t.calcIntersect=function(S,E){return Mt.rect(S,E)},t.intersect=function(S){return wt.info("Cloud intersect",t,S),Mt.rect(t,S)},s}T(PI,"cloud");async function $I(e,t){const{labelStyles:n,nodeStyles:i}=zt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,halfPadding:o,label:l}=await se(e,t,Qt(t)),u=a.width+8*o,h=a.height+2*o,f=5,m=`
    M${-u/2} ${h/2-f}
    v${-h+2*f}
    q0,-${f} ${f},-${f}
    h${u-2*f}
    q${f},0 ${f},${f}
    v${h-2*f}
    q0,${f} -${f},${f}
    h${-u+2*f}
    q-${f},0 -${f},-${f}
    Z
  `,g=s.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",i).attr("d",m);return s.append("line").attr("class","node-line-").attr("x1",-u/2).attr("y1",h/2).attr("x2",u/2).attr("y2",h/2),l.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),s.append(()=>l.node()),Pt(t,g),t.calcIntersect=function(y,_){return Mt.rect(y,_)},t.intersect=function(y){return Mt.rect(t,y)},s}T($I,"defaultMindmapNode");async function HI(e,t){const n={padding:t.padding??0};return C1(e,t,n)}T(HI,"mindmapCircle");var _G=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:vI},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:yI},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:xI},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:TI},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:jN},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:C1},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:zI},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:PI},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:pI},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:QN},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:oI},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:rI},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:LI},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:sI},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:YN},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:AI},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:BN},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:bI},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:EI},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:SI},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:XN},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:KN},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:zN},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:PN},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:$N},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:lI},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:MI},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:ZN},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:RI},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:cI},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:HN},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:WN},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:OI},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:II},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:GN},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:DI},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:VN},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:_I},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:dI},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:hI},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:IN},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:qN},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:CI},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:kI},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:NI},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:mI},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:uI}],vG=T(()=>{const t=[...Object.entries({state:wI,choice:FN,note:fI,rectWithTitle:gI,labelRect:aI,iconSquare:nI,iconCircle:tI,icon:JN,iconRounded:eI,imageSquare:iI,anchor:NN,kanbanItem:qI,mindmapCircle:HI,defaultMindmapNode:$I,classBox:FI,erBox:A1,requirementBox:UI}),..._G.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(s=>[s,n.handler]))];return Object.fromEntries(t)},"generateShapeMap"),jI=vG();function xG(e){return e in jI}T(xG,"isValidShape");var yy=new Map;async function WI(e,t,n){let i,s;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const a=t.shape?jI[t.shape]:void 0;if(!a)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;n.config.securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),s=await a(i,t,n)}else s=await a(e,t,n),i=s;return t.tooltip&&s.attr("title",t.tooltip),yy.set(t.id,i),t.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}T(WI,"insertNode");var dit=T((e,t)=>{yy.set(t.id,e)},"setNodeElem"),fit=T(()=>{yy.clear()},"clear"),pit=T(e=>{const t=yy.get(e.id);wt.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const n=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-n)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode"),wG=T((e,t,n,i,s,a)=>{t.arrowTypeStart&&Pk(e,"start",t.arrowTypeStart,n,i,s,a),t.arrowTypeEnd&&Pk(e,"end",t.arrowTypeEnd,n,i,s,a)},"addEdgeMarkers"),SG={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},Pk=T((e,t,n,i,s,a,o)=>{const l=SG[n];if(!l){wt.warn(`Unknown arrow type: ${n}`);return}const u=l.type,f=`${s}_${a}-${u}${t==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const m=o.replace(/[^\dA-Za-z]/g,"_"),g=`${f}_${m}`;if(!document.getElementById(g)){const y=document.getElementById(f);if(y){const _=y.cloneNode(!0);_.id=g,_.querySelectorAll("path, circle, line").forEach(w=>{w.setAttribute("stroke",o),l.fill&&w.setAttribute("fill",o)}),y.parentNode?.appendChild(_)}}e.attr(`marker-${t}`,`url(${i}#${g})`)}else e.attr(`marker-${t}`,`url(${i}#${f})`)},"addEdgeMarker"),Og=new Map,vi=new Map,mit=T(()=>{Og.clear(),vi.clear()},"clear"),Cp=T(e=>e?e.reduce((n,i)=>n+";"+i,""):"","getLabelStyles"),EG=T(async(e,t)=>{let n=li(Je().flowchart.htmlLabels);const{labelStyles:i}=zt(t);t.labelStyle=i;const s=await Lo(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});wt.info("abc82",t,t.labelType);const a=e.insert("g").attr("class","edgeLabel"),o=a.insert("g").attr("class","label").attr("data-id",t.id);o.node().appendChild(s);let l=s.getBBox();if(n){const h=s.children[0],f=ze(s);l=h.getBoundingClientRect(),f.attr("width",l.width),f.attr("height",l.height)}o.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),Og.set(t.id,a),t.width=l.width,t.height=l.height;let u;if(t.startLabelLeft){const h=await ul(t.startLabelLeft,Cp(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),m=f.insert("g").attr("class","inner");u=m.node().appendChild(h);const g=h.getBBox();m.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),vi.get(t.id)||vi.set(t.id,{}),vi.get(t.id).startLeft=f,Yh(u,t.startLabelLeft)}if(t.startLabelRight){const h=await ul(t.startLabelRight,Cp(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),m=f.insert("g").attr("class","inner");u=f.node().appendChild(h),m.node().appendChild(h);const g=h.getBBox();m.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),vi.get(t.id)||vi.set(t.id,{}),vi.get(t.id).startRight=f,Yh(u,t.startLabelRight)}if(t.endLabelLeft){const h=await ul(t.endLabelLeft,Cp(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),m=f.insert("g").attr("class","inner");u=m.node().appendChild(h);const g=h.getBBox();m.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),f.node().appendChild(h),vi.get(t.id)||vi.set(t.id,{}),vi.get(t.id).endLeft=f,Yh(u,t.endLabelLeft)}if(t.endLabelRight){const h=await ul(t.endLabelRight,Cp(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),m=f.insert("g").attr("class","inner");u=m.node().appendChild(h);const g=h.getBBox();m.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),f.node().appendChild(h),vi.get(t.id)||vi.set(t.id,{}),vi.get(t.id).endRight=f,Yh(u,t.endLabelRight)}return s},"insertEdgeLabel");function Yh(e,t){Je().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}T(Yh,"setTerminalWidth");var TG=T((e,t)=>{wt.debug("Moving label abc88 ",e.id,e.label,Og.get(e.id),t);let n=t.updatedPath?t.updatedPath:t.originalPath;const i=Je(),{subGraphTitleTotalMargin:s}=s1(i);if(e.label){const a=Og.get(e.id);let o=e.x,l=e.y;if(n){const u=ra.calcLabelPosition(n);wt.debug("Moving label "+e.label+" from (",o,",",l,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(o=u.x,l=u.y)}a.attr("transform",`translate(${o}, ${l+s/2})`)}if(e.startLabelLeft){const a=vi.get(e.id).startLeft;let o=e.x,l=e.y;if(n){const u=ra.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);o=u.x,l=u.y}a.attr("transform",`translate(${o}, ${l})`)}if(e.startLabelRight){const a=vi.get(e.id).startRight;let o=e.x,l=e.y;if(n){const u=ra.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);o=u.x,l=u.y}a.attr("transform",`translate(${o}, ${l})`)}if(e.endLabelLeft){const a=vi.get(e.id).endLeft;let o=e.x,l=e.y;if(n){const u=ra.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);o=u.x,l=u.y}a.attr("transform",`translate(${o}, ${l})`)}if(e.endLabelRight){const a=vi.get(e.id).endRight;let o=e.x,l=e.y;if(n){const u=ra.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);o=u.x,l=u.y}a.attr("transform",`translate(${o}, ${l})`)}},"positionEdgeLabel"),kG=T((e,t)=>{const n=e.x,i=e.y,s=Math.abs(t.x-n),a=Math.abs(t.y-i),o=e.width/2,l=e.height/2;return s>=o||a>=l},"outsideNode"),CG=T((e,t,n)=>{wt.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const i=e.x,s=e.y,a=Math.abs(i-n.x),o=e.width/2;let l=n.x<t.x?o-a:o+a;const u=e.height/2,h=Math.abs(t.y-n.y),f=Math.abs(t.x-n.x);if(Math.abs(s-t.y)*o>Math.abs(i-t.x)*u){let m=n.y<t.y?t.y-u-s:s-u-t.y;l=f*m/h;const g={x:n.x<t.x?n.x+l:n.x-f+l,y:n.y<t.y?n.y+h-m:n.y-h+m};return l===0&&(g.x=t.x,g.y=t.y),f===0&&(g.x=t.x),h===0&&(g.y=t.y),wt.debug(`abc89 top/bottom calc, Q ${h}, q ${m}, R ${f}, r ${l}`,g),g}else{n.x<t.x?l=t.x-o-i:l=i-o-t.x;let m=h*l/f,g=n.x<t.x?n.x+f-l:n.x-f+l,y=n.y<t.y?n.y+m:n.y-m;return wt.debug(`sides calc abc89, Q ${h}, q ${m}, R ${f}, r ${l}`,{_x:g,_y:y}),l===0&&(g=t.x,y=t.y),f===0&&(g=t.x),h===0&&(y=t.y),{x:g,y}}},"intersection"),$k=T((e,t)=>{wt.warn("abc88 cutPathAtIntersect",e,t);let n=[],i=e[0],s=!1;return e.forEach(a=>{if(wt.info("abc88 checking point",a,t),!kG(t,a)&&!s){const o=CG(t,i,a);wt.debug("abc88 inside",a,i,o),wt.debug("abc88 intersection",o,t);let l=!1;n.forEach(u=>{l=l||u.x===o.x&&u.y===o.y}),n.some(u=>u.x===o.x&&u.y===o.y)?wt.warn("abc88 no intersect",o,n):n.push(o),s=!0}else wt.warn("abc88 outside",a,i),i=a,s||n.push(a)}),wt.debug("returning points",n),n},"cutPathAtIntersect");function YI(e){const t=[],n=[];for(let i=1;i<e.length-1;i++){const s=e[i-1],a=e[i],o=e[i+1];(s.x===a.x&&a.y===o.y&&Math.abs(a.x-o.x)>5&&Math.abs(a.y-s.y)>5||s.y===a.y&&a.x===o.x&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-o.y)>5)&&(t.push(a),n.push(i))}return{cornerPoints:t,cornerPointPositions:n}}T(YI,"extractCornerPoints");var Hk=T(function(e,t,n){const i=t.x-e.x,s=t.y-e.y,a=Math.sqrt(i*i+s*s),o=n/a;return{x:t.x-o*i,y:t.y-o*s}},"findAdjacentPoint"),AG=T(function(e){const{cornerPointPositions:t}=YI(e),n=[];for(let i=0;i<e.length;i++)if(t.includes(i)){const s=e[i-1],a=e[i+1],o=e[i],l=Hk(s,o,5),u=Hk(a,o,5),h=u.x-l.x,f=u.y-l.y;n.push(l);const m=Math.sqrt(2)*2;let g={x:o.x,y:o.y};if(Math.abs(a.x-s.x)>10&&Math.abs(a.y-s.y)>=10){wt.debug("Corner point fixing",Math.abs(a.x-s.x),Math.abs(a.y-s.y));const y=5;o.x===l.x?g={x:h<0?l.x-y+m:l.x+y-m,y:f<0?l.y-m:l.y+m}:g={x:h<0?l.x-m:l.x+m,y:f<0?l.y-y+m:l.y+y-m}}else wt.debug("Corner point skipping fixing",Math.abs(a.x-s.x),Math.abs(a.y-s.y));n.push(g,u)}else n.push(e[i]);return n},"fixCorners"),RG=T((e,t,n)=>{const i=e-t-n,s=2,a=2,o=s+a,l=Math.floor(i/o),u=Array(l).fill(`${s} ${a}`).join(" ");return`0 ${t} ${u} ${n}`},"generateDashArray"),LG=T(function(e,t,n,i,s,a,o,l=!1){const{handDrawnSeed:u}=Je();let h=t.points,f=!1;const m=s;var g=a;const y=[];for(const k in t.cssCompiledStyles)SM(k)||y.push(t.cssCompiledStyles[k]);wt.debug("UIO intersect check",t.points,g.x,m.x),g.intersect&&m.intersect&&!l&&(h=h.slice(1,t.points.length-1),h.unshift(m.intersect(h[0])),wt.debug("Last point UIO",t.start,"-->",t.end,h[h.length-1],g,g.intersect(h[h.length-1])),h.push(g.intersect(h[h.length-1])));const _=btoa(JSON.stringify(h));t.toCluster&&(wt.info("to cluster abc88",n.get(t.toCluster)),h=$k(t.points,n.get(t.toCluster).node),f=!0),t.fromCluster&&(wt.debug("from cluster abc88",n.get(t.fromCluster),JSON.stringify(h,null,2)),h=$k(h.reverse(),n.get(t.fromCluster).node).reverse(),f=!0);let b=h.filter(k=>!Number.isNaN(k.y));b=AG(b);let w=hm;switch(w=cg,t.curve){case"linear":w=cg;break;case"basis":w=hm;break;case"cardinal":w=CD;break;case"bumpX":w=wD;break;case"bumpY":w=SD;break;case"catmullRom":w=RD;break;case"monotoneX":w=ID;break;case"monotoneY":w=BD;break;case"natural":w=UD;break;case"step":w=qD;break;case"stepAfter":w=PD;break;case"stepBefore":w=zD;break;default:w=hm}const{x:S,y:E}=AH(t),C=h$().x(S).y(E).curve(w);let D;switch(t.thickness){case"normal":D="edge-thickness-normal";break;case"thick":D="edge-thickness-thick";break;case"invisible":D="edge-thickness-invisible";break;default:D="edge-thickness-normal"}switch(t.pattern){case"solid":D+=" edge-pattern-solid";break;case"dotted":D+=" edge-pattern-dotted";break;case"dashed":D+=" edge-pattern-dashed";break;default:D+=" edge-pattern-solid"}let R,U=t.curve==="rounded"?GI(VI(b,t),5):C(b);const N=Array.isArray(t.style)?t.style:[t.style];let P=N.find(k=>k?.startsWith("stroke:")),$=!1;if(t.look==="handDrawn"){const k=Ut.svg(e);Object.assign([],b);const H=k.path(U,{roughness:.3,seed:u});D+=" transition",R=ze(H).select("path").attr("id",t.id).attr("class"," "+D+(t.classes?" "+t.classes:"")).attr("style",N?N.reduce((B,W)=>B+";"+W,""):"");let M=R.attr("d");R.attr("d",M),e.node().appendChild(R.node())}else{const k=y.join(";"),H=N?N.reduce((q,tt)=>q+tt+";",""):"";let M="";t.animate&&(M=" edge-animation-fast"),t.animation&&(M=" edge-animation-"+t.animation);const B=(k?k+";"+H+";":H)+";"+(N?N.reduce((q,tt)=>q+";"+tt,""):"");R=e.append("path").attr("d",U).attr("id",t.id).attr("class"," "+D+(t.classes?" "+t.classes:"")+(M??"")).attr("style",B),P=B.match(/stroke:([^;]+)/)?.[1],$=t.animate===!0||!!t.animation||k.includes("animation");const W=R.node(),Z=typeof W.getTotalLength=="function"?W.getTotalLength():0,rt=ak[t.arrowTypeStart]||0,O=ak[t.arrowTypeEnd]||0;if(t.look==="neo"&&!$){const tt=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?RG(Z,rt,O):`0 ${rt} ${Z-rt-O} ${O}`}; stroke-dashoffset: 0;`;R.attr("style",tt+R.attr("style"))}}R.attr("data-edge",!0),R.attr("data-et","edge"),R.attr("data-id",t.id),R.attr("data-points",_),t.showPoints&&b.forEach(k=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",k.x).attr("cy",k.y)});let X="";(Je().flowchart.arrowMarkerAbsolute||Je().state.arrowMarkerAbsolute)&&(X=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,X=X.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),wt.info("arrowTypeStart",t.arrowTypeStart),wt.info("arrowTypeEnd",t.arrowTypeEnd),wG(R,t,X,o,i,P);const V=Math.floor(h.length/2),I=h[V];ra.isLabelCoordinateInPath(I,R.attr("d"))||(f=!0);let G={};return f&&(G.updatedPath=h),G.originalPath=t.points,G},"insertEdge");function GI(e,t){if(e.length<2)return"";let n="";const i=e.length,s=1e-5;for(let a=0;a<i;a++){const o=e[a],l=e[a-1],u=e[a+1];if(a===0)n+=`M${o.x},${o.y}`;else if(a===i-1)n+=`L${o.x},${o.y}`;else{const h=o.x-l.x,f=o.y-l.y,m=u.x-o.x,g=u.y-o.y,y=Math.hypot(h,f),_=Math.hypot(m,g);if(y<s||_<s){n+=`L${o.x},${o.y}`;continue}const b=h/y,w=f/y,S=m/_,E=g/_,C=b*S+w*E,D=Math.max(-1,Math.min(1,C)),R=Math.acos(D);if(R<s||Math.abs(Math.PI-R)<s){n+=`L${o.x},${o.y}`;continue}const U=Math.min(t/Math.sin(R/2),y/2,_/2),N=o.x-b*U,P=o.y-w*U,$=o.x+S*U,X=o.y+E*U;n+=`L${N},${P}`,n+=`Q${o.x},${o.y} ${$},${X}`}}return n}T(GI,"generateRoundedPath");function zv(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const n=t.x-e.x,i=t.y-e.y;return{angle:Math.atan2(i,n),deltaX:n,deltaY:i}}T(zv,"calculateDeltaAndAngle");function VI(e,t){const n=e.map(s=>({...s}));if(e.length>=2&&Ei[t.arrowTypeStart]){const s=Ei[t.arrowTypeStart],a=e[0],o=e[1],{angle:l}=zv(a,o),u=s*Math.cos(l),h=s*Math.sin(l);n[0].x=a.x+u,n[0].y=a.y+h}const i=e.length;if(i>=2&&Ei[t.arrowTypeEnd]){const s=Ei[t.arrowTypeEnd],a=e[i-1],o=e[i-2],{angle:l}=zv(o,a),u=s*Math.cos(l),h=s*Math.sin(l);n[i-1].x=a.x-u,n[i-1].y=a.y-h}return n}T(VI,"applyMarkerOffsetsToPoints");var DG=T((e,t,n,i)=>{t.forEach(s=>{GG[s](e,n,i)})},"insertMarkers"),OG=T((e,t,n)=>{wt.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),MG=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),NG=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),IG=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),BG=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),FG=T((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),UG=T((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),qG=T((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),zG=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),PG=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),$G=T((e,t,n)=>{const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");const s=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),s.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),HG=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),jG=T((e,t,n)=>{const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const s=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),s.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),WG=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),YG=T((e,t,n)=>{const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),GG={extension:OG,composition:MG,aggregation:NG,dependency:IG,lollipop:BG,point:FG,circle:UG,cross:qG,barb:zG,only_one:PG,zero_or_one:$G,one_or_more:HG,zero_or_more:jG,requirement_arrow:WG,requirement_contains:YG},VG=DG,XG={common:mu,getConfig:Ri,insertCluster:iG,insertEdge:LG,insertEdgeLabel:EG,insertMarkers:VG,insertNode:WI,interpolateToCurve:c1,labelHelper:se,log:wt,positionEdgeLabel:TG},Ed={},XI=T(e=>{for(const t of e)Ed[t.name]=t},"registerLayoutLoaders"),ZG=T(()=>{XI([{name:"dagre",loader:T(async()=>await en(()=>import("./dagre-6UL2VRFP-nMWgZPsS.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:T(async()=>await en(()=>import("./cose-bilkent-S5V4N54A-DJThbAsb.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");ZG();var git=T(async(e,t)=>{if(!(e.layoutAlgorithm in Ed))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const n=Ed[e.layoutAlgorithm];return(await n.loader()).render(e,t,XG,{algorithm:n.algorithm})},"render"),yit=T((e="",{fallback:t="dagre"}={})=>{if(e in Ed)return e;if(t in Ed)return wt.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),ZI="comm",QI="rule",KI="decl",QG="@import",KG="@namespace",JG="@keyframes",tV="@layer",JI=Math.abs,R1=String.fromCharCode;function t3(e){return e.trim()}function gm(e,t,n){return e.replace(t,n)}function eV(e,t,n){return e.indexOf(t,n)}function qc(e,t){return e.charCodeAt(t)|0}function lu(e,t,n){return e.slice(t,n)}function Aa(e){return e.length}function nV(e){return e.length}function Ap(e,t){return t.push(e),e}var by=1,cu=1,e3=0,Gs=0,Qn=0,vu="";function L1(e,t,n,i,s,a,o,l){return{value:e,root:t,parent:n,type:i,props:s,children:a,line:by,column:cu,length:o,return:"",siblings:l}}function iV(){return Qn}function sV(){return Qn=Gs>0?qc(vu,--Gs):0,cu--,Qn===10&&(cu=1,by--),Qn}function ua(){return Qn=Gs<e3?qc(vu,Gs++):0,cu++,Qn===10&&(cu=1,by++),Qn}function uo(){return qc(vu,Gs)}function ym(){return Gs}function _y(e,t){return lu(vu,e,t)}function Td(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function aV(e){return by=cu=1,e3=Aa(vu=e),Gs=0,[]}function rV(e){return vu="",e}function g_(e){return t3(_y(Gs-1,Pv(e===91?e+2:e===40?e+1:e)))}function oV(e){for(;(Qn=uo())&&Qn<33;)ua();return Td(e)>2||Td(Qn)>3?"":" "}function lV(e,t){for(;--t&&ua()&&!(Qn<48||Qn>102||Qn>57&&Qn<65||Qn>70&&Qn<97););return _y(e,ym()+(t<6&&uo()==32&&ua()==32))}function Pv(e){for(;ua();)switch(Qn){case e:return Gs;case 34:case 39:e!==34&&e!==39&&Pv(Qn);break;case 40:e===41&&Pv(e);break;case 92:ua();break}return Gs}function cV(e,t){for(;ua()&&e+Qn!==57;)if(e+Qn===84&&uo()===47)break;return"/*"+_y(t,Gs-1)+"*"+R1(e===47?e:ua())}function uV(e){for(;!Td(uo());)ua();return _y(e,Gs)}function hV(e){return rV(bm("",null,null,null,[""],e=aV(e),0,[0],e))}function bm(e,t,n,i,s,a,o,l,u){for(var h=0,f=0,m=o,g=0,y=0,_=0,b=1,w=1,S=1,E=0,C="",D=s,R=a,U=i,N=C;w;)switch(_=E,E=ua()){case 40:if(_!=108&&qc(N,m-1)==58){eV(N+=gm(g_(E),"&","&\f"),"&\f",JI(h?l[h-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:N+=g_(E);break;case 9:case 10:case 13:case 32:N+=oV(_);break;case 92:N+=lV(ym()-1,7);continue;case 47:switch(uo()){case 42:case 47:Ap(dV(cV(ua(),ym()),t,n,u),u),(Td(_||1)==5||Td(uo()||1)==5)&&Aa(N)&&lu(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*b:l[h++]=Aa(N)*S;case 125*b:case 59:case 0:switch(E){case 0:case 125:w=0;case 59+f:S==-1&&(N=gm(N,/\f/g,"")),y>0&&(Aa(N)-m||b===0&&_===47)&&Ap(y>32?Wk(N+";",i,n,m-1,u):Wk(gm(N," ","")+";",i,n,m-2,u),u);break;case 59:N+=";";default:if(Ap(U=jk(N,t,n,h,f,s,l,C,D=[],R=[],m,a),a),E===123)if(f===0)bm(N,t,U,U,D,a,m,l,R);else{switch(g){case 99:if(qc(N,3)===110)break;case 108:if(qc(N,2)===97)break;default:f=0;case 100:case 109:case 115:}f?bm(e,U,U,i&&Ap(jk(e,U,U,0,0,s,l,C,s,D=[],m,R),R),s,R,m,l,i?D:R):bm(N,U,U,U,[""],R,0,l,R)}}h=f=y=0,b=S=1,C=N="",m=o;break;case 58:m=1+Aa(N),y=_;default:if(b<1){if(E==123)--b;else if(E==125&&b++==0&&sV()==125)continue}switch(N+=R1(E),E*b){case 38:S=f>0?1:(N+="\f",-1);break;case 44:l[h++]=(Aa(N)-1)*S,S=1;break;case 64:uo()===45&&(N+=g_(ua())),g=uo(),f=m=Aa(C=N+=uV(ym())),E++;break;case 45:_===45&&Aa(N)==2&&(b=0)}}return a}function jk(e,t,n,i,s,a,o,l,u,h,f,m){for(var g=s-1,y=s===0?a:[""],_=nV(y),b=0,w=0,S=0;b<i;++b)for(var E=0,C=lu(e,g+1,g=JI(w=o[b])),D=e;E<_;++E)(D=t3(w>0?y[E]+" "+C:gm(C,/&\f/g,y[E])))&&(u[S++]=D);return L1(e,t,n,s===0?QI:l,u,h,f,m)}function dV(e,t,n,i){return L1(e,t,n,ZI,R1(iV()),lu(e,2,-2),0,i)}function Wk(e,t,n,i,s){return L1(e,t,n,KI,lu(e,0,i),lu(e,i+1,-1),i,s)}function $v(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function fV(e,t,n,i){switch(e.type){case tV:if(e.children.length)break;case QG:case KG:case KI:return e.return=e.return||e.value;case ZI:return"";case JG:return e.return=e.value+"{"+$v(e.children,i)+"}";case QI:if(!Aa(e.value=e.props.join(",")))return""}return Aa(n=$v(e.children,i))?e.return=e.value+"{"+n+"}":""}var pV=CM(Object.keys,Object),mV=Object.prototype,gV=mV.hasOwnProperty;function yV(e){if(!ly(e))return pV(e);var t=[];for(var n in Object(e))gV.call(e,n)&&n!="constructor"&&t.push(n);return t}var Hv=Ll($a,"DataView"),jv=Ll($a,"Promise"),Wv=Ll($a,"Set"),Yv=Ll($a,"WeakMap"),Yk="[object Map]",bV="[object Object]",Gk="[object Promise]",Vk="[object Set]",Xk="[object WeakMap]",Zk="[object DataView]",_V=Rl(Hv),vV=Rl(wd),xV=Rl(jv),wV=Rl(Wv),SV=Rl(Yv),nl=yu;(Hv&&nl(new Hv(new ArrayBuffer(1)))!=Zk||wd&&nl(new wd)!=Yk||jv&&nl(jv.resolve())!=Gk||Wv&&nl(new Wv)!=Vk||Yv&&nl(new Yv)!=Xk)&&(nl=function(e){var t=yu(e),n=t==bV?e.constructor:void 0,i=n?Rl(n):"";if(i)switch(i){case _V:return Zk;case vV:return Yk;case xV:return Gk;case wV:return Vk;case SV:return Xk}return t});var EV="[object Map]",TV="[object Set]",kV=Object.prototype,CV=kV.hasOwnProperty;function Qk(e){if(e==null)return!0;if(cy(e)&&(wg(e)||typeof e=="string"||typeof e.splice=="function"||o1(e)||l1(e)||xg(e)))return!e.length;var t=nl(e);if(t==EV||t==TV)return!e.size;if(ly(e))return!yV(e).length;for(var n in e)if(CV.call(e,n))return!1;return!0}var n3="c4",AV=T(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),RV=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-BwWI3aRj.js");return{diagram:t}},__vite__mapDeps([8,9]));return{id:n3,diagram:e}},"loader"),LV={id:n3,detector:AV,loader:RV},DV=LV,i3="flowchart",OV=T((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),MV=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-Sn0J7sEc.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:i3,diagram:e}},"loader"),NV={id:i3,detector:OV,loader:MV},IV=NV,s3="flowchart-v2",BV=T((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),FV=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-Sn0J7sEc.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:s3,diagram:e}},"loader"),UV={id:s3,detector:BV,loader:FV},qV=UV,a3="er",zV=T(e=>/^\s*erDiagram/.test(e),"detector"),PV=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-CHcPgKbw.js");return{diagram:t}},__vite__mapDeps([15,12,13,14]));return{id:a3,diagram:e}},"loader"),$V={id:a3,detector:zV,loader:PV},HV=$V,r3="gitGraph",jV=T(e=>/^\s*gitGraph/.test(e),"detector"),WV=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-Cd-Bl686.js");return{diagram:t}},__vite__mapDeps([16,17,18,19,4,2]));return{id:r3,diagram:e}},"loader"),YV={id:r3,detector:jV,loader:WV},GV=YV,o3="gantt",VV=T(e=>/^\s*gantt/.test(e),"detector"),XV=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./ganttDiagram-JELNMOA3-DF2XN3NM.js");return{diagram:t}},__vite__mapDeps([20,21,22,23]));return{id:o3,diagram:e}},"loader"),ZV={id:o3,detector:VV,loader:XV},QV=ZV,l3="info",KV=T(e=>/^\s*info/.test(e),"detector"),JV=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./infoDiagram-WHAUD3N6-DJLN1J7Z.js");return{diagram:t}},__vite__mapDeps([24,19,4,2]));return{id:l3,diagram:e}},"loader"),tX={id:l3,detector:KV,loader:JV},c3="pie",eX=T(e=>/^\s*pie/.test(e),"detector"),nX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-Dx4ewVqg.js");return{diagram:t}},__vite__mapDeps([25,17,19,4,2,26,27,22]));return{id:c3,diagram:e}},"loader"),iX={id:c3,detector:eX,loader:nX},u3="quadrantChart",sX=T(e=>/^\s*quadrantChart/.test(e),"detector"),aX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-zPLw31FD.js");return{diagram:t}},__vite__mapDeps([28,21,22,23]));return{id:u3,diagram:e}},"loader"),rX={id:u3,detector:sX,loader:aX},oX=rX,h3="xychart",lX=T(e=>/^\s*xychart(-beta)?/.test(e),"detector"),cX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-wlagjRba.js");return{diagram:t}},__vite__mapDeps([29,22,27,21,23]));return{id:h3,diagram:e}},"loader"),uX={id:h3,detector:lX,loader:cX},hX=uX,d3="requirement",dX=T(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),fX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-C-1QdVH1.js");return{diagram:t}},__vite__mapDeps([30,12,13]));return{id:d3,diagram:e}},"loader"),pX={id:d3,detector:dX,loader:fX},mX=pX,f3="sequence",gX=T(e=>/^\s*sequenceDiagram/.test(e),"detector"),yX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-DcfiU9wk.js");return{diagram:t}},__vite__mapDeps([31,9,18]));return{id:f3,diagram:e}},"loader"),bX={id:f3,detector:gX,loader:yX},_X=bX,p3="class",vX=T((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),xX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-DfiHCXc3.js");return{diagram:t}},__vite__mapDeps([32,33,11,12,13]));return{id:p3,diagram:e}},"loader"),wX={id:p3,detector:vX,loader:xX},SX=wX,m3="classDiagram",EX=T((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),TX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-DfiHCXc3.js");return{diagram:t}},__vite__mapDeps([34,33,11,12,13]));return{id:m3,diagram:e}},"loader"),kX={id:m3,detector:EX,loader:TX},CX=kX,g3="state",AX=T((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),RX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-CXtnl7Zh.js");return{diagram:t}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:g3,diagram:e}},"loader"),LX={id:g3,detector:AX,loader:RX},DX=LX,y3="stateDiagram",OX=T((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),MX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-DmuLxOKZ.js");return{diagram:t}},__vite__mapDeps([37,36,12,13]));return{id:y3,diagram:e}},"loader"),NX={id:y3,detector:OX,loader:MX},IX=NX,b3="journey",BX=T(e=>/^\s*journey/.test(e),"detector"),FX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-B_AnyZqt.js");return{diagram:t}},__vite__mapDeps([38,9,11,26]));return{id:b3,diagram:e}},"loader"),UX={id:b3,detector:BX,loader:FX},qX=UX,zX=T((e,t,n)=>{wt.debug(`rendering svg for syntax error
`);const i=v$(t),s=i.append("g");i.attr("viewBox","0 0 2412 512"),WL(i,100,512,!0),s.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),s.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),s.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),s.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),s.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),s.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),s.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),s.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),_3={draw:zX},PX=_3,$X={db:{},renderer:_3,parser:{parse:T(()=>{},"parse")}},HX=$X,v3="flowchart-elk",jX=T((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),WX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-Sn0J7sEc.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:v3,diagram:e}},"loader"),YX={id:v3,detector:jX,loader:WX},GX=YX,x3="timeline",VX=T(e=>/^\s*timeline/.test(e),"detector"),XX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-np713i43.js");return{diagram:t}},__vite__mapDeps([39,26]));return{id:x3,diagram:e}},"loader"),ZX={id:x3,detector:VX,loader:XX},QX=ZX,w3="mindmap",KX=T(e=>/^\s*mindmap/.test(e),"detector"),JX=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-CzrCnnLe.js");return{diagram:t}},__vite__mapDeps([40,12,13]));return{id:w3,diagram:e}},"loader"),tZ={id:w3,detector:KX,loader:JX},eZ=tZ,S3="kanban",nZ=T(e=>/^\s*kanban/.test(e),"detector"),iZ=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-D3MURNvT.js");return{diagram:t}},__vite__mapDeps([41,11]));return{id:S3,diagram:e}},"loader"),sZ={id:S3,detector:nZ,loader:iZ},aZ=sZ,E3="sankey",rZ=T(e=>/^\s*sankey(-beta)?/.test(e),"detector"),oZ=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-Dk4WeEq_.js");return{diagram:t}},__vite__mapDeps([42,27,22]));return{id:E3,diagram:e}},"loader"),lZ={id:E3,detector:rZ,loader:oZ},cZ=lZ,T3="packet",uZ=T(e=>/^\s*packet(-beta)?/.test(e),"detector"),hZ=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-C6YlEbTr.js");return{diagram:t}},__vite__mapDeps([43,17,19,4,2]));return{id:T3,diagram:e}},"loader"),dZ={id:T3,detector:uZ,loader:hZ},k3="radar",fZ=T(e=>/^\s*radar-beta/.test(e),"detector"),pZ=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-CnOVevAy.js");return{diagram:t}},__vite__mapDeps([44,17,19,4,2]));return{id:k3,diagram:e}},"loader"),mZ={id:k3,detector:fZ,loader:pZ},C3="block",gZ=T(e=>/^\s*block(-beta)?/.test(e),"detector"),yZ=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-CmrXDOg6.js");return{diagram:t}},__vite__mapDeps([45,11,5,1,2,14]));return{id:C3,diagram:e}},"loader"),bZ={id:C3,detector:gZ,loader:yZ},_Z=bZ,A3="architecture",vZ=T(e=>/^\s*architecture/.test(e),"detector"),xZ=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-DprLhXmx.js");return{diagram:t}},__vite__mapDeps([46,17,19,4,2,7]));return{id:A3,diagram:e}},"loader"),wZ={id:A3,detector:vZ,loader:xZ},SZ=wZ,R3="treemap",EZ=T(e=>/^\s*treemap/.test(e),"detector"),TZ=T(async()=>{const{diagram:e}=await en(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-kD4K6mEp.js");return{diagram:t}},__vite__mapDeps([47,13,17,19,4,2,23,27,22]));return{id:R3,diagram:e}},"loader"),kZ={id:R3,detector:EZ,loader:TZ},Kk=!1,vy=T(()=>{Kk||(Kk=!0,ng("error",HX,e=>e.toLowerCase().trim()==="error"),ng("---",{db:{clear:T(()=>{},"clear")},styles:{},renderer:{draw:T(()=>{},"draw")},parser:{parse:T(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:T(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),J_(GX,eZ,SZ),J_(DV,aZ,CX,SX,HV,QV,tX,iX,mX,_X,qV,IV,QX,GV,IX,DX,qX,oX,cZ,dZ,hX,_Z,mZ,kZ))},"addDiagrams"),CZ=T(async()=>{wt.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(bl).map(async([n,{detector:i,loader:s}])=>{if(s)try{iv(n)}catch{try{const{diagram:a,id:o}=await s();ng(o,a,i)}catch(a){throw wt.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete bl[n],a}}}))).filter(n=>n.status==="rejected");if(t.length>0){wt.error(`Failed to load ${t.length} external diagrams`);for(const n of t)wt.error(n);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),AZ="graphics-document document";function L3(e,t){e.attr("role",AZ),t!==""&&e.attr("aria-roledescription",t)}T(L3,"setA11yDiagramInfo");function D3(e,t,n,i){if(e.insert!==void 0){if(n){const s=`chart-desc-${i}`;e.attr("aria-describedby",s),e.insert("desc",":first-child").attr("id",s).text(n)}if(t){const s=`chart-title-${i}`;e.attr("aria-labelledby",s),e.insert("title",":first-child").attr("id",s).text(t)}}}T(D3,"addSVGa11yTitleDescription");var ml,Gv=(ml=class{constructor(t,n,i,s,a){this.type=t,this.text=n,this.db=i,this.parser=s,this.renderer=a}static async fromText(t,n={}){const i=Ri(),s=Ox(t,i);t=kW(t)+`
`;try{iv(s)}catch{const h=Zq(s);if(!h)throw new ML(`Diagram ${s} not found.`);const{id:f,diagram:m}=await h();ng(f,m)}const{db:a,parser:o,renderer:l,init:u}=iv(s);return o.parser&&(o.parser.yy=a),a.clear?.(),u?.(i),n.title&&a.setDiagramTitle?.(n.title),await o.parse(t),new ml(s,t,a,o,l)}async render(t,n){await this.renderer.draw(this.text,t,n,this)}getParser(){return this.parser}getType(){return this.type}},T(ml,"Diagram"),ml),Jk=[],RZ=T(()=>{Jk.forEach(e=>{e()}),Jk=[]},"attachFunctions"),LZ=T(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function O3(e){const t=e.match(OL);if(!t)return{text:e,metadata:{}};let n=CH(t[1],{schema:kH})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const i={};return n.displayMode&&(i.displayMode=n.displayMode.toString()),n.title&&(i.title=n.title.toString()),n.config&&(i.config=n.config),{text:e.slice(t[0].length),metadata:i}}T(O3,"extractFrontMatter");var DZ=T(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,n,i)=>"<"+n+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),OZ=T(e=>{const{text:t,metadata:n}=O3(e),{displayMode:i,title:s,config:a={}}=n;return i&&(a.gantt||(a.gantt={}),a.gantt.displayMode=i),{title:s,config:a,text:t}},"processFrontmatter"),MZ=T(e=>{const t=ra.detectInit(e)??{},n=ra.detectDirective(e,"wrap");return Array.isArray(n)?t.wrap=n.some(({type:i})=>i==="wrap"):n?.type==="wrap"&&(t.wrap=!0),{text:fW(e),directive:t}},"processDirectives");function D1(e){const t=DZ(e),n=OZ(t),i=MZ(n.text),s=p1(n.config,i.directive);return e=LZ(i.text),{code:e,title:n.title,config:s}}T(D1,"preprocessDiagram");function M3(e){const t=new TextEncoder().encode(e),n=Array.from(t,i=>String.fromCodePoint(i)).join("");return btoa(n)}T(M3,"toBase64");var NZ=5e4,IZ="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",BZ="sandbox",FZ="loose",UZ="http://www.w3.org/2000/svg",qZ="http://www.w3.org/1999/xlink",zZ="http://www.w3.org/1999/xhtml",PZ="100%",$Z="100%",HZ="border:0;margin:0;",jZ="margin:0",WZ="allow-top-navigation-by-user-activation allow-popups",YZ='The "iframe" tag is not supported by your browser.',GZ=["foreignobject"],VZ=["dominant-baseline"];function O1(e){const t=D1(e);return tg(),d8(t.config??{}),t}T(O1,"processAndSetConfigs");async function N3(e,t){vy();try{const{code:n,config:i}=O1(e);return{diagramType:(await B3(n)).type,config:i}}catch(n){if(t?.suppressErrors)return!1;throw n}}T(N3,"parse");var tC=T((e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),XZ=T((e,t=new Map)=>{let n="";if(e.themeCSS!==void 0&&(n+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const o=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(l=>{Qk(l.styles)||o.forEach(u=>{n+=tC(l.id,u,l.styles)}),Qk(l.textStyles)||(n+=tC(l.id,"tspan",(l?.textStyles||[]).map(u=>u.replace("color","fill"))))})}return n},"createCssStyles"),ZZ=T((e,t,n,i)=>{const s=XZ(e,n),a=O8(t,s,e.themeVariables);return $v(hV(`${i}{${a}}`),fV)},"createUserStyles"),QZ=T((e="",t,n)=>{let i=e;return!n&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=Dl(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),KZ=T((e="",t)=>{const n=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":$Z,i=M3(`<body style="${jZ}">${e}</body>`);return`<iframe style="width:${PZ};height:${n};${HZ}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${WZ}">
  ${YZ}
</iframe>`},"putIntoIFrame"),eC=T((e,t,n,i,s)=>{const a=e.append("div");a.attr("id",n),i&&a.attr("style",i);const o=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns",UZ);return s&&o.attr("xmlns:xlink",s),o.append("g"),e},"appendDivSvgG");function Vv(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}T(Vv,"sandboxedIframe");var JZ=T((e,t,n,i)=>{e.getElementById(t)?.remove(),e.getElementById(n)?.remove(),e.getElementById(i)?.remove()},"removeExistingElements"),tQ=T(async function(e,t,n){vy();const i=O1(t);t=i.code;const s=Ri();wt.debug(s),t.length>(s?.maxTextSize??NZ)&&(t=IZ);const a="#"+e,o="i"+e,l="#"+o,u="d"+e,h="#"+u,f=T(()=>{const G=ze(g?l:h).node();G&&"remove"in G&&G.remove()},"removeTempElements");let m=ze("body");const g=s.securityLevel===BZ,y=s.securityLevel===FZ,_=s.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),g){const I=Vv(ze(n),o);m=ze(I.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=ze(n);eC(m,e,u,`font-family: ${_}`,qZ)}else{if(JZ(document,e,u,o),g){const I=Vv(ze("body"),o);m=ze(I.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=ze("body");eC(m,e,u)}let b,w;try{b=await Gv.fromText(t,{title:i.title})}catch(I){if(s.suppressErrorRendering)throw f(),I;b=await Gv.fromText("error"),w=I}const S=m.select(h).node(),E=b.type,C=S.firstChild,D=C.firstChild,R=b.renderer.getClasses?.(t,b),U=ZZ(s,E,R,a),N=document.createElement("style");N.innerHTML=U,C.insertBefore(N,D);try{await b.renderer.draw(t,e,vT.version,b)}catch(I){throw s.suppressErrorRendering?f():PX.draw(t,e,vT.version),I}const P=m.select(`${h} svg`),$=b.db.getAccTitle?.(),X=b.db.getAccDescription?.();F3(E,P,$,X),m.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",zZ);let V=m.select(h).node().innerHTML;if(wt.debug("config.arrowMarkerAbsolute",s.arrowMarkerAbsolute),V=QZ(V,g,li(s.arrowMarkerAbsolute)),g){const I=m.select(h+" svg").node();V=KZ(V,I)}else y||(V=eu.sanitize(V,{ADD_TAGS:GZ,ADD_ATTR:VZ,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(RZ(),w)throw w;return f(),{diagramType:E,svg:V,bindFunctions:b.db.bindFunctions}},"render");function I3(e={}){const t=si({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),u8(t),t?.theme&&t.theme in Sr?t.themeVariables=Sr[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Sr.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?c8(t):UL();Dx(n.logLevel),vy()}T(I3,"initialize");var B3=T((e,t={})=>{const{code:n}=D1(e);return Gv.fromText(n,t)},"getDiagramFromText");function F3(e,t,n,i){L3(t,e),D3(t,n,i,t.attr("id"))}T(F3,"addA11yInfo");var El=Object.freeze({render:tQ,parse:N3,getDiagramFromText:B3,initialize:I3,getConfig:Ri,setConfig:qL,getSiteConfig:UL,updateSiteConfig:h8,reset:T(()=>{tg()},"reset"),globalReset:T(()=>{tg(nu)},"globalReset"),defaultConfig:nu});Dx(Ri().logLevel);tg(Ri());var eQ=T((e,t,n)=>{wt.warn(e),f1(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),U3=T(async function(e={querySelector:".mermaid"}){try{await nQ(e)}catch(t){if(f1(t)&&wt.error(t.str),Cr.parseError&&Cr.parseError(t),!e.suppressErrors)throw wt.error("Use the suppressErrors option to suppress these errors"),t}},"run"),nQ=T(async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const i=El.getConfig();wt.debug(`${e?"":"No "}Callback function found`);let s;if(n)s=n;else if(t)s=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");wt.debug(`Found ${s.length} diagrams`),i?.startOnLoad!==void 0&&(wt.debug("Start On Load: "+i?.startOnLoad),El.updateSiteConfig({startOnLoad:i?.startOnLoad}));const a=new ra.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let o;const l=[];for(const u of Array.from(s)){if(wt.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");const h=`mermaid-${a.next()}`;o=u.innerHTML,o=aN(ra.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const f=ra.detectInit(o);f&&wt.debug("Detected early reinit: ",f);try{const{svg:m,bindFunctions:g}=await $3(h,o,u);u.innerHTML=m,e&&await e(h),g&&g(u)}catch(m){eQ(m,l,Cr.parseError)}}if(l.length>0)throw l[0]},"runThrowsErrors"),q3=T(function(e){El.initialize(e)},"initialize"),iQ=T(async function(e,t,n){wt.warn("mermaid.init is deprecated. Please use run instead."),e&&q3(e);const i={postRenderCallback:n,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await U3(i)},"init"),sQ=T(async(e,{lazyLoad:t=!0}={})=>{vy(),J_(...e),t===!1&&await CZ()},"registerExternalDiagrams"),z3=T(function(){if(Cr.startOnLoad){const{startOnLoad:e}=El.getConfig();e&&Cr.run().catch(t=>wt.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",z3,!1);var aQ=T(function(e){Cr.parseError=e},"setParseErrorHandler"),Mg=[],y_=!1,P3=T(async()=>{if(!y_){for(y_=!0;Mg.length>0;){const e=Mg.shift();if(e)try{await e()}catch(t){wt.error("Error executing queue",t)}}y_=!1}},"executeQueue"),rQ=T(async(e,t)=>new Promise((n,i)=>{const s=T(()=>new Promise((a,o)=>{El.parse(e,t).then(l=>{a(l),n(l)},l=>{wt.error("Error parsing",l),Cr.parseError?.(l),o(l),i(l)})}),"performCall");Mg.push(s),P3().catch(i)}),"parse"),$3=T((e,t,n)=>new Promise((i,s)=>{const a=T(()=>new Promise((o,l)=>{El.render(e,t,n).then(u=>{o(u),i(u)},u=>{wt.error("Error parsing",u),Cr.parseError?.(u),l(u),s(u)})}),"performCall");Mg.push(a),P3().catch(s)}),"render"),oQ=T(()=>Object.keys(bl).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Cr={startOnLoad:!0,mermaidAPI:El,parse:rQ,render:$3,init:iQ,run:U3,registerExternalDiagrams:sQ,registerLayoutLoaders:XI,initialize:q3,parseError:void 0,contentLoaded:z3,setParseErrorHandler:aQ,detectType:Ox,registerIconPacks:LY,getRegisteredDiagramsMetadata:oQ},nC=Cr;function Vd(e){return e+.5|0}const ho=(e,t,n)=>Math.max(Math.min(e,n),t);function Gh(e){return ho(Vd(e*2.55),0,255)}function yo(e){return ho(Vd(e*255),0,255)}function _r(e){return ho(Vd(e/2.55)/100,0,1)}function iC(e){return ho(Vd(e*100),0,100)}const Bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Xv=[..."0123456789ABCDEF"],lQ=e=>Xv[e&15],cQ=e=>Xv[(e&240)>>4]+Xv[e&15],Rp=e=>(e&240)>>4===(e&15),uQ=e=>Rp(e.r)&&Rp(e.g)&&Rp(e.b)&&Rp(e.a);function hQ(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Bs[e[1]]*17,g:255&Bs[e[2]]*17,b:255&Bs[e[3]]*17,a:t===5?Bs[e[4]]*17:255}:(t===7||t===9)&&(n={r:Bs[e[1]]<<4|Bs[e[2]],g:Bs[e[3]]<<4|Bs[e[4]],b:Bs[e[5]]<<4|Bs[e[6]],a:t===9?Bs[e[7]]<<4|Bs[e[8]]:255})),n}const dQ=(e,t)=>e<255?t(e):"";function fQ(e){var t=uQ(e)?lQ:cQ;return e?"#"+t(e.r)+t(e.g)+t(e.b)+dQ(e.a,t):void 0}const pQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function H3(e,t,n){const i=t*Math.min(n,1-n),s=(a,o=(a+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function mQ(e,t,n){const i=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function gQ(e,t,n){const i=H3(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function yQ(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function M1(e){const n=e.r/255,i=e.g/255,s=e.b/255,a=Math.max(n,i,s),o=Math.min(n,i,s),l=(a+o)/2;let u,h,f;return a!==o&&(f=a-o,h=l>.5?f/(2-a-o):f/(a+o),u=yQ(n,i,s,f,a),u=u*60+.5),[u|0,h||0,l]}function N1(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(yo)}function I1(e,t,n){return N1(H3,e,t,n)}function bQ(e,t,n){return N1(gQ,e,t,n)}function _Q(e,t,n){return N1(mQ,e,t,n)}function j3(e){return(e%360+360)%360}function vQ(e){const t=pQ.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Gh(+t[5]):yo(+t[5]));const s=j3(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=bQ(s,a,o):t[1]==="hsv"?i=_Q(s,a,o):i=I1(s,a,o),{r:i[0],g:i[1],b:i[2],a:n}}function xQ(e,t){var n=M1(e);n[0]=j3(n[0]+t),n=I1(n),e.r=n[0],e.g=n[1],e.b=n[2]}function wQ(e){if(!e)return;const t=M1(e),n=t[0],i=iC(t[1]),s=iC(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${_r(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const sC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},aC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function SQ(){const e={},t=Object.keys(aC),n=Object.keys(sC);let i,s,a,o,l;for(i=0;i<t.length;i++){for(o=l=t[i],s=0;s<n.length;s++)a=n[s],l=l.replace(a,sC[a]);a=parseInt(aC[o],16),e[l]=[a>>16&255,a>>8&255,a&255]}return e}let Lp;function EQ(e){Lp||(Lp=SQ(),Lp.transparent=[0,0,0,0]);const t=Lp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const TQ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kQ(e){const t=TQ.exec(e);let n=255,i,s,a;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Gh(o):ho(o*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?Gh(i):ho(i,0,255)),s=255&(t[4]?Gh(s):ho(s,0,255)),a=255&(t[6]?Gh(a):ho(a,0,255)),{r:i,g:s,b:a,a:n}}}function CQ(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${_r(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const b_=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,yc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function AQ(e,t,n){const i=yc(_r(e.r)),s=yc(_r(e.g)),a=yc(_r(e.b));return{r:yo(b_(i+n*(yc(_r(t.r))-i))),g:yo(b_(s+n*(yc(_r(t.g))-s))),b:yo(b_(a+n*(yc(_r(t.b))-a))),a:e.a+n*(t.a-e.a)}}function Dp(e,t,n){if(e){let i=M1(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=I1(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function W3(e,t){return e&&Object.assign(t||{},e)}function rC(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=yo(e[3]))):(t=W3(e,{r:0,g:0,b:0,a:1}),t.a=yo(t.a)),t}function RQ(e){return e.charAt(0)==="r"?kQ(e):vQ(e)}class kd{constructor(t){if(t instanceof kd)return t;const n=typeof t;let i;n==="object"?i=rC(t):n==="string"&&(i=hQ(t)||EQ(t)||RQ(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=W3(this._rgb);return t&&(t.a=_r(t.a)),t}set rgb(t){this._rgb=rC(t)}rgbString(){return this._valid?CQ(this._rgb):void 0}hexString(){return this._valid?fQ(this._rgb):void 0}hslString(){return this._valid?wQ(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let a;const o=n===a?.5:n,l=2*o-1,u=i.a-s.a,h=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;a=1-h,i.r=255&h*i.r+a*s.r+.5,i.g=255&h*i.g+a*s.g+.5,i.b=255&h*i.b+a*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=AQ(this._rgb,t._rgb,n)),this}clone(){return new kd(this.rgb)}alpha(t){return this._rgb.a=yo(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Vd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Dp(this._rgb,2,t),this}darken(t){return Dp(this._rgb,2,-t),this}saturate(t){return Dp(this._rgb,1,t),this}desaturate(t){return Dp(this._rgb,1,-t),this}rotate(t){return xQ(this._rgb,t),this}}function ur(){}const LQ=(()=>{let e=0;return()=>e++})();function Ge(e){return e==null}function ri(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Pe(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Vs(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function _a(e,t){return Vs(e)?e:t}function Ce(e,t){return typeof e>"u"?t:e}const DQ=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Y3=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function En(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function un(e,t,n,i){let s,a,o;if(ri(e))for(a=e.length,s=0;s<a;s++)t.call(n,e[s],s);else if(Pe(e))for(o=Object.keys(e),a=o.length,s=0;s<a;s++)t.call(n,e[o[s]],o[s])}function Ng(e,t){let n,i,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Ig(e){if(ri(e))return e.map(Ig);if(Pe(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Ig(e[n[s]]);return t}return e}function G3(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function OQ(e,t,n,i){if(!G3(e))return;const s=t[e],a=n[e];Pe(s)&&Pe(a)?Cd(s,a,i):t[e]=Ig(a)}function Cd(e,t,n){const i=ri(t)?t:[t],s=i.length;if(!Pe(e))return e;n=n||{};const a=n.merger||OQ;let o;for(let l=0;l<s;++l){if(o=i[l],!Pe(o))continue;const u=Object.keys(o);for(let h=0,f=u.length;h<f;++h)a(u[h],e,o,n)}return e}function id(e,t){return Cd(e,t,{merger:MQ})}function MQ(e,t,n){if(!G3(e))return;const i=t[e],s=n[e];Pe(i)&&Pe(s)?id(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ig(s))}const oC={"":e=>e,x:e=>e.x,y:e=>e.y};function NQ(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function IQ(e){const t=NQ(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Tl(e,t){return(oC[t]||(oC[t]=IQ(t)))(e)}function B1(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ad=e=>typeof e<"u",Co=e=>typeof e=="function",lC=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function BQ(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const hn=Math.PI,Bn=2*hn,FQ=Bn+hn,Bg=Number.POSITIVE_INFINITY,UQ=hn/180,oi=hn/2,Qo=hn/4,cC=hn*2/3,V3=Math.log10,Ia=Math.sign;function sd(e,t,n){return Math.abs(e-t)<n}function uC(e){const t=Math.round(e);e=sd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(V3(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function qQ(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,a)=>s-a).pop(),t}function zQ(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function uu(e){return!zQ(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function PQ(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function $Q(e,t,n){let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function wr(e){return e*(hn/180)}function HQ(e){return e*(180/hn)}function hC(e){if(!Vs(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function X3(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*hn&&(a+=Bn),{angle:a,distance:s}}function Zv(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function jQ(e,t){return(e-t+FQ)%Bn-hn}function ea(e){return(e%Bn+Bn)%Bn}function Rd(e,t,n,i){const s=ea(e),a=ea(t),o=ea(n),l=ea(a-s),u=ea(o-s),h=ea(s-a),f=ea(s-o);return s===a||s===o||i&&a===o||l>u&&h<f}function ki(e,t,n){return Math.max(t,Math.min(n,e))}function WQ(e){return ki(e,-32768,32767)}function fo(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function F1(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const hl=(e,t,n,i)=>F1(e,n,i?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),YQ=(e,t,n)=>F1(e,n,i=>e[i][t]>=n);function GQ(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const Z3=["push","pop","shift","splice","unshift"];function VQ(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Z3.forEach(n=>{const i="_onData"+B1(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const o=s.apply(this,a);return e._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...a)}),o}})})}function dC(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(Z3.forEach(a=>{delete e[a]}),delete e._chartjs)}function Q3(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const K3=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function J3(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,K3.call(window,()=>{i=!1,e.apply(t,n)}))}}function XQ(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const U1=e=>e==="start"?"left":e==="end"?"right":"center",Ti=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,ZQ=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function tB(e,t,n){const i=t.length;let s=0,a=i;if(e._sorted){const{iScale:o,vScale:l,_parsed:u}=e,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,f=o.axis,{min:m,max:g,minDefined:y,maxDefined:_}=o.getUserBounds();if(y){if(s=Math.min(hl(u,f,m).lo,n?i:hl(t,f,o.getPixelForValue(m)).lo),h){const b=u.slice(0,s+1).reverse().findIndex(w=>!Ge(w[l.axis]));s-=Math.max(0,b)}s=ki(s,0,i-1)}if(_){let b=Math.max(hl(u,o.axis,g,!0).hi+1,n?0:hl(t,f,o.getPixelForValue(g),!0).hi+1);if(h){const w=u.slice(b-1).findIndex(S=>!Ge(S[l.axis]));b+=Math.max(0,w)}a=ki(b,s,i)-s}else a=i-s}return{start:s,count:a}}function eB(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),a}const Op=e=>e===0||e===1,fC=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Bn/n)),pC=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Bn/n)+1,ad={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*oi)+1,easeOutSine:e=>Math.sin(e*oi),easeInOutSine:e=>-.5*(Math.cos(hn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Op(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Op(e)?e:fC(e,.075,.3),easeOutElastic:e=>Op(e)?e:pC(e,.075,.3),easeInOutElastic(e){return Op(e)?e:e<.5?.5*fC(e*2,.1125,.45):.5+.5*pC(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ad.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ad.easeInBounce(e*2)*.5:ad.easeOutBounce(e*2-1)*.5+.5};function q1(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function mC(e){return q1(e)?e:new kd(e)}function __(e){return q1(e)?e:new kd(e).saturate(.5).darken(.1).hexString()}const QQ=["x","y","borderWidth","radius","tension"],KQ=["color","borderColor","backgroundColor"];function JQ(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:KQ},numbers:{type:"number",properties:QQ}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function tK(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const gC=new Map;function eK(e,t){t=t||{};const n=e+JSON.stringify(t);let i=gC.get(n);return i||(i=new Intl.NumberFormat(e,t),gC.set(n,i)),i}function z1(e,t,n){return eK(t,n).format(e)}const nK={values(e){return ri(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,a=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),a=iK(e,n)}const o=V3(Math.abs(a)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),z1(e,i,u)}};function iK(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var nB={formatters:nK};function sK(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nB.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const kl=Object.create(null),Qv=Object.create(null);function rd(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];e=e[a]||(e[a]=Object.create(null))}return e}function v_(e,t,n){return typeof t=="string"?Cd(rd(e,t),n):Cd(rd(e,""),t)}class aK{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>__(s.backgroundColor),this.hoverBorderColor=(i,s)=>__(s.borderColor),this.hoverColor=(i,s)=>__(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return v_(this,t,n)}get(t){return rd(this,t)}describe(t,n){return v_(Qv,t,n)}override(t,n){return v_(kl,t,n)}route(t,n,i,s){const a=rd(this,t),o=rd(this,i),l="_"+n;Object.defineProperties(a,{[l]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],h=o[s];return Pe(u)?Object.assign({},h,u):Ce(u,h)},set(u){this[l]=u}}})}apply(t){t.forEach(n=>n(this))}}var jn=new aK({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[JQ,tK,sK]);function rK(e){return!e||Ge(e.size)||Ge(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function yC(e,t,n,i,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>i&&(i=a),i}function Ko(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function bC(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Kv(e,t,n,i){iB(e,t,n,i,null)}function iB(e,t,n,i,s){let a,o,l,u,h,f,m,g;const y=t.pointStyle,_=t.rotation,b=t.radius;let w=(_||0)*UQ;if(y&&typeof y=="object"&&(a=y.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(w),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(b)||b<=0)){switch(e.beginPath(),y){default:s?e.ellipse(n,i,s/2,b,0,0,Bn):e.arc(n,i,b,0,Bn),e.closePath();break;case"triangle":f=s?s/2:b,e.moveTo(n+Math.sin(w)*f,i-Math.cos(w)*b),w+=cC,e.lineTo(n+Math.sin(w)*f,i-Math.cos(w)*b),w+=cC,e.lineTo(n+Math.sin(w)*f,i-Math.cos(w)*b),e.closePath();break;case"rectRounded":h=b*.516,u=b-h,o=Math.cos(w+Qo)*u,m=Math.cos(w+Qo)*(s?s/2-h:u),l=Math.sin(w+Qo)*u,g=Math.sin(w+Qo)*(s?s/2-h:u),e.arc(n-m,i-l,h,w-hn,w-oi),e.arc(n+g,i-o,h,w-oi,w),e.arc(n+m,i+l,h,w,w+oi),e.arc(n-g,i+o,h,w+oi,w+hn),e.closePath();break;case"rect":if(!_){u=Math.SQRT1_2*b,f=s?s/2:u,e.rect(n-f,i-u,2*f,2*u);break}w+=Qo;case"rectRot":m=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,l=Math.sin(w)*b,g=Math.sin(w)*(s?s/2:b),e.moveTo(n-m,i-l),e.lineTo(n+g,i-o),e.lineTo(n+m,i+l),e.lineTo(n-g,i+o),e.closePath();break;case"crossRot":w+=Qo;case"cross":m=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,l=Math.sin(w)*b,g=Math.sin(w)*(s?s/2:b),e.moveTo(n-m,i-l),e.lineTo(n+m,i+l),e.moveTo(n+g,i-o),e.lineTo(n-g,i+o);break;case"star":m=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,l=Math.sin(w)*b,g=Math.sin(w)*(s?s/2:b),e.moveTo(n-m,i-l),e.lineTo(n+m,i+l),e.moveTo(n+g,i-o),e.lineTo(n-g,i+o),w+=Qo,m=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,l=Math.sin(w)*b,g=Math.sin(w)*(s?s/2:b),e.moveTo(n-m,i-l),e.lineTo(n+m,i+l),e.moveTo(n+g,i-o),e.lineTo(n-g,i+o);break;case"line":o=s?s/2:Math.cos(w)*b,l=Math.sin(w)*b,e.moveTo(n-o,i-l),e.lineTo(n+o,i+l);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(w)*(s?s/2:b),i+Math.sin(w)*b);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Ld(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function P1(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function $1(e){e.restore()}function oK(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function lK(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function cK(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ge(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function uK(e,t,n,i,s){if(s.strikethrough||s.underline){const a=e.measureText(i),o=t-a.actualBoundingBoxLeft,l=t+a.actualBoundingBoxRight,u=n-a.actualBoundingBoxAscent,h=n+a.actualBoundingBoxDescent,f=s.strikethrough?(u+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,f),e.lineTo(l,f),e.stroke()}}function hK(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Dd(e,t,n,i,s,a={}){const o=ri(t)?t:[t],l=a.strokeWidth>0&&a.strokeColor!=="";let u,h;for(e.save(),e.font=s.string,cK(e,a),u=0;u<o.length;++u)h=o[u],a.backdrop&&hK(e,a.backdrop),l&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Ge(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(h,n,i,a.maxWidth)),e.fillText(h,n,i,a.maxWidth),uK(e,n,i,h,a),i+=Number(s.lineHeight);e.restore()}function Fg(e,t){const{x:n,y:i,w:s,h:a,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*hn,hn,!0),e.lineTo(n,i+a-o.bottomLeft),e.arc(n+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,hn,oi,!0),e.lineTo(n+s-o.bottomRight,i+a),e.arc(n+s-o.bottomRight,i+a-o.bottomRight,o.bottomRight,oi,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-oi,!0),e.lineTo(n+o.topLeft,i)}const dK=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fK=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pK(e,t){const n=(""+e).match(dK);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const mK=e=>+e||0;function H1(e,t){const n={},i=Pe(t),s=i?Object.keys(t):t,a=Pe(e)?i?o=>Ce(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=mK(a(o));return n}function sB(e){return H1(e,{top:"y",right:"x",bottom:"y",left:"x"})}function zc(e){return H1(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Xs(e){const t=sB(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ci(e,t){e=e||{},t=t||jn.font;let n=Ce(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ce(e.style,t.style);i&&!(""+i).match(fK)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Ce(e.family,t.family),lineHeight:pK(Ce(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Ce(e.weight,t.weight),string:""};return s.string=rK(s),s}function Mp(e,t,n,i){let s,a,o;for(s=0,a=e.length;s<a;++s)if(o=e[s],o!==void 0&&o!==void 0)return o}function gK(e,t,n){const{min:i,max:s}=e,a=Y3(t,(s-i)/2),o=(l,u)=>n&&l===0?0:l+u;return{min:o(i,-Math.abs(a)),max:o(s,a)}}function Ml(e,t){return Object.assign(Object.create(e),t)}function j1(e,t=[""],n,i,s=()=>e[0]){const a=n||e;typeof i>"u"&&(i=lB("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:s,override:l=>j1([l,...e],t,a,i)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete l._keys,delete e[0][u],!0},get(l,u){return rB(l,u,()=>EK(u,t,e,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,u){return vC(l).includes(u)},ownKeys(l){return vC(l)},set(l,u,h){const f=l._storage||(l._storage=s());return l[u]=f[u]=h,delete l._keys,!0}})}function hu(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:aB(e,i),setContext:a=>hu(e,a,n,i),override:a=>hu(e.override(a),t,n,i)};return new Proxy(s,{deleteProperty(a,o){return delete a[o],delete e[o],!0},get(a,o,l){return rB(a,o,()=>bK(a,o,l))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(a,o,l){return e[o]=l,delete a[o],!0}})}function aB(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Co(n)?n:()=>n,isIndexable:Co(i)?i:()=>i}}const yK=(e,t)=>e?e+B1(t):t,W1=(e,t)=>Pe(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function rB(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function bK(e,t,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=e;let l=i[t];return Co(l)&&o.isScriptable(t)&&(l=_K(t,l,e,n)),ri(l)&&l.length&&(l=vK(t,l,e,o.isIndexable)),W1(t,l)&&(l=hu(l,s,a&&a[t],o)),l}function _K(e,t,n,i){const{_proxy:s,_context:a,_subProxy:o,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let u=t(a,o||i);return l.delete(e),W1(e,u)&&(u=Y1(s._scopes,s,e,u)),u}function vK(e,t,n,i){const{_proxy:s,_context:a,_subProxy:o,_descriptors:l}=n;if(typeof a.index<"u"&&i(e))return t[a.index%t.length];if(Pe(t[0])){const u=t,h=s._scopes.filter(f=>f!==u);t=[];for(const f of u){const m=Y1(h,s,e,f);t.push(hu(m,a,o&&o[e],l))}}return t}function oB(e,t,n){return Co(e)?e(t,n):e}const xK=(e,t)=>e===!0?t:typeof e=="string"?Tl(t,e):void 0;function wK(e,t,n,i,s){for(const a of t){const o=xK(n,a);if(o){e.add(o);const l=oB(o._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Y1(e,t,n,i){const s=t._rootScopes,a=oB(t._fallback,n,i),o=[...e,...s],l=new Set;l.add(i);let u=_C(l,o,n,a||n,i);return u===null||typeof a<"u"&&a!==n&&(u=_C(l,o,a,u,i),u===null)?!1:j1(Array.from(l),[""],s,a,()=>SK(t,n,i))}function _C(e,t,n,i,s){for(;n;)n=wK(e,t,n,i,s);return n}function SK(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return ri(s)&&Pe(n)?n:s||{}}function EK(e,t,n,i){let s;for(const a of t)if(s=lB(yK(a,e),n),typeof s<"u")return W1(e,s)?Y1(n,i,e,s):s}function lB(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function vC(e){let t=e._keys;return t||(t=e._keys=TK(e._scopes)),t}function TK(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const kK=Number.EPSILON||1e-14,du=(e,t)=>t<e.length&&!e[t].skip&&e[t],cB=e=>e==="x"?"y":"x";function CK(e,t,n,i){const s=e.skip?t:e,a=t,o=n.skip?t:n,l=Zv(a,s),u=Zv(o,a);let h=l/(l+u),f=u/(l+u);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const m=i*h,g=i*f;return{previous:{x:a.x-m*(o.x-s.x),y:a.y-m*(o.y-s.y)},next:{x:a.x+g*(o.x-s.x),y:a.y+g*(o.y-s.y)}}}function AK(e,t,n){const i=e.length;let s,a,o,l,u,h=du(e,0);for(let f=0;f<i-1;++f)if(u=h,h=du(e,f+1),!(!u||!h)){if(sd(t[f],0,kK)){n[f]=n[f+1]=0;continue}s=n[f]/t[f],a=n[f+1]/t[f],l=Math.pow(s,2)+Math.pow(a,2),!(l<=9)&&(o=3/Math.sqrt(l),n[f]=s*o*t[f],n[f+1]=a*o*t[f])}}function RK(e,t,n="x"){const i=cB(n),s=e.length;let a,o,l,u=du(e,0);for(let h=0;h<s;++h){if(o=l,l=u,u=du(e,h+1),!l)continue;const f=l[n],m=l[i];o&&(a=(f-o[n])/3,l[`cp1${n}`]=f-a,l[`cp1${i}`]=m-a*t[h]),u&&(a=(u[n]-f)/3,l[`cp2${n}`]=f+a,l[`cp2${i}`]=m+a*t[h])}}function LK(e,t="x"){const n=cB(t),i=e.length,s=Array(i).fill(0),a=Array(i);let o,l,u,h=du(e,0);for(o=0;o<i;++o)if(l=u,u=h,h=du(e,o+1),!!u){if(h){const f=h[t]-u[t];s[o]=f!==0?(h[n]-u[n])/f:0}a[o]=l?h?Ia(s[o-1])!==Ia(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}AK(e,s,a),RK(e,a,t)}function Np(e,t,n){return Math.max(Math.min(e,n),t)}function DK(e,t){let n,i,s,a,o,l=Ld(e[0],t);for(n=0,i=e.length;n<i;++n)o=a,a=l,l=n<i-1&&Ld(e[n+1],t),a&&(s=e[n],o&&(s.cp1x=Np(s.cp1x,t.left,t.right),s.cp1y=Np(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=Np(s.cp2x,t.left,t.right),s.cp2y=Np(s.cp2y,t.top,t.bottom)))}function OK(e,t,n,i,s){let a,o,l,u;if(t.spanGaps&&(e=e.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")LK(e,s);else{let h=i?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)l=e[a],u=CK(h,l,e[Math.min(a+1,o-(i?0:1))%o],t.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,h=l}t.capBezierPoints&&DK(e,n)}function G1(){return typeof window<"u"&&typeof document<"u"}function V1(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ug(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const xy=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function MK(e,t){return xy(e).getPropertyValue(t)}const NK=["top","right","bottom","left"];function pl(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=NK[s];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const IK=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function BK(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=i;let o=!1,l,u;if(IK(s,a,e.target))l=s,u=a;else{const h=t.getBoundingClientRect();l=i.clientX-h.left,u=i.clientY-h.top,o=!0}return{x:l,y:u,box:o}}function il(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=xy(n),a=s.boxSizing==="border-box",o=pl(s,"padding"),l=pl(s,"border","width"),{x:u,y:h,box:f}=BK(e,n),m=o.left+(f&&l.left),g=o.top+(f&&l.top);let{width:y,height:_}=t;return a&&(y-=o.width+l.width,_-=o.height+l.height),{x:Math.round((u-m)/y*n.width/i),y:Math.round((h-g)/_*n.height/i)}}function FK(e,t,n){let i,s;if(t===void 0||n===void 0){const a=e&&V1(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const o=a.getBoundingClientRect(),l=xy(a),u=pl(l,"border","width"),h=pl(l,"padding");t=o.width-h.width-u.width,n=o.height-h.height-u.height,i=Ug(l.maxWidth,a,"clientWidth"),s=Ug(l.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:i||Bg,maxHeight:s||Bg}}const po=e=>Math.round(e*10)/10;function UK(e,t,n,i){const s=xy(e),a=pl(s,"margin"),o=Ug(s.maxWidth,e,"clientWidth")||Bg,l=Ug(s.maxHeight,e,"clientHeight")||Bg,u=FK(e,t,n);let{width:h,height:f}=u;if(s.boxSizing==="content-box"){const g=pl(s,"border","width"),y=pl(s,"padding");h-=y.width+g.width,f-=y.height+g.height}return h=Math.max(0,h-a.width),f=Math.max(0,i?h/i:f-a.height),h=po(Math.min(h,o,u.maxWidth)),f=po(Math.min(f,l,u.maxHeight)),h&&!f&&(f=po(h/2)),(t!==void 0||n!==void 0)&&i&&u.height&&f>u.height&&(f=u.height,h=po(Math.floor(f*i))),{width:h,height:f}}function xC(e,t,n){const i=t||1,s=po(e.height*i),a=po(e.width*i);e.height=po(e.height),e.width=po(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==s||o.width!==a?(e.currentDevicePixelRatio=i,o.height=s,o.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const qK=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};G1()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function wC(e,t){const n=MK(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function sl(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function zK(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function PK(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=sl(e,s,n),l=sl(s,a,n),u=sl(a,t,n),h=sl(o,l,n),f=sl(l,u,n);return sl(h,f,n)}const $K=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},HK=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Pc(e,t,n){return e?$K(t,n):HK()}function uB(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function hB(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function dB(e){return e==="angle"?{between:Rd,compare:jQ,normalize:ea}:{between:fo,compare:(t,n)=>t-n,normalize:t=>t}}function SC({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function jK(e,t,n){const{property:i,start:s,end:a}=n,{between:o,normalize:l}=dB(i),u=t.length;let{start:h,end:f,loop:m}=e,g,y;if(m){for(h+=u,f+=u,g=0,y=u;g<y&&o(l(t[h%u][i]),s,a);++g)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:m,style:e.style}}function WK(e,t,n){if(!n)return[e];const{property:i,start:s,end:a}=n,o=t.length,{compare:l,between:u,normalize:h}=dB(i),{start:f,end:m,loop:g,style:y}=jK(e,t,n),_=[];let b=!1,w=null,S,E,C;const D=()=>u(s,C,S)&&l(s,C)!==0,R=()=>l(a,S)===0||u(a,C,S),U=()=>b||D(),N=()=>!b||R();for(let P=f,$=f;P<=m;++P)E=t[P%o],!E.skip&&(S=h(E[i]),S!==C&&(b=u(S,s,a),w===null&&U()&&(w=l(S,s)===0?P:$),w!==null&&N()&&(_.push(SC({start:w,end:P,loop:g,count:o,style:y})),w=null),$=P,C=S));return w!==null&&_.push(SC({start:w,end:m,loop:g,count:o,style:y})),_}function YK(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const a=WK(i[s],e.points,t);a.length&&n.push(...a)}return n}function GK(e,t,n,i){let s=0,a=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}function VK(e,t,n,i){const s=e.length,a=[];let o=t,l=e[t],u;for(u=t+1;u<=n;++u){const h=e[u%s];h.skip||h.stop?l.skip||(i=!1,a.push({start:t%s,end:(u-1)%s,loop:i}),t=o=h.stop?u:null):(o=u,l.skip&&(t=u)),l=h}return o!==null&&a.push({start:t%s,end:o%s,loop:i}),a}function XK(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const a=!!e._loop,{start:o,end:l}=GK(n,s,a,i);if(i===!0)return EC(e,[{start:o,end:l,loop:a}],n,t);const u=l<o?l+s:l,h=!!e._fullLoop&&o===0&&l===s-1;return EC(e,VK(n,o,u,h),n,t)}function EC(e,t,n,i){return!i||!i.setContext||!n?t:ZK(e,t,n,i)}function ZK(e,t,n,i){const s=e._chart.getContext(),a=TC(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,u=n.length,h=[];let f=a,m=t[0].start,g=m;function y(_,b,w,S){const E=l?-1:1;if(_!==b){for(_+=u;n[_%u].skip;)_-=E;for(;n[b%u].skip;)b+=E;_%u!==b%u&&(h.push({start:_%u,end:b%u,loop:w,style:S}),f=S,m=b%u)}}for(const _ of t){m=l?m:_.start;let b=n[m%u],w;for(g=m+1;g<=_.end;g++){const S=n[g%u];w=TC(i.setContext(Ml(s,{type:"segment",p0:b,p1:S,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:o}))),QK(w,f)&&y(m,g-1,_.loop,f),b=S,f=w}m<g-1&&y(m,g-1,_.loop,f)}return h}function TC(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function QK(e,t){if(!t)return!1;const n=[],i=function(s,a){return q1(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Ip(e,t,n){return e.options.clip?e[n]:t[n]}function KK(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Ip(n,t,"left"),right:Ip(n,t,"right"),top:Ip(i,t,"top"),bottom:Ip(i,t,"bottom")}:t}function JK(e,t){const n=t._clip;if(n.disabled)return!1;const i=KK(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}class tJ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const a=n.listeners[s],o=n.duration;a.forEach(l=>l({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=K3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let o=a.length-1,l=!1,u;for(;o>=0;--o)u=a[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(t),l=!0):(a[o]=a[a.length-1],a.pop());l&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var pr=new tJ;const kC="transparent",eJ={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=mC(e||kC),s=i.valid&&mC(t||kC);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class nJ{constructor(t,n,i,s){const a=n[i];s=Mp([t.to,s,a,t.from]);const o=Mp([t.from,a,s]);this._active=!0,this._fn=t.fn||eJ[t.type||typeof o],this._easing=ad[t.easing]||ad.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,o=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Mp([t.to,n,s,t.from]),this._from=Mp([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,a=this._from,o=this._loop,l=this._to;let u;if(this._active=a!==l&&(o||n<i),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=a;return}u=n/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(a,l,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class fB{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Pe(t))return;const n=Object.keys(jn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Pe(a))return;const o={};for(const l of n)o[l]=a[l];(ri(a.properties)&&a.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,o)})})}_animateOptions(t,n){const i=n.options,s=sJ(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&iJ(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,n){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),o=Object.keys(n),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const h=o[u];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(t,n));continue}const f=n[h];let m=a[h];const g=i.get(h);if(m)if(g&&m.active()){m.update(g,f,l);continue}else m.cancel();if(!g||!g.duration){t[h]=f;continue}a[h]=m=new nJ(g,t,h,f),s.push(m)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return pr.add(this._chart,i),!0}}function iJ(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=e[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function sJ(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function CC(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function aJ(e,t,n){if(n===!1)return!1;const i=CC(e,n),s=CC(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function rJ(e){let t,n,i,s;return Pe(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function pB(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function AC(e,t,n,i={}){const s=e.keys,a=i.mode==="single";let o,l,u,h;if(t===null)return;let f=!1;for(o=0,l=s.length;o<l;++o){if(u=+s[o],u===n){if(f=!0,i.all)continue;break}h=e.values[u],Vs(h)&&(a||t===0||Ia(t)===Ia(h))&&(t+=h)}return!f&&!i.all?0:t}function oJ(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let u,h,f;for(u=0,h=o.length;u<h;++u)f=o[u],l[u]={[s]:f,[a]:e[f]};return l}function x_(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function lJ(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function cJ(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function uJ(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function RC(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=e[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function LC(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:l}=i,u=a.axis,h=o.axis,f=lJ(a,o,i),m=t.length;let g;for(let y=0;y<m;++y){const _=t[y],{[u]:b,[h]:w}=_,S=_._stacks||(_._stacks={});g=S[h]=uJ(s,f,b),g[l]=w,g._top=RC(g,o,!0,i.type),g._bottom=RC(g,o,!1,i.type);const E=g._visualValues||(g._visualValues={});E[l]=w}}function w_(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function hJ(e,t){return Ml(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function dJ(e,t,n){return Ml(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Th(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const S_=e=>e==="reset"||e==="none",DC=(e,t)=>t?e:Object.assign({},e),fJ=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:pB(n,!0),values:null};class Xd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=x_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Th(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(m,g,y,_)=>m==="x"?g:m==="r"?_:y,a=n.xAxisID=Ce(i.xAxisID,w_(t,"x")),o=n.yAxisID=Ce(i.yAxisID,w_(t,"y")),l=n.rAxisID=Ce(i.rAxisID,w_(t,"r")),u=n.indexAxis,h=n.iAxisID=s(u,a,o,l),f=n.vAxisID=s(u,o,a,l);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&dC(this._data,this),t._stacked&&Th(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(Pe(n)){const s=this._cachedMeta;this._data=oJ(n,s)}else if(i!==n){if(i){dC(i,this);const s=this._cachedMeta;Th(s),s._parsed=[]}n&&Object.isExtensible(n)&&VQ(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=x_(n.vScale,n),n.stack!==i.stack&&(s=!0,Th(n),n.stack=i.stack),this._resyncElements(t),(s||a!==n._stacked)&&(LC(this,n._parsed),n._stacked=x_(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:o}=i,l=a.axis;let u=t===0&&n===s.length?!0:i._sorted,h=t>0&&i._parsed[t-1],f,m,g;if(this._parsing===!1)i._parsed=s,i._sorted=!0,g=s;else{ri(s[t])?g=this.parseArrayData(i,s,t,n):Pe(s[t])?g=this.parseObjectData(i,s,t,n):g=this.parsePrimitiveData(i,s,t,n);const y=()=>m[l]===null||h&&m[l]<h[l];for(f=0;f<n;++f)i._parsed[f+t]=m=g[f],u&&(y()&&(u=!1),h=m);i._sorted=u}o&&LC(this,g)}parsePrimitiveData(t,n,i,s){const{iScale:a,vScale:o}=t,l=a.axis,u=o.axis,h=a.getLabels(),f=a===o,m=new Array(s);let g,y,_;for(g=0,y=s;g<y;++g)_=g+i,m[g]={[l]:f||a.parse(h[_],_),[u]:o.parse(n[_],_)};return m}parseArrayData(t,n,i,s){const{xScale:a,yScale:o}=t,l=new Array(s);let u,h,f,m;for(u=0,h=s;u<h;++u)f=u+i,m=n[f],l[u]={x:a.parse(m[0],f),y:o.parse(m[1],f)};return l}parseObjectData(t,n,i,s){const{xScale:a,yScale:o}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=new Array(s);let f,m,g,y;for(f=0,m=s;f<m;++f)g=f+i,y=n[g],h[f]={x:a.parse(Tl(y,l),g),y:o.parse(Tl(y,u),g)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,a=this._cachedMeta,o=n[t.axis],l={keys:pB(s,!0),values:n._stacks[t.axis]._visualValues};return AC(l,o,a.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const a=i[n.axis];let o=a===null?NaN:a;const l=s&&i._stacks[n.axis];s&&l&&(s.values=l,o=AC(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,o=s.length,l=this._getOtherScale(t),u=fJ(n,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:m}=cJ(l);let g,y;function _(){y=s[g];const b=y[l.axis];return!Vs(y[t.axis])||f>b||m<b}for(g=0;g<o&&!(!_()&&(this.updateRangeFromParsed(h,t,y,u),a));++g);if(a){for(g=o-1;g>=0;--g)if(!_()){this.updateRangeFromParsed(h,t,y,u);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,a,o;for(s=0,a=n.length;s<a;++s)o=n[s][t.axis],Vs(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=rJ(Ce(this.options.clip,aJ(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||s.length-l,h=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(t,a,l,u),f=l;f<l+u;++f){const m=s[f];m.hidden||(m.active&&h?o.push(m):m.draw(t,a))}for(f=0;f<o.length;++f)o[f].draw(t,a)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=dJ(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=hJ(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",a=this._cachedDataOpts,o=t+"-"+n,l=a[o],u=this.enableOptionSharing&&Ad(i);if(l)return DC(l,u);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,t),m=s?[`${t}Hover`,"hover",t,""]:[t,""],g=h.getOptionScopes(this.getDataset(),f),y=Object.keys(jn.elements[t]),_=()=>this.getContext(i,s,n),b=h.resolveNamedOptions(g,y,_,m);return b.$shared&&(b.$shared=u,a[o]=Object.freeze(DC(b,u))),b}_resolveAnimations(t,n,i){const s=this.chart,a=this._cachedDataOpts,o=`animation-${n}`,l=a[o];if(l)return l;let u;if(s.options.animation!==!1){const f=this.chart.config,m=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),m);u=f.createResolver(g,this.getContext(t,i,n))}const h=new fB(s,u&&u.animations);return u&&u._cacheable&&(a[o]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||S_(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,a=this.getSharedOptions(i),o=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:o}}updateElement(t,n,i,s){S_(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!S_(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[l,u,h]of this._syncList)this[l](u,h);this._syncList=[];const s=i.length,a=n.length,o=Math.min(a,s);o&&this.parse(0,o),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,n,i=!0){const s=this._cachedMeta,a=s.data,o=t+n;let l;const u=h=>{for(h.length+=n,l=h.length-1;l>=o;l--)h[l]=h[l-n]};for(u(a),l=t;l<o;++l)a[l]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(t,n),i&&this.updateElements(a,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Th(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function pJ(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=Q3(i.sort((s,a)=>s-a))}return e._cache.$bar}function mJ(e){const t=e.iScale,n=pJ(t,e.type);let i=t._length,s,a,o,l;const u=()=>{o===32767||o===-32768||(Ad(l)&&(i=Math.min(i,Math.abs(o-l)||i)),l=o)};for(s=0,a=n.length;s<a;++s)o=t.getPixelForValue(n[s]),u();for(l=void 0,s=0,a=t.ticks.length;s<a;++s)o=t.getPixelForTick(s),u();return i}function gJ(e,t,n,i){const s=n.barThickness;let a,o;return Ge(s)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=s*i,o=1),{chunk:a/i,ratio:o,start:t.pixels[e]-a/2}}function yJ(e,t,n,i){const s=t.pixels,a=s[e];let o=e>0?s[e-1]:null,l=e<s.length-1?s[e+1]:null;const u=n.categoryPercentage;o===null&&(o=a-(l===null?t.end-t.start:l-a)),l===null&&(l=a+a-o);const h=a-(a-Math.min(o,l))/2*u;return{chunk:Math.abs(l-o)/2*u/i,ratio:n.barPercentage,start:h}}function bJ(e,t,n,i){const s=n.parse(e[0],i),a=n.parse(e[1],i),o=Math.min(s,a),l=Math.max(s,a);let u=o,h=l;Math.abs(o)>Math.abs(l)&&(u=l,h=o),t[n.axis]=h,t._custom={barStart:u,barEnd:h,start:s,end:a,min:o,max:l}}function mB(e,t,n,i){return ri(e)?bJ(e,t,n,i):t[n.axis]=n.parse(e,i),t}function OC(e,t,n,i){const s=e.iScale,a=e.vScale,o=s.getLabels(),l=s===a,u=[];let h,f,m,g;for(h=n,f=n+i;h<f;++h)g=t[h],m={},m[s.axis]=l||s.parse(o[h],h),u.push(mB(g,m,a,h));return u}function E_(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function _J(e,t,n){return e!==0?Ia(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function vJ(e){let t,n,i,s,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:t,top:s,bottom:a}}function xJ(e,t,n,i){let s=t.borderSkipped;const a={};if(!s){e.borderSkipped=a;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:u,top:h,bottom:f}=vJ(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=h:(n._bottom||0)===i?s=f:(a[MC(f,o,l,u)]=!0,s=h)),a[MC(s,o,l,u)]=!0,e.borderSkipped=a}function MC(e,t,n,i){return i?(e=wJ(e,t,n),e=NC(e,n,t)):e=NC(e,t,n),e}function wJ(e,t,n){return e===t?n:e===n?t:e}function NC(e,t,n){return e==="start"?t:e==="end"?n:e}function SJ(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class EJ extends Xd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,i,s){return OC(t,n,i,s)}parseArrayData(t,n,i,s){return OC(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:a,vScale:o}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=a.axis==="x"?l:u,f=o.axis==="x"?l:u,m=[];let g,y,_,b;for(g=i,y=i+s;g<y;++g)b=n[g],_={},_[a.axis]=a.parse(Tl(b,h),g),m.push(mB(Tl(b,f),_,o,g));return m}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(t),o=a._custom,l=E_(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const a=s==="reset",{index:o,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),h=l.isHorizontal(),f=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,s);for(let y=n;y<n+i;y++){const _=this.getParsed(y),b=a||Ge(_[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(y),w=this._calculateBarIndexPixels(y,f),S=(_._stacks||{})[l.axis],E={horizontal:h,base:b.base,enableBorderRadius:!S||E_(_._custom)||o===S._top||o===S._bottom,x:h?b.head:w.center,y:h?w.center:b.head,height:h?w.size:Math.abs(b.size),width:h?Math.abs(b.size):w.size};g&&(E.options=m||this.resolveDataElementOptions(y,t[y].active?"active":s));const C=E.options||t[y].options;xJ(E,C,S,o),SJ(E,C,f.ratio),this.updateElement(t[y],y,E,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),a=i.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[i.axis],h=f=>{const m=f._parsed.find(y=>y[i.axis]===u),g=m&&m[f.vScale.axis];if(Ge(g)||isNaN(g))return!0};for(const f of s)if(!(n!==void 0&&h(f))&&((a===!1||o.indexOf(f.stack)===-1||a===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ce(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,o;for(a=0,o=n.data.length;a<o;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const l=t.barThickness;return{min:l||mJ(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:a,minBarLength:o}}=this,l=a||0,u=this.getParsed(t),h=u._custom,f=E_(h);let m=u[n.axis],g=0,y=i?this.applyStack(n,u,i):m,_,b;y!==m&&(g=y-m,y=m),f&&(m=h.barStart,y=h.barEnd-h.barStart,m!==0&&Ia(m)!==Ia(h.barEnd)&&(g=0),g+=m);const w=!Ge(a)&&!f?a:g;let S=n.getPixelForValue(w);if(this.chart.getDataVisibility(t)?_=n.getPixelForValue(g+y):_=S,b=_-S,Math.abs(b)<o){b=_J(b,n,l)*o,m===l&&(S-=b/2);const E=n.getPixelForDecimal(0),C=n.getPixelForDecimal(1),D=Math.min(E,C),R=Math.max(E,C);S=Math.max(Math.min(S,R),D),_=S+b,i&&!f&&(u._stacks[n.axis]._visualValues[s]=n.getValueForPixel(_)-n.getValueForPixel(S))}if(S===n.getPixelForValue(l)){const E=Ia(b)*n.getLineWidthForValue(l)/2;S+=E,b-=E}return{size:b,base:S,head:_,center:_+b/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,a=s.skipNull,o=Ce(s.maxBarThickness,1/0);let l,u;const h=this._getAxisCount();if(n.grouped){const f=a?this._getStackCount(t):n.stackCount,m=s.barThickness==="flex"?yJ(t,n,s,f*h):gJ(t,n,s,f*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Ce(g,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+y;l=m.start+m.chunk*_+m.chunk/2,u=Math.min(o,m.chunk*m.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(o,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}function TJ(e,t,n){let i=1,s=1,a=0,o=0;if(t<Bn){const l=e,u=l+t,h=Math.cos(l),f=Math.sin(l),m=Math.cos(u),g=Math.sin(u),y=(C,D,R)=>Rd(C,l,u,!0)?1:Math.max(D,D*n,R,R*n),_=(C,D,R)=>Rd(C,l,u,!0)?-1:Math.min(D,D*n,R,R*n),b=y(0,h,m),w=y(oi,f,g),S=_(hn,h,m),E=_(hn+oi,f,g);i=(b-S)/2,s=(w-E)/2,a=-(b+S)/2,o=-(w+E)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:o}}class kJ extends Xd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:i,textAlign:s,color:a,useBorderRadius:o,borderRadius:l}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,h)=>{const m=t.getDatasetMeta(0).controller.getStyle(h);return{text:u,fillStyle:m.backgroundColor,fontColor:a,hidden:!t.getDataVisibility(h),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:s,pointStyle:i,borderRadius:o&&(l||m.borderRadius),index:h}}):[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=u=>+i[u];if(Pe(i[t])){const{key:u="value"}=this._parsing;a=h=>+Tl(i[h],u)}let o,l;for(o=t,l=t+n;o<l;++o)s._parsed[o]=a(o)}}_getRotation(){return wr(this.options.rotation-90)}_getCircumference(){return wr(this.options.circumference)}_getRotationExtents(){let t=Bn,n=-Bn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),o=s._getCircumference();t=Math.min(t,a),n=Math.max(n,a+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,a=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(DQ(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:f,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:_,offsetY:b}=TJ(m,f,u),w=(i.width-o)/g,S=(i.height-o)/y,E=Math.max(Math.min(w,S)/2,0),C=Y3(this.options.radius,E),D=Math.max(C*u,0),R=(C-D)/this._getVisibleDatasetWeightTotal();this.offsetX=_*C,this.offsetY=b*C,s.total=this.calculateTotal(),this.outerRadius=C-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*h,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/Bn)}updateElements(t,n,i,s){const a=s==="reset",o=this.chart,l=o.chartArea,h=o.options.animation,f=(l.left+l.right)/2,m=(l.top+l.bottom)/2,g=a&&h.animateScale,y=g?0:this.innerRadius,_=g?0:this.outerRadius,{sharedOptions:b,includeOptions:w}=this._getSharedOptions(n,s);let S=this._getRotation(),E;for(E=0;E<n;++E)S+=this._circumference(E,a);for(E=n;E<n+i;++E){const C=this._circumference(E,a),D=t[E],R={x:f+this.offsetX,y:m+this.offsetY,startAngle:S,endAngle:S+C,circumference:C,outerRadius:_,innerRadius:y};w&&(R.options=b||this.resolveDataElementOptions(E,D.active?"active":s)),S+=C,this.updateElement(D,E,R,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Bn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=z1(n._parsed[t],i.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,a,o,l,u;if(!t){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,l=o.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)u=l.resolveDataElementOptions(s),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const a=this.resolveDataElementOptions(i);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Ce(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class CJ extends Xd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=n,o=this.chart._animationsDisabled;let{start:l,count:u}=tB(n,s,o);this._drawStart=l,this._drawCount=u,eB(n)&&(l=0,u=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:h},t),this.updateElements(s,l,u,t)}updateElements(t,n,i,s){const a=s==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,s),g=o.axis,y=l.axis,{spanGaps:_,segment:b}=this.options,w=uu(_)?_:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||a||s==="none",E=n+i,C=t.length;let D=n>0&&this.getParsed(n-1);for(let R=0;R<C;++R){const U=t[R],N=S?U:{};if(R<n||R>=E){N.skip=!0;continue}const P=this.getParsed(R),$=Ge(P[y]),X=N[g]=o.getPixelForValue(P[g],R),V=N[y]=a||$?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,P,u):P[y],R);N.skip=isNaN(X)||isNaN(V)||$,N.stop=R>0&&Math.abs(P[g]-D[g])>w,b&&(N.parsed=P,N.raw=h.data[R]),m&&(N.options=f||this.resolveDataElementOptions(R,U.active?"active":s)),S||this.updateElement(U,R,N,s),D=P}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class AJ extends kJ{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class RJ extends Xd{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=n,o=this.getParsed(t),l=s.getLabelForValue(o.x),u=a.getLabelForValue(o.y);return{label:i[t]||"",value:"("+l+", "+u+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:a,count:o}=tB(n,i,s);if(this._drawStart=a,this._drawCount=o,eB(n)&&(a=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=i;const h=this.resolveDatasetElementOptions(t);h.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:h},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,a,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const a=s==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:h}=this._cachedMeta,f=this.resolveDataElementOptions(n,s),m=this.getSharedOptions(f),g=this.includeOptions(s,m),y=o.axis,_=l.axis,{spanGaps:b,segment:w}=this.options,S=uu(b)?b:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||a||s==="none";let C=n>0&&this.getParsed(n-1);for(let D=n;D<n+i;++D){const R=t[D],U=this.getParsed(D),N=E?R:{},P=Ge(U[_]),$=N[y]=o.getPixelForValue(U[y],D),X=N[_]=a||P?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,U,u):U[_],D);N.skip=isNaN($)||isNaN(X)||P,N.stop=D>0&&Math.abs(U[y]-C[y])>S,w&&(N.parsed=U,N.raw=h.data[D]),g&&(N.options=m||this.resolveDataElementOptions(D,R.active?"active":s)),E||this.updateElement(R,D,N,s),C=U}this.updateSharedOptions(m,s,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let l=0;for(let u=n.length-1;u>=0;--u)l=Math.max(l,n[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const a=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,a,o)/2}}function Jo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class X1{static override(t){Object.assign(X1.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Jo()}parse(){return Jo()}format(){return Jo()}add(){return Jo()}diff(){return Jo()}startOf(){return Jo()}endOf(){return Jo()}}var LJ={_date:X1};function DJ(e,t,n,i){const{controller:s,data:a,_sorted:o}=e,l=s._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&a.length){const h=l._reversePixels?YQ:hl;if(i){if(s._sharedOptions){const f=a[0],m=typeof f.getRange=="function"&&f.getRange(t);if(m){const g=h(a,t,n-m),y=h(a,t,n+m);return{lo:g.lo,hi:y.hi}}}}else{const f=h(a,t,n);if(u){const{vScale:m}=s._cachedMeta,{_parsed:g}=e,y=g.slice(0,f.lo+1).reverse().findIndex(b=>!Ge(b[m.axis]));f.lo-=Math.max(0,y);const _=g.slice(f.hi).findIndex(b=>!Ge(b[m.axis]));f.hi+=Math.max(0,_)}return f}}return{lo:0,hi:a.length-1}}function wy(e,t,n,i,s){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let l=0,u=a.length;l<u;++l){const{index:h,data:f}=a[l],{lo:m,hi:g}=DJ(a[l],t,o,s);for(let y=m;y<=g;++y){const _=f[y];_.skip||i(_,h,y)}}}function OJ(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function T_(e,t,n,i,s){const a=[];return!s&&!e.isPointInArea(t)||wy(e,n,t,function(l,u,h){!s&&!Ld(l,e.chartArea,0)||l.inRange(t.x,t.y,i)&&a.push({element:l,datasetIndex:u,index:h})},!0),a}function MJ(e,t,n,i){let s=[];function a(o,l,u){const{startAngle:h,endAngle:f}=o.getProps(["startAngle","endAngle"],i),{angle:m}=X3(o,{x:t.x,y:t.y});Rd(m,h,f)&&s.push({element:o,datasetIndex:l,index:u})}return wy(e,n,t,a),s}function NJ(e,t,n,i,s,a){let o=[];const l=OJ(n);let u=Number.POSITIVE_INFINITY;function h(f,m,g){const y=f.inRange(t.x,t.y,s);if(i&&!y)return;const _=f.getCenterPoint(s);if(!(!!a||e.isPointInArea(_))&&!y)return;const w=l(t,_);w<u?(o=[{element:f,datasetIndex:m,index:g}],u=w):w===u&&o.push({element:f,datasetIndex:m,index:g})}return wy(e,n,t,h),o}function k_(e,t,n,i,s,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!i?MJ(e,t,n,s):NJ(e,t,n,i,s,a)}function IC(e,t,n,i,s){const a=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return wy(e,n,t,(u,h,f)=>{u[o]&&u[o](t[n],s)&&(a.push({element:u,datasetIndex:h,index:f}),l=l||u.inRange(t.x,t.y,s))}),i&&!l?[]:a}var IJ={modes:{index(e,t,n,i){const s=il(t,e),a=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?T_(e,s,a,i,o):k_(e,s,a,!1,i,o),u=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const f=l[0].index,m=h.data[f];m&&!m.skip&&u.push({element:m,datasetIndex:h.index,index:f})}),u):[]},dataset(e,t,n,i){const s=il(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?T_(e,s,a,i,o):k_(e,s,a,!1,i,o);if(l.length>0){const u=l[0].datasetIndex,h=e.getDatasetMeta(u).data;l=[];for(let f=0;f<h.length;++f)l.push({element:h[f],datasetIndex:u,index:f})}return l},point(e,t,n,i){const s=il(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return T_(e,s,a,i,o)},nearest(e,t,n,i){const s=il(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return k_(e,s,a,n.intersect,i,o)},x(e,t,n,i){const s=il(t,e);return IC(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=il(t,e);return IC(e,s,"y",n.intersect,i)}}};const gB=["left","top","right","bottom"];function kh(e,t){return e.filter(n=>n.pos===t)}function BC(e,t){return e.filter(n=>gB.indexOf(n.pos)===-1&&n.box.axis===t)}function Ch(e,t){return e.sort((n,i)=>{const s=t?i:n,a=t?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function BJ(e){const t=[];let n,i,s,a,o,l;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:a,options:{stack:o,stackWeight:l=1}}=s,t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&a+o,stackWeight:l});return t}function FJ(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!gB.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function UJ(e,t){const n=FJ(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,o,l;for(a=0,o=e.length;a<o;++a){l=e[a];const{fullSize:u}=l.box,h=n[l.stack],f=h&&l.stackWeight/h.weight;l.horizontal?(l.width=f?f*i:u&&t.availableWidth,l.height=s):(l.width=i,l.height=f?f*s:u&&t.availableHeight)}return n}function qJ(e){const t=BJ(e),n=Ch(t.filter(h=>h.box.fullSize),!0),i=Ch(kh(t,"left"),!0),s=Ch(kh(t,"right")),a=Ch(kh(t,"top"),!0),o=Ch(kh(t,"bottom")),l=BC(t,"x"),u=BC(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(u).concat(o).concat(l),chartArea:kh(t,"chartArea"),vertical:i.concat(s).concat(u),horizontal:a.concat(o).concat(l)}}function FC(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function yB(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function zJ(e,t,n,i){const{pos:s,box:a}=n,o=e.maxPadding;if(!Pe(s)){n.size&&(e[s]-=n.size);const m=i[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?a.height:a.width),n.size=m.size/m.count,e[s]+=n.size}a.getPadding&&yB(o,a.getPadding());const l=Math.max(0,t.outerWidth-FC(o,e,"left","right")),u=Math.max(0,t.outerHeight-FC(o,e,"top","bottom")),h=l!==e.w,f=u!==e.h;return e.w=l,e.h=u,n.horizontal?{same:h,other:f}:{same:f,other:h}}function PJ(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function $J(e,t){const n=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{a[o]=Math.max(t[o],n[o])}),a}return i(e?["left","right"]:["top","bottom"])}function Vh(e,t,n,i){const s=[];let a,o,l,u,h,f;for(a=0,o=e.length,h=0;a<o;++a){l=e[a],u=l.box,u.update(l.width||t.w,l.height||t.h,$J(l.horizontal,t));const{same:m,other:g}=zJ(t,n,l,i);h|=m&&s.length,f=f||g,u.fullSize||s.push(l)}return h&&Vh(s,t,n,i)||f}function Bp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function UC(e,t,n,i){const s=n.padding;let{x:a,y:o}=t;for(const l of e){const u=l.box,h=i[l.stack]||{placed:0,weight:1},f=l.stackWeight/h.weight||1;if(l.horizontal){const m=t.w*f,g=h.size||u.height;Ad(h.start)&&(o=h.start),u.fullSize?Bp(u,s.left,o,n.outerWidth-s.right-s.left,g):Bp(u,t.left+h.placed,o,m,g),h.start=o,h.placed+=m,o=u.bottom}else{const m=t.h*f,g=h.size||u.width;Ad(h.start)&&(a=h.start),u.fullSize?Bp(u,a,s.top,g,n.outerHeight-s.bottom-s.top):Bp(u,a,t.top+h.placed,g,m),h.start=a,h.placed+=m,a=u.right}}t.x=a,t.y=o}var Ps={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Xs(e.options.layout.padding),a=Math.max(t-s.width,0),o=Math.max(n-s.height,0),l=qJ(e.boxes),u=l.vertical,h=l.horizontal;un(e.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const f=u.reduce((b,w)=>w.box.options&&w.box.options.display===!1?b:b+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},s);yB(g,Xs(i));const y=Object.assign({maxPadding:g,w:a,h:o,x:s.left,y:s.top},s),_=UJ(u.concat(h),m);Vh(l.fullSize,y,m,_),Vh(u,y,m,_),Vh(h,y,m,_)&&Vh(u,y,m,_),PJ(y),UC(l.leftAndTop,y,m,_),y.x+=y.w,y.y+=y.h,UC(l.rightAndBottom,y,m,_),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},un(l.chartArea,b=>{const w=b.box;Object.assign(w,e.chartArea),w.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class bB{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class HJ extends bB{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _m="$chartjs",jJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qC=e=>e===null||e==="";function WJ(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[_m]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",qC(s)){const a=wC(e,"width");a!==void 0&&(e.width=a)}if(qC(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=wC(e,"height");a!==void 0&&(e.height=a)}return e}const _B=qK?{passive:!0}:!1;function YJ(e,t,n){e&&e.addEventListener(t,n,_B)}function GJ(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,_B)}function VJ(e,t){const n=jJ[e.type]||e.type,{x:i,y:s}=il(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function qg(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function XJ(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||qg(l.addedNodes,i),o=o&&!qg(l.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function ZJ(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||qg(l.removedNodes,i),o=o&&!qg(l.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Od=new Map;let zC=0;function vB(){const e=window.devicePixelRatio;e!==zC&&(zC=e,Od.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function QJ(e,t){Od.size||window.addEventListener("resize",vB),Od.set(e,t)}function KJ(e){Od.delete(e),Od.size||window.removeEventListener("resize",vB)}function JJ(e,t,n){const i=e.canvas,s=i&&V1(i);if(!s)return;const a=J3((l,u)=>{const h=s.clientWidth;n(l,u),h<s.clientWidth&&n()},window),o=new ResizeObserver(l=>{const u=l[0],h=u.contentRect.width,f=u.contentRect.height;h===0&&f===0||a(h,f)});return o.observe(s),QJ(e,a),o}function C_(e,t,n){n&&n.disconnect(),t==="resize"&&KJ(e)}function ttt(e,t,n){const i=e.canvas,s=J3(a=>{e.ctx!==null&&n(VJ(a,e))},e);return YJ(i,t,s),s}class ett extends bB{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(WJ(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[_m])return!1;const i=n[_m].initial;["height","width"].forEach(a=>{const o=i[a];Ge(o)?n.removeAttribute(a):n.setAttribute(a,o)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[_m],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:XJ,detach:ZJ,resize:JJ}[n]||ttt;s[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:C_,detach:C_,resize:C_}[n]||GJ)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return UK(t,n,i,s)}isAttached(t){const n=t&&V1(t);return!!(n&&n.isConnected)}}function ntt(e){return!G1()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?HJ:ett}class Or{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return uu(this.x)&&uu(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}function itt(e,t){const n=e.options.ticks,i=stt(e),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?rtt(t):[],o=a.length,l=a[0],u=a[o-1],h=[];if(o>s)return ott(t,h,a,o/s),h;const f=att(a,t,s);if(o>0){let m,g;const y=o>1?Math.round((u-l)/(o-1)):null;for(Fp(t,h,f,Ge(y)?0:l-y,l),m=0,g=o-1;m<g;m++)Fp(t,h,f,a[m],a[m+1]);return Fp(t,h,f,u,Ge(y)?t.length:u+y),h}return Fp(t,h,f),h}function stt(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function att(e,t,n){const i=ltt(e),s=t.length/n;if(!i)return Math.max(s,1);const a=qQ(i);for(let o=0,l=a.length-1;o<l;o++){const u=a[o];if(u>s)return u}return Math.max(s,1)}function rtt(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function ott(e,t,n,i){let s=0,a=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===a&&(t.push(e[o]),s++,a=n[s*i])}function Fp(e,t,n,i,s){const a=Ce(i,0),o=Math.min(Ce(s,e.length),e.length);let l=0,u,h,f;for(n=Math.ceil(n),s&&(u=s-i,n=u/Math.floor(u/n)),f=a;f<0;)l++,f=Math.round(a+l*n);for(h=Math.max(a,0);h<o;h++)h===f&&(t.push(e[h]),l++,f=Math.round(a+l*n))}function ltt(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const ctt=e=>e==="left"?"right":e==="right"?"left":e,PC=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,$C=(e,t)=>Math.min(t||e,e);function HC(e,t){const n=[],i=e.length/t,s=e.length;let a=0;for(;a<s;a+=i)n.push(e[Math.floor(a)]);return n}function utt(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),a=e._startPixel,o=e._endPixel,l=1e-6;let u=e.getPixelForTick(s),h;if(!(n&&(i===1?h=Math.max(u-a,o-u):t===0?h=(e.getPixelForTick(1)-u)/2:h=(u-e.getPixelForTick(s-1))/2,u+=s<t?h:-h,u<a-l||u>o+l)))return u}function htt(e,t){un(e,n=>{const i=n.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function Ah(e){return e.drawTicks?e.tickLength:0}function jC(e,t){if(!e.display)return 0;const n=Ci(e.font,t),i=Xs(e.padding);return(ri(e.text)?e.text.length:1)*n.lineHeight+i.height}function dtt(e,t){return Ml(e,{scale:t,type:"scale"})}function ftt(e,t,n){return Ml(e,{tick:n,index:t,type:"tick"})}function ptt(e,t,n){let i=U1(e);return(n&&t!=="right"||!n&&t==="right")&&(i=ctt(i)),i}function mtt(e,t,n,i){const{top:s,left:a,bottom:o,right:l,chart:u}=e,{chartArea:h,scales:f}=u;let m=0,g,y,_;const b=o-s,w=l-a;if(e.isHorizontal()){if(y=Ti(i,a,l),Pe(n)){const S=Object.keys(n)[0],E=n[S];_=f[S].getPixelForValue(E)+b-t}else n==="center"?_=(h.bottom+h.top)/2+b-t:_=PC(e,n,t);g=l-a}else{if(Pe(n)){const S=Object.keys(n)[0],E=n[S];y=f[S].getPixelForValue(E)-w+t}else n==="center"?y=(h.left+h.right)/2-w+t:y=PC(e,n,t);_=Ti(i,o,s),m=n==="left"?-oi:oi}return{titleX:y,titleY:_,maxWidth:g,rotation:m}}class xu extends Or{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=_a(t,Number.POSITIVE_INFINITY),n=_a(n,Number.NEGATIVE_INFINITY),i=_a(i,Number.POSITIVE_INFINITY),s=_a(s,Number.NEGATIVE_INFINITY),{min:_a(t,i),max:_a(n,s),minDefined:Vs(t),maxDefined:Vs(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),o;if(s&&a)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,h=l.length;u<h;++u)o=l[u].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),a||(i=Math.max(i,o.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:_a(n,_a(i,n)),max:_a(i,_a(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){En(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:a,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gK(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?HC(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=itt(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){En(this.options.afterUpdate,[this])}beforeSetDimensions(){En(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){En(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),En(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){En(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=En(n.callback,[a.value,i,t],this)}afterTickToLabelConversion(){En(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){En(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=$C(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let o=s,l,u,h;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),m=f.widest.width,g=f.highest.height,y=ki(this.chart.width-m,0,this.maxWidth);l=t.offset?this.maxWidth/i:y/(i-1),m+6>l&&(l=y/(i-(t.offset?.5:1)),u=this.maxHeight-Ah(t.grid)-n.padding-jC(t.title,this.chart.options.font),h=Math.sqrt(m*m+g*g),o=HQ(Math.min(Math.asin(ki((f.highest.height+6)/l,-1,1)),Math.asin(ki(u/h,-1,1))-Math.asin(ki(g/h,-1,1)))),o=Math.max(s,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){En(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){En(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=jC(s,n.options.font);if(l?(t.width=this.maxWidth,t.height=Ah(a)+u):(t.height=this.maxHeight,t.width=Ah(a)+u),i.display&&this.ticks.length){const{first:h,last:f,widest:m,highest:g}=this._getLabelSizes(),y=i.padding*2,_=wr(this.labelRotation),b=Math.cos(_),w=Math.sin(_);if(l){const S=i.mirror?0:w*m.width+b*g.height;t.height=Math.min(this.maxHeight,t.height+S+y)}else{const S=i.mirror?0:b*m.width+w*g.height;t.width=Math.min(this.maxWidth,t.width+S+y)}this._calculatePadding(h,f,w,b)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:a,padding:o},position:l}=this.options,u=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;u?h?(g=s*t.width,y=i*n.height):(g=i*t.height,y=s*n.width):a==="start"?y=n.width:a==="end"?g=t.width:a!=="inner"&&(g=t.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-m+o)*this.width/(this.width-m),0)}else{let f=n.height/2,m=t.height/2;a==="start"?(f=0,m=t.height):a==="end"&&(f=n.height,m=0),this.paddingTop=f+o,this.paddingBottom=m+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){En(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Ge(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=HC(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:a}=this,o=[],l=[],u=Math.floor(n/$C(n,i));let h=0,f=0,m,g,y,_,b,w,S,E,C,D,R;for(m=0;m<n;m+=u){if(_=t[m].label,b=this._resolveTickFontOptions(m),s.font=w=b.string,S=a[w]=a[w]||{data:{},gc:[]},E=b.lineHeight,C=D=0,!Ge(_)&&!ri(_))C=yC(s,S.data,S.gc,C,_),D=E;else if(ri(_))for(g=0,y=_.length;g<y;++g)R=_[g],!Ge(R)&&!ri(R)&&(C=yC(s,S.data,S.gc,C,R),D+=E);o.push(C),l.push(D),h=Math.max(C,h),f=Math.max(D,f)}htt(a,n);const U=o.indexOf(h),N=l.indexOf(f),P=$=>({width:o[$]||0,height:l[$]||0});return{first:P(0),last:P(n-1),widest:P(U),highest:P(N),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return WQ(this._alignToPixels?Ko(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=ftt(this.getContext(),t,i))}return this.$context||(this.$context=dtt(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=wr(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,l=a?a.widest.width+o:0,u=a?a.highest.height+o:0;return this.isHorizontal()?u*i>l*s?l/i:u/s:u*s<l*i?u/i:l/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:o,border:l}=s,u=a.offset,h=this.isHorizontal(),m=this.ticks.length+(u?1:0),g=Ah(a),y=[],_=l.setContext(this.getContext()),b=_.display?_.width:0,w=b/2,S=function(M){return Ko(i,M,b)};let E,C,D,R,U,N,P,$,X,V,I,G;if(o==="top")E=S(this.bottom),N=this.bottom-g,$=E-w,V=S(t.top)+w,G=t.bottom;else if(o==="bottom")E=S(this.top),V=t.top,G=S(t.bottom)-w,N=E+w,$=this.top+g;else if(o==="left")E=S(this.right),U=this.right-g,P=E-w,X=S(t.left)+w,I=t.right;else if(o==="right")E=S(this.left),X=t.left,I=S(t.right)-w,U=E+w,P=this.left+g;else if(n==="x"){if(o==="center")E=S((t.top+t.bottom)/2+.5);else if(Pe(o)){const M=Object.keys(o)[0],B=o[M];E=S(this.chart.scales[M].getPixelForValue(B))}V=t.top,G=t.bottom,N=E+w,$=N+g}else if(n==="y"){if(o==="center")E=S((t.left+t.right)/2);else if(Pe(o)){const M=Object.keys(o)[0],B=o[M];E=S(this.chart.scales[M].getPixelForValue(B))}U=E-w,P=U-g,X=t.left,I=t.right}const k=Ce(s.ticks.maxTicksLimit,m),H=Math.max(1,Math.ceil(m/k));for(C=0;C<m;C+=H){const M=this.getContext(C),B=a.setContext(M),W=l.setContext(M),Z=B.lineWidth,rt=B.color,O=W.dash||[],q=W.dashOffset,tt=B.tickWidth,it=B.tickColor,st=B.tickBorderDash||[],Ct=B.tickBorderDashOffset;D=utt(this,C,u),D!==void 0&&(R=Ko(i,D,Z),h?U=P=X=I=R:N=$=V=G=R,y.push({tx1:U,ty1:N,tx2:P,ty2:$,x1:X,y1:V,x2:I,y2:G,width:Z,color:rt,borderDash:O,borderDashOffset:q,tickWidth:tt,tickColor:it,tickBorderDash:st,tickBorderDashOffset:Ct}))}return this._ticksLength=m,this._borderValue=E,y}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:a}=i,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:h,padding:f,mirror:m}=a,g=Ah(i.grid),y=g+f,_=m?-f:y,b=-wr(this.labelRotation),w=[];let S,E,C,D,R,U,N,P,$,X,V,I,G="middle";if(s==="top")U=this.bottom-_,N=this._getXAxisLabelAlignment();else if(s==="bottom")U=this.top+_,N=this._getXAxisLabelAlignment();else if(s==="left"){const H=this._getYAxisLabelAlignment(g);N=H.textAlign,R=H.x}else if(s==="right"){const H=this._getYAxisLabelAlignment(g);N=H.textAlign,R=H.x}else if(n==="x"){if(s==="center")U=(t.top+t.bottom)/2+y;else if(Pe(s)){const H=Object.keys(s)[0],M=s[H];U=this.chart.scales[H].getPixelForValue(M)+y}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")R=(t.left+t.right)/2-y;else if(Pe(s)){const H=Object.keys(s)[0],M=s[H];R=this.chart.scales[H].getPixelForValue(M)}N=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?G="top":u==="end"&&(G="bottom"));const k=this._getLabelSizes();for(S=0,E=l.length;S<E;++S){C=l[S],D=C.label;const H=a.setContext(this.getContext(S));P=this.getPixelForTick(S)+a.labelOffset,$=this._resolveTickFontOptions(S),X=$.lineHeight,V=ri(D)?D.length:1;const M=V/2,B=H.color,W=H.textStrokeColor,Z=H.textStrokeWidth;let rt=N;o?(R=P,N==="inner"&&(S===E-1?rt=this.options.reverse?"left":"right":S===0?rt=this.options.reverse?"right":"left":rt="center"),s==="top"?h==="near"||b!==0?I=-V*X+X/2:h==="center"?I=-k.highest.height/2-M*X+X:I=-k.highest.height+X/2:h==="near"||b!==0?I=X/2:h==="center"?I=k.highest.height/2-M*X:I=k.highest.height-V*X,m&&(I*=-1),b!==0&&!H.showLabelBackdrop&&(R+=X/2*Math.sin(b))):(U=P,I=(1-V)*X/2);let O;if(H.showLabelBackdrop){const q=Xs(H.backdropPadding),tt=k.heights[S],it=k.widths[S];let st=I-q.top,Ct=0-q.left;switch(G){case"middle":st-=tt/2;break;case"bottom":st-=tt;break}switch(N){case"center":Ct-=it/2;break;case"right":Ct-=it;break;case"inner":S===E-1?Ct-=it:S>0&&(Ct-=it/2);break}O={left:Ct,top:st,width:it+q.width,height:tt+q.height,color:H.backdropColor}}w.push({label:D,font:$,textOffset:I,options:{rotation:b,color:B,strokeColor:W,strokeWidth:Z,textAlign:rt,textBaseline:G,translation:[R,U],backdrop:O}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-wr(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,o=this._getLabelSizes(),l=t+a,u=o.widest.width;let h,f;return n==="left"?s?(f=this.right+a,i==="near"?h="left":i==="center"?(h="center",f+=u/2):(h="right",f+=u)):(f=this.right-l,i==="near"?h="right":i==="center"?(h="center",f-=u/2):(h="left",f=this.left)):n==="right"?s?(f=this.left+a,i==="near"?h="right":i==="center"?(h="center",f-=u/2):(h="left",f-=u)):(f=this.left+l,i==="near"?h="left":i==="center"?(h="center",f+=u/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:a,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,a,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const l=(u,h,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(a=0,o=s.length;a<o;++a){const u=s[a];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),o=i.display?a.width:0;if(!o)return;const l=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,f,m,g;this.isHorizontal()?(h=Ko(t,this.left,o)-o/2,f=Ko(t,this.right,l)+l/2,m=g=u):(m=Ko(t,this.top,o)-o/2,g=Ko(t,this.bottom,l)+l/2,h=f=u),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(h,m),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&P1(i,s);const a=this.getLabelItems(t);for(const o of a){const l=o.options,u=o.font,h=o.label,f=o.textOffset;Dd(i,h,0,f,u,l)}s&&$1(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=Ci(i.font),o=Xs(i.padding),l=i.align;let u=a.lineHeight/2;n==="bottom"||n==="center"||Pe(n)?(u+=o.bottom,ri(i.text)&&(u+=a.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:h,titleY:f,maxWidth:m,rotation:g}=mtt(this,u,n,l);Dd(t,i.text,0,0,a,{color:i.color,maxWidth:m,rotation:g,textAlign:ptt(l,n,s),textBaseline:"middle",translation:[h,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Ce(t.grid&&t.grid.z,-1),s=Ce(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==xu.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];l[i]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ci(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Up{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;btt(n)&&(i=this.register(n));const s=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,gtt(t,o,i),this.override&&jn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in jn[s]&&(delete jn[s][i],this.override&&delete kl[i])}}function gtt(e,t,n){const i=Cd(Object.create(null),[n?jn.get(n):{},jn.get(t),e.defaults]);jn.set(t,i),e.defaultRoutes&&ytt(t,e.defaultRoutes),e.descriptors&&jn.describe(t,e.descriptors)}function ytt(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),a=[e].concat(i).join("."),o=t[n].split("."),l=o.pop(),u=o.join(".");jn.route(a,s,u,l)})}function btt(e){return"id"in e&&"defaults"in e}class _tt{constructor(){this.controllers=new Up(Xd,"datasets",!0),this.elements=new Up(Or,"elements"),this.plugins=new Up(Object,"plugins"),this.scales=new Up(xu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):un(s,o=>{const l=i||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,n,i){const s=B1(t);En(i["before"+s],[],i),n[t](i),En(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Ca=new _tt;class vtt{constructor(){this._init=void 0}notify(t,n,i,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(a,t,n,i);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,n,i,s){s=s||{};for(const a of t){const o=a.plugin,l=o[i],u=[n,s,a.options];if(En(l,u,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=Ce(i.options&&i.options.plugins,{}),a=xtt(i);return s===!1&&!n?[]:Stt(t,a,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(a,o)=>a.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function xtt(e){const t={},n=[],i=Object.keys(Ca.plugins.items);for(let a=0;a<i.length;a++)n.push(Ca.getPlugin(i[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const o=s[a];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function wtt(e,t){return!t&&e===!1?null:e===!0?{}:e}function Stt(e,{plugins:t,localIds:n},i,s){const a=[],o=e.getContext();for(const l of t){const u=l.id,h=wtt(i[u],s);h!==null&&a.push({plugin:l,options:Ett(e.config,{plugin:l,local:n[u]},h,o)})}return a}function Ett(e,{plugin:t,local:n},i,s){const a=e.pluginScopeKeys(t),o=e.getOptionScopes(i,a);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jv(e,t){const n=jn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Ttt(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function ktt(e,t){return e===t?"_index_":"_value_"}function WC(e){if(e==="x"||e==="y"||e==="r")return e}function Ctt(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function tx(e,...t){if(WC(e))return e;for(const n of t){const i=n.axis||Ctt(n.position)||e.length>1&&WC(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function YC(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Att(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return YC(e,"x",n[0])||YC(e,"y",n[0])}return{}}function Rtt(e,t){const n=kl[e.type]||{scales:{}},i=t.scales||{},s=Jv(e.type,t),a=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!Pe(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=tx(o,l,Att(o,e),jn.scales[l.type]),h=ktt(u,s),f=n.scales||{};a[o]=id(Object.create(null),[{axis:u},l,f[u],f[h]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,u=o.indexAxis||Jv(l,t),f=(kl[l]||{}).scales||{};Object.keys(f).forEach(m=>{const g=Ttt(m,u),y=o[g+"AxisID"]||g;a[y]=a[y]||Object.create(null),id(a[y],[{axis:g},i[y],f[m]])})}),Object.keys(a).forEach(o=>{const l=a[o];id(l,[jn.scales[l.type],jn.scale])}),a}function xB(e){const t=e.options||(e.options={});t.plugins=Ce(t.plugins,{}),t.scales=Rtt(e,t)}function wB(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Ltt(e){return e=e||{},e.data=wB(e.data),xB(e),e}const GC=new Map,SB=new Set;function qp(e,t){let n=GC.get(e);return n||(n=t(),GC.set(e,n),SB.add(n)),n}const Rh=(e,t,n)=>{const i=Tl(t,n);i!==void 0&&e.add(i)};class Dtt{constructor(t){this._config=Ltt(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=wB(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),xB(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return qp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return qp(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return qp(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return qp(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:a}=this,o=this._cachedScopes(t,i),l=o.get(n);if(l)return l;const u=new Set;n.forEach(f=>{t&&(u.add(t),f.forEach(m=>Rh(u,t,m))),f.forEach(m=>Rh(u,s,m)),f.forEach(m=>Rh(u,kl[a]||{},m)),f.forEach(m=>Rh(u,jn,m)),f.forEach(m=>Rh(u,Qv,m))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),SB.has(n)&&o.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,kl[n]||{},jn.datasets[n]||{},{type:n},jn,Qv]}resolveNamedOptions(t,n,i,s=[""]){const a={$shared:!0},{resolver:o,subPrefixes:l}=VC(this._resolverCache,t,s);let u=o;if(Mtt(o,n)){a.$shared=!1,i=Co(i)?i():i;const h=this.createResolver(t,i,l);u=hu(o,i,h)}for(const h of n)a[h]=u[h];return a}createResolver(t,n,i=[""],s){const{resolver:a}=VC(this._resolverCache,t,i);return Pe(n)?hu(a,n,void 0,s):a}}function VC(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let a=i.get(s);return a||(a={resolver:j1(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,a)),a}const Ott=e=>Pe(e)&&Object.getOwnPropertyNames(e).some(t=>Co(e[t]));function Mtt(e,t){const{isScriptable:n,isIndexable:i}=aB(e);for(const s of t){const a=n(s),o=i(s),l=(o||a)&&e[s];if(a&&(Co(l)||Ott(l))||o&&ri(l))return!0}return!1}var Ntt="4.5.1";const Itt=["top","bottom","left","right","chartArea"];function XC(e,t){return e==="top"||e==="bottom"||Itt.indexOf(e)===-1&&t==="x"}function ZC(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function QC(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),En(n&&n.onComplete,[e],t)}function Btt(e){const t=e.chart,n=t.options.animation;En(n&&n.onProgress,[e],t)}function EB(e){return G1()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const vm={},KC=e=>{const t=EB(e);return Object.values(vm).filter(n=>n.canvas===t).pop()};function Ftt(e,t,n){const i=Object.keys(e);for(const s of i){const a=+s;if(a>=t){const o=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=o)}}}function Utt(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}let Sy=class{static defaults=jn;static instances=vm;static overrides=kl;static registry=Ca;static version=Ntt;static getChart=KC;static register(...t){Ca.add(...t),JC()}static unregister(...t){Ca.remove(...t),JC()}constructor(t,n){const i=this.config=new Dtt(n),s=EB(t),a=KC(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||ntt(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,o.aspectRatio),u=l&&l.canvas,h=u&&u.height,f=u&&u.width;if(this.id=LQ(),this.ctx=l,this.canvas=u,this.width=f,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vtt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=XQ(m=>this.update(m),o.resizeDelay||0),this._dataChanges=[],vm[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}pr.listen(this,"complete",QC),pr.listen(this,"progress",Btt),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return Ge(t)?n&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ca}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bC(this.canvas,this.ctx),this}stop(){return pr.stop(this),this}resize(t,n){pr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,a),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,xC(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),En(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};un(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let a=[];n&&(a=a.concat(Object.keys(n).map(o=>{const l=n[o],u=tx(o,l),h=u==="r",f=u==="x";return{options:l,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),un(a,o=>{const l=o.options,u=l.id,h=tx(u,l),f=Ce(l.type,o.dtype);(l.position===void 0||XC(l.position,h)!==XC(o.dposition))&&(l.position=o.dposition),s[u]=!0;let m=null;if(u in i&&i[u].type===f)m=i[u];else{const g=Ca.getScale(f);m=new g({id:u,type:f,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(l,t)}),un(s,(o,l)=>{o||delete i[l]}),un(i,o=>{Ps.configure(this,o,o.options),Ps.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(ZC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let o=this.getDatasetMeta(i);const l=a.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=l,o.indexAxis=a.indexAxis||Jv(l,this.options),o.order=a.order||0,o.index=i,o.label=""+a.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=Ca.getController(l),{datasetElementType:h,dataElementType:f}=jn.datasets[l];Object.assign(u,{dataElementType:Ca.getElement(f),datasetElementType:h&&Ca.getElement(h)}),o.controller=new u(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){un(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:m}=this.getDatasetMeta(h),g=!s&&a.indexOf(m)===-1;m.buildOrUpdateElements(g),o=Math.max(+m.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||un(a,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ZC("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){un(this.scales,t=>{Ps.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!lC(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const o=i==="_removeElements"?-a:a;Ftt(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(t.filter(o=>o[0]===a).map((o,l)=>l+","+o.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!lC(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ps.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],un(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Co(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pr.has(this)?this.attached&&!pr.running(this)&&pr.start(this):(this.draw(),QC({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=JK(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&P1(n,s),t.controller.draw(),s&&$1(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Ld(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const a=IJ.modes[n];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ml(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,s);Ad(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(a,{visible:i}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),pr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),bC(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete vm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(a,o)=>{n.addEventListener(this,a,o),t[a]=o},s=(a,o,l)=>{a.offsetX=o,a.offsetY=l,this._eventHandler(a)};un(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(u,h)=>{n.addEventListener(this,u,h),t[u]=h},s=(u,h)=>{t[u]&&(n.removeEventListener(this,u,h),delete t[u])},a=(u,h)=>{this.canvas&&this.resize(u,h)};let o;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",a),i("detach",o)};o=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){un(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},un(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let a,o,l,u;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){o=t[l];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:a,index:o})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[o],index:o}});!Ng(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,a=(u,h)=>u.filter(f=>!h.some(m=>f.datasetIndex===m.datasetIndex&&f.index===m.index)),o=a(n,t),l=i?t:a(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:a}=this,o=n,l=this._getActiveElements(t,s,i,o),u=BQ(t),h=Utt(t,this._lastEvent,i,u);i&&(this._lastEvent=null,En(a.onHover,[t,l,this],this),u&&En(a.onClick,[t,l,this],this));const f=!Ng(l,s);return(f||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=h,f}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function JC(){return un(Sy.instances,e=>e._plugins.invalidate())}function qtt(e,t,n){const{startAngle:i,x:s,y:a,outerRadius:o,innerRadius:l,options:u}=t,{borderWidth:h,borderJoinStyle:f}=u,m=Math.min(h/o,ea(i-n));if(e.beginPath(),e.arc(s,a,o-h/2,i+m/2,n-m/2),l>0){const g=Math.min(h/l,ea(i-n));e.arc(s,a,l+h/2,n-g/2,i+g/2,!0)}else{const g=Math.min(h/2,o*ea(i-n));if(f==="round")e.arc(s,a,g,n-hn/2,i+hn/2,!0);else if(f==="bevel"){const y=2*g*g,_=-y*Math.cos(n+hn/2)+s,b=-y*Math.sin(n+hn/2)+a,w=y*Math.cos(i+hn/2)+s,S=y*Math.sin(i+hn/2)+a;e.lineTo(_,b),e.lineTo(w,S)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function ztt(e,t,n){const{startAngle:i,pixelMargin:s,x:a,y:o,outerRadius:l,innerRadius:u}=t;let h=s/l;e.beginPath(),e.arc(a,o,l,i-h,n+h),u>s?(h=s/u,e.arc(a,o,u,n+h,i-h,!0)):e.arc(a,o,s,n+oi,i-oi),e.closePath(),e.clip()}function Ptt(e){return H1(e,["outerStart","outerEnd","innerStart","innerEnd"])}function $tt(e,t,n,i){const s=Ptt(e.options.borderRadius),a=(n-t)/2,o=Math.min(a,i*t/2),l=u=>{const h=(n-Math.min(a,u))*i/2;return ki(u,0,Math.min(a,h))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:ki(s.innerStart,0,o),innerEnd:ki(s.innerEnd,0,o)}}function bc(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function zg(e,t,n,i,s,a){const{x:o,y:l,startAngle:u,pixelMargin:h,innerRadius:f}=t,m=Math.max(t.outerRadius+i+n-h,0),g=f>0?f+i+n+h:0;let y=0;const _=s-u;if(i){const H=f>0?f-i:0,M=m>0?m-i:0,B=(H+M)/2,W=B!==0?_*B/(B+i):_;y=(_-W)/2}const b=Math.max(.001,_*m-n/hn)/m,w=(_-b)/2,S=u+w+y,E=s-w-y,{outerStart:C,outerEnd:D,innerStart:R,innerEnd:U}=$tt(t,g,m,E-S),N=m-C,P=m-D,$=S+C/N,X=E-D/P,V=g+R,I=g+U,G=S+R/V,k=E-U/I;if(e.beginPath(),a){const H=($+X)/2;if(e.arc(o,l,m,$,H),e.arc(o,l,m,H,X),D>0){const Z=bc(P,X,o,l);e.arc(Z.x,Z.y,D,X,E+oi)}const M=bc(I,E,o,l);if(e.lineTo(M.x,M.y),U>0){const Z=bc(I,k,o,l);e.arc(Z.x,Z.y,U,E+oi,k+Math.PI)}const B=(E-U/g+(S+R/g))/2;if(e.arc(o,l,g,E-U/g,B,!0),e.arc(o,l,g,B,S+R/g,!0),R>0){const Z=bc(V,G,o,l);e.arc(Z.x,Z.y,R,G+Math.PI,S-oi)}const W=bc(N,S,o,l);if(e.lineTo(W.x,W.y),C>0){const Z=bc(N,$,o,l);e.arc(Z.x,Z.y,C,S-oi,$)}}else{e.moveTo(o,l);const H=Math.cos($)*m+o,M=Math.sin($)*m+l;e.lineTo(H,M);const B=Math.cos(X)*m+o,W=Math.sin(X)*m+l;e.lineTo(B,W)}e.closePath()}function Htt(e,t,n,i,s){const{fullCircles:a,startAngle:o,circumference:l}=t;let u=t.endAngle;if(a){zg(e,t,n,i,u,s);for(let h=0;h<a;++h)e.fill();isNaN(l)||(u=o+(l%Bn||Bn))}return zg(e,t,n,i,u,s),e.fill(),u}function jtt(e,t,n,i,s){const{fullCircles:a,startAngle:o,circumference:l,options:u}=t,{borderWidth:h,borderJoinStyle:f,borderDash:m,borderDashOffset:g,borderRadius:y}=u,_=u.borderAlign==="inner";if(!h)return;e.setLineDash(m||[]),e.lineDashOffset=g,_?(e.lineWidth=h*2,e.lineJoin=f||"round"):(e.lineWidth=h,e.lineJoin=f||"bevel");let b=t.endAngle;if(a){zg(e,t,n,i,b,s);for(let w=0;w<a;++w)e.stroke();isNaN(l)||(b=o+(l%Bn||Bn))}_&&ztt(e,t,b),u.selfJoin&&b-o>=hn&&y===0&&f!=="miter"&&qtt(e,t,b),a||(zg(e,t,n,i,b,s),e.stroke())}class Wtt extends Or{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=X3(s,{x:t,y:n}),{startAngle:l,endAngle:u,innerRadius:h,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,y=Ce(m,u-l),_=Rd(a,l,u)&&l!==u,b=y>=Bn||_,w=fo(o,h+g,f+g);return b&&w}getCenterPoint(t){const{x:n,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:h}=this.options,f=(s+a)/2,m=(o+l+h+u)/2;return{x:n+Math.cos(f)*m,y:i+Math.sin(f)*m}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Bn?Math.floor(i/Bn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(hn,i||0)),h=s*u;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,Htt(t,this,h,a,o),jtt(t,this,h,a,o),t.restore()}}function TB(e,t,n=t){e.lineCap=Ce(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ce(n.borderDash,t.borderDash)),e.lineDashOffset=Ce(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ce(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ce(n.borderWidth,t.borderWidth),e.strokeStyle=Ce(n.borderColor,t.borderColor)}function Ytt(e,t,n){e.lineTo(n.x,n.y)}function Gtt(e){return e.stepped?oK:e.tension||e.cubicInterpolationMode==="monotone"?lK:Ytt}function kB(e,t,n={}){const i=e.length,{start:s=0,end:a=i-1}=n,{start:o,end:l}=t,u=Math.max(s,o),h=Math.min(a,l),f=s<o&&a<o||s>l&&a>l;return{count:i,start:u,loop:t.loop,ilen:h<u&&!f?i+h-u:h-u}}function Vtt(e,t,n,i){const{points:s,options:a}=t,{count:o,start:l,loop:u,ilen:h}=kB(s,n,i),f=Gtt(a);let{move:m=!0,reverse:g}=i||{},y,_,b;for(y=0;y<=h;++y)_=s[(l+(g?h-y:y))%o],!_.skip&&(m?(e.moveTo(_.x,_.y),m=!1):f(e,b,_,g,a.stepped),b=_);return u&&(_=s[(l+(g?h:0))%o],f(e,b,_,g,a.stepped)),!!u}function Xtt(e,t,n,i){const s=t.points,{count:a,start:o,ilen:l}=kB(s,n,i),{move:u=!0,reverse:h}=i||{};let f=0,m=0,g,y,_,b,w,S;const E=D=>(o+(h?l-D:D))%a,C=()=>{b!==w&&(e.lineTo(f,w),e.lineTo(f,b),e.lineTo(f,S))};for(u&&(y=s[E(0)],e.moveTo(y.x,y.y)),g=0;g<=l;++g){if(y=s[E(g)],y.skip)continue;const D=y.x,R=y.y,U=D|0;U===_?(R<b?b=R:R>w&&(w=R),f=(m*f+D)/++m):(C(),e.lineTo(D,R),_=U,m=0,b=w=R),S=R}C()}function ex(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?Xtt:Vtt}function Ztt(e){return e.stepped?zK:e.tension||e.cubicInterpolationMode==="monotone"?PK:sl}function Qtt(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),TB(e,t.options),e.stroke(s)}function Ktt(e,t,n,i){const{segments:s,options:a}=t,o=ex(t);for(const l of s)TB(e,a,l.style),e.beginPath(),o(e,t,l,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const Jtt=typeof Path2D=="function";function tet(e,t,n,i){Jtt&&!t.options.segment?Qtt(e,t,n,i):Ktt(e,t,n,i)}class eet extends Or{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;OK(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=XK(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],a=this.points,o=YK(this,{property:n,start:s,end:s});if(!o.length)return;const l=[],u=Ztt(i);let h,f;for(h=0,f=o.length;h<f;++h){const{start:m,end:g}=o[h],y=a[m],_=a[g];if(y===_){l.push(y);continue}const b=Math.abs((s-y[n])/(_[n]-y[n])),w=u(y,_,b,i.stepped);w[n]=t[n],l.push(w)}return l.length===1?l[0]:l}pathSegment(t,n,i){return ex(this)(t,this,n,i)}path(t,n,i){const s=this.segments,a=ex(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const l of s)o&=a(t,this,l,{start:n,end:n+i-1});return!!o}draw(t,n,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),tet(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function tA(e,t,n,i){const s=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<s.radius+s.hitRadius}class net extends Or{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return tA(this,t,"x",n)}inYRange(t,n){return tA(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!Ld(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Kv(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function CB(e,t){const{x:n,y:i,base:s,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let l,u,h,f,m;return e.horizontal?(m=o/2,l=Math.min(n,s),u=Math.max(n,s),h=i-m,f=i+m):(m=a/2,l=n-m,u=n+m,h=Math.min(i,s),f=Math.max(i,s)),{left:l,top:h,right:u,bottom:f}}function mo(e,t,n,i){return e?0:ki(t,n,i)}function iet(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,a=sB(i);return{t:mo(s.top,a.top,0,n),r:mo(s.right,a.right,0,t),b:mo(s.bottom,a.bottom,0,n),l:mo(s.left,a.left,0,t)}}function set(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=zc(s),o=Math.min(t,n),l=e.borderSkipped,u=i||Pe(s);return{topLeft:mo(!u||l.top||l.left,a.topLeft,0,o),topRight:mo(!u||l.top||l.right,a.topRight,0,o),bottomLeft:mo(!u||l.bottom||l.left,a.bottomLeft,0,o),bottomRight:mo(!u||l.bottom||l.right,a.bottomRight,0,o)}}function aet(e){const t=CB(e),n=t.right-t.left,i=t.bottom-t.top,s=iet(e,n/2,i/2),a=set(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function A_(e,t,n,i){const s=t===null,a=n===null,l=e&&!(s&&a)&&CB(e,i);return l&&(s||fo(t,l.left,l.right))&&(a||fo(n,l.top,l.bottom))}function ret(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function oet(e,t){e.rect(t.x,t.y,t.w,t.h)}function R_(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+a,h:e.h+o,radius:e.radius}}class cet extends Or{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:o}=aet(this),l=ret(o.radius)?Fg:oet;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),l(t,R_(o,n,a)),t.clip(),l(t,R_(a,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,R_(a,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return A_(this,t,n,i)}inXRange(t,n){return A_(this,t,null,n)}inYRange(t,n){return A_(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const eA=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},uet=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class nA extends Or{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=En(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Ci(i.font),a=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=eA(i,a);let h,f;n.font=s.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(o,a,l,u)+10):(f=this.maxHeight,h=this._fitCols(o,s,l,u)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:a,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],f=s+l;let m=t;a.textAlign="left",a.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((_,b)=>{const w=i+n/2+a.measureText(_.text).width;(b===0||h[h.length-1]+w+2*l>o)&&(m+=f,h[h.length-(b>0?0:1)]=0,y+=f,g++),u[b]={left:0,top:y,row:g,width:w,height:s},h[h.length-1]+=w+l}),m}_fitCols(t,n,i,s){const{ctx:a,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],f=o-t;let m=l,g=0,y=0,_=0,b=0;return this.legendItems.forEach((w,S)=>{const{itemWidth:E,itemHeight:C}=het(i,n,a,w,s);S>0&&y+C+2*l>f&&(m+=g+l,h.push({width:g,height:y}),_+=g+l,b++,g=y=0),u[S]={left:_,top:y,col:b,width:E,height:C},g=Math.max(g,E),y+=C+l}),m+=g,h.push({width:g,height:y}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,o=Pc(a,this.left,this.width);if(this.isHorizontal()){let l=0,u=Ti(i,this.left+s,this.right-this.lineWidths[l]);for(const h of n)l!==h.row&&(l=h.row,u=Ti(i,this.left+s,this.right-this.lineWidths[l])),h.top+=this.top+t+s,h.left=o.leftForLtr(o.x(u),h.width),u+=h.width+s}else{let l=0,u=Ti(i,this.top+t+s,this.bottom-this.columnSizes[l].height);for(const h of n)h.col!==l&&(l=h.col,u=Ti(i,this.top+t+s,this.bottom-this.columnSizes[l].height)),h.top=u,h.left+=this.left+s,h.left=o.leftForLtr(o.x(h.left),h.width),u+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;P1(t,this),this._draw(),$1(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:o}=t,l=jn.color,u=Pc(t.rtl,this.left,this.width),h=Ci(o.font),{padding:f}=o,m=h.size,g=m/2;let y;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:_,boxHeight:b,itemHeight:w}=eA(o,m),S=function(U,N,P){if(isNaN(_)||_<=0||isNaN(b)||b<0)return;s.save();const $=Ce(P.lineWidth,1);if(s.fillStyle=Ce(P.fillStyle,l),s.lineCap=Ce(P.lineCap,"butt"),s.lineDashOffset=Ce(P.lineDashOffset,0),s.lineJoin=Ce(P.lineJoin,"miter"),s.lineWidth=$,s.strokeStyle=Ce(P.strokeStyle,l),s.setLineDash(Ce(P.lineDash,[])),o.usePointStyle){const X={radius:b*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:$},V=u.xPlus(U,_/2),I=N+g;iB(s,X,V,I,o.pointStyleWidth&&_)}else{const X=N+Math.max((m-b)/2,0),V=u.leftForLtr(U,_),I=zc(P.borderRadius);s.beginPath(),Object.values(I).some(G=>G!==0)?Fg(s,{x:V,y:X,w:_,h:b,radius:I}):s.rect(V,X,_,b),s.fill(),$!==0&&s.stroke()}s.restore()},E=function(U,N,P){Dd(s,P.text,U,N+w/2,h,{strikethrough:P.hidden,textAlign:u.textAlign(P.textAlign)})},C=this.isHorizontal(),D=this._computeTitleHeight();C?y={x:Ti(a,this.left+f,this.right-i[0]),y:this.top+f+D,line:0}:y={x:this.left+f,y:Ti(a,this.top+D+f,this.bottom-n[0].height),line:0},uB(this.ctx,t.textDirection);const R=w+f;this.legendItems.forEach((U,N)=>{s.strokeStyle=U.fontColor,s.fillStyle=U.fontColor;const P=s.measureText(U.text).width,$=u.textAlign(U.textAlign||(U.textAlign=o.textAlign)),X=_+g+P;let V=y.x,I=y.y;u.setWidth(this.width),C?N>0&&V+X+f>this.right&&(I=y.y+=R,y.line++,V=y.x=Ti(a,this.left+f,this.right-i[y.line])):N>0&&I+R>this.bottom&&(V=y.x=V+n[y.line].width+f,y.line++,I=y.y=Ti(a,this.top+D+f,this.bottom-n[y.line].height));const G=u.x(V);if(S(G,I,U),V=ZQ($,V+_+g,C?V+X:this.right,t.rtl),E(u.x(V),I,U),C)y.x+=X+f;else if(typeof U.text!="string"){const k=h.lineHeight;y.y+=AB(U,k)+f}else y.y+=R}),hB(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Ci(n.font),s=Xs(n.padding);if(!n.display)return;const a=Pc(t.rtl,this.left,this.width),o=this.ctx,l=n.position,u=i.size/2,h=s.top+u;let f,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+h,m=Ti(t.align,m,this.right-g);else{const _=this.columnSizes.reduce((b,w)=>Math.max(b,w.height),0);f=h+Ti(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}const y=Ti(l,m,m+g);o.textAlign=a.textAlign(U1(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Dd(o,n.text,y,f,i)}_computeTitleHeight(){const t=this.options.title,n=Ci(t.font),i=Xs(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,a;if(fo(t,this.left,this.right)&&fo(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],fo(t,s.left,s.left+s.width)&&fo(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!pet(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=uet(s,i);s&&!a&&En(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&En(n.onHover,[t,i,this],this)}else i&&En(n.onClick,[t,i,this],this)}}function het(e,t,n,i,s){const a=det(i,e,t,n),o=fet(s,i,t.lineHeight);return{itemWidth:a,itemHeight:o}}function det(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((a,o)=>a.length>o.length?a:o)),t+n.size/2+i.measureText(s).width}function fet(e,t,n){let i=e;return typeof t.text!="string"&&(i=AB(t,n)),i}function AB(e,t){const n=e.text?e.text.length:0;return t*n}function pet(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var met={id:"legend",_element:nA,start(e,t,n){const i=e.legend=new nA({ctx:e.ctx,options:n,chart:e});Ps.configure(e,i,n),Ps.addBox(e,i)},stop(e){Ps.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Ps.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),f=Xs(h.borderWidth);return{text:t[u.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:o&&(l||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class RB extends Or{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=ri(i.text)?i.text.length:1;this._padding=Xs(i.padding);const a=s*Ci(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:a,options:o}=this,l=o.align;let u=0,h,f,m;return this.isHorizontal()?(f=Ti(l,i,a),m=n+t,h=a-i):(o.position==="left"?(f=i+t,m=Ti(l,s,n),u=hn*-.5):(f=a-t,m=Ti(l,n,s),u=hn*.5),h=s-n),{titleX:f,titleY:m,maxWidth:h,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Ci(n.font),a=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:u,rotation:h}=this._drawArgs(a);Dd(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:U1(n.align),textBaseline:"middle",translation:[o,l]})}}function get(e,t){const n=new RB({ctx:e.ctx,options:t,chart:e});Ps.configure(e,n,t),Ps.addBox(e,n),e.titleBlock=n}var yet={id:"title",_element:RB,start(e,t,n){get(e,n)},stop(e){const t=e.titleBlock;Ps.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Ps.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),s+=u.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((l,u)=>l+u)/i.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,o,l;for(a=0,o=e.length;a<o;++a){const u=e[a].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),f=Zv(t,h);f<s&&(s=f,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function Ea(e,t){return t&&(ri(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function mr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function bet(e,t){const{element:n,datasetIndex:i,index:s}=t,a=e.getDatasetMeta(i).controller,{label:o,value:l}=a.getLabelAndValue(s);return{chart:e,label:o,parsed:a.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:l,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function iA(e,t){const n=e.chart.ctx,{body:i,footer:s,title:a}=e,{boxWidth:o,boxHeight:l}=t,u=Ci(t.bodyFont),h=Ci(t.titleFont),f=Ci(t.footerFont),m=a.length,g=s.length,y=i.length,_=Xs(t.padding);let b=_.height,w=0,S=i.reduce((D,R)=>D+R.before.length+R.lines.length+R.after.length,0);if(S+=e.beforeBody.length+e.afterBody.length,m&&(b+=m*h.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),S){const D=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;b+=y*D+(S-y)*u.lineHeight+(S-1)*t.bodySpacing}g&&(b+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let E=0;const C=function(D){w=Math.max(w,n.measureText(D).width+E)};return n.save(),n.font=h.string,un(e.title,C),n.font=u.string,un(e.beforeBody.concat(e.afterBody),C),E=t.displayColors?o+2+t.boxPadding:0,un(i,D=>{un(D.before,C),un(D.lines,C),un(D.after,C)}),E=0,n.font=f.string,un(e.footer,C),n.restore(),w+=_.width,{width:w,height:b}}function _et(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function vet(e,t,n,i){const{x:s,width:a}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&s+a+o>t.width||e==="right"&&s-a-o<0)return!0}function xet(e,t,n,i){const{x:s,width:a}=n,{width:o,chartArea:{left:l,right:u}}=e;let h="center";return i==="center"?h=s<=(l+u)/2?"left":"right":s<=a/2?h="left":s>=o-a/2&&(h="right"),vet(h,e,t,n)&&(h="center"),h}function sA(e,t,n){const i=n.yAlign||t.yAlign||_et(e,n);return{xAlign:n.xAlign||t.xAlign||xet(e,t,n,i),yAlign:i}}function wet(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function Eet(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function aA(e,t,n,i){const{caretSize:s,caretPadding:a,cornerRadius:o}=e,{xAlign:l,yAlign:u}=n,h=s+a,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:y}=zc(o);let _=wet(t,l);const b=Eet(t,u,h);return u==="center"?l==="left"?_+=h:l==="right"&&(_-=h):l==="left"?_-=Math.max(f,g)+s:l==="right"&&(_+=Math.max(m,y)+s),{x:ki(_,0,i.width-t.width),y:ki(b,0,i.height-t.height)}}function zp(e,t,n){const i=Xs(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function rA(e){return Ea([],mr(e))}function Tet(e,t,n){return Ml(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function oA(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const LB={beforeTitle:ur,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:ur,beforeBody:ur,beforeLabel:ur,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ge(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ur,afterBody:ur,beforeFooter:ur,footer:ur,afterFooter:ur};function es(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?LB[t].call(n,i):s}class lA extends Or{static positioners=Xh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new fB(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Tet(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=es(i,"beforeTitle",this,t),a=es(i,"title",this,t),o=es(i,"afterTitle",this,t);let l=[];return l=Ea(l,mr(s)),l=Ea(l,mr(a)),l=Ea(l,mr(o)),l}getBeforeBody(t,n){return rA(es(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return un(t,a=>{const o={before:[],lines:[],after:[]},l=oA(i,a);Ea(o.before,mr(es(l,"beforeLabel",this,a))),Ea(o.lines,es(l,"label",this,a)),Ea(o.after,mr(es(l,"afterLabel",this,a))),s.push(o)}),s}getAfterBody(t,n){return rA(es(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=es(i,"beforeFooter",this,t),a=es(i,"footer",this,t),o=es(i,"afterFooter",this,t);let l=[];return l=Ea(l,mr(s)),l=Ea(l,mr(a)),l=Ea(l,mr(o)),l}_createItems(t){const n=this._active,i=this.chart.data,s=[],a=[],o=[];let l=[],u,h;for(u=0,h=n.length;u<h;++u)l.push(bet(this.chart,n[u]));return t.filter&&(l=l.filter((f,m,g)=>t.filter(f,m,g,i))),t.itemSort&&(l=l.sort((f,m)=>t.itemSort(f,m,i))),un(l,f=>{const m=oA(t.callbacks,f);s.push(es(m,"labelColor",this,f)),a.push(es(m,"labelPointStyle",this,f)),o.push(es(m,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,o=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const l=Xh[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=iA(this,i),h=Object.assign({},l,u),f=sA(this.chart,i,h),m=aA(i,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,a={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const a=this.getCaretPosition(t,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:o,cornerRadius:l}=i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=zc(l),{x:g,y}=t,{width:_,height:b}=n;let w,S,E,C,D,R;return a==="center"?(D=y+b/2,s==="left"?(w=g,S=w-o,C=D+o,R=D-o):(w=g+_,S=w+o,C=D-o,R=D+o),E=w):(s==="left"?S=g+Math.max(u,f)+o:s==="right"?S=g+_-Math.max(h,m)-o:S=this.caretX,a==="top"?(C=y,D=C-o,w=S-o,E=S+o):(C=y+b,D=C+o,w=S+o,E=S-o),R=C),{x1:w,x2:S,x3:E,y1:C,y2:D,y3:R}}drawTitle(t,n,i){const s=this.title,a=s.length;let o,l,u;if(a){const h=Pc(i.rtl,this.x,this.width);for(t.x=zp(this,i.titleAlign,i),n.textAlign=h.textAlign(i.titleAlign),n.textBaseline="middle",o=Ci(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,u=0;u<a;++u)n.fillText(s[u],h.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,u+1===a&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,n,i,s,a){const o=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:h}=a,f=Ci(a.bodyFont),m=zp(this,"left",a),g=s.x(m),y=u<f.lineHeight?(f.lineHeight-u)/2:0,_=n.y+y;if(a.usePointStyle){const b={radius:Math.min(h,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=s.leftForLtr(g,h)+h/2,S=_+u/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Kv(t,b,w,S),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Kv(t,b,w,S)}else{t.lineWidth=Pe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const b=s.leftForLtr(g,h),w=s.leftForLtr(s.xPlus(g,1),h-2),S=zc(o.borderRadius);Object.values(S).some(E=>E!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Fg(t,{x:b,y:_,w:h,h:u,radius:S}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Fg(t,{x:w,y:_+1,w:h-2,h:u-2,radius:S}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(b,_,h,u),t.strokeRect(b,_,h,u),t.fillStyle=o.backgroundColor,t.fillRect(w,_+1,h-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:h,boxPadding:f}=i,m=Ci(i.bodyFont);let g=m.lineHeight,y=0;const _=Pc(i.rtl,this.x,this.width),b=function(P){n.fillText(P,_.x(t.x+y),t.y+g/2),t.y+=g+a},w=_.textAlign(o);let S,E,C,D,R,U,N;for(n.textAlign=o,n.textBaseline="middle",n.font=m.string,t.x=zp(this,w,i),n.fillStyle=i.bodyColor,un(this.beforeBody,b),y=l&&w!=="right"?o==="center"?h/2+f:h+2+f:0,D=0,U=s.length;D<U;++D){for(S=s[D],E=this.labelTextColors[D],n.fillStyle=E,un(S.before,b),C=S.lines,l&&C.length&&(this._drawColorBox(n,t,D,_,i),g=Math.max(m.lineHeight,u)),R=0,N=C.length;R<N;++R)b(C[R]),g=m.lineHeight;un(S.after,b)}y=0,g=m.lineHeight,un(this.afterBody,b),t.y-=a}drawFooter(t,n,i){const s=this.footer,a=s.length;let o,l;if(a){const u=Pc(i.rtl,this.x,this.width);for(t.x=zp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",o=Ci(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,l=0;l<a;++l)n.fillText(s[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:a,yAlign:o}=this,{x:l,y:u}=t,{width:h,height:f}=i,{topLeft:m,topRight:g,bottomLeft:y,bottomRight:_}=zc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+m,u),o==="top"&&this.drawCaret(t,n,i,s),n.lineTo(l+h-g,u),n.quadraticCurveTo(l+h,u,l+h,u+g),o==="center"&&a==="right"&&this.drawCaret(t,n,i,s),n.lineTo(l+h,u+f-_),n.quadraticCurveTo(l+h,u+f,l+h-_,u+f),o==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(l+y,u+f),n.quadraticCurveTo(l,u+f,l,u+f-y),o==="center"&&a==="left"&&this.drawCaret(t,n,i,s),n.lineTo(l,u+m),n.quadraticCurveTo(l,u,l+m,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const o=Xh[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=iA(this,t),u=Object.assign({},o,this._size),h=sA(n,t,u),f=aA(t,u,h,n);(s._to!==f.x||a._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Xs(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,n),uB(t,n.textDirection),a.y+=o.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),hB(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:l,index:u})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[u],index:u}}),a=!Ng(i,s),o=this._positionChanged(s,n);(a||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],o=this._getActiveElements(t,a,n,i),l=this._positionChanged(o,t),u=n||!Ng(o,a)||l;return u&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:s,options:a}=this,o=Xh[a.position].call(this,t,n);return o!==!1&&(i!==o.x||s!==o.y)}}var ket={id:"tooltip",_element:lA,positioners:Xh,afterInit(e,t,n){n&&(e.tooltip=new lA({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:LB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Cet=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Aet(e,t,n,i){const s=e.indexOf(t);if(s===-1)return Cet(e,t,n,i);const a=e.lastIndexOf(t);return s!==a?n:s}const Ret=(e,t)=>e===null?null:ki(Math.round(e),0,t);function cA(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Let extends xu{static id="category";static defaults={ticks:{callback:cA}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Ge(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:Aet(i,t,Ce(n,t),this._addedLabels),Ret(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return cA.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Det(e,t){const n=[],{bounds:s,step:a,min:o,max:l,precision:u,count:h,maxTicks:f,maxDigits:m,includeBounds:g}=e,y=a||1,_=f-1,{min:b,max:w}=t,S=!Ge(o),E=!Ge(l),C=!Ge(h),D=(w-b)/(m+1);let R=uC((w-b)/_/y)*y,U,N,P,$;if(R<1e-14&&!S&&!E)return[{value:b},{value:w}];$=Math.ceil(w/R)-Math.floor(b/R),$>_&&(R=uC($*R/_/y)*y),Ge(u)||(U=Math.pow(10,u),R=Math.ceil(R*U)/U),s==="ticks"?(N=Math.floor(b/R)*R,P=Math.ceil(w/R)*R):(N=b,P=w),S&&E&&a&&PQ((l-o)/a,R/1e3)?($=Math.round(Math.min((l-o)/R,f)),R=(l-o)/$,N=o,P=l):C?(N=S?o:N,P=E?l:P,$=h-1,R=(P-N)/$):($=(P-N)/R,sd($,Math.round($),R/1e3)?$=Math.round($):$=Math.ceil($));const X=Math.max(hC(R),hC(N));U=Math.pow(10,Ge(u)?X:u),N=Math.round(N*U)/U,P=Math.round(P*U)/U;let V=0;for(S&&(g&&N!==o?(n.push({value:o}),N<o&&V++,sd(Math.round((N+V*R)*U)/U,o,uA(o,D,e))&&V++):N<o&&V++);V<$;++V){const I=Math.round((N+V*R)*U)/U;if(E&&I>l)break;n.push({value:I})}return E&&g&&P!==l?n.length&&sd(n[n.length-1].value,l,uA(l,D,e))?n[n.length-1].value=l:n.push({value:l}):(!E||P===l)&&n.push({value:P}),n}function uA(e,t,{horizontal:n,minRotation:i}){const s=wr(i),a=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class Oet extends xu{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Ge(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const o=u=>s=n?s:u,l=u=>a=i?a:u;if(t){const u=Ia(s),h=Ia(a);u<0&&h<0?l(0):u>0&&h>0&&o(0)}if(s===a){let u=a===0?1:Math.abs(a*.05);l(a+u),t||o(s-u)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,o=Det(s,a);return t.bounds==="ticks"&&$Q(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return z1(t,this.chart.options.locale,this.options.ticks.format)}}class Met extends Oet{static id="linear";static defaults={ticks:{callback:nB.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Vs(t)?t:0,this.max=Vs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=wr(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ey={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},os=Object.keys(Ey);function hA(e,t){return e-t}function dA(e,t){if(Ge(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:a}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Vs(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(uu(a)||a===!0)?n.startOf(o,"isoWeek",a):n.startOf(o,s)),+o)}function fA(e,t,n,i){const s=os.length;for(let a=os.indexOf(e);a<s-1;++a){const o=Ey[os[a]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(l*o.size))<=i)return os[a]}return os[s-1]}function Net(e,t,n,i,s){for(let a=os.length-1;a>=os.indexOf(n);a--){const o=os[a];if(Ey[o].common&&e._adapter.diff(s,i,o)>=t-1)return o}return os[n?os.indexOf(n):0]}function Iet(e){for(let t=os.indexOf(e)+1,n=os.length;t<n;++t)if(Ey[os[t]].common)return os[t]}function pA(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=F1(n,t),a=n[i]>=t?n[i]:n[s];e[a]=!0}}function Bet(e,t,n,i){const s=e._adapter,a=+s.startOf(t[0].value,i),o=t[t.length-1].value;let l,u;for(l=a;l<=o;l=+s.add(l,1,i))u=n[l],u>=0&&(t[u].major=!0);return t}function mA(e,t,n){const i=[],s={},a=t.length;let o,l;for(o=0;o<a;++o)l=t[o],s[l]=o,i.push({value:l,major:!1});return a===0||!n?i:Bet(e,i,s,n)}class gA extends xu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new LJ._date(t.adapters.date);s.init(n),id(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:dA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:o,maxDefined:l}=this.getUserBounds();function u(h){!o&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!l&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!o||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=Vs(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=Vs(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,o=this.max,l=GQ(s,a,o);return this._unit=n.unit||(i.autoSkip?fA(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):Net(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Iet(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),mA(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=ki(n,0,o),i=ki(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,o=a.unit||fA(a.minUnit,n,i,this._getLabelCapacity(n)),l=Ce(s.ticks.stepSize,1),u=o==="week"?a.isoWeekday:!1,h=uu(u)||u===!0,f={};let m=n,g,y;if(h&&(m=+t.startOf(m,"isoWeek",u)),m=+t.startOf(m,h?"day":o),t.diff(i,n,o)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+o);const _=s.ticks.source==="data"&&this.getDataTimestamps();for(g=m,y=0;g<i;g=+t.add(g,l,o),y++)pA(f,g,_);return(g===i||s.bounds==="ticks"||y===1)&&pA(f,g,_),Object.keys(f).sort(hA).map(b=>+b)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,a=this._unit,o=n||s[a];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,s){const a=this.options,o=a.ticks.callback;if(o)return En(o,[t,n,i],this);const l=a.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&l[u],m=h&&l[h],g=i[n],y=h&&m&&g&&g.major;return this._adapter.format(t,s||(y?m:f))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=wr(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*a+l*o,h:i*o+l*a}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(t,0,mA(this,[t],this._majorUnit),s),o=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(dA(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Q3(t.sort(hA))}}function Pp(e,t,n){let i=0,s=e.length-1,a,o,l,u;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=hl(e,"pos",t)),{pos:a,time:l}=e[i],{pos:o,time:u}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=hl(e,"time",t)),{time:a,pos:l}=e[i],{time:o,pos:u}=e[s]);const h=o-a;return h?l+(u-l)*(t-a)/h:l}class _it extends gA{static id="timeseries";static defaults=gA.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Pp(n,this.min),this._tableRange=Pp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],a=[];let o,l,u,h,f;for(o=0,l=t.length;o<l;++o)h=t[o],h>=n&&h<=i&&s.push(h);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,l=s.length;o<l;++o)f=s[o+1],u=s[o-1],h=s[o],Math.round((f+u)/2)!==h&&a.push({time:h,pos:o/(l-1)});return a}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Pp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Pp(this._table,i*this._tableRange+this._minPos,!0)}}const DB="label";function yA(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Fet(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function OB(e,t){e.labels=t}function MB(e,t,n=DB){const i=[];e.datasets=t.map(s=>{const a=e.datasets.find(o=>o[n]===s[n]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function Uet(e,t=DB){const n={labels:[],datasets:[]};return OB(n,e.labels),MB(n,e.datasets,t),n}function qet(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:o,data:l,options:u,plugins:h=[],fallbackContent:f,updateMode:m,...g}=e,y=ft.useRef(null),_=ft.useRef(null),b=()=>{y.current&&(_.current=new Sy(y.current,{type:o,data:Uet(l,a),options:u&&{...u},plugins:h}),yA(t,_.current))},w=()=>{yA(t,null),_.current&&(_.current.destroy(),_.current=null)};return ft.useEffect(()=>{!s&&_.current&&u&&Fet(_.current,u)},[s,u]),ft.useEffect(()=>{!s&&_.current&&OB(_.current.config.data,l.labels)},[s,l.labels]),ft.useEffect(()=>{!s&&_.current&&l.datasets&&MB(_.current.config.data,l.datasets,a)},[s,l.datasets]),ft.useEffect(()=>{_.current&&(s?(w(),setTimeout(b)):_.current.update(m))},[s,u,l.labels,l.datasets,m]),ft.useEffect(()=>{_.current&&(w(),setTimeout(b))},[o]),ft.useEffect(()=>(b(),()=>w()),[]),z.jsx("canvas",{ref:y,role:"img",height:n,width:i,...g,children:f})}const zet=ft.forwardRef(qet);function Ty(e,t){return Sy.register(t),ft.forwardRef((n,i)=>z.jsx(zet,{...n,ref:i,type:e}))}const Pet=Ty("line",CJ),$et=Ty("bar",EJ),Het=Ty("pie",AJ),jet=Ty("scatter",RJ);Sy.register(Let,Met,cet,eet,net,Wtt,yet,ket,met);const bA=["#2aa198","#859900","#b58900","#cb4b16","#dc322f","#6c71c4","#d33682","#268bd2"];function L_(e){if(e===null||e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null}const $p=20;function Wet({queryResult:e}){const[t,n]=ft.useState(e.columns[0]??""),[i,s]=ft.useState(e.columns[1]??e.columns[0]??""),[a,o]=ft.useState("bar"),l=ft.useMemo(()=>e.rows.map(_=>L_(_[i])),[e.rows,i]),u=l.some(_=>_!==null),h=ft.useMemo(()=>e.rows.map(_=>_[t]??"NULL"),[e.rows,t]),f=ft.useMemo(()=>l.map(_=>_??0),[l]),m=ft.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{title:{display:!0,text:t}},y:{title:{display:!0,text:i}}}}),[t,i]),g=ft.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0}}}),[]);function y(){if(!u)return z.jsxs("div",{className:"duckdb-chart-message",children:["Y column ",i," contains no numeric values"]});switch(a){case"bar":return z.jsx($et,{data:{labels:h,datasets:[{label:i,data:f,backgroundColor:"rgba(42, 161, 152, 0.6)",borderColor:"#2aa198",borderWidth:1}]},options:m});case"line":return z.jsx(Pet,{data:{labels:h,datasets:[{label:i,data:f,backgroundColor:"rgba(42, 161, 152, 0.6)",borderColor:"#2aa198",borderWidth:2,pointRadius:2}]},options:m});case"scatter":{const _=e.rows.map(b=>{const w=L_(b[t]),S=L_(b[i]);return w!==null&&S!==null?{x:w,y:S}:null}).filter(b=>b!==null);return z.jsx(jet,{data:{datasets:[{label:`${t} vs ${i}`,data:_,backgroundColor:"rgba(42, 161, 152, 0.6)",borderColor:"#2aa198"}]},options:m})}case"pie":{const _=h.slice(0,$p),b=f.slice(0,$p);return z.jsxs(z.Fragment,{children:[z.jsx(Het,{data:{labels:_,datasets:[{data:b,backgroundColor:_.map((w,S)=>bA[S%bA.length]),borderColor:"#eee8d5",borderWidth:1}]},options:g}),e.rows.length>$p&&z.jsxs("div",{className:"duckdb-chart-message",children:["Showing first ",$p," of ",e.rows.length," rows"]})]})}}}return z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"duckdb-chart-controls",children:[z.jsxs("label",{children:["X Column",z.jsx("select",{value:t,onChange:_=>n(_.target.value),children:e.columns.map(_=>z.jsx("option",{value:_,children:_},_))})]}),z.jsxs("label",{children:["Y Column",z.jsx("select",{value:i,onChange:_=>s(_.target.value),children:e.columns.map(_=>z.jsx("option",{value:_,children:_},_))})]}),z.jsxs("label",{children:["Chart Type",z.jsxs("select",{value:a,onChange:_=>o(_.target.value),children:[z.jsx("option",{value:"bar",children:"Bar"}),z.jsx("option",{value:"line",children:"Line"}),z.jsx("option",{value:"scatter",children:"Scatter"}),z.jsx("option",{value:"pie",children:"Pie"})]})]})]}),z.jsx("div",{className:"duckdb-chart-container",children:y()})]})}const Yet=[{name:"Hello DuckDB",sql:"SELECT 42 AS answer, 'Hello DuckDB!' AS greeting;"},{name:"Generate Series",sql:`SELECT *
FROM generate_series(1, 20) AS t(n)
WHERE n % 2 = 0;`},{name:"Inline Stocks",sql:`SELECT * FROM (VALUES
  ('AAPL',  'Apple Inc',       182.52),
  ('MSFT',  'Microsoft',       378.91),
  ('GOOGL', 'Alphabet',        141.80),
  ('AMZN',  'Amazon',          178.25),
  ('NVDA',  'NVIDIA',          875.28),
  ('META',  'Meta Platforms',   484.10),
  ('TSLA',  'Tesla Inc',       177.48)
) AS stocks(ticker, company, price)
ORDER BY price DESC;`},{name:"Window Functions",sql:`WITH sales AS (
  SELECT * FROM (VALUES
    ('Q1', 'North', 150), ('Q1', 'South', 200),
    ('Q2', 'North', 180), ('Q2', 'South', 220),
    ('Q3', 'North', 210), ('Q3', 'South', 190),
    ('Q4', 'North', 240), ('Q4', 'South', 260)
  ) AS t(quarter, region, revenue)
)
SELECT
  quarter, region, revenue,
  SUM(revenue) OVER (
    PARTITION BY region ORDER BY quarter
  ) AS cumulative,
  RANK() OVER (ORDER BY revenue DESC) AS rank
FROM sales;`},{name:"Remote Parquet",sql:`-- AWS CloudFront edge locations (from GitHub)
SELECT
  code, city, country,
  ROUND(latitude, 3) AS lat,
  ROUND(longitude, 3) AS lon
FROM read_parquet(
  'https://raw.githubusercontent.com/tobilg/aws-edge-locations/main/data/aws-edge-locations.parquet'
)
ORDER BY country, city
LIMIT 50;`},{name:"Remote CSV",sql:`-- Iris dataset from GitHub
SELECT
  species,
  sepal_length,
  sepal_width,
  petal_length,
  petal_width
FROM read_csv(
  'https://raw.githubusercontent.com/mwaskom/seaborn-data/master/iris.csv'
)
ORDER BY sepal_length DESC
LIMIT 30;`},{name:"CSV Aggregation",sql:`-- Iris species stats
SELECT
  species,
  COUNT(*) AS n,
  ROUND(AVG(sepal_length), 2) AS avg_sepal_l,
  ROUND(AVG(petal_length), 2) AS avg_petal_l,
  ROUND(STDDEV(sepal_width), 2) AS std_sepal_w
FROM read_csv(
  'https://raw.githubusercontent.com/mwaskom/seaborn-data/master/iris.csv'
)
GROUP BY species
ORDER BY avg_sepal_l DESC;`},{name:"Pivot Table",sql:`WITH data AS (
  SELECT * FROM (VALUES
    (2023, 'Q1', 'Product A', 1200),
    (2023, 'Q2', 'Product A', 1500),
    (2023, 'Q3', 'Product A', 1100),
    (2023, 'Q4', 'Product A', 1800),
    (2023, 'Q1', 'Product B', 800),
    (2023, 'Q2', 'Product B', 950),
    (2023, 'Q3', 'Product B', 1050),
    (2023, 'Q4', 'Product B', 1200)
  ) AS t(year, quarter, product, sales)
)
PIVOT data
ON quarter
USING SUM(sales)
GROUP BY year, product
ORDER BY product;`},{name:"System Info",sql:`SELECT
  version() AS duckdb_version,
  current_date AS today,
  current_timestamp AS now;`}],io=1e3,Get=["CREATE","DROP","ALTER","INSERT","UPDATE","DELETE","COPY","LOAD","INSTALL","SET"];function Vet(e){const t=e.replace(/--[^\n]*/g,"").trim().split(/\s+/)[0]?.toUpperCase();return Get.includes(t??"")}function Hp(e){if(e==null)return{text:"NULL",isNull:!0};if(typeof e=="bigint")return{text:e.toString(),isNull:!1};if(typeof e=="object"&&e!==null){const t=e.valueOf();return typeof t=="number"||typeof t=="bigint"||typeof t=="string"?{text:String(t),isNull:!1}:e instanceof Date?{text:e.toISOString(),isNull:!1}:{text:JSON.stringify(e),isNull:!1}}return{text:String(e),isNull:!1}}function so(e){return e.replace(/[^a-zA-Z0-9_]/g,"_")}function Xet(e){const t=e.toUpperCase();return t.includes("INT")?"int":t.includes("VARCHAR")||t.includes("TEXT")||t.includes("CHAR")?"string":t.includes("BOOL")?"bool":t.includes("FLOAT")||t.includes("DOUBLE")||t.includes("DECIMAL")||t.includes("NUMERIC")?"float":t.includes("DATE")||t.includes("TIME")||t.includes("TIMESTAMP")?"datetime":t.includes("BLOB")?"blob":e.replace(/[^a-zA-Z0-9_]/g,"_")}function Zet(e,t){const n=["erDiagram"],i=Object.entries(e);for(const[a,o]of i){const l=so(a);n.push(`  ${l} {`);for(const u of o)n.push(`    ${Xet(u.type)} ${so(u.col)}`);n.push("  }")}const s=new Set;for(const a of t){const o=so(a.fromTable),l=so(a.toTable),u=`${o}--${l}--${a.fromColumn}`;s.has(u)||(s.add(u),n.push(`  ${l} ||--o{ ${o} : "${so(a.fromColumn)}"`))}if(i.length>1){const a=new Map;for(const[o,l]of i)for(const u of l){const h=a.get(u.col)??[];h.push(o),a.set(u.col,h)}for(const[o,l]of a)if(!(l.length<2)&&!["id","created_at","updated_at","name","type","status","description"].includes(o))for(let u=0;u<l.length;u++)for(let h=u+1;h<l.length;h++){const f=so(l[u]),m=so(l[h]),g=`${f}--${m}--${o}`,y=`${m}--${f}--${o}`;!s.has(g)&&!s.has(y)&&(s.add(g),n.push(`  ${f} }o..o{ ${m} : "${so(o)}"`))}}return n.join(`
`)}function Qet({headerRight:e,sqlGeneratorSlot:t,externalSql:n,externalSqlVersion:i,onQueryResult:s,onQueryError:a,onSchemaChange:o,onDbReady:l}){const u=ft.useRef(null),h=ft.useRef(null),[f,m]=ft.useState("loading"),[g,y]=ft.useState("Loading..."),[_,b]=ft.useState("Initializing DuckDB..."),[w,S]=ft.useState(!0),[E,C]=ft.useState(!1),[D,R]=ft.useState("SELECT 42 AS answer, 'Hello DuckDB!' AS greeting;"),[U,N]=ft.useState(""),[P,$]=ft.useState(null),[X,V]=ft.useState(null),[I,G]=ft.useState(null),[k,H]=ft.useState({}),[M,B]=ft.useState("table"),[W,Z]=ft.useState("tips"),[rt,O]=ft.useState("local"),[q,tt]=ft.useState(""),[it,st]=ft.useState(!1),[Ct,Dt]=ft.useState(!1),[Ot,At]=ft.useState(!1),[Gt,be]=ft.useState("diagram"),[sn,Ve]=ft.useState(""),[L,mt]=ft.useState(""),[dt,Y]=ft.useState(null),[j,nt]=ft.useState(1),yt=ft.useRef(null),xt=ft.useRef(null),lt=ft.useRef(!1),vt=ft.useCallback((Rt,fe)=>{m(Rt),y(fe)},[]),Tt=ft.useCallback(()=>{$(null),V(null),G(null),N("")},[]),St=ft.useCallback(async()=>{const Rt=h.current;if(Rt)try{const ge=(await Rt.query(`SELECT table_name, column_name, data_type
         FROM information_schema.columns
         WHERE table_schema = 'main'
         ORDER BY table_name, ordinal_position`)).toArray(),xe={};for(const Te of ge){const ae=Te.table_name;xe[ae]||(xe[ae]=[]),xe[ae].push({col:Te.column_name,type:Te.data_type})}H(xe),o?.(xe)}catch{H({}),o?.({})}},[o]),It=ft.useCallback(async()=>{const Rt=h.current;if(!Rt||Object.keys(k).length===0)return;let fe=[];try{fe=(await Rt.query(`SELECT
           tc.table_name AS from_table,
           kcu.column_name AS from_column,
           ccu.table_name AS to_table,
           ccu.column_name AS to_column
         FROM information_schema.table_constraints tc
         JOIN information_schema.key_column_usage kcu
           ON tc.constraint_name = kcu.constraint_name
         JOIN information_schema.constraint_column_usage ccu
           ON tc.constraint_name = ccu.constraint_name
         WHERE tc.constraint_type = 'FOREIGN KEY'
           AND tc.table_schema = 'main'`)).toArray().map(ae=>({fromTable:ae.from_table,fromColumn:ae.from_column,toTable:ae.to_table,toColumn:ae.to_column}))}catch{}const ge=Zet(k,fe);Ve(ge),be("diagram"),Y(null),nt(1);try{nC.initialize({startOnLoad:!1,theme:"default",er:{useMaxWidth:!0}});const{svg:xe}=await nC.render("er-diagram-svg",ge);mt(xe)}catch(xe){Y(xe instanceof Error?xe.message:String(xe)),mt("")}At(!0)},[k]),ue=ft.useCallback(async Rt=>{const fe=h.current;if(!fe||lt.current)return;const ge=(Rt??D).trim();if(!ge)return;lt.current=!0,C(!0),vt("running","Running..."),Tt();const xe=performance.now();try{const Te=await fe.query(ge),ae=((performance.now()-xe)/1e3).toFixed(3),qn=Te.schema.fields.map(Re=>Re.name),bn=Te.numRows;if(qn.length===0||bn===0&&Vet(ge))G(`Query executed successfully in ${ae}s`),N(ae+"s"),St(),s?.(null),a?.(null);else{const Re=Math.min(bn,io),Wn=Te.toArray(),fi=[];for(let ui=0;ui<Re;ui++){const xi=Wn[ui],hi={};for(const dn of qn){const{text:kn,isNull:Ii}=Hp(xi[dn]);hi[dn]=Ii?null:kn}fi.push(hi)}const Yn=bn>io?` (showing ${io})`:"",ci={columns:qn,rows:fi,numRows:bn,elapsed:ae};$(ci),N(`${bn} rows  ${ae}s`),s?.(ci),a?.(null)}vt("ready","Ready")}catch(Te){const ae=((performance.now()-xe)/1e3).toFixed(3),qn=Te.message;V(qn),N(`Error after ${ae}s`),vt("error","Error"),setTimeout(()=>vt("ready","Ready"),3e3),s?.(null),a?.(qn)}lt.current=!1,C(!1)},[D,vt,Tt,St,s,a]);ft.useEffect(()=>{n!==void 0&&i&&i>0&&(R(n),h.current&&!lt.current&&ue(n))},[i]),ft.useEffect(()=>{let Rt=!1;async function fe(){try{b("Fetching DuckDB bundles...");const ge=hq(),xe=await fq(ge);if(Rt)return;b("Starting worker...");const Te=URL.createObjectURL(new Blob([`importScripts("${xe.mainWorker}");`],{type:"text/javascript"})),ae=new Worker(Te),qn=new jU,bn=new eq(qn,ae);if(Rt||(b("Instantiating database..."),await bn.instantiate(xe.mainModule,xe.pthreadWorker),URL.revokeObjectURL(Te),Rt))return;b("Connecting...");const Re=await bn.connect();u.current=bn,h.current=Re,vt("ready","Ready"),S(!1),l?.(bn,Re,St),lt.current=!1;const Wn=performance.now();try{const fi=await Re.query("SELECT 42 AS answer, 'Hello DuckDB!' AS greeting;"),Yn=((performance.now()-Wn)/1e3).toFixed(3),ci=fi.schema.fields.map(dn=>dn.name),ui=fi.numRows,xi=fi.toArray(),hi=[];for(let dn=0;dn<Math.min(ui,io);dn++){const kn=xi[dn],Ii={};for(const hs of ci){const{text:Kn,isNull:Cn}=Hp(kn[hs]);Ii[hs]=Cn?null:Kn}hi.push(Ii)}Rt||($({columns:ci,rows:hi,numRows:ui,elapsed:Yn}),N(`${ui} rows  ${Yn}s`))}catch{}}catch(ge){Rt||(vt("error","Init failed"),b("Error: "+ge.message))}}return fe(),()=>{Rt=!0}},[vt]);const Kt=ft.useCallback(async Rt=>{const fe=u.current,ge=h.current;if(!fe||!ge)return;const xe=Rt.name.replace(/\.[^.]+$/,"").replace(/[^a-zA-Z0-9_]/g,"_"),Te=Rt.name.split(".").pop()?.toLowerCase();vt("running","Loading file..."),Tt();try{const ae=await Rt.arrayBuffer();await fe.registerFileBuffer(Rt.name,new Uint8Array(ae));let qn;if(Te==="parquet")qn=`CREATE OR REPLACE TABLE "${xe}" AS SELECT * FROM read_parquet('${Rt.name}')`;else if(Te==="csv"||Te==="tsv")qn=`CREATE OR REPLACE TABLE "${xe}" AS SELECT * FROM read_csv('${Rt.name}', auto_detect=true)`;else if(Te==="json")qn=`CREATE OR REPLACE TABLE "${xe}" AS SELECT * FROM read_json_auto('${Rt.name}')`;else throw new Error("Unsupported file type: ."+Te);await ge.query(qn);const bn=`SELECT * FROM "${xe}" LIMIT 100;`;R(bn),vt("ready","Ready"),await St(),lt.current=!1;const Re=performance.now(),Wn=await ge.query(bn),fi=((performance.now()-Re)/1e3).toFixed(3),Yn=Wn.schema.fields.map(hi=>hi.name),ci=Wn.numRows,ui=Wn.toArray(),xi=[];for(let hi=0;hi<Math.min(ci,io);hi++){const dn=ui[hi],kn={};for(const Ii of Yn){const{text:hs,isNull:Kn}=Hp(dn[Ii]);kn[Ii]=Kn?null:hs}xi.push(kn)}$({columns:Yn,rows:xi,numRows:ci,elapsed:fi}),N(`${ci} rows  ${fi}s`)}catch(ae){vt("error","Load failed"),V("File load error: "+ae.message),setTimeout(()=>vt("ready","Ready"),3e3)}},[vt,Tt,St]),Ln=ft.useCallback(async()=>{const Rt=u.current,fe=h.current;if(!Rt||!fe)return;const ge=q.trim();if(!ge)return;let xe;try{xe=new URL(ge)}catch{V("Invalid URL. Please enter a full URL starting with https://");return}const Te=xe.pathname.toLowerCase();let ae;if(Te.endsWith(".parquet"))ae="parquet";else if(Te.endsWith(".csv"))ae="csv";else if(Te.endsWith(".tsv"))ae="tsv";else if(Te.endsWith(".json"))ae="json";else{V("Could not detect file type from URL. The URL must end in .csv, .parquet, .tsv, or .json");return}const bn=(xe.pathname.split("/").pop()??"remote_data").replace(/\.[^.]+$/,"").replace(/[^a-zA-Z0-9_]/g,"_")||"remote_data";vt("running","Loading URL..."),st(!0),Tt();try{let Re;ae==="parquet"?Re=`CREATE OR REPLACE TABLE "${bn}" AS SELECT * FROM read_parquet('${ge}')`:ae==="csv"||ae==="tsv"?Re=`CREATE OR REPLACE TABLE "${bn}" AS SELECT * FROM read_csv('${ge}', auto_detect=true)`:Re=`CREATE OR REPLACE TABLE "${bn}" AS SELECT * FROM read_json_auto('${ge}')`,await fe.query(Re);const Wn=`SELECT * FROM "${bn}" LIMIT 100;`;R(Wn),vt("ready","Ready"),await St(),lt.current=!1;const fi=performance.now(),Yn=await fe.query(Wn),ci=((performance.now()-fi)/1e3).toFixed(3),ui=Yn.schema.fields.map(kn=>kn.name),xi=Yn.numRows,hi=Yn.toArray(),dn=[];for(let kn=0;kn<Math.min(xi,io);kn++){const Ii=hi[kn],hs={};for(const Kn of ui){const{text:Cn,isNull:_n}=Hp(Ii[Kn]);hs[Kn]=_n?null:Cn}dn.push(hs)}$({columns:ui,rows:dn,numRows:xi,elapsed:ci}),N(`${xi} rows  ${ci}s`)}catch(Re){vt("error","Load failed"),V(Re.message),setTimeout(()=>vt("ready","Ready"),3e3)}st(!1)},[q,vt,Tt,St]),Ni=ft.useCallback(Rt=>{if((Rt.ctrlKey||Rt.metaKey)&&Rt.key==="Enter"){Rt.preventDefault(),ue();return}if(Rt.key==="Tab"){Rt.preventDefault();const fe=Rt.currentTarget,ge=fe.selectionStart,xe=fe.selectionEnd,Te=fe.value,ae=Te.substring(0,ge)+"  "+Te.substring(xe);R(ae),requestAnimationFrame(()=>{fe.selectionStart=fe.selectionEnd=ge+2})}},[ue]),Fn=ft.useCallback(Rt=>{Rt.key==="Enter"&&(Rt.preventDefault(),Ln())},[Ln]),Un=ft.useCallback(Rt=>{Rt.preventDefault(),Dt(!0)},[]),kt=ft.useCallback(()=>{Dt(!1)},[]),_e=ft.useCallback(Rt=>{Rt.preventDefault(),Dt(!1),Rt.dataTransfer.files.length>0&&Kt(Rt.dataTransfer.files[0])},[Kt]),Zt=ft.useCallback(()=>{xt.current?.click()},[]),Yt=ft.useCallback(Rt=>{Rt.target.files&&Rt.target.files.length>0&&Kt(Rt.target.files[0])},[Kt]),Xe=Object.entries(k);return z.jsxs("div",{className:"duckdb-editor",children:[w&&z.jsx("div",{className:"duckdb-loading-overlay",children:z.jsxs("div",{style:{textAlign:"center"},children:[z.jsx("div",{className:"duckdb-loading-icon",children:""}),z.jsx("p",{className:"duckdb-loading-message",children:_})]})}),z.jsx("header",{className:"duckdb-header",children:z.jsxs("nav",{children:[z.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:z.jsx("span",{className:"duckdb-header-title",children:"AI Data Analyst"})}),z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[z.jsxs("div",{className:"duckdb-status",children:[z.jsx("span",{className:`duckdb-status-dot ${f}`}),z.jsx("span",{children:g})]}),e]})]})}),z.jsxs("main",{className:"duckdb-main",children:[z.jsxs("div",{className:"duckdb-left",children:[t,z.jsxs("div",{className:"duckdb-card",children:[z.jsxs("div",{className:"duckdb-card-header",children:[z.jsx("label",{className:"duckdb-card-label",children:"SQL Query"}),z.jsx("span",{className:"duckdb-card-hint",children:"Ctrl+Enter to run"})]}),z.jsx("textarea",{ref:yt,className:"sql-editor",rows:10,spellCheck:!1,placeholder:"Enter SQL query...",value:D,onChange:Rt=>R(Rt.target.value),onKeyDown:Ni}),z.jsxs("div",{className:"duckdb-action-bar",children:[z.jsx("div",{className:"duckdb-query-info",children:U}),z.jsxs("div",{className:"duckdb-action-buttons",children:[z.jsx("button",{className:"duckdb-btn duckdb-btn-secondary",onClick:()=>{R(""),Tt(),yt.current?.focus()},children:"Clear"}),z.jsx("button",{className:"duckdb-btn duckdb-btn-primary",disabled:E||w,onClick:()=>{ue()},children:" Run Query"})]})]})]}),E&&z.jsx("div",{className:"duckdb-running-bar"}),P&&z.jsxs("div",{className:"duckdb-card",children:[z.jsxs("div",{className:"duckdb-card-header",children:[z.jsxs("div",{className:"duckdb-results-tabs",children:[z.jsx("button",{className:`duckdb-results-tab${M==="table"?" active":""}`,onClick:()=>B("table"),children:"Table"}),z.jsx("button",{className:`duckdb-results-tab${M==="chart"?" active":""}`,onClick:()=>B("chart"),children:"Chart"})]}),z.jsxs("span",{className:"duckdb-card-hint",children:[P.numRows," row",P.numRows!==1?"s":""," "," ",P.columns.length," col",P.columns.length!==1?"s":"",P.numRows>io?` (showing ${io})`:"","  ",P.elapsed,"s"]})]}),M==="table"&&z.jsx("div",{className:"duckdb-results-scroll",children:z.jsxs("table",{className:"results-table",children:[z.jsx("thead",{children:z.jsx("tr",{children:P.columns.map(Rt=>z.jsx("th",{children:Rt},Rt))})}),z.jsx("tbody",{children:P.rows.map((Rt,fe)=>z.jsx("tr",{children:P.columns.map(ge=>z.jsx("td",{className:Rt[ge]===null?"null-val":void 0,title:Rt[ge]??"NULL",children:Rt[ge]??"NULL"},ge))},fe))})]})}),M==="chart"&&z.jsx(Wet,{queryResult:P},P.columns.join(","))]}),X&&z.jsx("div",{className:"duckdb-error-card",children:z.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[z.jsx("span",{className:"error-icon",children:""}),z.jsxs("div",{style:{minWidth:0},children:[z.jsx("p",{className:"error-label",children:"Query Error"}),z.jsx("pre",{className:"error-message",children:X})]})]})}),I&&z.jsx("div",{className:"duckdb-success-card",children:z.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[z.jsx("span",{className:"success-icon",children:""}),z.jsx("p",{className:"success-message",children:I})]})})]}),z.jsx("aside",{className:"duckdb-sidebar",children:z.jsxs("div",{className:"duckdb-sidebar-sticky",children:[z.jsxs("div",{className:"duckdb-card",children:[z.jsx("div",{className:"duckdb-card-header",children:z.jsxs("div",{className:"duckdb-results-tabs",children:[z.jsx("button",{className:`duckdb-results-tab${rt==="local"?" active":""}`,onClick:()=>O("local"),children:"Local File"}),z.jsx("button",{className:`duckdb-results-tab${rt==="remote"?" active":""}`,onClick:()=>O("remote"),children:"Remote File"})]})}),rt==="local"&&z.jsxs("div",{className:`duckdb-drop-zone${Ct?" active":""}`,onDragOver:Un,onDragLeave:kt,onDrop:_e,style:{margin:"16px",borderRadius:"6px"},children:[z.jsxs("p",{children:["Drop a ",z.jsx("strong",{children:"CSV"})," or ",z.jsx("strong",{children:"Parquet"})," file here to load it as a table"]}),z.jsx("input",{ref:xt,type:"file",accept:".csv,.parquet,.json,.tsv",style:{display:"none"},onChange:Yt}),z.jsx("button",{className:"duckdb-browse-btn",onClick:Zt,children:"or browse files"})]}),rt==="remote"&&z.jsxs("div",{className:"duckdb-sidebar-card-body duckdb-url-loader",children:[z.jsx("label",{children:"Load from URL"}),z.jsxs("div",{className:"duckdb-url-row",children:[z.jsx("input",{type:"text",className:"duckdb-url-input",placeholder:"https://example.com/data.csv",value:q,onChange:Rt=>tt(Rt.target.value),onKeyDown:Fn}),z.jsx("button",{className:"duckdb-btn duckdb-btn-primary",style:{padding:"6px 12px",fontSize:"11px"},disabled:it,onClick:()=>{Ln()},children:"Load"})]}),z.jsx("p",{className:"duckdb-url-hint",children:".csv, .parquet, .json  must allow CORS"})]})]}),z.jsx("div",{className:"duckdb-card",children:z.jsxs("div",{className:"duckdb-sidebar-card-body",children:[z.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[z.jsx("h4",{style:{margin:0},children:"Schema"}),z.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[Xe.length>0&&z.jsx("button",{className:"duckdb-diagram-btn",onClick:()=>{It()},"aria-label":"View ER diagram",title:"View ER diagram",children:z.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[z.jsx("rect",{x:"1",y:"3",width:"8",height:"7",rx:"1"}),z.jsx("rect",{x:"15",y:"3",width:"8",height:"7",rx:"1"}),z.jsx("rect",{x:"8",y:"14",width:"8",height:"7",rx:"1"}),z.jsx("line",{x1:"5",y1:"10",x2:"5",y2:"14"}),z.jsx("line",{x1:"5",y1:"14",x2:"12",y2:"14"}),z.jsx("line",{x1:"19",y1:"10",x2:"19",y2:"14"}),z.jsx("line",{x1:"19",y1:"14",x2:"12",y2:"14"})]})}),z.jsx("button",{className:"duckdb-refresh-btn",onClick:()=>{St()},children:"refresh"})]})]}),Xe.length===0?z.jsx("p",{className:"duckdb-schema-empty",children:"No tables yet"}):Xe.map(([Rt,fe])=>z.jsxs("div",{style:{marginBottom:"12px"},children:[z.jsx("p",{className:"duckdb-schema-table-name",children:Rt}),z.jsx("ul",{className:"duckdb-schema-columns",children:fe.map(ge=>z.jsxs("li",{children:[z.jsx("span",{className:"duckdb-schema-col-name",children:ge.col})," ",z.jsx("span",{className:"duckdb-schema-col-type",children:ge.type})]},ge.col))})]},Rt))]})}),z.jsxs("div",{className:"duckdb-card duckdb-example-card",children:[z.jsx("div",{className:"duckdb-card-header",children:z.jsxs("div",{className:"duckdb-results-tabs",children:[z.jsx("button",{className:`duckdb-results-tab${W==="tips"?" active":""}`,onClick:()=>Z("tips"),children:"Tips"}),z.jsx("button",{className:`duckdb-results-tab${W==="examples"?" active":""}`,onClick:()=>Z("examples"),children:"Example Queries"})]})}),z.jsxs("div",{className:"duckdb-sidebar-card-body",children:[W==="tips"&&z.jsxs("ul",{className:"duckdb-tips",children:[z.jsxs("li",{children:[z.jsx("strong",{children:"Ctrl+Enter"})," runs the query"]}),z.jsxs("li",{children:[z.jsx("strong",{children:"Tab"})," inserts two spaces"]}),z.jsxs("li",{children:["Query remote ",z.jsx("strong",{children:"Parquet"}),", ",z.jsx("strong",{children:"CSV"}),", and ",z.jsx("strong",{children:"JSON"})," files by URL"]}),z.jsxs("li",{children:["Remote files must allow ",z.jsx("strong",{children:"CORS"})]}),z.jsxs("li",{children:["Display capped at ",z.jsx("strong",{children:"1,000 rows"})]})]}),W==="examples"&&z.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:Yet.map(Rt=>z.jsx("button",{className:"duckdb-example-btn",onClick:()=>{R(Rt.sql),yt.current?.focus()},children:Rt.name},Rt.name))})]})]})]})})]}),Ot&&z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"duckdb-er-backdrop",onClick:()=>At(!1)}),z.jsxs("div",{className:"duckdb-er-modal",children:[z.jsxs("div",{className:"duckdb-er-header",children:[z.jsxs("div",{className:"duckdb-results-tabs",children:[z.jsx("button",{className:`duckdb-results-tab${Gt==="diagram"?" active":""}`,onClick:()=>be("diagram"),children:"Diagram"}),z.jsx("button",{className:`duckdb-results-tab${Gt==="mermaid"?" active":""}`,onClick:()=>be("mermaid"),children:"Mermaid"})]}),z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[Gt==="diagram"&&z.jsxs(z.Fragment,{children:[z.jsx("button",{className:"duckdb-er-zoom-btn",onClick:()=>nt(Rt=>Math.max(.25,Rt-.25)),"aria-label":"Zoom out",title:"Zoom out",children:""}),z.jsxs("span",{className:"duckdb-er-zoom-label",children:[Math.round(j*100),"%"]}),z.jsx("button",{className:"duckdb-er-zoom-btn",onClick:()=>nt(Rt=>Math.min(3,Rt+.25)),"aria-label":"Zoom in",title:"Zoom in",children:"+"})]}),z.jsx("button",{className:"duckdb-er-close-btn",onClick:()=>At(!1),"aria-label":"Close diagram",children:""})]})]}),z.jsxs("div",{className:"duckdb-er-body",children:[Gt==="diagram"&&(dt?z.jsxs("p",{className:"duckdb-er-error",children:["Failed to render diagram: ",dt]}):z.jsx("div",{className:"duckdb-er-diagram-container",style:{transform:`scale(${j})`,transformOrigin:"top center"},dangerouslySetInnerHTML:{__html:L}})),Gt==="mermaid"&&z.jsx("pre",{className:"duckdb-er-code",children:sn})]})]})]})]})}const Pg={"aggregates.md":"Aggregate Functions","array.md":"Array Functions","bitstring.md":"Bitstring Functions","blob.md":"Blob Functions","case.md":"CASE Expression","cast.md":"Casting","collations.md":"Collations","comparison_operators.md":"Comparisons","date.md":"Date Functions","dateformat.md":"Date Format Functions","datepart.md":"Date Part Functions","enum.md":"Enum Functions","filter.md":"FILTER Clause","from.md":"FROM and JOIN Clauses","groupby.md":"GROUP BY Clause","grouping_sets.md":"GROUPING SETS","having.md":"HAVING Clause","in.md":"IN Operator","interval.md":"Interval Functions","lambda.md":"Lambda Functions","limit.md":"LIMIT and OFFSET Clauses","list.md":"List Functions","logical_operators.md":"Logical Operators","map.md":"Map Functions","nested.md":"Nested Functions","numeric.md":"Numeric Functions","orderby.md":"ORDER BY Clause","overview copy.md":"Functions","overview.md":"Expressions","pattern_matching.md":"Pattern Matching","prepared_statements.md":"Prepared Statements","qualify.md":"QUALIFY Clause","regular_expressions.md":"Regular Expressions","sample.md":"SAMPLE Clause","select.md":"SELECT Clause","setops.md":"Set Operations","star.md":"Star Expression","struct.md":"Struct Functions","subqueries.md":"Subqueries","text.md":"Text Functions","time.md":"Time Functions","timestamp.md":"Timestamp Functions","timestamptz.md":"Timestamp with Time Zone Functions","try.md":"TRY expression","union.md":"Union Functions","unnest.md":"Unnesting","utility.md":"Utility Functions","values.md":"VALUES Clause","where.md":"WHERE Clause","window.md":"WINDOW Clause","window_functions.md":"Window Functions","with.md":"WITH Clause"},Ket={"aggregates.md":'---\ntitle: Aggregate Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\n## Examples\n\nProduce a single row containing the sum of the `amount` column:\n\n```sql\nSELECT sum(amount)\nFROM sales;\n```\n\nProduce one row per unique region, containing the sum of `amount` for each group:\n\n```sql\nSELECT region, sum(amount)\nFROM sales\nGROUP BY region;\n```\n\nReturn only the regions that have a sum of `amount` higher than 100:\n\n```sql\nSELECT region\nFROM sales\nGROUP BY region\nHAVING sum(amount) > 100;\n```\n\nReturn the number of unique values in the `region` column:\n\n```sql\nSELECT count(DISTINCT region)\nFROM sales;\n```\n\nReturn two values, the total sum of `amount` and the sum of `amount` minus columns where the region is `north` using the [`FILTER` clause]({% link docs/stable/sql/query_syntax/filter.md %}):\n\n```sql\nSELECT sum(amount), sum(amount) FILTER (region != \'north\')\nFROM sales;\n```\n\nReturns a list of all regions in order of the `amount` column:\n\n```sql\nSELECT list(region ORDER BY amount DESC)\nFROM sales;\n```\n\nReturns the amount of the first sale using the `first()` aggregate function:\n\n```sql\nSELECT first(amount ORDER BY date ASC)\nFROM sales;\n```\n\n## Syntax\n\n<div id="rrdiagram"></div>\n\nAggregates are functions that *combine* multiple rows into a single value. Aggregates are different from scalar functions and window functions because they change the cardinality of the result. As such, aggregates can only be used in the `SELECT` and `HAVING` clauses of a SQL query.\n\n### `DISTINCT` Clause in Aggregate Functions\n\nWhen the `DISTINCT` clause is provided, only distinct values are considered in the computation of the aggregate. This is typically used in combination with the `count` aggregate to get the number of distinct elements; but it can be used together with any aggregate function in the system.\nThere are some aggregates that are insensitive to duplicate values (e.g., `min` and `max`) and for them this clause is parsed and ignored.\n\n### `ORDER BY` Clause in Aggregate Functions\n\nAn `ORDER BY` clause can be provided after the last argument of the function call. Note the lack of the comma separator before the clause.\n\n```sql\nSELECT aggregate_function(arg, sep ORDER BY ordering_criteria);\n```\n\nThis clause ensures that the values being aggregated are sorted before applying the function.\nMost aggregate functions are order-insensitive, and for them this clause is parsed and discarded.\nHowever, there are some order-sensitive aggregates that can have non-deterministic results without ordering, e.g., `first`, `last`, `list` and `string_agg` / `group_concat` / `listagg`.\nThese can be made deterministic by ordering the arguments.\n\nFor example:\n\n```sql\nCREATE TABLE tbl AS\n    SELECT s FROM range(1, 4) r(s);\n\nSELECT string_agg(s, \', \' ORDER BY s DESC) AS countdown\nFROM tbl;\n```\n\n| countdown |\n|-----------|\n| 3, 2, 1   |\n\n### Handling `NULL` Values\n\nAll general aggregate functions ignore `NULL`s, except for [`list`](#listarg) ([`array_agg`](#listarg)), [`first`](#firstarg) ([`arbitrary`](#firstarg)) and [`last`](#lastarg).\nTo exclude `NULL`s from `list`, you can use a [`FILTER` clause]({% link docs/stable/sql/query_syntax/filter.md %}).\nTo ignore `NULL`s from `first`, you can use the [`any_value` aggregate](#any_valuearg).\n\nAll general aggregate functions except [`count`](#countarg) return `NULL` on empty groups.\nIn particular, [`list`](#listarg) does *not* return an empty list, [`sum`](#sumarg) does *not* return zero, and [`string_agg`](#string_aggarg-sep) does *not* return an empty string in this case.\n\n## General Aggregate Functions\n\nThe table below shows the available general aggregate functions.\n\n| Function | Description |\n|:--|:--------|\n| [`any_value(arg)`](#any_valuearg) | Returns the first non-null value from `arg`. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`arg_max(arg, val)`](#arg_maxarg-val) | Finds the row with the maximum `val` and calculates the `arg` expression at that row. Rows where the value of the `arg` or `val` expression is `NULL` are ignored. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`arg_max(arg, val, n)`](#arg_maxarg-val-n) | The generalized case of [`arg_max`](#arg_maxarg-val) for `n` values: returns a `LIST` containing the `arg` expressions for the top `n` rows ordered by `val` descending. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`arg_max_null(arg, val)`](#arg_max_nullarg-val) | Finds the row with the maximum `val` and calculates the `arg` expression at that row. Rows where the `val` expression evaluates to `NULL` are ignored. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`arg_min(arg, val)`](#arg_minarg-val) | Finds the row with the minimum `val` and calculates the `arg` expression at that row. Rows where the value of the `arg` or `val` expression is `NULL` are ignored. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`arg_min(arg, val, n)`](#arg_minarg-val-n) | Returns a `LIST` containing the `arg` expressions for the "bottom" `n` rows ordered by `val` ascending. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`arg_min_null(arg, val)`](#arg_min_nullarg-val) | Finds the row with the minimum `val` and calculates the `arg` expression at that row. Rows where the `val` expression evaluates to `NULL` are ignored. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`avg(arg)`](#avgarg) | Calculates the average of all non-null values in `arg`. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`bit_and(arg)`](#bit_andarg) | Returns the bitwise AND of all bits in a given expression. |\n| [`bit_or(arg)`](#bit_orarg) | Returns the bitwise OR of all bits in a given expression. |\n| [`bit_xor(arg)`](#bit_xorarg) | Returns the bitwise XOR of all bits in a given expression. |\n| [`bitstring_agg(arg)`](#bitstring_aggarg) | Returns a bitstring whose length corresponds to the range of the non-null (integer) values, with bits set at the location of each (distinct) value. |\n| [`bool_and(arg)`](#bool_andarg) | Returns `true` if every input value is `true`, otherwise `false`. |\n| [`bool_or(arg)`](#bool_orarg) | Returns `true` if any input value is `true`, otherwise `false`. |\n| [`count()`](#count) | Returns the number of rows. |\n| [`count(arg)`](#countarg) | Returns the number of rows where `arg` is not `NULL`. |\n| [`countif(arg)`](#countifarg) | Returns the number of rows where `arg` is `true`. |\n| [`favg(arg)`](#favgarg) | Calculates the average using a more accurate floating point summation (Kahan Sum). This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`first(arg)`](#firstarg) | Returns the first value (null or non-null) from `arg`. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`fsum(arg)`](#fsumarg) | Calculates the sum using a more accurate floating point summation (Kahan Sum). This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`geometric_mean(arg)`](#geometric_meanarg) | Calculates the geometric mean of all non-null values in `arg`. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`histogram(arg)`](#histogramarg) | Returns a `MAP` of key-value pairs representing buckets and counts. |\n| [`histogram(arg, boundaries)`](#histogramarg-boundaries) | Returns a `MAP` of key-value pairs representing the provided upper `boundaries` and counts of elements in the corresponding bins (left-open and right-closed partitions) of the datatype. A boundary at the largest value of the datatype is automatically added when elements larger than all provided `boundaries` appear, see [`is_histogram_other_bin`]({% link docs/stable/sql/functions/utility.md %}#is_histogram_other_binarg). Boundaries may be provided, e.g., via [`equi_width_bins`]({% link docs/stable/sql/functions/utility.md %}#equi_width_binsminmaxbincountnice). |\n| [`histogram_exact(arg, elements)`](#histogram_exactarg-elements) | Returns a `MAP` of key-value pairs representing the requested elements and their counts. A catch-all element specific to the data-type is automatically added to count other elements when they appear, see [`is_histogram_other_bin`]({% link docs/stable/sql/functions/utility.md %}#is_histogram_other_binarg). |\n| [`histogram_values(source, boundaries)`](#histogram_valuessource-col_name-technique-bin_count) | Returns the upper boundaries of the bins and their counts. |\n| [`last(arg)`](#lastarg) | Returns the last value of a column. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`list(arg)`](#listarg) | Returns a `LIST` containing all the values of a column. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`max(arg)`](#maxarg) | Returns the maximum value present in `arg`. This function is [unaffected by distinctness](#distinct-clause-in-aggregate-functions). |\n| [`max(arg, n)`](#maxarg-n) | Returns a `LIST` containing the `arg` values for the "top" `n` rows ordered by `arg` descending. |\n| [`min(arg)`](#minarg) | Returns the minimum value present in `arg`. This function is [unaffected by distinctness](#distinct-clause-in-aggregate-functions). |\n| [`min(arg, n)`](#minarg-n) | Returns a `LIST` containing the `arg` values for the "bottom" `n` rows ordered by `arg` ascending. |\n| [`product(arg)`](#productarg) | Calculates the product of all non-null values in `arg`. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`string_agg(arg)`](#string_aggarg-sep) | Concatenates the column string values with a comma separator (`,`). This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`string_agg(arg, sep)`](#string_aggarg-sep) | Concatenates the column string values with a separator. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`sum(arg)`](#sumarg) | Calculates the sum of all non-null values in `arg` / counts `true` values when `arg` is boolean. The floating-point versions of this function are [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`weighted_avg(arg, weight)`](#weighted_avgarg-weight) | Calculates the weighted average all non-null values in `arg`, where each value is scaled by its corresponding `weight`. If `weight` is `NULL`, the corresponding `arg` value will be skipped. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n\n#### `any_value(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the first non-`NULL` value from `arg`. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `any_value(A)` |\n\n#### `arg_max(arg, val)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Finds the row with the maximum `val` and calculates the `arg` expression at that row. Rows where the value of the `arg` or `val` expression is `NULL` are ignored. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `arg_max(A, B)` |\n| **Alias(es)** | `argmax(arg, val)`, `max_by(arg, val)` |\n\n#### `arg_max(arg, val, n)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The generalized case of [`arg_max`](#arg_maxarg-val) for `n` values: returns a `LIST` containing the `arg` expressions for the top `n` rows ordered by `val` descending. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `arg_max(A, B, 2)` |\n| **Alias(es)** | `argmax(arg, val, n)`, `max_by(arg, val, n)` |\n\n#### `arg_max_null(arg, val)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Finds the row with the maximum `val` and calculates the `arg` expression at that row. Rows where the `val` expression evaluates to `NULL` are ignored. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `arg_max_null(A, B)` |\n\n#### `arg_min(arg, val)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Finds the row with the minimum `val` and calculates the `arg` expression at that row. Rows where the value of the `arg` or `val` expression is `NULL` are ignored. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `arg_min(A, B)` |\n| **Alias(es)** | `argmin(arg, val)`, `min_by(arg, val)` |\n\n#### `arg_min(arg, val, n)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The generalized case of [`arg_min`](#arg_minarg-val) for `n` values: returns a `LIST` containing the `arg` expressions for the top `n` rows ordered by `val` descending. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `arg_min(A, B, 2)` |\n| **Alias(es)** | `argmin(arg, val, n)`, `min_by(arg, val, n)` |\n\n#### `arg_min_null(arg, val)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Finds the row with the minimum `val` and calculates the `arg` expression at that row. Rows where the `val` expression evaluates to `NULL` are ignored. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `arg_min_null(A, B)` |\n\n#### `avg(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Calculates the average of all non-null values in `arg`. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `avg(A)` |\n| **Alias(es)** | `mean` |\n\n#### `bit_and(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the bitwise `AND` of all bits in a given expression. |\n| **Example** | `bit_and(A)` |\n\n#### `bit_or(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the bitwise `OR` of all bits in a given expression. |\n| **Example** | `bit_or(A)` |\n\n#### `bit_xor(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the bitwise `XOR` of all bits in a given expression. |\n| **Example** | `bit_xor(A)` |\n\n#### `bitstring_agg(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a bitstring whose length corresponds to the range of the non-null (integer) values, with bits set at the location of each (distinct) value. |\n| **Example** | `bitstring_agg(A)` |\n\n#### `bool_and(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns `true` if every input value is `true`, otherwise `false`. |\n| **Example** | `bool_and(A)` |\n\n#### `bool_or(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns `true` if any input value is `true`, otherwise `false`. |\n| **Example** | `bool_or(A)` |\n\n#### `count()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the number of rows. |\n| **Example** | `count()` |\n| **Alias(es)** | `count(*)` |\n\n#### `count(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the number rows where `arg` is not `NULL`. |\n| **Example** | `count(A)` |\n\n#### `countif(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the number of rows where `arg` is `true`. |\n| **Example** | `countif(A)` |\n\n#### `favg(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Calculates the average using a more accurate floating point summation (Kahan Sum). This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `favg(A)` |\n\n#### `first(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the first value (null or non-null) from `arg`. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `first(A)` |\n| **Alias(es)** | `arbitrary(A)` |\n\n#### `fsum(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Calculates the sum using a more accurate floating point summation (Kahan Sum). This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `fsum(A)` |\n| **Alias(es)** | `sumkahan`, `kahan_sum` |\n\n#### `geometric_mean(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Calculates the geometric mean of all non-null values in `arg`. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `geometric_mean(A)` |\n| **Alias(es)** | `geomean(A)` |\n\n#### `histogram(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a `MAP` of key-value pairs representing buckets and counts. |\n| **Example** | `histogram(A)` |\n\n#### `histogram(arg, boundaries)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a `MAP` of key-value pairs representing the provided upper `boundaries` and counts of elements in the corresponding bins (left-open and right-closed partitions) of the datatype. A boundary at the largest value of the datatype is automatically added when elements larger than all provided `boundaries` appear, see [`is_histogram_other_bin`]({% link docs/stable/sql/functions/utility.md %}#is_histogram_other_binarg). Boundaries may be provided, e.g., via [`equi_width_bins`]({% link docs/stable/sql/functions/utility.md %}#equi_width_binsminmaxbincountnice). |\n| **Example** | `histogram(A, [0, 1, 10])` |\n\n#### `histogram_exact(arg, elements)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a `MAP` of key-value pairs representing the requested elements and their counts. A catch-all element specific to the data-type is automatically added to count other elements when they appear, see [`is_histogram_other_bin`]({% link docs/stable/sql/functions/utility.md %}#is_histogram_other_binarg). |\n| **Example** | `histogram_exact(A, [\'a\', \'b\', \'c\'])` |\n\n#### `histogram_values(source, col_name, technique, bin_count)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the upper boundaries of the bins and their counts. |\n| **Example** | `histogram_values(integers, i, bin_count := 2)` |\n\n#### `last(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the last value of a column. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `last(A)` |\n\n#### `list(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a `LIST` containing all the values of a column. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `list(A)` |\n| **Alias(es)** | `array_agg` |\n\n#### `max(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the maximum value present in `arg`. This function is [unaffected by distinctness](#distinct-clause-in-aggregate-functions). |\n| **Example** | `max(A)` |\n\n#### `max(arg, n)`\n\n<div class="nostroke_table"></div>\n\n| **Description** |  Returns a `LIST` containing the `arg` values for the "top" `n` rows ordered by `arg` descending. |\n| **Example** | `max(A, 2)` |\n\n#### `min(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the minimum value present in `arg`. This function is [unaffected by distinctness](#distinct-clause-in-aggregate-functions). |\n| **Example** | `min(A)` |\n\n#### `min(arg, n)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a `LIST` containing the `arg` values for the "bottom" `n` rows ordered by `arg` ascending. |\n| **Example** | `min(A, 2)` |\n\n#### `product(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Calculates the product of all non-null values in `arg`. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `product(A)` |\n\n#### `string_agg(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Concatenates the column string values with a comma separator (`,`). This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `string_agg(S, \',\')` |\n| **Alias(es)** | `group_concat(arg)`, `listagg(arg)` |\n\n#### `string_agg(arg, sep)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Concatenates the column string values with a separator. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `string_agg(S, \',\')` |\n| **Alias(es)** | `group_concat(arg, sep)`, `listagg(arg, sep)` |\n\n#### `sum(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Calculates the sum of all non-null values in `arg` / counts `true` values when `arg` is boolean. The floating-point versions of this function are [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `sum(A)` |\n\n#### `weighted_avg(arg, weight)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Calculates the weighted average of all non-null values in `arg`, where each value is scaled by its corresponding `weight`. If `weight` is `NULL`, the value will be skipped. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Example** | `weighted_avg(A, W)` |\n| **Alias(es)** | `wavg(arg, weight)` |\n\n## Approximate Aggregates\n\nThe table below shows the available approximate aggregate functions.\n\n| Function | Description | Example |\n|:---|:---|:---|\n| `approx_count_distinct(x)` | Calculates the approximate count of distinct elements using HyperLogLog. | `approx_count_distinct(A)` |\n| `approx_quantile(x, pos)` | Calculates the approximate quantile using T-Digest. | `approx_quantile(A, 0.5)` |\n| `approx_top_k(arg, k)` | Calculates a `LIST` of the `k` approximately most frequent values of `arg` using Filtered Space-Saving. | |\n| `reservoir_quantile(x, quantile, sample_size = 8192)` | Calculates the approximate quantile using reservoir sampling, the sample size is optional and uses 8192 as a default size. | `reservoir_quantile(A, 0.5, 1024)` |\n\n## Statistical Aggregates\n\nThe table below shows the available statistical aggregate functions.\nThey all ignore `NULL` values (in the case of a single input column `x`), or pairs where either input is `NULL` (in the case of two input columns `y` and `x`).\n\n| Function | Description |\n|:--|:--------|\n| [`corr(y, x)`](#corry-x) | The correlation coefficient. |\n| [`covar_pop(y, x)`](#covar_popy-x) | The population covariance, which does not include bias correction. |\n| [`covar_samp(y, x)`](#covar_sampy-x) | The sample covariance, which includes Bessel\'s bias correction. |\n| [`entropy(x)`](#entropyx) | The log-2 entropy of count input-values. |\n| [`kurtosis_pop(x)`](#kurtosis_popx) | The excess kurtosis (Fishers definition) without bias correction. |\n| [`kurtosis(x)`](#kurtosisx) | The excess kurtosis (Fisher\'s definition) with bias correction according to the sample size. |\n| [`mad(x)`](#madx) | The median absolute deviation. Temporal types return a positive `INTERVAL`. |\n| [`median(x)`](#medianx) | The middle value of the set. For even value counts, quantitative values are averaged and ordinal values return the lower value. |\n| [`mode(x)`](#modex)| The most frequent value. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| [`quantile_cont(x, pos)`](#quantile_contx-pos) | The interpolated `pos`-quantile of `x` for `-1 <= pos <= 1`. Returns the `pos * (n_nonnull_values - 1)`th (zero-indexed, in the specified order) value of `x` or an interpolation between the adjacent values if the index is not an integer. Values of `pos` between `-1` and `0` correspond to counting backwards from `1`. More precisely, `quantile_cont(x, -y) = quantile_cont(x, 1 - y)`. Intuitively, arranges the values of `x` as equispaced *points* on a line, starting at 0 and ending at 1, and returns the (interpolated) value at `pos`. This is Type 7 in Hyndman & Fan (1996). If `pos` is a `LIST` of `FLOAT`s, then the result is a `LIST` of the corresponding interpolated quantiles. |\n| [`quantile_disc(x, pos)`](#quantile_discx-pos) | The discrete `pos`-quantile of `x` for `0 <= pos <= 1`. Returns  the `greatest(ceil(pos * n_nonnull_values) - 1, 0)`th (zero-indexed, in the specified order) value of `x`. Intuitively, assigns to each value of `x` an equisized *sub-interval* (left-open and right-closed except for the initial interval) of the interval `[0, 1]`, and picks the value of the sub-interval that contains `pos`. This is Type 1 in Hyndman & Fan (1996). If `pos` is a `LIST` of `FLOAT`s, then the result is a `LIST` of the corresponding discrete quantiles. |\n| [`regr_avgx(y, x)`](#regr_avgxy-x) | The average of the independent variable for non-`NULL` pairs, where x is the independent variable and y is the dependent variable. |\n| [`regr_avgy(y, x)`](#regr_avgyy-x) | The average of the dependent variable for non-`NULL` pairs, where x is the independent variable and y is the dependent variable. |\n| [`regr_count(y, x)`](#regr_county-x) | The number of non-`NULL` pairs. |\n| [`regr_intercept(y, x)`](#regr_intercepty-x) | The intercept of the univariate linear regression line, where x is the independent variable and y is the dependent variable. |\n| [`regr_r2(y, x)`](#regr_r2y-x) | The squared Pearson correlation coefficient between y and x. Also: The coefficient of determination in a linear regression, where x is the independent variable and y is the dependent variable. |\n| [`regr_slope(y, x)`](#regr_slopey-x) | The slope of the linear regression line, where x is the independent variable and y is the dependent variable. |\n| [`regr_sxx(y, x)`](#regr_sxxy-x) | The sample variance, which includes Bessel\'s bias correction, of the independent variable for non-`NULL` pairs, where x is the independent variable and y is the dependent variable. |\n| [`regr_sxy(y, x)`](#regr_sxyy-x) | The sample covariance, which includes Bessel\'s bias correction. |\n| [`regr_syy(y, x)`](#regr_syyy-x) | The sample variance, which includes Bessel\'s bias correction, of the dependent variable for non-`NULL` pairs , where x is the independent variable and y is the dependent variable. |\n| [`skewness(x)`](#skewnessx) | The skewness. |\n| [`sem(x)`](#semx) | The standard error of the mean. |\n| [`stddev_pop(x)`](#stddev_popx) | The population standard deviation. |\n| [`stddev_samp(x)`](#stddev_sampx) | The sample standard deviation. |\n| [`var_pop(x)`](#var_popx) | The population variance, which does not include bias correction. |\n| [`var_samp(x)`](#var_sampx) | The sample variance, which includes Bessel\'s bias correction. |\n\n#### `corr(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The correlation coefficient.\n| **Formula** | `covar_pop(y, x) / (stddev_pop(x) * stddev_pop(y))` |\n\n#### `covar_pop(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The population covariance, which does not include bias correction. |\n| **Formula** | `(sum(x*y) - sum(x) * sum(y) / regr_count(y, x)) / regr_count(y, x)`, `covar_samp(y, x) * (1 - 1 / regr_count(y, x))` |\n\n#### `covar_samp(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The sample covariance, which includes Bessel\'s bias correction. |\n| **Formula** | `(sum(x*y) - sum(x) * sum(y) / regr_count(y, x)) / (regr_count(y, x) - 1)`, `covar_pop(y, x) / (1 - 1 / regr_count(y, x))` |\n| **Alias(es)** | `regr_sxy(y, x)` |\n\n#### `entropy(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The log-2 entropy of count input-values. |\n| **Formula** | - |\n\n#### `kurtosis_pop(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The excess kurtosis (Fishers definition) without bias correction. |\n| **Formula** | - |\n\n#### `kurtosis(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The excess kurtosis (Fisher\'s definition) with bias correction according to the sample size. |\n| **Formula** | - |\n\n#### `mad(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The median absolute deviation. Temporal types return a positive `INTERVAL`. |\n| **Formula** | `median(abs(x - median(x)))` |\n\n#### `median(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The middle value of the set. For even value counts, quantitative values are averaged and ordinal values return the lower value. |\n| **Formula** | `quantile_cont(x, 0.5)` |\n\n#### `mode(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The most frequent value. This function is [affected by ordering](#order-by-clause-in-aggregate-functions). |\n| **Formula** | - |\n\n#### `quantile_cont(x, pos)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The interpolated `pos`-quantile of `x` for `0 <= pos <= 1`. Returns the `pos * (n_nonnull_values - 1)`th (zero-indexed, in the specified order) value of `x` or an interpolation between the adjacent values if the index is not an integer. Intuitively, arranges the values of `x` as equispaced *points* on a line, starting at 0 and ending at 1, and returns the (interpolated) value at `pos`. This is Type 7 in Hyndman & Fan (1996). If `pos` is a `LIST` of `FLOAT`s, then the result is a `LIST` of the corresponding interpolated quantiles. |\n| **Formula** | - |\n\n#### `quantile_disc(x, pos)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The discrete `pos`-quantile of `x` for `0 <= pos <= 1`. Returns  the `greatest(ceil(pos * n_nonnull_values) - 1, 0)`th (zero-indexed, in the specified order) value of `x`. Intuitively, assigns to each value of `x` an equisized *sub-interval* (left-open and right-closed except for the initial interval) of the interval `[0, 1]`, and picks the value of the sub-interval that contains `pos`. This is Type 1 in Hyndman & Fan (1996). If `pos` is a `LIST` of `FLOAT`s, then the result is a `LIST` of the corresponding discrete quantiles.  |\n| **Formula** | - |\n| **Alias(es)** | `quantile` |\n\n#### `regr_avgx(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The average of the independent variable for non-`NULL` pairs, where x is the independent variable and y is the dependent variable. |\n| **Formula** | - |\n\n#### `regr_avgy(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The average of the dependent variable for non-`NULL` pairs, where x is the independent variable and y is the dependent variable. |\n| **Formula** | - |\n\n#### `regr_count(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The number of non-`NULL` pairs. |\n| **Formula** | - |\n\n#### `regr_intercept(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The intercept of the univariate linear regression line, where x is the independent variable and y is the dependent variable. |\n| **Formula** | `regr_avgy(y, x) - regr_slope(y, x) * regr_avgx(y, x)` |\n\n#### `regr_r2(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The squared Pearson correlation coefficient between y and x. Also: The coefficient of determination in a linear regression, where x is the independent variable and y is the dependent variable. |\n| **Formula** | - |\n\n#### `regr_slope(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the slope of the linear regression line, where x is the independent variable and y is the dependent variable. |\n| **Formula** | `regr_sxy(y, x) / regr_sxx(y, x)` |\n| **Alias(es)** | - |\n\n#### `regr_sxx(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The sample variance, which includes Bessel\'s bias correction, of the independent variable for non-`NULL` pairs, where x is the independent variable and y is the dependent variable. |\n| **Formula** | - |\n\n#### `regr_sxy(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The sample covariance, which includes Bessel\'s bias correction. |\n| **Formula** | `(sum(x*y) - sum(x) * sum(y) / regr_count(y, x)) / (regr_count(y, x) - 1)`, `covar_pop(y, x) / (1 - 1 / regr_count(y, x))` |\n| **Alias(es)** | `covar_samp(y, x)` |\n\n#### `regr_syy(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The sample variance, which includes Bessel\'s bias correction, of the dependent variable for non-`NULL` pairs, where x is the independent variable and y is the dependent variable. |\n| **Formula** | - |\n\n#### `sem(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The standard error of the mean. |\n| **Formula** | - |\n\n#### `skewness(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The skewness. |\n| **Formula** | - |\n\n#### `stddev_pop(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The population standard deviation. |\n| **Formula** | `sqrt(var_pop(x))` |\n\n#### `stddev_samp(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The sample standard deviation. |\n| **Formula** | `sqrt(var_samp(x))`|\n| **Alias(es)** | `stddev(x)`|\n\n#### `var_pop(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The population variance, which does not include bias correction. |\n| **Formula** | `(sum(x^2) - sum(x)^2 / count(x)) / count(x)`, `var_samp(y, x) * (1 - 1 / count(x))` |\n\n#### `var_samp(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The sample variance, which includes Bessel\'s bias correction. |\n| **Formula** | `(sum(x^2) - sum(x)^2 / count(x)) / (count(x) - 1)`, `var_pop(y, x) / (1 - 1 / count(x))` |\n| **Alias(es)** | `variance(arg, val)` |\n\n## Ordered Set Aggregate Functions\n\nThe table below shows the available ordered set aggregate functions.\nThese functions are specified using the `WITHIN GROUP (ORDER BY sort_expression)` syntax,\nand they are converted to an equivalent aggregate function that takes the ordering expression\nas the first argument.\n\n| Function | Equivalent |\n|:---|:---|\n| <code>mode() WITHIN GROUP (ORDER BY column [(ASC&#124;DESC)])</code> | <code>mode(column ORDER BY column [(ASC&#124;DESC)])</code> |\n| <code>percentile_cont(fraction) WITHIN GROUP (ORDER BY column [(ASC&#124;DESC)])</code> | <code>quantile_cont(column, fraction ORDER BY column [(ASC&#124;DESC)])</code> |\n| <code>percentile_cont(fractions) WITHIN GROUP (ORDER BY column [(ASC&#124;DESC)])</code> | <code>quantile_cont(column, fractions ORDER BY column [(ASC&#124;DESC)])</code> |\n| <code>percentile_disc(fraction) WITHIN GROUP (ORDER BY column [(ASC&#124;DESC)])</code> | <code>quantile_disc(column, fraction ORDER BY column [(ASC&#124;DESC)])</code> |\n| <code>percentile_disc(fractions) WITHIN GROUP (ORDER BY column [(ASC&#124;DESC)])</code> | <code>quantile_disc(column, fractions ORDER BY column [(ASC&#124;DESC)])</code> |\n\n## Miscellaneous Aggregate Functions\n\n| Function | Description | Alias |\n|:--|:---|:--|\n| `grouping()` | For queries with `GROUP BY` and either [`ROLLUP` or `GROUPING SETS`]({% link docs/stable/sql/query_syntax/grouping_sets.md %}#identifying-grouping-sets-with-grouping_id): Returns an integer identifying which of the argument expressions where used to group on to create the current super-aggregate row. | `grouping_id()` |\n',"array.md":'---\ntitle: Array Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\nAll [`LIST` functions]({% link docs/stable/sql/functions/list.md %}) work with the [`ARRAY` data type]({% link docs/stable/sql/data_types/array.md %}). Additionally, several `ARRAY`-native functions are also supported.\n\n## Array-Native Functions\n<!-- Start of section generated by scripts/generate_sql_function_docs.py; categories: [array] -->\n<!-- markdownlint-disable MD056 -->\n\n| Function | Description |\n|:--|:-------|\n| [`array_cosine_distance(array1, array2)`](#array_cosine_distancearray1-array2) | Computes the cosine distance between two arrays of the same size. The array elements can not be `NULL`. The arrays can have any size as long as the size is the same for both arguments. |\n| [`array_cosine_similarity(array1, array2)`](#array_cosine_similarityarray1-array2) | Computes the cosine similarity between two arrays of the same size. The array elements can not be `NULL`. The arrays can have any size as long as the size is the same for both arguments. |\n| [`array_cross_product(array, array)`](#array_cross_productarray-array) | Computes the cross product of two arrays of size 3. The array elements can not be `NULL`. |\n| [`array_distance(array1, array2)`](#array_distancearray1-array2) | Computes the distance between two arrays of the same size. The array elements can not be `NULL`. The arrays can have any size as long as the size is the same for both arguments. |\n| [`array_dot_product(array1, array2)`](#array_inner_productarray1-array2) | Alias for `array_inner_product`. |\n| [`array_inner_product(array1, array2)`](#array_inner_productarray1-array2) | Computes the inner product between two arrays of the same size. The array elements can not be `NULL`. The arrays can have any size as long as the size is the same for both arguments. |\n| [`array_negative_dot_product(array1, array2)`](#array_negative_inner_productarray1-array2) | Alias for `array_negative_inner_product`. |\n| [`array_negative_inner_product(array1, array2)`](#array_negative_inner_productarray1-array2) | Computes the negative inner product between two arrays of the same size. The array elements can not be `NULL`. The arrays can have any size as long as the size is the same for both arguments. |\n| [`array_value(arg, ...)`](#array_valuearg-) | Creates an `ARRAY` containing the argument values. |\n\n<!-- markdownlint-enable MD056 -->\n\n#### `array_cosine_distance(array1, array2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the cosine distance between two arrays of the same size. The array elements can not be `NULL`. The arrays can have any size as long as the size is the same for both arguments. |\n| **Example** | `array_cosine_distance(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))` |\n| **Result** | `0.007416606` |\n\n#### `array_cosine_similarity(array1, array2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the cosine similarity between two arrays of the same size. The array elements can not be `NULL`. The arrays can have any size as long as the size is the same for both arguments. |\n| **Example** | `array_cosine_similarity(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))` |\n| **Result** | `0.9925834` |\n\n#### `array_cross_product(array, array)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the cross product of two arrays of size 3. The array elements can not be `NULL`. |\n| **Example** | `array_cross_product(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))` |\n| **Result** | `[-1.0, 2.0, -1.0]` |\n\n#### `array_distance(array1, array2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the distance between two arrays of the same size. The array elements can not be `NULL`. The arrays can have any size as long as the size is the same for both arguments. |\n| **Example** | `array_distance(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))` |\n| **Result** | `1.7320508` |\n\n#### `array_inner_product(array1, array2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the inner product between two arrays of the same size. The array elements can not be `NULL`. The arrays can have any size as long as the size is the same for both arguments. |\n| **Example** | `array_inner_product(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))` |\n| **Result** | `20.0` |\n| **Alias** | `array_dot_product` |\n\n#### `array_negative_inner_product(array1, array2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the negative inner product between two arrays of the same size. The array elements can not be `NULL`. The arrays can have any size as long as the size is the same for both arguments. |\n| **Example** | `array_negative_inner_product(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))` |\n| **Result** | `-20.0` |\n| **Alias** | `array_negative_dot_product` |\n\n#### `array_value(arg, ...)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Creates an `ARRAY` containing the argument values. |\n| **Example** | `array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT)` |\n| **Result** | `[1.0, 2.0, 3.0]` |\n\n<!-- End of section generated by scripts/generate_sql_function_docs.py -->\n',"bitstring.md":`---
title: Bitstring Functions
---

<!-- markdownlint-disable MD001 -->

This section describes functions and operators for examining and manipulating [\`BITSTRING\`]({% link docs/stable/sql/data_types/bitstring.md %}) values.
Bitstrings must be of equal length when performing the bitwise operands AND, OR and XOR. When bit shifting, the original length of the string is preserved.

## Bitstring Operators

The table below shows the available mathematical operators for \`BIT\` type.

<!-- markdownlint-disable MD056 -->

| Operator | Description | Example | Result |
|:---|:---|:---|---:|
| \`&\` | Bitwise AND | \`'10101'::BITSTRING & '10001'::BITSTRING\` | \`10001\` |
| \`|\` | Bitwise OR | \`'1011'::BITSTRING | '0001'::BITSTRING\` | \`1011\` |
| \`xor\` | Bitwise XOR | \`xor('101'::BITSTRING, '001'::BITSTRING)\` | \`100\` |
| \`~\` | Bitwise NOT | \`~('101'::BITSTRING)\` | \`010\` |
| \`<<\` | Bitwise shift left | \`'1001011'::BITSTRING << 3\` | \`1011000\` |
| \`>>\` | Bitwise shift right | \`'1001011'::BITSTRING >> 3\` | \`0001001\` |

<!-- markdownlint-enable MD056 -->

## Bitstring Functions

The table below shows the available scalar functions for \`BIT\` type.

| Name | Description |
|:--|:-------|
| [\`bit_count(bitstring)\`](#bit_countbitstring) | Returns the number of set bits in the bitstring. |
| [\`bit_length(bitstring)\`](#bit_lengthbitstring) | Returns the number of bits in the bitstring. |
| [\`bit_position(substring, bitstring)\`](#bit_positionsubstring-bitstring) | Returns first starting index of the specified substring within bits, or zero if it's not present. The first (leftmost) bit is indexed 1. |
| [\`bitstring(bitstring, length)\`](#bitstringbitstring-length) | Returns a bitstring of determined length. |
| [\`get_bit(bitstring, index)\`](#get_bitbitstring-index) | Extracts the nth bit from bitstring; the first (leftmost) bit is indexed 0. |
| [\`length(bitstring)\`](#lengthbitstring) | Alias for \`bit_length\`. |
| [\`octet_length(bitstring)\`](#octet_lengthbitstring) | Returns the number of bytes in the bitstring. |
| [\`set_bit(bitstring, index, new_value)\`](#set_bitbitstring-index-new_value) | Sets the nth bit in bitstring to newvalue; the first (leftmost) bit is indexed 0. Returns a new bitstring. |

#### \`bit_count(bitstring)\`

<div class="nostroke_table"></div>

| **Description** | Returns the number of set bits in the bitstring. |
| **Example** | \`bit_count('1101011'::BITSTRING)\` |
| **Result** | \`5\` |

#### \`bit_length(bitstring)\`

<div class="nostroke_table"></div>

| **Description** | Returns the number of bits in the bitstring. |
| **Example** | \`bit_length('1101011'::BITSTRING)\` |
| **Result** | \`7\` |

#### \`bit_position(substring, bitstring)\`

<div class="nostroke_table"></div>

| **Description** | Returns first starting index of the specified substring within bits, or zero if it's not present. The first (leftmost) bit is indexed 1 |
| **Example** | \`bit_position('010'::BITSTRING, '1110101'::BITSTRING)\` |
| **Result** | \`4\` |

#### \`bitstring(bitstring, length)\`

<div class="nostroke_table"></div>

| **Description** | Returns a bitstring of determined length. |
| **Example** | \`bitstring('1010'::BITSTRING, 7)\` |
| **Result** | \`0001010\` |

#### \`get_bit(bitstring, index)\`

<div class="nostroke_table"></div>

| **Description** | Extracts the nth bit from bitstring; the first (leftmost) bit is indexed 0. |
| **Example** | \`get_bit('0110010'::BITSTRING, 2)\` |
| **Result** | \`1\` |

#### \`length(bitstring)\`

<div class="nostroke_table"></div>

| **Description** | Alias for \`bit_length\`. |
| **Example** | \`length('1101011'::BITSTRING)\` |
| **Result** | \`7\` |

#### \`octet_length(bitstring)\`

<div class="nostroke_table"></div>

| **Description** | Returns the number of bytes in the bitstring. |
| **Example** | \`octet_length('1101011'::BITSTRING)\` |
| **Result** | \`1\` |

#### \`set_bit(bitstring, index, new_value)\`

<div class="nostroke_table"></div>

| **Description** | Sets the nth bit in bitstring to newvalue; the first (leftmost) bit is indexed 0. Returns a new bitstring. |
| **Example** | \`set_bit('0110010'::BITSTRING, 2, 0)\` |
| **Result** | \`0100010\` |

## Bitstring Aggregate Functions

These aggregate functions are available for \`BIT\` type.

| Name | Description |
|:--|:-------|
| [\`bit_and(arg)\`](#bit_andarg) | Returns the bitwise AND operation performed on all bitstrings in a given expression. |
| [\`bit_or(arg)\`](#bit_orarg) | Returns the bitwise OR operation performed on all bitstrings in a given expression. |
| [\`bit_xor(arg)\`](#bit_xorarg) | Returns the bitwise XOR operation performed on all bitstrings in a given expression. |
| [\`bitstring_agg(arg)\`](#bitstring_aggarg) | Returns a bitstring with bits set for each distinct position defined in \`arg\`. |
| [\`bitstring_agg(arg, min, max)\`](#bitstring_aggarg-min-max) | Returns a bitstring with bits set for each distinct position defined in \`arg\`. All positions must be within the range [\`min\`, \`max\`] or an \`Out of Range Error\` will be thrown. |

#### \`bit_and(arg)\`

<div class="nostroke_table"></div>

| **Description** | Returns the bitwise AND operation performed on all bitstrings in a given expression. |
| **Example** | \`bit_and(A)\` |

#### \`bit_or(arg)\`

<div class="nostroke_table"></div>

| **Description** | Returns the bitwise OR operation performed on all bitstrings in a given expression. |
| **Example** | \`bit_or(A)\` |

#### \`bit_xor(arg)\`

<div class="nostroke_table"></div>

| **Description** | Returns the bitwise XOR operation performed on all bitstrings in a given expression. |
| **Example** | \`bit_xor(A)\` |

#### \`bitstring_agg(arg)\`

<div class="nostroke_table"></div>

| **Description** | The \`bitstring_agg\` function takes any integer type as input and returns a bitstring with bits set for each distinct value. The left-most bit represents the smallest value in the column and the right-most bit the maximum value. If possible, the min and max are retrieved from the column statistics. Otherwise, it is also possible to provide the min and max values. |
| **Example** | \`bitstring_agg(A)\` |

> Tip The combination of \`bit_count\` and \`bitstring_agg\` can be used as an alternative to \`count(DISTINCT ...)\`, with possible performance improvements in cases of low cardinality and dense values.

#### \`bitstring_agg(arg, min, max)\`

<div class="nostroke_table"></div>

| **Description** | Returns a bitstring with bits set for each distinct position defined in \`arg\`. All positions must be within the range [\`min\`, \`max\`] or an \`Out of Range Error\` will be thrown. |
| **Example** | \`bitstring_agg(A, 1, 42)\` |
`,"blob.md":"---\ntitle: Blob Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\nThis section describes functions and operators for examining and manipulating [`BLOB` values]({% link docs/stable/sql/data_types/blob.md %}).\n\n<!-- Start of section generated by scripts/generate_sql_function_docs.py; categories: [blob] -->\n<!-- markdownlint-disable MD056 -->\n\n| Function | Description |\n|:--|:-------|\n| [`arg1 || arg2`](#arg1--arg2) | Concatenates two strings, lists, or blobs. Any `NULL` input results in `NULL`. See also [`concat(arg1, arg2, ...)`]({% link docs/stable/sql/functions/text.md %}#concatvalue-) and [`list_concat(list1, list2, ...)`]({% link docs/stable/sql/functions/list.md %}#list_concatlist_1--list_n). |\n| [`base64(blob)`](#to_base64blob) | Alias for `to_base64`. |\n| [`decode(blob)`](#decodeblob) | Converts `blob` to `VARCHAR`. Fails if `blob` is not valid UTF-8. |\n| [`encode(string)`](#encodestring) | Converts the `string` to `BLOB`. Converts UTF-8 characters into literal encoding. |\n| [`from_base64(string)`](#from_base64string) | Converts a base64 encoded `string` to a character string (`BLOB`). |\n| [`from_binary(value)`](#unbinvalue) | Alias for `unbin`. |\n| [`from_hex(value)`](#unhexvalue) | Alias for `unhex`. |\n| [`hex(blob)`](#hexblob) | Converts `blob` to `VARCHAR` using hexadecimal encoding. |\n| [`md5(blob)`](#md5blob) | Returns the MD5 hash of the `blob` as a `VARCHAR`. |\n| [`md5_number(blob)`](#md5_numberblob) | Returns the MD5 hash of the `blob` as a `HUGEINT`. |\n| [`octet_length(blob)`](#octet_lengthblob) | Number of bytes in `blob`. |\n| [`read_blob(source)`](#read_blobsource) | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `BLOB`. See the [`read_blob` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_blob) for more details. |\n| [`repeat(blob, count)`](#repeatblob-count) | Repeats the `blob` `count` number of times. |\n| [`sha1(blob)`](#sha1blob) | Returns a `VARCHAR` with the SHA-1 hash of the `blob`. |\n| [`sha256(blob)`](#sha256blob) | Returns a `VARCHAR` with the SHA-256 hash of the `blob`. |\n| [`to_base64(blob)`](#to_base64blob) | Converts a `blob` to a base64 encoded string. |\n| [`to_hex(blob)`](#hexblob) | Alias for `hex`. |\n| [`unbin(value)`](#unbinvalue) | Converts a `value` from binary representation to a blob. |\n| [`unhex(value)`](#unhexvalue) | Converts a `value` from hexadecimal representation to a blob. |\n\n<!-- markdownlint-enable MD056 -->\n\n#### `arg1 || arg2`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Concatenates two strings, lists, or blobs. Any `NULL` input results in `NULL`. See also [`concat(arg1, arg2, ...)`]({% link docs/stable/sql/functions/text.md %}#concatvalue-) and [`list_concat(list1, list2, ...)`]({% link docs/stable/sql/functions/list.md %}#list_concatlist_1--list_n). |\n| **Example 1** | `'Duck' || 'DB'` |\n| **Result** | `DuckDB` |\n| **Example 2** | `[1, 2, 3] || [4, 5, 6]` |\n| **Result** | `[1, 2, 3, 4, 5, 6]` |\n| **Example 3** | `'\\xAA'::BLOB || '\\xBB'::BLOB` |\n| **Result** | `\\xAA\\xBB` |\n\n#### `decode(blob)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts `blob` to `VARCHAR`. Fails if `blob` is not valid UTF-8. |\n| **Example** | `decode('\\xC3\\xBC'::BLOB)` |\n| **Result** | `` |\n\n#### `encode(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts the `string` to `BLOB`. Converts UTF-8 characters into literal encoding. |\n| **Example** | `encode('my_string_with_')` |\n| **Result** | `my_string_with_\\xC3\\xBC` |\n\n#### `from_base64(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a base64 encoded `string` to a character string (`BLOB`). |\n| **Example** | `from_base64('QQ==')` |\n| **Result** | `A` |\n\n#### `hex(blob)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts `blob` to `VARCHAR` using hexadecimal encoding. |\n| **Example** | `hex('\\xAA\\xBB'::BLOB)` |\n| **Result** | `AABB` |\n| **Alias** | `to_hex` |\n\n#### `md5(blob)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the MD5 hash of the `blob` as a `VARCHAR`. |\n| **Example** | `md5('\\xAA\\xBB'::BLOB)` |\n| **Result** | `58cea1f6b2b06520613e09af90dc1c47` |\n\n#### `md5_number(blob)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the MD5 hash of the `blob` as a `HUGEINT`. |\n| **Example** | `md5_number('\\xAA\\xBB'::BLOB)` |\n| **Result** | `94525045605907259200829535064523132504` |\n\n#### `octet_length(blob)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Number of bytes in `blob`. |\n| **Example** | `octet_length('\\xAA\\xBB'::BLOB)` |\n| **Result** | `2` |\n\n#### `read_blob(source)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `BLOB`. See the [`read_blob` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_blob) for more details. |\n| **Example** | `read_blob('hello.bin')` |\n| **Result** | `hello\\x0A` |\n\n#### `repeat(blob, count)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Repeats the `blob` `count` number of times. |\n| **Example** | `repeat('\\xAA\\xBB'::BLOB, 5)` |\n| **Result** | `\\xAA\\xBB\\xAA\\xBB\\xAA\\xBB\\xAA\\xBB\\xAA\\xBB` |\n\n#### `sha1(blob)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns a `VARCHAR` with the SHA-1 hash of the `blob`. |\n| **Example** | `sha1('\\xAA\\xBB'::BLOB)` |\n| **Result** | `65b1e351a6cbfeb41c927222bc9ef53aad3396b0` |\n\n#### `sha256(blob)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns a `VARCHAR` with the SHA-256 hash of the `blob`. |\n| **Example** | `sha256('\\xAA\\xBB'::BLOB)` |\n| **Result** | `d798d1fac6bd4bb1c11f50312760351013379a0ab6f0a8c0af8a506b96b2525a` |\n\n#### `to_base64(blob)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a `blob` to a base64 encoded string. |\n| **Example** | `to_base64('A'::BLOB)` |\n| **Result** | `QQ==` |\n| **Alias** | `base64` |\n\n#### `unbin(value)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a `value` from binary representation to a blob. |\n| **Example** | `unbin('0110')` |\n| **Result** | `\\x06` |\n| **Alias** | `from_binary` |\n\n#### `unhex(value)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a `value` from hexadecimal representation to a blob. |\n| **Example** | `unhex('2A')` |\n| **Result** | `*` |\n| **Alias** | `from_hex` |\n\n<!-- End of section generated by scripts/generate_sql_function_docs.py -->\n","case.md":`---
title: CASE Expression
---

<div id="rrdiagram"></div>

The \`CASE\` expression performs a switch based on a condition. The basic form is identical to the ternary condition used in many programming languages (\`CASE WHEN cond THEN a ELSE b END\` is equivalent to \`cond ? a : b\`). With a single condition this can be expressed with \`IF(cond, a, b)\`.

\`\`\`sql
CREATE OR REPLACE TABLE integers AS SELECT unnest([1, 2, 3]) AS i;
SELECT i, CASE WHEN i > 2 THEN 1 ELSE 0 END AS test
FROM integers;
\`\`\`

| i | test |
|--:|-----:|
| 1 | 0    |
| 2 | 0    |
| 3 | 1    |

This is equivalent to:

\`\`\`sql
SELECT i, IF(i > 2, 1, 0) AS test
FROM integers;
\`\`\`

The \`WHEN cond THEN expr\` part of the \`CASE\` expression can be chained, whenever any of the conditions returns true for a single tuple, the corresponding expression is evaluated and returned.

\`\`\`sql
CREATE OR REPLACE TABLE integers AS SELECT unnest([1, 2, 3]) AS i;
SELECT i, CASE WHEN i = 1 THEN 10 WHEN i = 2 THEN 20 ELSE 0 END AS test
FROM integers;
\`\`\`

| i | test |
|--:|-----:|
| 1 | 10   |
| 2 | 20   |
| 3 | 0    |

The \`ELSE\` clause of the \`CASE\` expression is optional. If no \`ELSE\` clause is provided and none of the conditions match, the \`CASE\` expression will return \`NULL\`.

\`\`\`sql
CREATE OR REPLACE TABLE integers AS SELECT unnest([1, 2, 3]) AS i;
SELECT i, CASE WHEN i = 1 THEN 10 END AS test
FROM integers;
\`\`\`

| i | test |
|--:|-----:|
| 1 | 10   |
| 2 | NULL |
| 3 | NULL |

It is also possible to provide an individual expression after the \`CASE\` but before the \`WHEN\`. When this is done, the \`CASE\` expression is effectively transformed into a switch statement.

\`\`\`sql
CREATE OR REPLACE TABLE integers AS SELECT unnest([1, 2, 3]) AS i;
SELECT i, CASE i WHEN 1 THEN 10 WHEN 2 THEN 20 WHEN 3 THEN 30 END AS test
FROM integers;
\`\`\`

| i | test |
|--:|-----:|
| 1 | 10   |
| 2 | 20   |
| 3 | 30   |

This is equivalent to:

\`\`\`sql
SELECT i, CASE WHEN i = 1 THEN 10 WHEN i = 2 THEN 20 WHEN i = 3 THEN 30 END AS test
FROM integers;
\`\`\`
`,"cast.md":`---
title: Casting
---

<div id="rrdiagram"></div>

Casting refers to the operation of converting a value in a particular data type to the corresponding value in another data type.
Casting can occur either implicitly or explicitly. The syntax described here performs an explicit cast. More information on casting can be found on the [typecasting page]({% link docs/stable/sql/data_types/typecasting.md %}).

## Explicit Casting

The standard SQL syntax for explicit casting is \`CAST(expr AS TYPENAME)\`, where \`TYPENAME\` is a name (or alias) of one of [DuckDB's data types]({% link docs/stable/sql/data_types/overview.md %}). DuckDB also supports the shorthand \`expr::TYPENAME\`, which is also present in PostgreSQL.

\`\`\`sql
SELECT CAST(i AS VARCHAR) AS i
FROM generate_series(1, 3) tbl(i);
\`\`\`

| i |
|---|
| 1 |
| 2 |
| 3 |

\`\`\`sql
SELECT i::DOUBLE AS i
FROM generate_series(1, 3) tbl(i);
\`\`\`

|  i  |
|----:|
| 1.0 |
| 2.0 |
| 3.0 |

### Casting Rules

Not all casts are possible. For example, it is not possible to convert an \`INTEGER\` to a \`DATE\`. Casts may also throw errors when the cast could not be successfully performed. For example, trying to cast the string \`'hello'\` to an \`INTEGER\` will result in an error being thrown.

\`\`\`sql
SELECT CAST('hello' AS INTEGER);
\`\`\`

\`\`\`console
Conversion Error:
Could not convert string 'hello' to INT32
\`\`\`

The exact behavior of the cast depends on the source and destination types. For example, when casting from \`VARCHAR\` to any other type, the string will be attempted to be converted.

### \`TRY_CAST\`

\`TRY_CAST\` can be used when the preferred behavior is not to throw an error, but instead to return a \`NULL\` value. \`TRY_CAST\` will never throw an error, and will instead return \`NULL\` if a cast is not possible.

\`\`\`sql
SELECT TRY_CAST('hello' AS INTEGER) AS i;
\`\`\`

|  i   |
|------|
| NULL |

## \`cast_to_type\` Function

The \`cast_to_type\` function allows generating a cast from an expression to the type of another column.
For example:

\`\`\`sql
SELECT cast_to_type('42', NULL::INTEGER) AS result;
\`\`\`

\`\`\`text

  res  
 int32 

  42   

\`\`\`

This function is primarily useful in [macros]({% link docs/stable/guides/snippets/sharing_macros.md %}), as it allows you to maintain types.
This helps with making generic macros that operate on different types. For example, the following macro adds to a number if the input is an \`INTEGER\`:

\`\`\`sql
CREATE TABLE tbl (i INT, s VARCHAR);
INSERT INTO tbl VALUES (42, 'hello world');

CREATE MACRO conditional_add(col, nr) AS
    CASE
        WHEN typeof(col) == 'INTEGER' THEN cast_to_type(col::INTEGER + nr, col)
        ELSE col
    END;
SELECT conditional_add(COLUMNS(*), 100) FROM tbl;
\`\`\`

\`\`\`text

   i         s      
 int32    varchar   

  142   hello world 

\`\`\`

Note that the \`CASE\` statement needs to return the same type in all code paths. We can perform the addition on any input column by adding a cast to the desired type  but we need to cast the result of the addition back to the source type to make the binding work.
`,"collations.md":"---\ntitle: Collations\n---\n\n<div id=\"rrdiagram\"></div>\n\nCollations provide rules for how text should be sorted or compared in the execution engine. Collations are useful for localization, as the rules for how text should be ordered are different for different languages or for different countries. These orderings are often incompatible with one another. For example, in English the letter `y` comes between `x` and `z`. However, in Lithuanian the letter `y` comes between the `i` and `j`. For that reason, different collations are supported. The user must choose which collation they want to use when performing sorting and comparison operations.\n\nBy default, the `BINARY` collation is used. That means that strings are ordered and compared based only on their binary contents. This makes sense for standard ASCII characters (i.e., the letters A-Z and numbers 0-9), but generally does not make much sense for special unicode characters. It is, however, by far the fastest method of performing ordering and comparisons. Hence it is recommended to stick with the `BINARY` collation unless required otherwise.\n\n> The `BINARY` collation is also available under the aliases `C` and `POSIX`.\n\n> Warning Collation support in DuckDB has [some known limitations](https://github.com/duckdb/duckdb/issues?q=is%3Aissue+is%3Aopen+collation+) and has [several planned improvements](https://github.com/duckdb/duckdb/issues/604).\n\n## Using Collations\n\nIn the stand-alone installation of DuckDB three collations are included: `NOCASE`, `NOACCENT` and `NFC`. The `NOCASE` collation compares characters as equal regardless of their casing. The `NOACCENT` collation compares characters as equal regardless of their accents. The `NFC` collation performs NFC-normalized comparisons, see [Unicode normalization](https://en.wikipedia.org/wiki/Unicode_equivalence#Normalization) for more information.\n\n```sql\nSELECT 'hello' = 'hElLO';\n```\n\n```text\nfalse\n```\n\n```sql\nSELECT 'hello' COLLATE NOCASE = 'hElLO';\n```\n\n```text\ntrue\n```\n\n```sql\nSELECT 'hello' = 'hllo';\n```\n\n```text\nfalse\n```\n\n```sql\nSELECT 'hello' COLLATE NOACCENT = 'hllo';\n```\n\n```text\ntrue\n```\n\nCollations can be combined by chaining them using the dot operator. Note, however, that not all collations can be combined together. In general, the `NOCASE` collation can be combined with any other collator, but most other collations cannot be combined.\n\n```sql\nSELECT 'hello' COLLATE NOCASE = 'hElL';\n```\n\n```text\nfalse\n```\n\n```sql\nSELECT 'hello' COLLATE NOACCENT = 'hElL';\n```\n\n```text\nfalse\n```\n\n```sql\nSELECT 'hello' COLLATE NOCASE.NOACCENT = 'hElL';\n```\n\n```text\ntrue\n```\n\n## Default Collations\n\nThe collations we have seen so far have all been specified *per expression*. It is also possible to specify a default collator, either on the global database level or on a base table column. The `PRAGMA` `default_collation` can be used to specify the global default collator. This is the collator that will be used if no other one is specified.\n\n```sql\nSET default_collation = NOCASE;\nSELECT 'hello' = 'HeLlo';\n```\n\n```text\ntrue\n```\n\nCollations can also be specified per-column when creating a table. When that column is then used in a comparison, the per-column collation is used to perform that comparison.\n\n```sql\nCREATE TABLE names (name VARCHAR COLLATE NOACCENT);\nINSERT INTO names VALUES ('hnnes');\n```\n\n```sql\nSELECT name\nFROM names\nWHERE name = 'hannes';\n```\n\n```text\nhnnes\n```\n\nBe careful here, however, as different collations cannot be combined. This can be problematic when you want to compare columns that have a different collation specified.\n\n```sql\nSELECT name\nFROM names\nWHERE name = 'hannes' COLLATE NOCASE;\n```\n\n```console\nERROR: Cannot combine types with different collation!\n```\n\n```sql\nCREATE TABLE other_names (name VARCHAR COLLATE NOCASE);\nINSERT INTO other_names VALUES ('HNNES');\n```\n\n```sql\nSELECT names.name AS name, other_names.name AS other_name\nFROM names, other_names\nWHERE names.name = other_names.name;\n```\n\n```console\nERROR: Cannot combine types with different collation!\n```\n\nWe need to manually overwrite the collation:\n\n```sql\nSELECT names.name AS name, other_names.name AS other_name\nFROM names, other_names\nWHERE names.name COLLATE NOACCENT.NOCASE = other_names.name COLLATE NOACCENT.NOCASE;\n```\n\n|  name  | other_name |\n|--------|------------|\n| hnnes | HNNES     |\n\n## ICU Collations\n\nThe collations we have seen so far are not region-dependent, and do not follow any specific regional rules. If you wish to follow the rules of a specific region or language, you will need to use one of the ICU collations. For that, you need to [load the ICU extension]({% link docs/stable/core_extensions/icu.md %}#installing-and-loading).\n\nLoading this extension will add a number of language and region specific collations to your database. These can be queried using `PRAGMA collations` command, or by querying the `pragma_collations` function.\n\n```sql\nPRAGMA collations;\nSELECT list(collname) FROM pragma_collations();\n```\n\n```text\n[af, am, ar, ar_sa, as, az, be, bg, bn, bo, br, bs, ca, ceb, chr, cs, cy, da, de, de_at, dsb, dz, ee, el, en, en_us, eo, es, et, fa, fa_af, ff, fi, fil, fo, fr, fr_ca, fy, ga, gl, gu, ha, haw, he, he_il, hi, hr, hsb, hu, hy, icu_noaccent, id, id_id, ig, is, it, ja, ka, kk, kl, km, kn, ko, kok, ku, ky, lb, lkt, ln, lo, lt, lv, mk, ml, mn, mr, ms, mt, my, nb, nb_no, ne, nfc, nl, nn, noaccent, nocase, om, or, pa, pa_in, pl, ps, pt, ro, ru, sa, se, si, sk, sl, smn, sq, sr, sr_ba, sr_me, sr_rs, sv, sw, ta, te, th, tk, to, tr, ug, uk, ur, uz, vi, wae, wo, xh, yi, yo, yue, yue_cn, zh, zh_cn, zh_hk, zh_mo, zh_sg, zh_tw, zu]\n```\n\nThese collations can then be used as the other collations would be used before. They can also be combined with the `NOCASE` collation. For example, to use the German collation rules you could use the following code snippet:\n\n```sql\nCREATE TABLE strings (s VARCHAR COLLATE DE);\nINSERT INTO strings VALUES ('Gabel'), ('Gbel'), ('Goethe'), ('Goldmann'), ('Gthe'), ('Gtz');\nSELECT * FROM strings ORDER BY s;\n```\n\n```text\n\"Gabel\", \"Gbel\", \"Goethe\", \"Goldmann\", \"Gthe\", \"Gtz\"\n```\n","comparison_operators.md":"---\ntitle: Comparisons\n---\n\n## Comparison Operators\n\n<div id=\"rrdiagram2\"></div>\n\nThe table below shows the standard comparison operators.\nWhenever either of the input arguments is `NULL`, the output of the comparison is `NULL`.\n\n| Operator | Description | Example | Result |\n|:---|:---|:---|:---|\n| `<` | less than | `2 < 3` | `true` |\n| `>` | greater than | `2 > 3` | `false` |\n| `<=` | less than or equal to | `2 <= 3` | `true` |\n| `>=` | greater than or equal to | `4 >= NULL` | `NULL` |\n| `=` or `==` | equal | `NULL = NULL` | `NULL` |\n| `<>` or `!=` | not equal | `2 <> 2` | `false` |\n\nThe table below shows the standard distinction operators.\nThese operators treat `NULL` values as equal.\n\n| Operator | Description | Example | Result |\n|:---|:---|:---|:-|\n| `IS DISTINCT FROM` | not equal, including `NULL` | `2 IS DISTINCT FROM NULL` | `true` |\n| `IS NOT DISTINCT FROM` | equal, including `NULL` | `NULL IS NOT DISTINCT FROM NULL` | `true` |\n\n### Combination Casting\n\nWhen performing comparison on different types, DuckDB performs [Combination Casting]({% link docs/stable/sql/data_types/typecasting.md %}#combination-casting).\nThese casts were introduced to make interactive querying more convenient and are in line with the casts performed by several programming languages but are often not compatible with PostgreSQL's behavior. For example, the following expressions evaluate and return `true` in DuckDB but fail in PostgreSQL.\n\n```sql\nSELECT 1 = true;\nSELECT 1 = '1.1';\n```\n\n> It is not possible to enforce stricter type-checking for DuckDB's comparison operators. If you require stricter type-checking, consider creating a [macro]({% link docs/stable/sql/statements/create_macro.md %}) with the [`typeof` function]({% link docs/stable/sql/functions/utility.md %}#typeofexpression) or implementing a [user-defined function]({% link docs/stable/clients/python/function.md %}).\n\n## `BETWEEN` and `IS [NOT] NULL`\n\n<div id=\"rrdiagram1\"></div>\n\nBesides the standard comparison operators there are also the `BETWEEN` and `IS (NOT) NULL` operators. These behave much like operators, but have special syntax mandated by the SQL standard. They are shown in the table below.\n\nNote that `BETWEEN` and `NOT BETWEEN` are only equivalent to the examples below in the cases where both `a`, `x` and `y` are of the same type, as `BETWEEN` will cast all of its inputs to the same type.\n\n| Predicate | Description |\n|:---|:---|\n| `a BETWEEN x AND y` | equivalent to `x <= a AND a <= y` |\n| `a NOT BETWEEN x AND y` | equivalent to `x > a OR a > y` |\n| `expression IS NULL` | `true` if expression is `NULL`, `false` otherwise |\n| `expression ISNULL` | alias for `IS NULL` (non-standard) |\n| `expression IS NOT NULL` | `false` if expression is `NULL`, `true` otherwise |\n| `expression NOTNULL` | alias for `IS NOT NULL` (non-standard) |\n\n> For the expression `BETWEEN x AND y`, `x` is used as the lower bound and `y` is used as the upper bound. Therefore, if `x > y`, the result will always be `false`.\n","date.md":"---\ntitle: Date Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\nThis section describes functions and operators for examining and manipulating [`DATE`]({% link docs/stable/sql/data_types/date.md %}) values.\n\n## Date Operators\n\nThe table below shows the available mathematical operators for `DATE` types.\n\n| Operator | Description | Example | Result |\n|:-|:--|:---|:--|\n| `+` | addition of days (integers) | `DATE '1992-03-22' + 5` | `1992-03-27` |\n| `+` | addition of an `INTERVAL` | `DATE '1992-03-22' + INTERVAL 5 DAY` | `1992-03-27 00:00:00` |\n| `+` | addition of a variable `INTERVAL` | `SELECT DATE '1992-03-22' + INTERVAL (d.days) DAY FROM (VALUES (5), (11)) d(days)` | `1992-03-27 00:00:00` and `1992-04-02 00:00:00` |\n| `-` | subtraction of `DATE`s | `DATE '1992-03-27' - DATE '1992-03-22'` | `5` |\n| `-` | subtraction of an `INTERVAL` | `DATE '1992-03-27' - INTERVAL 5 DAY` | `1992-03-22 00:00:00` |\n| `-` | subtraction of a variable `INTERVAL` | `SELECT DATE '1992-03-27' - INTERVAL (d.days) DAY FROM (VALUES (5), (11)) d(days)` | `1992-03-22 00:00:00` and `1992-03-16 00:00:00` |\n\nAdding to or subtracting from [infinite values]({% link docs/stable/sql/data_types/date.md %}#special-values) produces the same infinite value.\n\n## Date Functions\n\nThe table below shows the available functions for `DATE` types.\nDates can also be manipulated with the [timestamp functions]({% link docs/stable/sql/functions/timestamp.md %}) through type promotion.\n\n| Name | Description |\n|:--|:-------|\n| [`date_add(date, interval)`](#date_adddate-interval) | Add the interval to the date and return a `DATETIME` value. |\n| [`date_diff(part, startdate, enddate)`](#date_diffpart-startdate-enddate) | The number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `startdate` and `enddate`, inclusive of the larger date and exclusive of the smaller date. |\n| [`date_part(part, date)`](#date_partpart-date) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). |\n| [`date_sub(part, startdate, enddate)`](#date_subpart-startdate-enddate) | The signed length of the interval between `startdate` and `enddate`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| [`date_trunc(part, date)`](#date_truncpart-date) | Truncate to specified [precision]({% link docs/stable/sql/functions/datepart.md %}). |\n| [`dayname(date)`](#daynamedate) | The (English) name of the weekday. |\n| [`extract(part from date)`](#extractpart-from-date) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) from a date. |\n| [`greatest(date, date)`](#greatestdate-date) | The later of two dates. |\n| [`isfinite(date)`](#isfinitedate) | Returns true if the date is finite, false otherwise. |\n| [`isinf(date)`](#isinfdate) | Returns true if the date is infinite, false otherwise. |\n| [`julian(date)`](#juliandate) | Extract the Julian Day number from a date. |\n| [`last_day(date)`](#last_daydate) | The last day of the corresponding month in the date. |\n| [`least(date, date)`](#leastdate-date) | The earlier of two dates. |\n| [`make_date(year, month, day)`](#make_dateyear-month-day) | The date for the given parts. |\n| [`monthname(date)`](#monthnamedate) | The (English) name of the month. |\n| [`strftime(date, format)`](#strftimedate-format) | Converts a date to a string according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}). |\n| [`time_bucket(bucket_width, date[, offset])`](#time_bucketbucket_width-date-offset) | Truncate `date` to a grid of width `bucket_width`. The grid is anchored at `2000-01-01[ + offset]` when `bucket_width` is a number of months or coarser units, else `2000-01-03[ + offset]`. Note that `2000-01-03` is a Monday. |\n| [`time_bucket(bucket_width, date[, origin])`](#time_bucketbucket_width-date-origin) | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01` when `bucket_width` is a number of months or coarser units, else `2000-01-03`. Note that `2000-01-03` is a Monday. |\n| [`today()`](#today) | Current date (start of current transaction) in the local time zone. |\n\n#### `date_add(date, interval)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Add the interval to the date and return a `DATETIME` value. |\n| **Example** | `date_add(DATE '1992-09-15', INTERVAL 2 MONTH)` |\n| **Result** | `1992-11-15 00:00:00` |\n\n#### `date_diff(part, startdate, enddate)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `startdate` and `enddate`, inclusive of the larger date and exclusive of the smaller date. |\n| **Example** | `date_diff('month', DATE '1992-09-15', DATE '1992-11-14')` |\n| **Result** | `2` |\n| **Alias** | `datediff` |\n\n#### `date_part(part, date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Get the [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). |\n| **Example** | `date_part('year', DATE '1992-09-20')` |\n| **Result** | `1992` |\n| **Alias** | `datepart` |\n\n#### `date_sub(part, startdate, enddate)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The signed length of the interval between `startdate` and `enddate`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_sub('month', DATE '1992-09-15', DATE '1992-11-14')` |\n| **Result** | `1` |\n| **Alias** | `datesub` |\n\n#### `date_trunc(part, date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Truncate to specified [precision]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_trunc('month', DATE '1992-03-07')` |\n| **Result** | `1992-03-01` |\n| **Alias** | `datetrunc` |\n\n#### `dayname(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The (English) name of the weekday. |\n| **Example** | `dayname(DATE '1992-09-20')` |\n| **Result** | `Sunday` |\n\n#### `extract(part from date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) from a date. |\n| **Example** | `extract('year' FROM DATE '1992-09-20')` |\n| **Result** | `1992` |\n\n#### `greatest(date, date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The later of two dates. |\n| **Example** | `greatest(DATE '1992-09-20', DATE '1992-03-07')` |\n| **Result** | `1992-09-20` |\n\n#### `isfinite(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if the date is finite, false otherwise. |\n| **Example** | `isfinite(DATE '1992-03-07')` |\n| **Result** | `true` |\n\n#### `isinf(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if the date is infinite, false otherwise. |\n| **Example** | `isinf(DATE '-infinity')` |\n| **Result** | `true` |\n\n#### `julian(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extract the Julian Day number from a date. |\n| **Example** | `julian(DATE '1992-09-20')` |\n| **Result** | `2448886.0` |\n\n#### `last_day(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The last day of the corresponding month in the date. |\n| **Example** | `last_day(DATE '1992-09-20')` |\n| **Result** | `1992-09-30` |\n\n#### `least(date, date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The earlier of two dates. |\n| **Example** | `least(DATE '1992-09-20', DATE '1992-03-07')` |\n| **Result** | `1992-03-07` |\n\n#### `make_date(year, month, day)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The date for the given parts. |\n| **Example** | `make_date(1992, 9, 20)` |\n| **Result** | `1992-09-20` |\n\n#### `monthname(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The (English) name of the month. |\n| **Example** | `monthname(DATE '1992-09-20')` |\n| **Result** | `September` |\n\n#### `strftime(date, format)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a date to a string according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}). |\n| **Example** | `strftime(DATE '1992-01-01', '%a, %-d %B %Y')` |\n| **Result** | `Wed, 1 January 1992` |\n\n#### `time_bucket(bucket_width, date[, offset])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Truncate `date` to a grid of width `bucket_width`. The grid is anchored at `2000-01-01[ + offset]` when `bucket_width` is a number of months or coarser units, else `2000-01-03[ + offset]`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '2 months', DATE '1992-04-20', INTERVAL '1 month')` |\n| **Result** | `1992-04-01` |\n\n#### `time_bucket(bucket_width, date[, origin])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01` when `bucket_width` is a number of months or coarser units, else `2000-01-03`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '2 weeks', DATE '1992-04-20', DATE '1992-04-01')` |\n| **Result** | `1992-04-15` |\n\n#### `today()`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Current date (start of current transaction) in the local time zone. |\n| **Example** | `today()` |\n| **Result** | `2022-10-08` |\n| **Alias** | `current_date` (no parentheses necessary) |\n\n## Date Part Extraction Functions\n\nThere are also dedicated extraction functions to get the [subfields]({% link docs/stable/sql/functions/datepart.md %}#part-functions).\nA few examples include extracting the day from a date, or the day of the week from a date.\n\nFunctions applied to infinite dates will either return the same infinite dates\n(e.g., `greatest`) or `NULL` (e.g., `date_part`) depending on what makes sense.\nIn general, if the function needs to examine the parts of the infinite date, the result will be `NULL`.\n","dateformat.md":"---\ntitle: Date Format Functions\n---\n\nThe `strftime` and `strptime` functions can be used to convert between [`DATE`]({% link docs/stable/sql/data_types/date.md %}) / [`TIMESTAMP`]({% link docs/stable/sql/data_types/timestamp.md %}) values and strings. This is often required when parsing CSV files, displaying output to the user or transferring information between programs. Because there are many possible date representations, these functions accept a [format string](#format-specifiers) that describes how the date or timestamp should be structured.\n\n## `strftime` Examples\n\nThe [`strftime(timestamp, format)`]({% link docs/stable/sql/functions/timestamp.md %}#strftimetimestamp-format) converts timestamps or dates to strings according to the specified pattern.\n\n```sql\nSELECT strftime(DATE '1992-03-02', '%d/%m/%Y');\n```\n\n```text\n02/03/1992\n```\n\n```sql\nSELECT strftime(TIMESTAMP '1992-03-02 20:32:45', '%A, %-d %B %Y - %I:%M:%S %p');\n```\n\n```text\nMonday, 2 March 1992 - 08:32:45 PM\n```\n\n## `strptime` Examples\n\nThe [`strptime(text, format)` function]({% link docs/stable/sql/functions/timestamp.md %}#strptimetext-format) converts strings to timestamps according to the specified pattern.\n\n```sql\nSELECT strptime('02/03/1992', '%d/%m/%Y');\n```\n\n```text\n1992-03-02 00:00:00\n```\n\n```sql\nSELECT strptime('Monday, 2 March 1992 - 08:32:45 PM', '%A, %-d %B %Y - %I:%M:%S %p');\n```\n\n```text\n1992-03-02 20:32:45\n```\n\nThe `strptime` function throws an error on failure:\n\n```sql\nSELECT strptime('02/50/1992', '%d/%m/%Y') AS x;\n```\n\n```console\nInvalid Input Error: Could not parse string \"02/50/1992\" according to format specifier \"%d/%m/%Y\"\n02/50/1992\n   ^\nError: Month out of range, expected a value between 1 and 12\n```\n\nTo return `NULL` on failure, use the [`try_strptime` function]({% link docs/stable/sql/functions/timestamp.md %}#try_strptimetext-format):\n\n```text\nNULL\n```\n\n## CSV Parsing\n\nThe date formats can also be specified during CSV parsing, either in the [`COPY` statement]({% link docs/stable/sql/statements/copy.md %}) or in the `read_csv` function. This can be done by either specifying a `DATEFORMAT` or a `TIMESTAMPFORMAT` (or both). `DATEFORMAT` will be used for converting dates, and `TIMESTAMPFORMAT` will be used for converting timestamps. Below are some examples for how to use this.\n\nIn a `COPY` statement:\n\n```sql\nCOPY dates FROM 'test.csv' (DATEFORMAT '%d/%m/%Y', TIMESTAMPFORMAT '%A, %-d %B %Y - %I:%M:%S %p');\n```\n\nIn a `read_csv` function:\n\n```sql\nSELECT *\nFROM read_csv('test.csv', dateformat = '%m/%d/%Y', timestampformat = '%A, %-d %B %Y - %I:%M:%S %p');\n```\n\n## Format Specifiers\n\nBelow is a full list of all available format specifiers.\n\n| Specifier | Description | Example |\n|:-|:------|:---|\n| `%a` | Abbreviated weekday name. | Sun, Mon, ... |\n| `%A` | Full weekday name. | Sunday, Monday, ... |\n| `%b` | Abbreviated month name. | Jan, Feb, ..., Dec |\n| `%B` | Full month name. | January, February, ... |\n| `%c` | ISO date and time representation | 1992-03-02 10:30:20 |\n| `%d` | Day of the month as a zero-padded decimal. | 01, 02, ..., 31 |\n| `%-d` | Day of the month as a decimal number. | 1, 2, ..., 30 |\n| `%f` | Microsecond as a decimal number, zero-padded on the left. | 000000 - 999999 |\n| `%g` | Millisecond as a decimal number, zero-padded on the left. | 000 - 999 |\n| `%G` | ISO 8601 year with century representing the year that contains the greater part of the ISO week (see `%V`). | 0001, 0002, ..., 2013, 2014, ..., 9998, 9999 |\n| `%H` | Hour (24-hour clock) as a zero-padded decimal number. | 00, 01, ..., 23 |\n| `%-H` | Hour (24-hour clock) as a decimal number. | 0, 1, ..., 23 |\n| `%I` | Hour (12-hour clock) as a zero-padded decimal number. | 01, 02, ..., 12 |\n| `%-I` | Hour (12-hour clock) as a decimal number. | 1, 2, ... 12 |\n| `%j` | Day of the year as a zero-padded decimal number. | 001, 002, ..., 366 |\n| `%-j` | Day of the year as a decimal number. | 1, 2, ..., 366 |\n| `%m` | Month as a zero-padded decimal number. | 01, 02, ..., 12 |\n| `%-m` | Month as a decimal number. | 1, 2, ..., 12 |\n| `%M` | Minute as a zero-padded decimal number. | 00, 01, ..., 59 |\n| `%-M` | Minute as a decimal number. | 0, 1, ..., 59 |\n| `%n` | Nanosecond as a decimal number, zero-padded on the left. | 000000000 - 999999999 |\n| `%p` | Locale's AM or PM. | AM, PM |\n| `%S` | Second as a zero-padded decimal number. | 00, 01, ..., 59 |\n| `%-S` | Second as a decimal number. | 0, 1, ..., 59 |\n| `%u` | ISO 8601 weekday as a decimal number where 1 is Monday. | 1, 2, ..., 7 |\n| `%U` | Week number of the year. Week 01 starts on the first Sunday of the year, so there can be week 00. Note that this is not compliant with the week date standard in ISO-8601. | 00, 01, ..., 53 |\n| `%V` | ISO 8601 week as a decimal number with Monday as the first day of the week. Week 01 is the week containing Jan 4. Note that `%V` is incompatible with year directive `%Y`. Use the ISO year `%G` instead. | 01, ..., 53 |\n| `%w` | Weekday as a decimal number. | 0, 1, ..., 6 |\n| `%W` | Week number of the year. Week 01 starts on the first Monday of the year, so there can be week 00. Note that this is not compliant with the week date standard in ISO-8601. | 00, 01, ..., 53 |\n| `%x` | ISO date representation | 1992-03-02 |\n| `%X` | ISO time representation | 10:30:20 |\n| `%y` | Year without century as a zero-padded decimal number. | 00, 01, ..., 99 |\n| `%-y` | Year without century as a decimal number. | 0, 1, ..., 99 |\n| `%Y` | Year with century as a decimal number. | 2013, 2019 etc. |\n| `%z` | [Time offset from UTC](https://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC) in the form HH:MM, HHMM, or HH. | -0700 |\n| `%Z` | Time zone name. | Europe/Amsterdam  |\n| `%%` | A literal `%` character. | % |\n","datepart.md":"---\ntitle: Date Part Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\nThe `date_part`, `date_trunc` and `date_diff` functions can be used to extract or manipulate parts of temporal types such as [`TIMESTAMP`]({% link docs/stable/sql/data_types/timestamp.md %}), [`TIMESTAMPTZ`]({% link docs/stable/sql/data_types/timestamp.md %}), [`DATE`]({% link docs/stable/sql/data_types/date.md %}) and [`INTERVAL`]({% link docs/stable/sql/data_types/interval.md %}).\n\nThe parts to be extracted or manipulated are specified by one of the strings in the tables below.\nThe example column provides the corresponding parts of the timestamp `2021-08-03 11:59:44.123456`.\nOnly the entries of the first table can be extracted from `INTERVAL`s or used to construct them.\n\n> Except for `julian` and `epoch`, which return `DOUBLE`s, all parts are extracted as integers. Since there are no infinite integer values in DuckDB, `NULL`s are returned for infinite timestamps.\n\n## Part Specifiers Usable as Date Part Specifiers and in Intervals\n\n| Specifier | Description | Synonyms | Example |\n|:--|:--|:---|--:|\n| `century` | Gregorian century | `cent`, `centuries`, `c` | `21` |\n| `day` | Gregorian day | `days`, `d`, `dayofmonth` | `3` |\n| `decade` | Gregorian decade | `dec`, `decades`, `decs` | `202` |\n| `hour` | Hours | `hr`, `hours`, `hrs`, `h` | `11` |\n| `microseconds` | Sub-minute microseconds | `microsecond`, `us`, `usec`, `usecs`, `usecond`, `useconds` | `44123456` |\n| `millennium` | Gregorian millennium | `mil`, `millenniums`, `millenia`, `mils`, `millenium` | `3` |\n| `milliseconds` | Sub-minute milliseconds | `millisecond`, `ms`, `msec`, `msecs`, `msecond`, `mseconds` | `44123` |\n| `minute` | Minutes | `min`, `minutes`, `mins`, `m` | `59` |\n| `month` | Gregorian month | `mon`, `months`, `mons` | `8` |\n| `quarter` | Quarter of the year (1-4) | `quarters` | `3` |\n| `second` | Seconds | `sec`, `seconds`, `secs`, `s` | `44` |\n| `year` | Gregorian year | `yr`, `y`, `years`, `yrs` | `2021` |\n\n## Part Specifiers Only Usable as Date Part Specifiers\n\n| Specifier | Description | Synonyms | Example |\n|:--|:--|:---|--:|\n| `dayofweek` | Day of the week (Sunday = 0, Saturday = 6) | `weekday`, `dow` | `2` |\n| `dayofyear` | Day of the year (1-365/366) | `doy` | `215` |\n| `epoch` | Seconds since 1970-01-01 | | `1760465850.6698709` |\n| `era` | Gregorian era (CE/AD, BCE/BC) | | `1` |\n| `isodow` | ISO day of the week (Monday = 1, Sunday = 7) | | `2` |\n| `isoyear` | ISO Year number (Starts on Monday of week containing Jan 4th) | | `2021` |\n| `julian` | Julian Day number. | | `2459430.4998162435` |\n| `timezone_hour` | Time zone offset hour portion | | `0` |\n| `timezone_minute` | Time zone offset minute portion | | `0` |\n| `timezone` | Time zone offset in seconds | | `0` |\n| `week` | Week number | `weeks`, `w` | `31` |\n| `yearweek` | ISO year and week number in `YYYYWW` format | | `202131` |\n\nNote that the time zone parts are all zero unless a time zone extension such as [ICU]({% link docs/stable/core_extensions/icu.md %})\nhas been installed to support `TIMESTAMP WITH TIME ZONE`.\n\n## Part Functions\n\nThere are dedicated extraction functions to get certain subfields:\n\n| Name | Description |\n|:--|:-------|\n| [`century(date)`](#centurydate) | Century. |\n| [`day(date)`](#daydate) | Day. |\n| [`dayofmonth(date)`](#dayofmonthdate) | Day (synonym). |\n| [`dayofweek(date)`](#dayofweekdate) | Numeric weekday (Sunday = 0, Saturday = 6). |\n| [`dayofyear(date)`](#dayofyeardate) | Day of the year (starts from 1, i.e., January 1 = 1). |\n| [`decade(date)`](#decadedate) | Decade (year / 10). |\n| [`epoch(date)`](#epochdate) | Seconds since 1970-01-01. |\n| [`era(date)`](#eradate) | Calendar era. |\n| [`hour(date)`](#hourdate) | Hours. |\n| [`isodow(date)`](#isodowdate) | Numeric ISO weekday (Monday = 1, Sunday = 7). |\n| [`isoyear(date)`](#isoyeardate) | ISO Year number (Starts on Monday of week containing Jan 4th). |\n| [`julian(date)`](#juliandate) | `DOUBLE` Julian Day number. |\n| [`microsecond(date)`](#microseconddate) | Sub-minute microseconds. |\n| [`millennium(date)`](#millenniumdate) | Millennium. |\n| [`millisecond(date)`](#milliseconddate) | Sub-minute milliseconds. |\n| [`minute(date)`](#minutedate) | Minutes. |\n| [`month(date)`](#monthdate) | Month. |\n| [`quarter(date)`](#quarterdate) | Quarter. |\n| [`second(date)`](#seconddate) | Seconds. |\n| [`timezone_hour(date)`](#timezone_hourdate) | Time zone offset hour portion. |\n| [`timezone_minute(date)`](#timezone_minutedate) | Time zone offset minutes portion. |\n| [`timezone(date)`](#timezonedate) | Time zone offset in minutes. |\n| [`week(date)`](#weekdate) | ISO Week. |\n| [`weekday(date)`](#weekdaydate) | Numeric weekday synonym (Sunday = 0, Saturday = 6). |\n| [`weekofyear(date)`](#weekofyeardate) | ISO Week (synonym). |\n| [`year(date)`](#yeardate) | Year. |\n| [`yearweek(date)`](#yearweekdate) | `BIGINT` of combined ISO Year number and 2-digit version of ISO Week number. |\n\n#### `century(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Century. |\n| **Example** | `century(DATE '1992-02-15')` |\n| **Result** | `20` |\n\n#### `day(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Day. |\n| **Example** | `day(DATE '1992-02-15')` |\n| **Result** | `15` |\n\n#### `dayofmonth(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Day (synonym). |\n| **Example** | `dayofmonth(DATE '1992-02-15')` |\n| **Result** | `15` |\n\n#### `dayofweek(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Numeric weekday (Sunday = 0, Saturday = 6). |\n| **Example** | `dayofweek(DATE '1992-02-15')` |\n| **Result** | `6` |\n\n#### `dayofyear(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Day of the year (starts from 1, i.e., January 1 = 1). |\n| **Example** | `dayofyear(DATE '1992-02-15')` |\n| **Result** | `46` |\n\n#### `decade(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Decade (year / 10). |\n| **Example** | `decade(DATE '1992-02-15')` |\n| **Result** | `199` |\n\n#### `epoch(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Seconds since 1970-01-01. |\n| **Example** | `epoch(DATE '1992-02-15')` |\n| **Result** | `698112000` |\n\n#### `era(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Calendar era. |\n| **Example** | `era(DATE '0044-03-15 (BC)')` |\n| **Result** | `0` |\n\n#### `hour(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Hours. |\n| **Example** | `hour(timestamp '2021-08-03 11:59:44.123456')` |\n| **Result** | `11` |\n\n#### `isodow(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Numeric ISO weekday (Monday = 1, Sunday = 7). |\n| **Example** | `isodow(DATE '1992-02-15')` |\n| **Result** | `6` |\n\n#### `isoyear(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | ISO Year number (Starts on Monday of week containing Jan 4th). |\n| **Example** | `isoyear(DATE '2022-01-01')` |\n| **Result** | `2021` |\n\n\n#### `julian(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | `DOUBLE` Julian Day number. |\n| **Example** | `julian(DATE '1992-09-20')` |\n| **Result** | `2448886.0` |\n\n\n#### `microsecond(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Sub-minute microseconds. |\n| **Example** | `microsecond(timestamp '2021-08-03 11:59:44.123456')` |\n| **Result** | `44123456` |\n\n#### `millennium(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Millennium. |\n| **Example** | `millennium(DATE '1992-02-15')` |\n| **Result** | `2` |\n\n#### `millisecond(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Sub-minute milliseconds. |\n| **Example** | `millisecond(timestamp '2021-08-03 11:59:44.123456')` |\n| **Result** | `44123` |\n\n#### `minute(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Minutes. |\n| **Example** | `minute(timestamp '2021-08-03 11:59:44.123456')` |\n| **Result** | `59` |\n\n#### `month(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Month. |\n| **Example** | `month(DATE '1992-02-15')` |\n| **Result** | `2` |\n\n#### `quarter(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Quarter. |\n| **Example** | `quarter(DATE '1992-02-15')` |\n| **Result** | `1` |\n\n#### `second(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Seconds. |\n| **Example** | `second(timestamp '2021-08-03 11:59:44.123456')` |\n| **Result** | `44` |\n\n#### `timezone_hour(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Time zone offset hour portion. |\n| **Example** | `timezone_hour(DATE '1992-02-15')` |\n| **Result** | `0` |\n\n#### `timezone_minute(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Time zone offset minutes portion. |\n| **Example** | `timezone_minute(DATE '1992-02-15')` |\n| **Result** | `0` |\n\n#### `timezone(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Time zone offset in minutes. |\n| **Example** | `timezone(DATE '1992-02-15')` |\n| **Result** | `0` |\n\n#### `week(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | ISO Week. |\n| **Example** | `week(DATE '1992-02-15')` |\n| **Result** | `7` |\n\n#### `weekday(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Numeric weekday synonym (Sunday = 0, Saturday = 6). |\n| **Example** | `weekday(DATE '1992-02-15')` |\n| **Result** | `6` |\n\n#### `weekofyear(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | ISO Week (synonym). |\n| **Example** | `weekofyear(DATE '1992-02-15')` |\n| **Result** | `7` |\n\n#### `year(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Year. |\n| **Example** | `year(DATE '1992-02-15')` |\n| **Result** | `1992` |\n\n#### `yearweek(date)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | `BIGINT` of combined ISO Year number and 2-digit version of ISO Week number. |\n| **Example** | `yearweek(DATE '1992-02-15')` |\n| **Result** | `199207` |\n","enum.md":`---
title: Enum Functions
---

<!-- markdownlint-disable MD001 -->

This section describes functions and operators for examining and manipulating [\`ENUM\` values]({% link docs/stable/sql/data_types/enum.md %}).
The examples assume an enum type created as:

\`\`\`sql
CREATE TYPE mood AS ENUM ('sad', 'ok', 'happy', 'anxious');
\`\`\`

These functions can take \`NULL\` or a specific value of the type as argument(s).
With the exception of \`enum_range_boundary\`, the result depends only on the type of the argument and not on its value.

| Name | Description |
|:--|:-------|
| [\`enum_code(enum_value)\`](#enum_codeenum_value) | Returns the numeric value backing the given enum value. |
| [\`enum_first(enum)\`](#enum_firstenum) | Returns the first value of the input enum type. |
| [\`enum_last(enum)\`](#enum_lastenum) | Returns the last value of the input enum type. |
| [\`enum_range(enum)\`](#enum_rangeenum) | Returns all values of the input enum type as an array. |
| [\`enum_range_boundary(enum, enum)\`](#enum_range_boundaryenum-enum) | Returns the range between the two given enum values as an array. |

#### \`enum_code(enum_value)\`

<div class="nostroke_table"></div>

| **Description** | Returns the numeric value backing the given enum value. |
| **Example** | \`enum_code('happy'::mood)\` |
| **Result** | \`2\` |

#### \`enum_first(enum)\`

<div class="nostroke_table"></div>

| **Description** | Returns the first value of the input enum type. |
| **Example** | \`enum_first(NULL::mood)\` |
| **Result** | \`sad\` |

#### \`enum_last(enum)\`

<div class="nostroke_table"></div>

| **Description** | Returns the last value of the input enum type. |
| **Example** | \`enum_last(NULL::mood)\` |
| **Result** | \`anxious\` |

#### \`enum_range(enum)\`

<div class="nostroke_table"></div>

| **Description** | Returns all values of the input enum type as an array. |
| **Example** | \`enum_range(NULL::mood)\` |
| **Result** | \`[sad, ok, happy, anxious]\` |

#### \`enum_range_boundary(enum, enum)\`

<div class="nostroke_table"></div>

| **Description** | Returns the range between the two given enum values as an array. The values must be of the same enum type. When the first parameter is \`NULL\`, the result starts with the first value of the enum type. When the second parameter is \`NULL\`, the result ends with the last value of the enum type. |
| **Example** | \`enum_range_boundary(NULL, 'happy'::mood)\` |
| **Result** | \`[sad, ok, happy]\` |
`,"filter.md":`---
title: FILTER Clause
---

The \`FILTER\` clause may optionally follow an aggregate function in a \`SELECT\` statement. This will filter the rows of data that are fed into the aggregate function in the same way that a \`WHERE\` clause filters rows, but localized to the specific aggregate function.

There are multiple types of situations where this is useful, including when evaluating multiple aggregates with different filters, and when creating a pivoted view of a dataset. \`FILTER\` provides a cleaner syntax for pivoting data when compared with the more traditional \`CASE WHEN\` approach discussed below.

Some aggregate functions also do not filter out \`NULL\` values, so using a \`FILTER\` clause will return valid results when at times the \`CASE WHEN\` approach will not. This occurs with the functions \`first\` and \`last\`, which are desirable in a non-aggregating pivot operation where the goal is to simply re-orient the data into columns rather than re-aggregate it. \`FILTER\` also improves \`NULL\` handling when using the \`list\` and \`array_agg\` functions, as the \`CASE WHEN\` approach will include \`NULL\` values in the list result, while the \`FILTER\` clause will remove them.

## Examples

Return the following:

* The total number of rows
* The number of rows where \`i <= 5\`
* The number of rows where \`i\` is odd

\`\`\`sql
SELECT
    count() AS total_rows,
    count() FILTER (i <= 5) AS lte_five,
    count() FILTER (i % 2 = 1) AS odds
FROM generate_series(1, 10) tbl(i);
\`\`\`

<div class="monospace_table"></div>

| total_rows | lte_five | odds |
|:---|:---|:---|
| 10 | 5 | 5 |

> Simply counting rows that satisfy a condition can also be achieved without \`FILTER\` clause, using the boolean \`sum\` aggregate function, e.g., \`sum(i <= 5)\`.

Different aggregate functions may be used, and multiple \`WHERE\` expressions are also permitted:

\`\`\`sql
SELECT
    sum(i) FILTER (i <= 5) AS lte_five_sum,
    median(i) FILTER (i % 2 = 1) AS odds_median,
    median(i) FILTER (i % 2 = 1 AND i <= 5) AS odds_lte_five_median
FROM generate_series(1, 10) tbl(i);
\`\`\`

<div class="monospace_table"></div>

| lte_five_sum | odds_median | odds_lte_five_median |
|:---|:---|:---|
| 15 | 5.0 | 3.0 |

The \`FILTER\` clause can also be used to pivot data from rows into columns. This is a static pivot, as columns must be defined prior to runtime in SQL. However, this kind of statement can be dynamically generated in a host programming language to leverage DuckDB's SQL engine for rapid, larger than memory pivoting.

First generate an example dataset:

\`\`\`sql
CREATE TEMP TABLE stacked_data AS
    SELECT
        i,
        CASE WHEN i <= rows * 0.25  THEN 2022
             WHEN i <= rows * 0.5   THEN 2023
             WHEN i <= rows * 0.75  THEN 2024
             WHEN i <= rows * 0.875 THEN 2025
             ELSE NULL
             END AS year
    FROM (
        SELECT
            i,
            count(*) OVER () AS rows
        FROM generate_series(1, 100_000_000) tbl(i)
    ) tbl;
\`\`\`

Pivot the data out by year (move each year out to a separate column):

\`\`\`sql
SELECT
    count(i) FILTER (year = 2022) AS "2022",
    count(i) FILTER (year = 2023) AS "2023",
    count(i) FILTER (year = 2024) AS "2024",
    count(i) FILTER (year = 2025) AS "2025",
    count(i) FILTER (year IS NULL) AS "NULLs"
FROM stacked_data;
\`\`\`

This syntax produces the same results as the \`FILTER\` clauses above:

\`\`\`sql
SELECT
    count(CASE WHEN year = 2022 THEN i END) AS "2022",
    count(CASE WHEN year = 2023 THEN i END) AS "2023",
    count(CASE WHEN year = 2024 THEN i END) AS "2024",
    count(CASE WHEN year = 2025 THEN i END) AS "2025",
    count(CASE WHEN year IS NULL THEN i END) AS "NULLs"
FROM stacked_data;
\`\`\`

<div class="monospace_table"></div>

|   2022   |   2023   |   2024   |   2025   |  NULLs   |
|:---|:---|:---|:---|:---|
| 25000000 | 25000000 | 25000000 | 12500000 | 12500000 |

However, the \`CASE WHEN\` approach will not work as expected when using an aggregate function that does not ignore \`NULL\` values. The \`first\` function falls into this category, so \`FILTER\` is preferred in this case.

Pivot the data out by year (move each year out to a separate column):

\`\`\`sql
SELECT
    first(i) FILTER (year = 2022) AS "2022",
    first(i) FILTER (year = 2023) AS "2023",
    first(i) FILTER (year = 2024) AS "2024",
    first(i) FILTER (year = 2025) AS "2025",
    first(i) FILTER (year IS NULL) AS "NULLs"
FROM stacked_data;
\`\`\`

<div class="monospace_table"></div>

|   2022   |   2023   |   2024   |   2025   |  NULLs   |
|:---|:---|:---|:---|:---|
| 1474561 | 25804801 | 50749441 | 76431361 | 87500001 |

This will produce \`NULL\` values whenever the first evaluation of the \`CASE WHEN\` clause returns a \`NULL\`:

\`\`\`sql
SELECT
    first(CASE WHEN year = 2022 THEN i END) AS "2022",
    first(CASE WHEN year = 2023 THEN i END) AS "2023",
    first(CASE WHEN year = 2024 THEN i END) AS "2024",
    first(CASE WHEN year = 2025 THEN i END) AS "2025",
    first(CASE WHEN year IS NULL THEN i END) AS "NULLs"
FROM stacked_data;
\`\`\`

<div class="monospace_table"></div>

|   2022   |   2023   |   2024   |   2025   |  NULLs   |
|:---|:---|:---|:---|:---|
| 1228801 | NULL | NULL | NULL | NULL  |

## Aggregate Function Syntax (Including \`FILTER\` Clause)

<div id="rrdiagram"></div>
`,"from.md":`---
title: FROM and JOIN Clauses
---

The \`FROM\` clause specifies the *source* of the data on which the remainder of the query should operate. Logically, the \`FROM\` clause is where the query starts execution. The \`FROM\` clause can contain a single table, a combination of multiple tables that are joined together using \`JOIN\` clauses, or another \`SELECT\` query inside a subquery node. DuckDB also has an optional \`FROM\`-first syntax which enables you to also query without a \`SELECT\` statement.

## Examples

Select all columns from the table called \`tbl\`:

\`\`\`sql
SELECT *
FROM tbl;
\`\`\`

Select all columns from the table using the \`FROM\`-first syntax:

\`\`\`sql
FROM tbl
SELECT *;
\`\`\`

Select all columns using the \`FROM\`-first syntax and omitting the \`SELECT\` clause:

\`\`\`sql
FROM tbl;
\`\`\`

Select all columns from the table called \`tbl\` through an alias \`tn\`:

\`\`\`sql
SELECT tn.*
FROM tbl tn;
\`\`\`

Use a prefix alias:

\`\`\`sql
SELECT tn.*
FROM tn: tbl;
\`\`\`

Select all columns from the table \`tbl\` in the schema \`schema_name\`:

\`\`\`sql
SELECT *
FROM schema_name.tbl;
\`\`\`

Select the column \`i\` from the table function \`range\`, where the first column of the range function is renamed to \`i\`:

\`\`\`sql
SELECT t.i
FROM range(100) AS t(i);
\`\`\`

Select all columns from the CSV file called \`test.csv\`:

\`\`\`sql
SELECT *
FROM 'test.csv';
\`\`\`

Select all columns from a subquery:

\`\`\`sql
SELECT *
FROM (SELECT * FROM tbl);
\`\`\`

Select the entire row of the table as a struct:

\`\`\`sql
SELECT t
FROM t;
\`\`\`

Select the entire row of the subquery as a struct (i.e., a single column):

\`\`\`sql
SELECT t
FROM (SELECT unnest(generate_series(41, 43)) AS x, 'hello' AS y) t;
\`\`\`

Join two tables together:

\`\`\`sql
SELECT *
FROM tbl
JOIN other_table
  ON tbl.key = other_table.key;
\`\`\`

Select a 10% sample from a table:

\`\`\`sql
SELECT *
FROM tbl
TABLESAMPLE 10%;
\`\`\`

Select a sample of 10 rows from a table:

\`\`\`sql
SELECT *
FROM tbl
TABLESAMPLE 10 ROWS;
\`\`\`

Use the \`FROM\`-first syntax with \`WHERE\` clause and aggregation:

\`\`\`sql
FROM range(100) AS t(i)
SELECT sum(t.i)
WHERE i % 2 = 0;
\`\`\`

### Table Functions

Some functions in duckdb return entire tables rather than individual values. These functions are accordingly called _table functions_ and can be used with a \`FROM\` clause like regular table references. 
Examples include [\`read_csv\`]({%link docs/stable/data/csv/overview.md %}#csv-functions), [\`read_parquet\`]({%link docs/stable/data/parquet/overview.md %}#read_parquet-function), [\`range\`]({% link docs/stable/sql/functions/list.md %}#rangestart-stop-step), [\`generate_series\`]({% link docs/stable/sql/functions/list.md %}#generate_seriesstart-stop-step), [\`repeat\`]({% link docs/stable/sql/functions/utility.md %}#repeat_rowvarargs-num_rows), [\`unnest\`]({% link docs/stable/sql/query_syntax/unnest.md %}), and [\`glob\`]({%link docs/stable/sql/functions/utility.md %}#globsearch_path) (note that some of the examples here can be used as both scalar and table functions). 

For example,

\`\`\`sql
SELECT *
FROM 'test.csv';
\`\`\`

is implicitly translated to a call of the \`read_csv\` table function:


\`\`\`sql
SELECT *
FROM read_csv('test.csv');
\`\`\`

All table functions support a \`WITH ORDINALITY\` suffix, which extends the returned table by an integer column \`ordinality\` that enumerates the generated rows starting at \`1\`.

\`\`\`sql
SELECT * 
FROM read_csv('test.csv') WITH ORDINALITY;
\`\`\`

Note that the same result could be achieved using the [\`row_number\` window function]({% link docs/stable/sql/functions/window_functions.md %}#row_numberorder-by-ordering).
In the presence of [joins](#joins), however, \`WITH ORDINALITY\` allows enumerating one side of the join instead of the final result set, without having to resort to sub-queries.

## Joins

Joins are a fundamental relational operation used to connect two tables or relations horizontally.
The relations are referred to as the _left_ and _right_ sides of the join
based on how they are written in the join clause.
Each result row has the columns from both relations.

A join uses a rule to match pairs of rows from each relation.
Often this is a predicate, but there are other implied rules that may be specified.

### Outer Joins

Rows that do not have any matches can still be returned if an \`OUTER\` join is specified.
Outer joins can be one of:

* \`LEFT\` (All rows from the left relation appear at least once)
* \`RIGHT\` (All rows from the right relation appear at least once)
* \`FULL\` (All rows from both relations appear at least once)

A join that is not \`OUTER\` is \`INNER\` (only rows that get paired are returned).

When an unpaired row is returned, the attributes from the other table are set to \`NULL\`.

### Cross Product Joins (Cartesian Product)

The simplest type of join is a \`CROSS JOIN\`.
There are no conditions for this type of join,
and it just returns all the possible pairs.

Return all pairs of rows:

\`\`\`sql
SELECT a.*, b.*
FROM a
CROSS JOIN b;
\`\`\`

This is equivalent to omitting the \`JOIN\` clause:

\`\`\`sql
SELECT a.*, b.*
FROM a, b;
\`\`\`

### Conditional Joins

Most joins are specified by a predicate that connects
attributes from one side to attributes from the other side.
The conditions can be explicitly specified using an \`ON\` clause
with the join (clearer) or implied by the \`WHERE\` clause (old-fashioned).

We use the \`l_regions\` and the \`l_nations\` tables from the TPC-H schema:

\`\`\`sql
CREATE TABLE l_regions (
    r_regionkey INTEGER NOT NULL PRIMARY KEY,
    r_name      CHAR(25) NOT NULL,
    r_comment   VARCHAR(152)
);

CREATE TABLE l_nations (
    n_nationkey INTEGER NOT NULL PRIMARY KEY,
    n_name      CHAR(25) NOT NULL,
    n_regionkey INTEGER NOT NULL,
    n_comment   VARCHAR(152),
    FOREIGN KEY (n_regionkey) REFERENCES l_regions(r_regionkey)
);
\`\`\`

Return the regions for the nations:

\`\`\`sql
SELECT n.*, r.*
FROM l_nations n
JOIN l_regions r ON (n_regionkey = r_regionkey);
\`\`\`

If the column names are the same and are required to be equal,
then the simpler \`USING\` syntax can be used:

\`\`\`sql
CREATE TABLE l_regions (regionkey INTEGER NOT NULL PRIMARY KEY,
                        name      CHAR(25) NOT NULL,
                        comment   VARCHAR(152));

CREATE TABLE l_nations (nationkey INTEGER NOT NULL PRIMARY KEY,
                        name      CHAR(25) NOT NULL,
                        regionkey INTEGER NOT NULL,
                        comment   VARCHAR(152),
                        FOREIGN KEY (regionkey) REFERENCES l_regions(regionkey));
\`\`\`

Return the regions for the nations:

\`\`\`sql
SELECT n.*, r.*
FROM l_nations n
JOIN l_regions r USING (regionkey);
\`\`\`

The expressions do not have to be equalities  any predicate can be used:

Return the pairs of jobs where one ran longer but cost less:

\`\`\`sql
SELECT s1.t_id, s2.t_id
FROM west s1, west s2
WHERE s1.time > s2.time
  AND s1.cost < s2.cost;
\`\`\`

### Natural Joins

Natural joins join two tables based on attributes that share the same name.

For example, take the following example with cities, airport codes and airport names. Note that both tables are intentionally incomplete, i.e., they do not have a matching pair in the other table.

\`\`\`sql
CREATE TABLE city_airport (city_name VARCHAR, iata VARCHAR);
CREATE TABLE airport_names (iata VARCHAR, airport_name VARCHAR);
INSERT INTO city_airport VALUES
    ('Amsterdam', 'AMS'),
    ('Rotterdam', 'RTM'),
    ('Eindhoven', 'EIN'),
    ('Groningen', 'GRQ');
INSERT INTO airport_names VALUES
    ('AMS', 'Amsterdam Airport Schiphol'),
    ('RTM', 'Rotterdam The Hague Airport'),
    ('MST', 'Maastricht Aachen Airport');
\`\`\`

To join the tables on their shared [\`IATA\`](https://en.wikipedia.org/wiki/IATA_airport_code) attributes, run:

\`\`\`sql
SELECT *
FROM city_airport
NATURAL JOIN airport_names;
\`\`\`

This produces the following result:

| city_name | iata |        airport_name         |
|-----------|------|-----------------------------|
| Amsterdam | AMS  | Amsterdam Airport Schiphol  |
| Rotterdam | RTM  | Rotterdam The Hague Airport |

Note that only rows where the same \`iata\` attribute was present in both tables were included in the result.

We can also express query using the vanilla \`JOIN\` clause with the \`USING\` keyword:

\`\`\`sql
SELECT *
FROM city_airport
JOIN airport_names
USING (iata);
\`\`\`

### Semi and Anti Joins

Semi joins return rows from the left table that have at least one match in the right table.
Anti joins return rows from the left table that have _no_ matches in the right table.
When using a semi or anti join the result will never have more rows than the left hand side table.
Semi joins provide the same logic as the [\`IN\` operator]({% link docs/stable/sql/expressions/in.md %}) statement.
Anti joins provide the same logic as the \`NOT IN\` operator, except anti joins ignore \`NULL\` values from the right table.

#### Semi Join Example

Return a list of cityairport code pairs from the \`city_airport\` table where the airport name **is available** in the \`airport_names\` table:

\`\`\`sql
SELECT *
FROM city_airport
SEMI JOIN airport_names
    USING (iata);
\`\`\`

| city_name | iata |
|-----------|------|
| Amsterdam | AMS  |
| Rotterdam | RTM  |

This query is equivalent with:

\`\`\`sql
SELECT *
FROM city_airport
WHERE iata IN (SELECT iata FROM airport_names);
\`\`\`

#### Anti Join Example

Return a list of cityairport code pairs from the \`city_airport\` table where the airport name **is not available** in the \`airport_names\` table:

\`\`\`sql
SELECT *
FROM city_airport
ANTI JOIN airport_names
    USING (iata);
\`\`\`

| city_name | iata |
|-----------|------|
| Eindhoven | EIN  |
| Groningen | GRQ  |

This query is equivalent with:

\`\`\`sql
SELECT *
FROM city_airport
WHERE iata NOT IN (SELECT iata FROM airport_names WHERE iata IS NOT NULL);
\`\`\`

### Lateral Joins

The \`LATERAL\` keyword allows subqueries in the \`FROM\` clause to refer to previous subqueries. This feature is also known as a _lateral join_.

\`\`\`sql
SELECT *
FROM range(3) t(i), LATERAL (SELECT i + 1) t2(j);
\`\`\`

<div class="center_aligned_header_table"></div>

| i | j |
|--:|--:|
| 0 | 1 |
| 2 | 3 |
| 1 | 2 |

Lateral joins are a generalization of correlated subqueries, as they can return multiple values per input value rather than only a single value.

\`\`\`sql
SELECT *
FROM
    generate_series(0, 1) t(i),
    LATERAL (SELECT i + 10 UNION ALL SELECT i + 100) t2(j);
\`\`\`

<div class="center_aligned_header_table"></div>

| i |  j  |
|--:|----:|
| 0 | 10  |
| 1 | 11  |
| 0 | 100 |
| 1 | 101 |

It may be helpful to think about \`LATERAL\` as a loop where we iterate through the rows of the first subquery and use it as input to the second (\`LATERAL\`) subquery.
In the examples above, we iterate through table \`t\` and refer to its column \`i\` from the definition of table \`t2\`. The rows of \`t2\` form column \`j\` in the result.

It is possible to refer to multiple attributes from the \`LATERAL\` subquery. Using the table from the first example:

\`\`\`sql
CREATE TABLE t1 AS
    SELECT *
    FROM range(3) t(i), LATERAL (SELECT i + 1) t2(j);

SELECT *
    FROM t1, LATERAL (SELECT i + j) t2(k)
    ORDER BY ALL;
\`\`\`

<div class="center_aligned_header_table"></div>

| i | j | k |
|--:|--:|--:|
| 0 | 1 | 1 |
| 1 | 2 | 3 |
| 2 | 3 | 5 |

> DuckDB detects when \`LATERAL\` joins should be used, making the use of the \`LATERAL\` keyword optional.

### Positional Joins

When working with data frames or other embedded tables of the same size,
the rows may have a natural correspondence based on their physical order.
In scripting languages, this is easily expressed using a loop:

\`\`\`cpp
for (i = 0; i < n; i++) {
    f(t1.a[i], t2.b[i]);
}
\`\`\`

It is difficult to express this in standard SQL because
relational tables are not ordered, but imported tables such as [data frames]({% link docs/stable/clients/python/data_ingestion.md %}#pandas-dataframes--object-columns)
or disk files (like [CSVs]({% link docs/stable/data/csv/overview.md %}) or [Parquet files]({% link docs/stable/data/parquet/overview.md %})) do have a natural ordering.

Connecting them using this ordering is called a _positional join:_

\`\`\`sql
CREATE TABLE t1 (x INTEGER);
CREATE TABLE t2 (s VARCHAR);

INSERT INTO t1 VALUES (1), (2), (3);
INSERT INTO t2 VALUES ('a'), ('b');

SELECT *
FROM t1
POSITIONAL JOIN t2;
\`\`\`

<div class="center_aligned_header_table"></div>

| x |  s   |
|--:|------|
| 1 | a    |
| 2 | b    |
| 3 | NULL |

Positional joins are always \`FULL OUTER\` joins, i.e., the resulting table has the length of the longer input table and the missing entries are filled with \`NULL\` values.

### As-Of Joins

A common operation when working with temporal or similarly-ordered data
is to find the nearest (first) event in a reference table (such as prices).
This is called an _as-of join:_

Attach prices to stock trades:

\`\`\`sql
SELECT t.*, p.price
FROM trades t
ASOF JOIN prices p
       ON t.symbol = p.symbol AND t.when >= p.when;
\`\`\`

The \`ASOF\` join requires at least one inequality condition on the ordering field.
The inequality can be any inequality condition (\`>=\`, \`>\`, \`<=\`, \`<\`)
on any data type, but the most common form is \`>=\` on a temporal type.
Any other conditions must be equalities (or \`NOT DISTINCT\`).
This means that the left/right order of the tables is significant.

\`ASOF\` joins each left side row with at most one right side row.
It can be specified as an \`OUTER\` join to find unpaired rows
(e.g., trades without prices or prices which have no trades.)

Attach prices or NULLs to stock trades:

\`\`\`sql
SELECT *
FROM trades t
ASOF LEFT JOIN prices p
            ON t.symbol = p.symbol
           AND t.when >= p.when;
\`\`\`

\`ASOF\` joins can also specify join conditions on matching column names with the \`USING\` syntax,
but the *last* attribute in the list must be the inequality,
which will be greater than or equal to (\`>=\`):

\`\`\`sql
SELECT *
FROM trades t
ASOF JOIN prices p USING (symbol, "when");
\`\`\`

Returns symbol, trades.when, price (but NOT prices.when):

If you combine \`USING\` with a \`SELECT *\` like this,
the query will return the left side (probe) column values for the matches,
not the right side (build) column values.
To get the \`prices\` times in the example, you will need to list the columns explicitly:

\`\`\`sql
SELECT t.symbol, t.when AS trade_when, p.when AS price_when, price
FROM trades t
ASOF LEFT JOIN prices p USING (symbol, "when");
\`\`\`

### Self-Joins

DuckDB allows self-joins for all types of joins.
Note that tables need to be aliased, using the same table name without aliases will result in an error:

\`\`\`sql
CREATE TABLE t (x INTEGER);
SELECT * FROM t JOIN t USING(x);
\`\`\`

\`\`\`console
Binder Error:
Duplicate alias "t" in query!
\`\`\`

Adding the aliases allows the query to parse successfully:

\`\`\`sql
SELECT * FROM t AS t1 JOIN t AS t2 USING(x);
\`\`\`

### Shorthands in the \`JOIN\` Clause

You can specify column names in the \`JOIN\` clause:

\`\`\`sql
CREATE TABLE t1 (x INTEGER);
CREATE TABLE t2 (y INTEGER);
INSERT INTO t1 VALUES (1), (2), (4);
INSERT INTO t2 VALUES (2), (3);
SELECT * FROM t1 NATURAL JOIN t2 t2(x);
\`\`\`

| x |
|--:|
| 2 |

You can also use the \`VALUES\` clause in the \`JOIN\` clause:

\`\`\`sql
SELECT * FROM t1 NATURAL JOIN (VALUES (2), (4)) _(x);
\`\`\`

| x |
|--:|
| 2 |
| 4 |

## \`FROM\`-First Syntax

DuckDB's SQL supports the \`FROM\`-first syntax, i.e., it allows putting the \`FROM\` clause before the \`SELECT\` clause or completely omitting the \`SELECT\` clause. We use the following example to demonstrate it:

\`\`\`sql
CREATE TABLE tbl AS
    SELECT *
    FROM (VALUES ('a'), ('b')) t1(s), range(1, 3) t2(i);
\`\`\`

### \`FROM\`-First Syntax with a \`SELECT\` Clause

The following statement demonstrates the use of the \`FROM\`-first syntax:

\`\`\`sql
FROM tbl
SELECT i, s;
\`\`\`

This is equivalent to:

\`\`\`sql
SELECT i, s
FROM tbl;
\`\`\`

<div class="center_aligned_header_table"></div>

| i | s |
|--:|---|
| 1 | a |
| 2 | a |
| 1 | b |
| 2 | b |

### \`FROM\`-First Syntax without a \`SELECT\` Clause

The following statement demonstrates the use of the optional \`SELECT\` clause:

\`\`\`sql
FROM tbl;
\`\`\`

This is equivalent to:

\`\`\`sql
SELECT *
FROM tbl;
\`\`\`

<div class="center_aligned_header_table"></div>

| s | i |
|---|--:|
| a | 1 |
| a | 2 |
| b | 1 |
| b | 2 |

## Syntax

<div id="rrdiagram"></div>
`,"groupby.md":'---\ntitle: GROUP BY Clause\n---\n\nThe `GROUP BY` clause specifies which grouping columns should be used to perform any aggregations in the `SELECT` clause.\nIf the `GROUP BY` clause is specified, the query is always an aggregate query, even if no aggregations are present in the `SELECT` clause.\n\nWhen a `GROUP BY` clause is specified, all tuples that have matching data in the grouping columns (i.e., all tuples that belong to the same group) will be combined.\nThe values of the grouping columns themselves are unchanged, and any other columns can be combined using an [aggregate function]({% link docs/stable/sql/functions/aggregates.md %}) (such as `count`, `sum`, `avg`, etc).\n\n## `GROUP BY ALL`\n\nUse `GROUP BY ALL` to `GROUP BY` all columns in the `SELECT` statement that are not wrapped in aggregate functions.\nThis simplifies the syntax by allowing the columns list to be maintained in a single location, and prevents bugs by keeping the `SELECT` granularity aligned to the `GROUP BY` granularity (e.g., it prevents duplication).\nSee examples below and additional examples in the [Friendlier SQL with DuckDB blog post]({% post_url 2022-05-04-friendlier-sql %}#group-by-all).\n\n## Multiple Dimensions\n\nNormally, the `GROUP BY` clause groups along a single dimension.\nUsing the [`GROUPING SETS`, `CUBE` or `ROLLUP` clauses]({% link docs/stable/sql/query_syntax/grouping_sets.md %}) it is possible to group along multiple dimensions.\nSee the [`GROUPING SETS`]({% link docs/stable/sql/query_syntax/grouping_sets.md %}) page for more information.\n\n## Examples\n\nCount the number of entries in the `addresses` table that belong to each different city:\n\n```sql\nSELECT city, count(*)\nFROM addresses\nGROUP BY city;\n```\n\nCompute the average income per city per street_name:\n\n```sql\nSELECT city, street_name, avg(income)\nFROM addresses\nGROUP BY city, street_name;\n```\n\n### `GROUP BY ALL` Examples\n\nGroup by city and street_name to remove any duplicate values:\n\n```sql\nSELECT city, street_name\nFROM addresses\nGROUP BY ALL;\n```\n\nCompute the average income per city per street_name. Since income is wrapped in an aggregate function, do not include it in the `GROUP BY`:\n\n```sql\nSELECT city, street_name, avg(income)\nFROM addresses\nGROUP BY ALL;\n-- GROUP BY city, street_name:\n```\n\n## Syntax\n\n<div id="rrdiagram"></div>\n',"grouping_sets.md":`---
title: GROUPING SETS
---

\`GROUPING SETS\`, \`ROLLUP\` and \`CUBE\` can be used in the \`GROUP BY\` clause to perform a grouping over multiple dimensions within the same query.
Note that this syntax is not compatible with [\`GROUP BY ALL\`]({% link docs/stable/sql/query_syntax/groupby.md %}#group-by-all).

## Examples

Compute the average income along the provided four different dimensions:

\`\`\`sql
-- the syntax () denotes the empty set (i.e., computing an ungrouped aggregate)
SELECT city, street_name, avg(income)
FROM addresses
GROUP BY GROUPING SETS ((city, street_name), (city), (street_name), ());
\`\`\`

Compute the average income along the same dimensions:

\`\`\`sql
SELECT city, street_name, avg(income)
FROM addresses
GROUP BY CUBE (city, street_name);
\`\`\`

Compute the average income along the dimensions \`(city, street_name)\`, \`(city)\` and \`()\`:

\`\`\`sql
SELECT city, street_name, avg(income)
FROM addresses
GROUP BY ROLLUP (city, street_name);
\`\`\`

## Description

\`GROUPING SETS\` perform the same aggregate across different \`GROUP BY clauses\` in a single query.

\`\`\`sql
CREATE TABLE students (course VARCHAR, type VARCHAR);
INSERT INTO students (course, type)
VALUES
    ('CS', 'Bachelor'), ('CS', 'Bachelor'), ('CS', 'PhD'), ('Math', 'Masters'),
    ('CS', NULL), ('CS', NULL), ('Math', NULL);
\`\`\`

\`\`\`sql
SELECT course, type, count(*)
FROM students
GROUP BY GROUPING SETS ((course, type), course, type, ());
\`\`\`

| course |   type   | count_star() |
|--------|----------|-------------:|
| Math   | NULL     | 1            |
| NULL   | NULL     | 7            |
| CS     | PhD      | 1            |
| CS     | Bachelor | 2            |
| Math   | Masters  | 1            |
| CS     | NULL     | 2            |
| Math   | NULL     | 2            |
| CS     | NULL     | 5            |
| NULL   | NULL     | 3            |
| NULL   | Masters  | 1            |
| NULL   | Bachelor | 2            |
| NULL   | PhD      | 1            |

In the above query, we group across four different sets: \`course, type\`, \`course\`, \`type\` and \`()\` (the empty group). The result contains \`NULL\` for a group which is not in the grouping set for the result, i.e., the above query is equivalent to the following statement of \`UNION ALL\` clauses:

\`\`\`sql
-- Group by course, type:
SELECT course, type, count(*)
FROM students
GROUP BY course, type
UNION ALL
-- Group by type:
SELECT NULL AS course, type, count(*)
FROM students
GROUP BY type
UNION ALL
-- Group by course:
SELECT course, NULL AS type, count(*)
FROM students
GROUP BY course
UNION ALL
-- Group by nothing:
SELECT NULL AS course, NULL AS type, count(*)
FROM students;
\`\`\`

\`CUBE\` and \`ROLLUP\` are syntactic sugar to easily produce commonly used grouping sets.

The \`ROLLUP\` clause will produce all sub-groups of a grouping set, e.g., \`ROLLUP (country, city, zip)\` produces the grouping sets \`(country, city, zip), (country, city), (country), ()\`. This can be useful for producing different levels of detail of a group by clause. This produces \`n+1\` grouping sets where n is the amount of terms in the \`ROLLUP\` clause.

\`CUBE\` produces grouping sets for all combinations of the inputs, e.g., \`CUBE (country, city, zip)\` will produce \`(country, city, zip), (country, city), (country, zip), (city, zip), (country), (city), (zip), ()\`. This produces \`2^n\` grouping sets.

## Identifying Grouping Sets with \`GROUPING_ID()\`

The super-aggregate rows generated by \`GROUPING SETS\`, \`ROLLUP\` and \`CUBE\` can often be identified by \`NULL\`-values returned for the respective column in the grouping. But if the columns used in the grouping can themselves contain actual \`NULL\`-values, then it can be challenging to distinguish whether the value in the resultset is a real \`NULL\`-value coming out of the data itself, or a \`NULL\`-value generated by the grouping construct. The \`GROUPING_ID()\` or \`GROUPING()\` function is designed to identify which groups generated the super-aggregate rows in the result.

\`GROUPING_ID()\` is an aggregate function that takes the column expressions that make up the grouping(s). It returns a \`BIGINT\` value. The return value is \`0\` for the rows that are not super-aggregate rows. But for the super-aggregate rows, it returns an integer value that identifies the combination of expressions that make up the group for which the super-aggregate is generated. At this point, an example might help. Consider the following query:

\`\`\`sql
WITH days AS (
    SELECT
        year("generate_series")    AS y,
        quarter("generate_series") AS q,
        month("generate_series")   AS m
    FROM generate_series(DATE '2023-01-01', DATE '2023-12-31', INTERVAL 1 DAY)
)
SELECT y, q, m, GROUPING_ID(y, q, m) AS "grouping_id()"
FROM days
GROUP BY GROUPING SETS (
    (y, q, m),
    (y, q),
    (y),
    ()
)
ORDER BY y, q, m;
\`\`\`

These are the results:

|  y   |  q   |  m   | grouping_id() |
|-----:|-----:|-----:|--------------:|
| 2023 | 1    | 1    | 0             |
| 2023 | 1    | 2    | 0             |
| 2023 | 1    | 3    | 0             |
| 2023 | 1    | NULL | 1             |
| 2023 | 2    | 4    | 0             |
| 2023 | 2    | 5    | 0             |
| 2023 | 2    | 6    | 0             |
| 2023 | 2    | NULL | 1             |
| 2023 | 3    | 7    | 0             |
| 2023 | 3    | 8    | 0             |
| 2023 | 3    | 9    | 0             |
| 2023 | 3    | NULL | 1             |
| 2023 | 4    | 10   | 0             |
| 2023 | 4    | 11   | 0             |
| 2023 | 4    | 12   | 0             |
| 2023 | 4    | NULL | 1             |
| 2023 | NULL | NULL | 3             |
| NULL | NULL | NULL | 7             |

In this example, the lowest level of grouping is at the month level, defined by the grouping set \`(y, q, m)\`. Result rows corresponding to that level are simply aggregate rows and the \`GROUPING_ID(y, q, m)\` function returns \`0\` for those. The grouping set \`(y, q)\` results in super-aggregate rows over the month level, leaving a \`NULL\`-value for the \`m\` column, and for which \`GROUPING_ID(y, q, m)\` returns \`1\`. The grouping set \`(y)\` results in super-aggregate rows over the quarter level, leaving \`NULL\`-values for the \`m\` and \`q\` column, for which \`GROUPING_ID(y, q, m)\` returns \`3\`. Finally, the \`()\` grouping set results in one super-aggregate row for the entire resultset, leaving \`NULL\`-values for \`y\`, \`q\` and \`m\` and for which \`GROUPING_ID(y, q, m)\` returns \`7\`.

To understand the relationship between the return value and the grouping set, you can think of \`GROUPING_ID(y, q, m)\` writing to a bitfield, where the first bit corresponds to the last expression passed to \`GROUPING_ID()\`, the second bit to the one-but-last expression passed to \`GROUPING_ID()\`, and so on. This may become clearer by casting \`GROUPING_ID()\` to \`BIT\`:

\`\`\`sql
WITH days AS (
    SELECT
        year("generate_series")    AS y,
        quarter("generate_series") AS q,
        month("generate_series")   AS m
    FROM generate_series(DATE '2023-01-01', DATE '2023-12-31', INTERVAL 1 DAY)
)
SELECT
    y, q, m,
    GROUPING_ID(y, q, m) AS "grouping_id(y, q, m)",
    right(GROUPING_ID(y, q, m)::BIT::VARCHAR, 3) AS "y_q_m_bits"
FROM days
GROUP BY GROUPING SETS (
    (y, q, m),
    (y, q),
    (y),
    ()
)
ORDER BY y, q, m;
\`\`\`

Which returns these results:

|  y   |  q   |  m   | grouping_id(y, q, m) | y_q_m_bits |
|-----:|-----:|-----:|---------------------:|------------|
| 2023 | 1    | 1    | 0                    | 000        |
| 2023 | 1    | 2    | 0                    | 000        |
| 2023 | 1    | 3    | 0                    | 000        |
| 2023 | 1    | NULL | 1                    | 001        |
| 2023 | 2    | 4    | 0                    | 000        |
| 2023 | 2    | 5    | 0                    | 000        |
| 2023 | 2    | 6    | 0                    | 000        |
| 2023 | 2    | NULL | 1                    | 001        |
| 2023 | 3    | 7    | 0                    | 000        |
| 2023 | 3    | 8    | 0                    | 000        |
| 2023 | 3    | 9    | 0                    | 000        |
| 2023 | 3    | NULL | 1                    | 001        |
| 2023 | 4    | 10   | 0                    | 000        |
| 2023 | 4    | 11   | 0                    | 000        |
| 2023 | 4    | 12   | 0                    | 000        |
| 2023 | 4    | NULL | 1                    | 001        |
| 2023 | NULL | NULL | 3                    | 011        |
| NULL | NULL | NULL | 7                    | 111        |

Note that the number of expressions passed to \`GROUPING_ID()\`, or the order in which they are passed is independent from the actual group definitions appearing in the \`GROUPING SETS\`-clause (or the groups implied by \`ROLLUP\` and \`CUBE\`). As long as the expressions passed to \`GROUPING_ID()\` are expressions that appear some where in the \`GROUPING SETS\`-clause, \`GROUPING_ID()\` will set a bit corresponding to the position of the expression whenever that expression is rolled up to a super-aggregate.

## Syntax

<div id="rrdiagram"></div>
`,"having.md":'---\ntitle: HAVING Clause\n---\n\nThe `HAVING` clause can be used after the `GROUP BY` clause to provide filter criteria *after* the grouping has been completed. In terms of syntax the `HAVING` clause is identical to the `WHERE` clause, but while the `WHERE` clause occurs before the grouping, the `HAVING` clause occurs after the grouping.\n\n## Examples\n\nCount the number of entries in the `addresses` table that belong to each different `city`, filtering out cities with a count below 50:\n\n```sql\nSELECT city, count(*)\nFROM addresses\nGROUP BY city\nHAVING count(*) >= 50;\n```\n\nCompute the average income per city per `street_name`, filtering out cities with an average `income` bigger than twice the median `income`:\n\n```sql\nSELECT city, street_name, avg(income)\nFROM addresses\nGROUP BY city, street_name\nHAVING avg(income) > 2 * median(income);\n```\n\n## Syntax\n\n<div id="rrdiagram"></div>\n',"in.md":"---\ntitle: IN Operator\n---\n\nThe `IN` operator checks containment of the left expression inside the _collection_ on the right hand side (RHS).\nSupported collections on the RHS are tuples, lists, maps and subqueries that return a single column.\n\n<div id=\"rrdiagram\"></div>\n\n## `IN (val1, val2, ...)` (Tuple)\n\nThe `IN` operator on a tuple `(val1, val2, ...)` returns `true` if the expression is present in the RHS, `false` if the expression is not in the RHS and the RHS has no `NULL` values, or `NULL` if the expression is not in the RHS and the RHS has `NULL` values.\n\n```sql\nSELECT 'Math' IN ('CS', 'Math');\n```\n\n```text\ntrue\n```\n\n```sql\nSELECT 'English' IN ('CS', 'Math');\n```\n\n```text\nfalse\n```\n\n```sql\nSELECT 'Math' IN ('CS', 'Math', NULL);\n```\n\n```text\ntrue\n```\n\n```sql\nSELECT 'English' IN ('CS', 'Math', NULL);\n```\n\n```text\nNULL\n```\n\n## `IN [val1, val2, ...]` (List)\n\nThe `IN` operator works on lists according to the semantics used in Python.\nUnlike for the [`IN tuple` operator](#in-val1-val2--tuple), the presence of `NULL` values on the right hand side of the expression does not make a difference in the result:\n\n```sql\nSELECT 'Math' IN ['CS', 'Math', NULL];\n```\n\n```text\ntrue\n```\n\n```sql\nSELECT 'English' IN ['CS', 'Math', NULL];\n```\n\n```text\nfalse\n```\n\n## `IN` Map\n\nThe `IN` operator works on [maps]({% link docs/stable/sql/data_types/map.md %}) according to the semantics used in Python, i.e., it checks for the presence of keys (not values):\n\n```sql\nSELECT 'key1' IN MAP {'key1': 50, 'key2': 75};\n```\n\n```text\ntrue\n```\n\n```sql\nSELECT 'key3' IN MAP {'key1': 50, 'key2': 75};\n```\n\n```text\nfalse\n```\n\n## `IN` Subquery\n\nThe `IN` operator works with [subqueries]({% link docs/stable/sql/expressions/subqueries.md %}) that return a single column.\nFor example:\n\n```sql\nSELECT 42 IN (SELECT unnest([32, 42, 52]) AS x);\n```\n\n```text\ntrue\n```\n\nIf the subquery returns more than one column, a Binder Error is thrown:\n\n```sql\nSELECT 42 IN (SELECT unnest([32, 42, 52]) AS x, 'a' AS y);\n```\n\n```console\nBinder Error:\nSubquery returns 2 columns - expected 1\n```\n\n## `IN` String\n\nThe `IN` operator can be used as a shorthand for the [`contains` string function]({% link docs/stable/sql/functions/text.md %}#containsstring-search_string).\nFor example:\n\n```sql\nSELECT 'Hello' IN 'Hello World';\n```\n\n```text\ntrue\n```\n\n## `NOT IN`\n\n`NOT IN` can be used to check if an element is not present in the set.\n`x NOT IN y` is equivalent to `NOT (x IN y)`.\n","interval.md":'---\ntitle: Interval Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\nThis section describes functions and operators for examining and manipulating [`INTERVAL`]({% link docs/stable/sql/data_types/interval.md %}) values.\n\n## Interval Operators\n\nThe table below shows the available mathematical operators for `INTERVAL` types.\n\n| Operator | Description | Example | Result |\n|:-|:--|:----|:--|\n| `+` | Addition of an `INTERVAL` | `INTERVAL 1 HOUR + INTERVAL 5 HOUR` | `INTERVAL 6 HOUR` |\n| `+` | Addition to a `DATE` | `DATE \'1992-03-22\' + INTERVAL 5 DAY` | `1992-03-27` |\n| `+` | Addition to a `TIMESTAMP` | `TIMESTAMP \'1992-03-22 01:02:03\' + INTERVAL 5 DAY` | `1992-03-27 01:02:03` |\n| `+` | Addition to a `TIME` | `TIME \'01:02:03\' + INTERVAL 5 HOUR` | `06:02:03` |\n| `-` | Subtraction of an `INTERVAL` | `INTERVAL 5 HOUR - INTERVAL 1 HOUR` | `INTERVAL 4 HOUR` |\n| `-` | Subtraction from a `DATE` | `DATE \'1992-03-27\' - INTERVAL 5 DAY` | `1992-03-22` |\n| `-` | Subtraction from a `TIMESTAMP` | `TIMESTAMP \'1992-03-27 01:02:03\' - INTERVAL 5 DAY` | `1992-03-22 01:02:03` |\n| `-` | Subtraction from a `TIME` | `TIME \'06:02:03\' - INTERVAL 5 HOUR` | `01:02:03` |\n\n## Interval Functions\n\nThe table below shows the available scalar functions for `INTERVAL` types.\n\n| Name | Description |\n|:--|:-------|\n| [`date_part(part, interval)`](#date_partpart-interval) | Extract [datepart component]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). See [`INTERVAL`]({% link docs/stable/sql/data_types/interval.md %}) for the sometimes surprising rules governing this extraction. |\n| [`datepart(part, interval)`](#datepartpart-interval) | Alias of `date_part`. |\n| [`extract(part FROM interval)`](#extractpart-from-interval) | Alias of `date_part`. |\n| [`epoch(interval)`](#epochinterval) | Get total number of seconds, as double precision floating point number, in interval. |\n| [`to_centuries(integer)`](#to_centuriesinteger) | Construct a century interval. |\n| [`to_days(integer)`](#to_daysinteger) | Construct a day interval. |\n| [`to_decades(integer)`](#to_decadesinteger) | Construct a decade interval. |\n| [`to_hours(integer)`](#to_hoursinteger) | Construct an hour interval. |\n| [`to_microseconds(integer)`](#to_microsecondsinteger) | Construct a microsecond interval. |\n| [`to_millennia(integer)`](#to_millenniainteger) | Construct a millennium interval. |\n| [`to_milliseconds(integer)`](#to_millisecondsinteger) | Construct a millisecond interval. |\n| [`to_minutes(integer)`](#to_minutesinteger) | Construct a minute interval. |\n| [`to_months(integer)`](#to_monthsinteger) | Construct a month interval. |\n| [`to_quarters(integer`)](#to_quartersinteger) | Construct an interval of `integer` quarters. |\n| [`to_seconds(integer)`](#to_secondsinteger) | Construct a second interval. |\n| [`to_weeks(integer)`](#to_weeksinteger) | Construct a week interval. |\n| [`to_years(integer)`](#to_yearsinteger) | Construct a year interval. |\n\n> Only the documented [date part components]({% link docs/stable/sql/functions/datepart.md %}) are defined for intervals.\n\n#### `date_part(part, interval)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Extract [datepart component]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). See [`INTERVAL`]({% link docs/stable/sql/data_types/interval.md %}) for the sometimes surprising rules governing this extraction. |\n| **Example** | `date_part(\'year\', INTERVAL \'14 months\')` |\n| **Result** | `1` |\n\n#### `datepart(part, interval)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Alias of `date_part`. |\n| **Example** | `datepart(\'year\', INTERVAL \'14 months\')` |\n| **Result** | `1` |\n\n#### `extract(part FROM interval)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Alias of `date_part`. |\n| **Example** | `extract(\'month\' FROM INTERVAL \'14 months\')` |\n| **Result** | 2 |\n\n#### `epoch(interval)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Get total number of seconds, as double precision floating point number, in interval. |\n| **Example** | `epoch(INTERVAL 5 HOUR)` |\n| **Result** | `18000.0` |\n\n#### `to_centuries(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a century interval. |\n| **Example** | `to_centuries(5)` |\n| **Result** | `INTERVAL 500 YEAR` |\n\n#### `to_days(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a day interval. |\n| **Example** | `to_days(5)` |\n| **Result** | `INTERVAL 5 DAY` |\n\n#### `to_decades(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a decade interval. |\n| **Example** | `to_decades(5)` |\n| **Result** | `INTERVAL 50 YEAR` |\n\n#### `to_hours(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct an hour interval. |\n| **Example** | `to_hours(5)` |\n| **Result** | `INTERVAL 5 HOUR` |\n\n#### `to_microseconds(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a microsecond interval. |\n| **Example** | `to_microseconds(5)` |\n| **Result** | `INTERVAL 5 MICROSECOND` |\n\n#### `to_millennia(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a millennium interval. |\n| **Example** | `to_millennia(5)` |\n| **Result** | `INTERVAL 5000 YEAR` |\n\n#### `to_milliseconds(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a millisecond interval. |\n| **Example** | `to_milliseconds(5)` |\n| **Result** | `INTERVAL 5 MILLISECOND` |\n\n#### `to_minutes(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a minute interval. |\n| **Example** | `to_minutes(5)` |\n| **Result** | `INTERVAL 5 MINUTE` |\n\n#### `to_months(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a month interval. |\n| **Example** | `to_months(5)` |\n| **Result** | `INTERVAL 5 MONTH` |\n\n#### `to_quarters(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct an interval of `integer` quarters. |\n| **Example** | `to_quarters(5)` |\n| **Result** | `INTERVAL 1 YEAR 3 MONTHS` |\n\n#### `to_seconds(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a second interval. |\n| **Example** | `to_seconds(5)` |\n| **Result** | `INTERVAL 5 SECOND` |\n\n#### `to_weeks(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a week interval. |\n| **Example** | `to_weeks(5)` |\n| **Result** | `INTERVAL 35 DAY` |\n\n#### `to_years(integer)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Construct a year interval. |\n| **Example** | `to_years(5)` |\n| **Result** | `INTERVAL 5 YEAR` |\n',"lambda.md":"---\ntitle: Lambda Functions\n---\n\n> Deprecated DuckDB 1.3.0 deprecated the old lambda single arrow syntax (`x -> x + 1`)\n> in favor of the Python-style syntax (`lambda x : x + 1`).\n>\n> DuckDB 1.3.0 also introduces a new setting to configure the lambda syntax.\n>\n> ```sql\n> SET lambda_syntax = 'DEFAULT';\n> SET lambda_syntax = 'ENABLE_SINGLE_ARROW';\n> SET lambda_syntax = 'DISABLE_SINGLE_ARROW';\n> ```\n>\n> Currently, `DEFAULT` enables both syntax styles, i.e.,\n> the old single arrow syntax and the Python-style syntax.\n>\n> DuckDB 1.5.0 will be the last release supporting the single arrow syntax without explicitly enabling it.\n>\n> DuckDB 1.6.0 disables the single arrow syntax on default.\n>\n> DuckDB 1.7.0 removes the `lambda_syntax` flag and fully deprecates the single arrow syntax,\n> so the old behavior will no longer be possible.\n\nLambda functions enable the use of more complex and flexible expressions in queries.\nDuckDB supports several scalar functions that operate on [`LIST`s]({% link docs/stable/sql/data_types/list.md %}) and\naccept lambda functions as parameters\nin the form `lambda parameter1, parameter2, ... : expression`{:.language-sql .highlight}.\nIf the lambda function has only one parameter, then the parentheses can be omitted.\nThe parameters can have any names.\nFor example, the following are all valid lambda functions:\n\n* `lambda param : param > 1`{:.language-sql .highlight}\n* `lambda s : contains(concat(s, 'DB'), 'duck')`{:.language-sql .highlight}\n* `lambda acc, x : acc + x`{:.language-sql .highlight}\n\n## Scalar Functions That Accept Lambda Functions\n\n<!-- markdownlint-disable MD001 -->\n\n<!-- Start of section generated by scripts/generate_sql_function_docs.py; categories: [lambda] -->\n<!-- markdownlint-disable MD056 -->\n\n| Function | Description |\n|:--|:-------|\n| [`apply(list, lambda(x))`](#list_transformlist-lambdax) | Alias for `list_transform`. |\n| [`array_apply(list, lambda(x))`](#list_transformlist-lambdax) | Alias for `list_transform`. |\n| [`array_filter(list, lambda(x))`](#list_filterlist-lambdax) | Alias for `list_filter`. |\n| [`array_reduce(list, lambda(x, y)[, initial_value])`](#list_reducelist-lambdax-y-initial_value) | Alias for `list_reduce`. |\n| [`array_transform(list, lambda(x))`](#list_transformlist-lambdax) | Alias for `list_transform`. |\n| [`filter(list, lambda(x))`](#list_filterlist-lambdax) | Alias for `list_filter`. |\n| [`list_apply(list, lambda(x))`](#list_transformlist-lambdax) | Alias for `list_transform`. |\n| [`list_filter(list, lambda(x))`](#list_filterlist-lambdax) | Constructs a list from those elements of the input `list` for which the `lambda` function returns `true`. DuckDB must be able to cast the `lambda` function's return type to `BOOL`. The return type of `list_filter` is the same as the input list's. See [`list_filter` examples]({% link docs/stable/sql/functions/lambda.md %}#list_filter-examples). |\n| [`list_reduce(list, lambda(x, y)[, initial_value])`](#list_reducelist-lambdax-y-initial_value) | Reduces all elements of the input `list` into a single scalar value by executing the `lambda` function on a running result and the next list element. The `lambda` function has an optional `initial_value` argument. See [`list_reduce` examples]({% link docs/stable/sql/functions/lambda.md %}#list_reduce-examples). |\n| [`list_transform(list, lambda(x))`](#list_transformlist-lambdax) | Returns a list that is the result of applying the `lambda` function to each element of the input `list`. The return type is defined by the return type of the `lambda` function. See [`list_transform` examples]({% link docs/stable/sql/functions/lambda.md %}#list_transform-examples). |\n| [`reduce(list, lambda(x, y)[, initial_value])`](#list_reducelist-lambdax-y-initial_value) | Alias for `list_reduce`. |\n\n<!-- markdownlint-enable MD056 -->\n\n#### `list_filter(list, lambda(x))`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Constructs a list from those elements of the input `list` for which the `lambda` function returns `true`. DuckDB must be able to cast the `lambda` function's return type to `BOOL`. The return type of `list_filter` is the same as the input list's. See [`list_filter` examples]({% link docs/stable/sql/functions/lambda.md %}#list_filter-examples). |\n| **Example** | `list_filter([3, 4, 5], lambda x : x > 4)` |\n| **Result** | `[5]` |\n| **Aliases** | `array_filter`, `filter` |\n\n#### `list_reduce(list, lambda(x, y)[, initial_value])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Reduces all elements of the input `list` into a single scalar value by executing the `lambda` function on a running result and the next list element. The `lambda` function has an optional `initial_value` argument. See [`list_reduce` examples]({% link docs/stable/sql/functions/lambda.md %}#list_reduce-examples). |\n| **Example** | `list_reduce([1, 2, 3], lambda x, y : x + y)` |\n| **Result** | `6` |\n| **Aliases** | `array_reduce`, `reduce` |\n\n#### `list_transform(list, lambda(x))`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns a list that is the result of applying the `lambda` function to each element of the input `list`. The return type is defined by the return type of the `lambda` function. See [`list_transform` examples]({% link docs/stable/sql/functions/lambda.md %}#list_transform-examples). |\n| **Example** | `list_transform([1, 2, 3], lambda x : x + 1)` |\n| **Result** | `[2, 3, 4]` |\n| **Aliases** | `apply`, `array_apply`, `array_transform`, `list_apply` |\n\n<!-- End of section generated by scripts/generate_sql_function_docs.py -->\n\n<!-- markdownlint-enable MD001 -->\n\n## Nesting Lambda Functions\n\nAll scalar functions can be arbitrarily nested. For example, nested lambda functions to get all squares of even list elements:\n\n```sql\nSELECT list_transform(\n        list_filter([0, 1, 2, 3, 4, 5], lambda x: x % 2 = 0),\n        lambda y: y * y\n    );\n```\n\n```text\n[0, 4, 16]\n```\n\nNested lambda function to add each element of the first list to the sum of the second list:\n\n```sql\nSELECT list_transform(\n        [1, 2, 3],\n        lambda x :\n            list_reduce([4, 5, 6], lambda a, b: a + b) + x\n    );\n```\n\n```text\n[16, 17, 18]\n```\n\n## Scoping\n\nLambda functions conform to scoping rules in the following order:\n\n* inner lambda parameters\n* outer lambda parameters\n* column names\n* macro parameters\n\n```sql\nCREATE TABLE tbl (x INTEGER);\nINSERT INTO tbl VALUES (10);\nSELECT list_apply(\n            [1, 2],\n            lambda x: list_apply([4], lambda x: x + tbl.x)[1] + x\n    )\nFROM tbl;\n```\n\n```text\n[15, 16]\n```\n\n## Indexes as Parameters\n\nAll lambda functions accept an optional extra parameter that represents the index of the current element.\nThis is always the last parameter of the lambda function (e.g., `i` in `(x, i)`), and is 1-based (i.e., the first element has index 1).\n\nGet all elements that are larger than their index:\n\n```sql\nSELECT list_filter([1, 3, 1, 5], lambda x, i: x > i);\n```\n\n```text\n[3, 5]\n```\n\n## Examples\n\n### `list_transform` Examples\n\nIncrementing each list element by one:\n\n```sql\nSELECT list_transform([1, 2, NULL, 3], lambda x: x + 1);\n```\n\n```text\n[2, 3, NULL, 4]\n```\n\nTransforming strings:\n\n```sql\nSELECT list_transform(['Duck', 'Goose', 'Sparrow'], lambda s: concat(s, 'DB'));\n```\n\n```text\n[DuckDB, GooseDB, SparrowDB]\n```\n\nCombining lambda functions with other functions:\n\n```sql\nSELECT list_transform([5, NULL, 6], lambda x: coalesce(x, 0) + 1);\n```\n\n```text\n[6, 1, 7]\n```\n\n### `list_filter` Examples\n\nFilter out negative values:\n\n```sql\nSELECT list_filter([5, -6, NULL, 7], lambda x: x > 0);\n```\n\n```text\n[5, 7]\n```\n\nDivisible by 2 and 5:\n\n```sql\nSELECT list_filter(\n        list_filter([2, 4, 3, 1, 20, 10, 3, 30], lambda x: x % 2 = 0),\n        lambda y: y % 5 = 0\n    );\n```\n\n```text\n[20, 10, 30]\n```\n\nIn combination with `range(...)` to construct lists:\n\n```sql\nSELECT list_filter([1, 2, 3, 4], lambda x: x > #1) FROM range(4);\n```\n\n```text\n[1, 2, 3, 4]\n[2, 3, 4]\n[3, 4]\n[4]\n```\n\n### `list_reduce` Examples\n\nSum of all list elements:\n\n```sql\nSELECT list_reduce([1, 2, 3, 4], lambda acc, x: acc + x);\n```\n\n```text\n10\n```\n\nOnly add up list elements if they are greater than 2:\n\n```sql\nSELECT list_reduce(\n        list_filter([1, 2, 3, 4], lambda x: x > 2),\n        lambda acc, x: acc + x\n    );\n```\n\n```text\n7\n```\n\nConcat all list elements:\n\n```sql\nSELECT list_reduce(['DuckDB', 'is', 'awesome'], lambda acc, x: concat(acc, ' ', x));\n```\n\n```text\nDuckDB is awesome\n```\n\nConcatenate elements with the index without an initial value:\n\n```sql\nSELECT list_reduce(\n        ['a', 'b', 'c', 'd'],\n        lambda x, y, i: x || ' - ' || CAST(i AS VARCHAR) || ' - ' || y\n    );\n```\n\n```text\na - 2 - b - 3 - c - 4 - d\n```\n\nConcatenate elements with the index with an initial value:\n\n```sql\nSELECT list_reduce(\n        ['a', 'b', 'c', 'd'],\n        lambda x, y, i: x || ' - ' || CAST(i AS VARCHAR) || ' - ' || y, 'INITIAL'\n    );\n```\n\n```text\nINITIAL - 1 - a - 2 - b - 3 - c - 4 - d\n```\n\n## Limitations\n\nSubqueries in lambda expressions are currently not supported.\nFor example:\n\n```sql\nSELECT list_apply([1, 2, 3], lambda x: (SELECT 42) + x);\n```\n\n```console\nBinder Error:\nsubqueries in lambda expressions are not supported\n```\n","limit.md":`---
title: LIMIT and OFFSET Clauses
---

\`LIMIT\` is an output modifier. Logically it is applied at the very end of the query. The \`LIMIT\` clause restricts the amount of rows fetched. The \`OFFSET\` clause indicates at which position to start reading the values, i.e., the first \`OFFSET\` values are ignored.

Note that while \`LIMIT\` can be used without an \`ORDER BY\` clause, the results might not be deterministic without the \`ORDER BY\` clause. This can still be useful, however, for example when you want to inspect a quick snapshot of the data.

## Examples

Select the first 5 rows from the addresses table:

\`\`\`sql
SELECT *
FROM addresses
LIMIT 5;
\`\`\`

Select the 5 rows from the addresses table, starting at position 5 (i.e., ignoring the first 5 rows):

\`\`\`sql
SELECT *
FROM addresses
LIMIT 5
OFFSET 5;
\`\`\`

Select the top 5 cities with the highest population:

\`\`\`sql
SELECT city, count(*) AS population
FROM addresses
GROUP BY city
ORDER BY population DESC
LIMIT 5;
\`\`\`

Select 10% of the rows from the addresses table:

\`\`\`sql
SELECT *
FROM addresses
LIMIT 10%;
\`\`\`

## Syntax

<div id="rrdiagram"></div>
`,"list.md":'---\ntitle: List Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\n<!-- Start of section generated by scripts/generate_sql_function_docs.py; categories: [list] -->\n<!-- markdownlint-disable MD056 -->\n\n| Function | Description |\n|:--|:-------|\n| [`list[index]`](#listindex) | Extracts a single list element using a (1-based) `index`. |\n| [`list[begin[:end][:step]]`](#listbeginendstep) | Extracts a sublist using [slice conventions]({% link docs/stable/sql/functions/list.md %}#slicing). Negative values are accepted. |\n| [`list1 && list2`](#list_has_anylist1-list2) | Alias for `list_has_any`. |\n| [`list1 <-> list2`](#list_distancelist1-list2) | Alias for `list_distance`. |\n| [`list1 <=> list2`](#list_cosine_distancelist1-list2) | Alias for `list_cosine_distance`. |\n| [`list1 <@ list2`](#list_has_alllist1-list2) | Alias for `list_has_all`. |\n| [`list1 @> list2`](#list_has_alllist1-list2) | Alias for `list_has_all`. |\n| [`arg1 || arg2`](#arg1--arg2) | Concatenates two strings, lists, or blobs. Any `NULL` input results in `NULL`. See also [`concat(arg1, arg2, ...)`]({% link docs/stable/sql/functions/text.md %}#concatvalue-) and [`list_concat(list1, list2, ...)`]({% link docs/stable/sql/functions/list.md %}#list_concatlist_1--list_n). |\n| [`aggregate(list, function_name, ...)`](#list_aggregatelist-function_name-) | Alias for `list_aggregate`. |\n| [`apply(list, lambda(x))`](#list_transformlist-lambdax) | Alias for `list_transform`. |\n| [`array_aggr(list, function_name, ...)`](#list_aggregatelist-function_name-) | Alias for `list_aggregate`. |\n| [`array_aggregate(list, function_name, ...)`](#list_aggregatelist-function_name-) | Alias for `list_aggregate`. |\n| [`array_append(list, element)`](#list_appendlist-element) | Alias for `list_append`. |\n| [`array_apply(list, lambda(x))`](#list_transformlist-lambdax) | Alias for `list_transform`. |\n| [`array_cat(list_1, ..., list_n)`](#list_concatlist_1--list_n) | Alias for `list_concat`. |\n| [`array_concat(list_1, ..., list_n)`](#list_concatlist_1--list_n) | Alias for `list_concat`. |\n| [`array_contains(list, element)`](#list_containslist-element) | Alias for `list_contains`. |\n| [`array_distinct(list)`](#list_distinctlist) | Alias for `list_distinct`. |\n| [`array_extract(list, index)`](#array_extractlist-index) | Extracts the `index`th (1-based) value from the `list`. |\n| [`array_filter(list, lambda(x))`](#list_filterlist-lambdax) | Alias for `list_filter`. |\n| [`array_grade_up(list[, col1][, col2])`](#list_grade_uplist-col1-col2) | Alias for `list_grade_up`. |\n| [`array_has(list, element)`](#list_containslist-element) | Alias for `list_contains`. |\n| [`array_has_all(list1, list2)`](#list_has_alllist1-list2) | Alias for `list_has_all`. |\n| [`array_has_any(list1, list2)`](#list_has_anylist1-list2) | Alias for `list_has_any`. |\n| [`array_indexof(list, element)`](#list_positionlist-element) | Alias for `list_position`. |\n| [`array_intersect(list1, list2)`](#list_intersectlist1-list2) | Alias for `list_intersect`. |\n| [`array_length(list)`](#lengthlist) | Alias for `length`. |\n| [`array_pop_back(list)`](#array_pop_backlist) | Returns the `list` without the last element. |\n| [`array_pop_front(list)`](#array_pop_frontlist) | Returns the `list` without the first element. |\n| [`array_position(list, element)`](#list_positionlist-element) | Alias for `list_position`. |\n| [`array_prepend(element, list)`](#list_prependelement-list) | Alias for `list_prepend`. |\n| [`array_push_back(list, element)`](#list_appendlist-element) | Alias for `list_append`. |\n| [`array_push_front(list, element)`](#array_push_frontlist-element) | Prepends `element` to `list`. |\n| [`array_reduce(list, lambda(x,y)[, initial_value])`](#list_reducelist-lambdaxy-initial_value) | Alias for `list_reduce`. |\n| [`array_resize(list, size[[, value]])`](#list_resizelist-size-value) | Alias for `list_resize`. |\n| [`array_reverse(list)`](#list_reverselist) | Alias for `list_reverse`. |\n| [`array_reverse_sort(list[, col1])`](#list_reverse_sortlist-col1) | Alias for `list_reverse_sort`. |\n| [`array_select(value_list, index_list)`](#list_selectvalue_list-index_list) | Alias for `list_select`. |\n| [`array_slice(list, begin, end)`](#list_slicelist-begin-end) | Alias for `list_slice`. |\n| [`array_slice(list, begin, end, step)`](#list_slicelist-begin-end-step) | Alias for `list_slice`. |\n| [`array_sort(list[, col1][, col2])`](#list_sortlist-col1-col2) | Alias for `list_sort`. |\n| [`array_to_string(list, delimiter)`](#array_to_stringlist-delimiter) | Concatenates list/array elements using an optional `delimiter`. |\n| [`array_to_string_comma_default(array)`](#array_to_string_comma_defaultarray) | Concatenates list/array elements with a comma delimiter. |\n| [`array_transform(list, lambda(x))`](#list_transformlist-lambdax) | Alias for `list_transform`. |\n| [`array_unique(list)`](#list_uniquelist) | Alias for `list_unique`. |\n| [`array_where(value_list, mask_list)`](#list_wherevalue_list-mask_list) | Alias for `list_where`. |\n| [`array_zip(list_1, ..., list_n[, truncate])`](#list_ziplist_1--list_n-truncate) | Alias for `list_zip`. |\n| [`char_length(list)`](#lengthlist) | Alias for `length`. |\n| [`character_length(list)`](#lengthlist) | Alias for `length`. |\n| [`concat(value, ...)`](#concatvalue-) | Concatenates multiple strings or lists. `NULL` inputs are skipped. See also [operator `||`](#arg1--arg2). |\n| [`contains(list, element)`](#containslist-element) | Returns `true` if the `list` contains the `element`. |\n| [`filter(list, lambda(x))`](#list_filterlist-lambdax) | Alias for `list_filter`. |\n| [`flatten(nested_list)`](#flattennested_list) | [Flattens](#flattening) a nested list by one level. |\n| [`generate_series(start[, stop][, step])`](#generate_seriesstart-stop-step) | Creates a list of values between `start` and `stop` - the stop parameter is inclusive. |\n| [`grade_up(list[, col1][, col2])`](#list_grade_uplist-col1-col2) | Alias for `list_grade_up`. |\n| [`len(list)`](#lengthlist) | Alias for `length`. |\n| [`length(list)`](#lengthlist) | Returns the length of the `list`. |\n| [`list_aggr(list, function_name, ...)`](#list_aggregatelist-function_name-) | Alias for `list_aggregate`. |\n| [`list_aggregate(list, function_name, ...)`](#list_aggregatelist-function_name-) | Executes the aggregate function `function_name` on the elements of `list`. See the [List Aggregates](#list-aggregates) section for more details. |\n| [`list_any_value(list)`](#list_any_valuelist) | Applies aggregate function [`any_value`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_append(list, element)`](#list_appendlist-element) | Appends `element` to `list`. |\n| [`list_apply(list, lambda(x))`](#list_transformlist-lambdax) | Alias for `list_transform`. |\n| [`list_approx_count_distinct(list)`](#list_approx_count_distinctlist) | Applies aggregate function [`approx_count_distinct`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_avg(list)`](#list_avglist) | Applies aggregate function [`avg`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_bit_and(list)`](#list_bit_andlist) | Applies aggregate function [`bit_and`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_bit_or(list)`](#list_bit_orlist) | Applies aggregate function [`bit_or`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_bit_xor(list)`](#list_bit_xorlist) | Applies aggregate function [`bit_xor`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_bool_and(list)`](#list_bool_andlist) | Applies aggregate function [`bool_and`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_bool_or(list)`](#list_bool_orlist) | Applies aggregate function [`bool_or`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_cat(list_1, ..., list_n)`](#list_concatlist_1--list_n) | Alias for `list_concat`. |\n| [`list_concat(list_1, ..., list_n)`](#list_concatlist_1--list_n) | Concatenates lists. `NULL` inputs are skipped. See also [operator `||`](#arg1--arg2). |\n| [`list_contains(list, element)`](#list_containslist-element) | Returns true if the list contains the element. |\n| [`list_cosine_distance(list1, list2)`](#list_cosine_distancelist1-list2) | Computes the cosine distance between two same-sized lists. |\n| [`list_cosine_similarity(list1, list2)`](#list_cosine_similaritylist1-list2) | Computes the cosine similarity between two same-sized lists. |\n| [`list_count(list)`](#list_countlist) | Applies aggregate function [`count`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_distance(list1, list2)`](#list_distancelist1-list2) | Calculates the Euclidean distance between two points with coordinates given in two inputs lists of equal length. |\n| [`list_distinct(list)`](#list_distinctlist) | Removes all duplicates and `NULL` values from a list. Does not preserve the original order. |\n| [`list_dot_product(list1, list2)`](#list_inner_productlist1-list2) | Alias for `list_inner_product`. |\n| [`list_element(list, index)`](#list_extractlist-index) | Alias for `list_extract`. |\n| [`list_entropy(list)`](#list_entropylist) | Applies aggregate function [`entropy`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_extract(list, index)`](#list_extractlist-index) | Extract the `index`th (1-based) value from the list. |\n| [`list_filter(list, lambda(x))`](#list_filterlist-lambdax) | Constructs a list from those elements of the input `list` for which the `lambda` function returns `true`. DuckDB must be able to cast the `lambda` function\'s return type to `BOOL`. The return type of `list_filter` is the same as the input list\'s. See [`list_filter` examples]({% link docs/stable/sql/functions/lambda.md %}#list_filter-examples). |\n| [`list_first(list)`](#list_firstlist) | Applies aggregate function [`first`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_grade_up(list[, col1][, col2])`](#list_grade_uplist-col1-col2) | Works like [`list_sort`](#list_sortlist-col1-col2), but the results are the indexes that correspond to the position in the original list instead of the actual values. |\n| [`list_has(list, element)`](#list_containslist-element) | Alias for `list_contains`. |\n| [`list_has_all(list1, list2)`](#list_has_alllist1-list2) | Returns true if all elements of list2 are in list1. NULLs are ignored. |\n| [`list_has_any(list1, list2)`](#list_has_anylist1-list2) | Returns true if the lists have any element in common. NULLs are ignored. |\n| [`list_histogram(list)`](#list_histogramlist) | Applies aggregate function [`histogram`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_indexof(list, element)`](#list_positionlist-element) | Alias for `list_position`. |\n| [`list_inner_product(list1, list2)`](#list_inner_productlist1-list2) | Computes the inner product between two same-sized lists. |\n| [`list_intersect(list1, list2)`](#list_intersectlist1-list2) | Returns a list of all the elements that exist in both `list1` and `list2`, without duplicates. |\n| [`list_kurtosis(list)`](#list_kurtosislist) | Applies aggregate function [`kurtosis`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_kurtosis_pop(list)`](#list_kurtosis_poplist) | Applies aggregate function [`kurtosis_pop`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_last(list)`](#list_lastlist) | Applies aggregate function [`last`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_mad(list)`](#list_madlist) | Applies aggregate function [`mad`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_max(list)`](#list_maxlist) | Applies aggregate function [`max`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_median(list)`](#list_medianlist) | Applies aggregate function [`median`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_min(list)`](#list_minlist) | Applies aggregate function [`min`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_mode(list)`](#list_modelist) | Applies aggregate function [`mode`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_negative_dot_product(list1, list2)`](#list_negative_inner_productlist1-list2) | Alias for `list_negative_inner_product`. |\n| [`list_negative_inner_product(list1, list2)`](#list_negative_inner_productlist1-list2) | Computes the negative inner product between two same-sized lists. |\n| [`list_pack(arg, ...)`](#list_valuearg-) | Alias for `list_value`. |\n| [`list_position(list, element)`](#list_positionlist-element) | Returns the index of the `element` if the `list` contains the `element`. If the `element` is not found, it returns `NULL`. |\n| [`list_prepend(element, list)`](#list_prependelement-list) | Prepends `element` to `list`. |\n| [`list_product(list)`](#list_productlist) | Applies aggregate function [`product`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_reduce(list, lambda(x,y)[, initial_value])`](#list_reducelist-lambdaxy-initial_value) | Reduces all elements of the input `list` into a single scalar value by executing the `lambda` function on a running result and the next list element. The `lambda` function has an optional `initial_value` argument. See [`list_reduce` examples]({% link docs/stable/sql/functions/lambda.md %}#list_reduce-examples). |\n| [`list_resize(list, size[[, value]])`](#list_resizelist-size-value) | Resizes the `list` to contain `size` elements. Initializes new elements with `value` or `NULL` if `value` is not set. |\n| [`list_reverse(list)`](#list_reverselist) | Reverses the `list`. |\n| [`list_reverse_sort(list[, col1])`](#list_reverse_sortlist-col1) | Sorts the elements of the list in reverse order. See the [Sorting Lists](#sorting-lists) section for more details about sorting order and `NULL` values. |\n| [`list_select(value_list, index_list)`](#list_selectvalue_list-index_list) | Returns a list based on the elements selected by the `index_list`. |\n| [`list_sem(list)`](#list_semlist) | Applies aggregate function [`sem`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_skewness(list)`](#list_skewnesslist) | Applies aggregate function [`skewness`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_slice(list, begin, end)`](#list_slicelist-begin-end) | Extracts a sublist or substring using [slice conventions]({% link docs/stable/sql/functions/list.md %}#slicing). Negative values are accepted. |\n| [`list_slice(list, begin, end, step)`](#list_slicelist-begin-end-step) | list_slice with added step feature. |\n| [`list_sort(list[, col1][, col2])`](#list_sortlist-col1-col2) | Sorts the elements of the list. See the [Sorting Lists](#sorting-lists) section for more details about sorting order and `NULL` values. |\n| [`list_stddev_pop(list)`](#list_stddev_poplist) | Applies aggregate function [`stddev_pop`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_stddev_samp(list)`](#list_stddev_samplist) | Applies aggregate function [`stddev_samp`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_string_agg(list)`](#list_string_agglist) | Applies aggregate function [`string_agg`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_sum(list)`](#list_sumlist) | Applies aggregate function [`sum`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_transform(list, lambda(x))`](#list_transformlist-lambdax) | Returns a list that is the result of applying the `lambda` function to each element of the input `list`. The return type is defined by the return type of the `lambda` function. See [`list_transform` examples]({% link docs/stable/sql/functions/lambda.md %}#list_transform-examples). |\n| [`list_unique(list)`](#list_uniquelist) | Counts the unique elements of a `list`. |\n| [`list_value(arg, ...)`](#list_valuearg-) | Creates a LIST containing the argument values. |\n| [`list_var_pop(list)`](#list_var_poplist) | Applies aggregate function [`var_pop`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_var_samp(list)`](#list_var_samplist) | Applies aggregate function [`var_samp`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| [`list_where(value_list, mask_list)`](#list_wherevalue_list-mask_list) | Returns a list with the `BOOLEAN`s in `mask_list` applied as a mask to the `value_list`. |\n| [`list_zip(list_1, ..., list_n[, truncate])`](#list_ziplist_1--list_n-truncate) | Zips n `LIST`s to a new `LIST` whose length will be that of the longest list. Its elements are structs of n elements from each list `list_1`, , `list_n`, missing elements are replaced with `NULL`. If `truncate` is set, all lists are truncated to the smallest list length. |\n| [`range(start[, stop][, step])`](#rangestart-stop-step) | Creates a list of values between `start` and `stop` - the stop parameter is exclusive. |\n| [`reduce(list, lambda(x,y)[, initial_value])`](#list_reducelist-lambdaxy-initial_value) | Alias for `list_reduce`. |\n| [`repeat(list, count)`](#repeatlist-count) | Repeats the `list` `count` number of times. |\n| [`unnest(list)`](#unnestlist) | Unnests a list by one level. Note that this is a special function that alters the cardinality of the result. See the [unnest page]({% link docs/stable/sql/query_syntax/unnest.md %}) for more details. |\n| [`unpivot_list(arg, ...)`](#unpivot_listarg-) | Identical to list_value, but generated as part of unpivot for better error messages. |\n\n<!-- markdownlint-enable MD056 -->\n\n#### `list[index]`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Extracts a single list element using a (1-based) `index`. |\n| **Example** | `[4, 5, 6][3]` |\n| **Result** | `6` |\n| **Alias** | `list_extract` |\n\n#### `list[begin[:end][:step]]`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Extracts a sublist using [slice conventions]({% link docs/stable/sql/functions/list.md %}#slicing). Negative values are accepted. |\n| **Example** | `[4, 5, 6][3]` |\n| **Result** | `6` |\n| **Alias** | `list_slice` |\n\n#### `arg1 || arg2`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Concatenates two strings, lists, or blobs. Any `NULL` input results in `NULL`. See also [`concat(arg1, arg2, ...)`]({% link docs/stable/sql/functions/text.md %}#concatvalue-) and [`list_concat(list1, list2, ...)`]({% link docs/stable/sql/functions/list.md %}#list_concatlist_1--list_n). |\n| **Example 1** | `\'Duck\' || \'DB\'` |\n| **Result** | `DuckDB` |\n| **Example 2** | `[1, 2, 3] || [4, 5, 6]` |\n| **Result** | `[1, 2, 3, 4, 5, 6]` |\n| **Example 3** | `\'\\xAA\'::BLOB || \'\\xBB\'::BLOB` |\n| **Result** | `\\xAA\\xBB` |\n\n#### `array_extract(list, index)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Extracts the `index`th (1-based) value from the `list`. |\n| **Example** | `array_extract([4, 5, 6], 3)` |\n| **Result** | `6` |\n\n#### `array_pop_back(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the `list` without the last element. |\n| **Example** | `array_pop_back([4, 5, 6])` |\n| **Result** | `[4, 5]` |\n\n#### `array_pop_front(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the `list` without the first element. |\n| **Example** | `array_pop_front([4, 5, 6])` |\n| **Result** | `[5, 6]` |\n\n#### `array_push_front(list, element)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Prepends `element` to `list`. |\n| **Example** | `array_push_front([4, 5, 6], 3)` |\n| **Result** | `[3, 4, 5, 6]` |\n\n#### `array_to_string(list, delimiter)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Concatenates list/array elements using an optional `delimiter`. |\n| **Example 1** | `array_to_string([1, 2, 3], \'-\')` |\n| **Result** | `1-2-3` |\n| **Example 2** | `array_to_string([\'aa\', \'bb\', \'cc\'], \'\')` |\n| **Result** | `aabbcc` |\n\n#### `array_to_string_comma_default(array)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Concatenates list/array elements with a comma delimiter. |\n| **Example** | `array_to_string_comma_default([\'Banana\', \'Apple\', \'Melon\'])` |\n| **Result** | `Banana,Apple,Melon` |\n\n#### `concat(value, ...)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Concatenates multiple strings or lists. `NULL` inputs are skipped. See also [operator `||`](#arg1--arg2). |\n| **Example 1** | `concat(\'Hello\', \' \', \'World\')` |\n| **Result** | `Hello World` |\n| **Example 2** | `concat([1, 2, 3], NULL, [4, 5, 6])` |\n| **Result** | `[1, 2, 3, 4, 5, 6]` |\n\n#### `contains(list, element)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns `true` if the `list` contains the `element`. |\n| **Example** | `contains([1, 2, NULL], 1)` |\n| **Result** | `true` |\n\n#### `flatten(nested_list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | [Flattens](#flattening) a nested list by one level. |\n| **Example** | `flatten([[1, 2, 3], [4, 5]])` |\n| **Result** | `[1, 2, 3, 4, 5]` |\n\n#### `generate_series(start[, stop][, step])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Creates a list of values between `start` and `stop` - the stop parameter is inclusive. |\n| **Example** | `generate_series(2, 5, 3)` |\n| **Result** | `[2, 5]` |\n\n#### `length(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the length of the `list`. |\n| **Example** | `length([1,2,3])` |\n| **Result** | `3` |\n| **Aliases** | `char_length`, `character_length`, `len` |\n\n#### `list_aggregate(list, function_name, ...)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Executes the aggregate function `function_name` on the elements of `list`. See the [List Aggregates](#list-aggregates) section for more details. |\n| **Example** | `list_aggregate([1, 2, NULL], \'min\')` |\n| **Result** | `1` |\n| **Aliases** | `aggregate`, `array_aggr`, `array_aggregate`, `list_aggr` |\n\n#### `list_any_value(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`any_value`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_any_value([3,3,9])` |\n| **Result** | `3` |\n\n#### `list_append(list, element)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Appends `element` to `list`. |\n| **Example** | `list_append([2, 3], 4)` |\n| **Result** | `[2, 3, 4]` |\n| **Aliases** | `array_append`, `array_push_back` |\n\n#### `list_approx_count_distinct(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`approx_count_distinct`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_approx_count_distinct([3,3,9])` |\n| **Result** | `2` |\n\n#### `list_avg(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`avg`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_avg([3,3,9])` |\n| **Result** | `5.0` |\n\n#### `list_bit_and(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`bit_and`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_bit_and([3,3,9])` |\n| **Result** | `1` |\n\n#### `list_bit_or(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`bit_or`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_bit_or([3,3,9])` |\n| **Result** | `11` |\n\n#### `list_bit_xor(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`bit_xor`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_bit_xor([3,3,9])` |\n| **Result** | `9` |\n\n#### `list_bool_and(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`bool_and`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_bool_and([true, false])` |\n| **Result** | `false` |\n\n#### `list_bool_or(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`bool_or`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_bool_or([true, false])` |\n| **Result** | `true` |\n\n#### `list_concat(list_1, ..., list_n)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Concatenates lists. `NULL` inputs are skipped. See also [operator `||`](#arg1--arg2). |\n| **Example** | `list_concat([2, 3], [4, 5, 6], [7])` |\n| **Result** | `[2, 3, 4, 5, 6, 7]` |\n| **Aliases** | `list_cat`, `array_concat`, `array_cat` |\n\n#### `list_contains(list, element)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns true if the list contains the element. |\n| **Example** | `list_contains([1, 2, NULL], 1)` |\n| **Result** | `true` |\n| **Aliases** | `array_contains`, `array_has`, `list_has` |\n\n#### `list_cosine_distance(list1, list2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the cosine distance between two same-sized lists. |\n| **Example** | `list_cosine_distance([1, 2, 3], [1, 2, 3])` |\n| **Result** | `0.0` |\n| **Alias** | `<=>` |\n\n#### `list_cosine_similarity(list1, list2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the cosine similarity between two same-sized lists. |\n| **Example** | `list_cosine_similarity([1, 2, 3], [1, 2, 3])` |\n| **Result** | `1.0` |\n\n#### `list_count(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`count`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_count([3,3,9])` |\n| **Result** | `3` |\n\n#### `list_distance(list1, list2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Calculates the Euclidean distance between two points with coordinates given in two inputs lists of equal length. |\n| **Example** | `list_distance([1, 2, 3], [1, 2, 5])` |\n| **Result** | `2.0` |\n| **Alias** | `<->` |\n\n#### `list_distinct(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Removes all duplicates and `NULL` values from a list. Does not preserve the original order. |\n| **Example** | `list_distinct([1, 1, NULL, -3, 1, 5])` |\n| **Result** | `[5, -3, 1]` |\n| **Alias** | `array_distinct` |\n\n#### `list_entropy(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`entropy`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_entropy([3,3,9])` |\n| **Result** | `0.9182958340544893` |\n\n#### `list_extract(list, index)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Extract the `index`th (1-based) value from the list. |\n| **Example** | `list_extract([4, 5, 6], 3)` |\n| **Result** | `6` |\n| **Alias** | `list_element` |\n\n#### `list_filter(list, lambda(x))`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Constructs a list from those elements of the input `list` for which the `lambda` function returns `true`. DuckDB must be able to cast the `lambda` function\'s return type to `BOOL`. The return type of `list_filter` is the same as the input list\'s. See [`list_filter` examples]({% link docs/stable/sql/functions/lambda.md %}#list_filter-examples). |\n| **Example** | `list_filter([3, 4, 5], lambda x : x > 4)` |\n| **Result** | `[5]` |\n| **Aliases** | `array_filter`, `filter` |\n\n#### `list_first(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`first`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_first([3,3,9])` |\n| **Result** | `3` |\n\n#### `list_grade_up(list[, col1][, col2])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Works like [`list_sort`](#list_sortlist-col1-col2), but the results are the indexes that correspond to the position in the original list instead of the actual values. |\n| **Example** | `list_grade_up([3, 6, 1, 2])` |\n| **Result** | `[3, 4, 1, 2]` |\n| **Aliases** | `array_grade_up`, `grade_up` |\n\n#### `list_has_all(list1, list2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns true if all elements of list2 are in list1. NULLs are ignored. |\n| **Example** | `list_has_all([1, 2, 3], [2, 3])` |\n| **Result** | `true` |\n| **Aliases** | `<@`, `@>`, `array_has_all` |\n\n#### `list_has_any(list1, list2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns true if the lists have any element in common. NULLs are ignored. |\n| **Example** | `list_has_any([1, 2, 3], [2, 3, 4])` |\n| **Result** | `true` |\n| **Aliases** | `&&`, `array_has_any` |\n\n#### `list_histogram(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`histogram`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_histogram([3,3,9])` |\n| **Result** | `{3=2, 9=1}` |\n\n#### `list_inner_product(list1, list2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the inner product between two same-sized lists. |\n| **Example** | `list_inner_product([1, 2, 3], [1, 2, 3])` |\n| **Result** | `14.0` |\n| **Alias** | `list_dot_product` |\n\n#### `list_intersect(list1, list2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a list of all the elements that exist in both `list1` and `list2`, without duplicates. |\n| **Example** | `list_intersect([1, 2, 3], [2, 3, 4])` |\n| **Result** | `[3, 2]` |\n| **Alias** | `array_intersect` |\n\n#### `list_kurtosis(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`kurtosis`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_kurtosis([3,3,9])` |\n| **Result** | `NULL` |\n\n#### `list_kurtosis_pop(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`kurtosis_pop`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_kurtosis_pop([3,3,9])` |\n| **Result** | `-1.4999999999999978` |\n\n#### `list_last(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`last`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_last([3,3,9])` |\n| **Result** | `9` |\n\n#### `list_mad(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`mad`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_mad([3,3,9])` |\n| **Result** | `0.0` |\n\n#### `list_max(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`max`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_max([3,3,9])` |\n| **Result** | `9` |\n\n#### `list_median(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`median`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_median([3,3,9])` |\n| **Result** | `3.0` |\n\n#### `list_min(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`min`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_min([3,3,9])` |\n| **Result** | `3` |\n\n#### `list_mode(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`mode`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_mode([3,3,9])` |\n| **Result** | `3` |\n\n#### `list_negative_inner_product(list1, list2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the negative inner product between two same-sized lists. |\n| **Example** | `list_negative_inner_product([1, 2, 3], [1, 2, 3])` |\n| **Result** | `-14.0` |\n| **Alias** | `list_negative_dot_product` |\n\n#### `list_position(list, element)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the index of the `element` if the `list` contains the `element`. If the `element` is not found, it returns `NULL`. |\n| **Example** | `list_position([1, 2, NULL], 2)` |\n| **Result** | `2` |\n| **Aliases** | `array_indexof`, `array_position`, `list_indexof` |\n\n#### `list_prepend(element, list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Prepends `element` to `list`. |\n| **Example** | `list_prepend(3, [4, 5, 6])` |\n| **Result** | `[3, 4, 5, 6]` |\n| **Alias** | `array_prepend` |\n\n#### `list_product(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`product`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_product([3,3,9])` |\n| **Result** | `81.0` |\n\n#### `list_reduce(list, lambda(x,y)[, initial_value])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Reduces all elements of the input `list` into a single scalar value by executing the `lambda` function on a running result and the next list element. The `lambda` function has an optional `initial_value` argument. See [`list_reduce` examples]({% link docs/stable/sql/functions/lambda.md %}#list_reduce-examples). |\n| **Example** | `list_reduce([1, 2, 3], lambda x, y : x + y)` |\n| **Result** | `6` |\n| **Aliases** | `array_reduce`, `reduce` |\n\n#### `list_resize(list, size[[, value]])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Resizes the `list` to contain `size` elements. Initializes new elements with `value` or `NULL` if `value` is not set. |\n| **Example** | `list_resize([1, 2, 3], 5, 0)` |\n| **Result** | `[1, 2, 3, 0, 0]` |\n| **Alias** | `array_resize` |\n\n#### `list_reverse(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Reverses the `list`. |\n| **Example** | `list_reverse([3, 6, 1, 2])` |\n| **Result** | `[2, 1, 6, 3]` |\n| **Alias** | `array_reverse` |\n\n#### `list_reverse_sort(list[, col1])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Sorts the elements of the list in reverse order. See the [Sorting Lists](#sorting-lists) section for more details about sorting order and `NULL` values. |\n| **Example** | `list_reverse_sort([3, 6, 1, 2])` |\n| **Result** | `[6, 3, 2, 1]` |\n| **Alias** | `array_reverse_sort` |\n\n#### `list_select(value_list, index_list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a list based on the elements selected by the `index_list`. |\n| **Example** | `list_select([10, 20, 30, 40], [1, 4])` |\n| **Result** | `[10, 40]` |\n| **Alias** | `array_select` |\n\n#### `list_sem(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`sem`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_sem([3,3,9])` |\n| **Result** | `1.6329931618554523` |\n\n#### `list_skewness(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`skewness`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_skewness([3,3,9])` |\n| **Result** | `1.7320508075688796` |\n\n#### `list_slice(list, begin, end)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Extracts a sublist or substring using [slice conventions]({% link docs/stable/sql/functions/list.md %}#slicing). Negative values are accepted. |\n| **Example** | `list_slice([4, 5, 6], 2, 3)` |\n| **Result** | `[5, 6]` |\n| **Alias** | `array_slice` |\n\n#### `list_slice(list, begin, end, step)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | list_slice with added step feature. |\n| **Example** | `list_slice([4, 5, 6], 1, 3, 2)` |\n| **Result** | `[4, 6]` |\n| **Alias** | `array_slice` |\n\n#### `list_sort(list[, col1][, col2])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Sorts the elements of the list. See the [Sorting Lists](#sorting-lists) section for more details about sorting order and `NULL` values. |\n| **Example** | `list_sort([3, 6, 1, 2])` |\n| **Result** | `[1, 2, 3, 6]` |\n| **Alias** | `array_sort` |\n\n#### `list_stddev_pop(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`stddev_pop`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_stddev_pop([3,3,9])` |\n| **Result** | `2.8284271247461903` |\n\n#### `list_stddev_samp(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`stddev_samp`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_stddev_samp([3,3,9])` |\n| **Result** | `3.4641016151377544` |\n\n#### `list_string_agg(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`string_agg`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_string_agg([3,3,9])` |\n| **Result** | `3,3,9` |\n\n#### `list_sum(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`sum`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_sum([3,3,9])` |\n| **Result** | `15` |\n\n#### `list_transform(list, lambda(x))`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a list that is the result of applying the `lambda` function to each element of the input `list`. The return type is defined by the return type of the `lambda` function. See [`list_transform` examples]({% link docs/stable/sql/functions/lambda.md %}#list_transform-examples). |\n| **Example** | `list_transform([1, 2, 3], lambda x : x + 1)` |\n| **Result** | `[2, 3, 4]` |\n| **Aliases** | `apply`, `array_apply`, `array_transform`, `list_apply` |\n\n#### `list_unique(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Counts the unique elements of a `list`. |\n| **Example** | `list_unique([1, 1, NULL, -3, 1, 5])` |\n| **Result** | `3` |\n| **Alias** | `array_unique` |\n\n#### `list_value(arg, ...)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Creates a LIST containing the argument values. |\n| **Example** | `list_value(4, 5, 6)` |\n| **Result** | `[4, 5, 6]` |\n| **Alias** | `list_pack` |\n\n#### `list_var_pop(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`var_pop`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_var_pop([3,3,9])` |\n| **Result** | `8.0` |\n\n#### `list_var_samp(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Applies aggregate function [`var_samp`]({% link docs/stable/sql/functions/aggregates.md %}#general-aggregate-functions) to the `list`. |\n| **Example** | `list_var_samp([3,3,9])` |\n| **Result** | `12.0` |\n\n#### `list_where(value_list, mask_list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a list with the `BOOLEAN`s in `mask_list` applied as a mask to the `value_list`. |\n| **Example** | `list_where([10, 20, 30, 40], [true, false, false, true])` |\n| **Result** | `[10, 40]` |\n| **Alias** | `array_where` |\n\n#### `list_zip(list_1, ..., list_n[, truncate])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Zips n `LIST`s to a new `LIST` whose length will be that of the longest list. Its elements are structs of n elements from each list `list_1`, , `list_n`, missing elements are replaced with `NULL`. If `truncate` is set, all lists are truncated to the smallest list length. |\n| **Example 1** | `list_zip([1, 2], [3, 4], [5, 6])` |\n| **Result** | `[(1, 3, 5), (2, 4, 6)]` |\n| **Example 2** | `list_zip([1, 2], [3, 4], [5, 6, 7])` |\n| **Result** | `[(1, 3, 5), (2, 4, 6), (NULL, NULL, 7)]` |\n| **Example 3** | `list_zip([1, 2], [3, 4], [5, 6, 7], true)` |\n| **Result** | `[(1, 3, 5), (2, 4, 6)]` |\n| **Alias** | `array_zip` |\n\n#### `range(start[, stop][, step])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Creates a list of values between `start` and `stop` - the stop parameter is exclusive. |\n| **Example** | `range(2, 5, 3)` |\n| **Result** | `[2]` |\n\n#### `repeat(list, count)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Repeats the `list` `count` number of times. |\n| **Example** | `repeat([1, 2, 3], 5)` |\n| **Result** | `[1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3]` |\n\n#### `unnest(list)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Unnests a list by one level. Note that this is a special function that alters the cardinality of the result. See the [unnest page]({% link docs/stable/sql/query_syntax/unnest.md %}) for more details. |\n| **Example** | `unnest([1, 2, 3])` |\n| **Result** | Multiple rows: `\'1\'`, `\'2\'`, `\'3\'` |\n\n#### `unpivot_list(arg, ...)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Identical to list_value, but generated as part of unpivot for better error messages. |\n| **Example** | `unpivot_list(4, 5, 6)` |\n| **Result** | `[4, 5, 6]` |\n\n<!-- End of section generated by scripts/generate_sql_function_docs.py -->\n\n\n## List Operators\n\nThe following operators are supported for lists:\n\n<!-- markdownlint-disable MD056 -->\n\n| Operator | Description | Example | Result |\n|-|--|---|-|\n| `&&`  | Alias for [`list_has_any`](#list_has_anylist1-list2).                                                                   | `[1, 2, 3, 4, 5] && [2, 5, 5, 6]` | `true`               |\n| `@>`  | Alias for [`list_has_all`](#list_has_alllist1-list2), where the list on the **right** of the operator is the sublist. | `[1, 2, 3, 4] @> [3, 4, 3]`       | `true`               |\n| `<@`  | Alias for [`list_has_all`](#list_has_alllist1-list2), where the list on the **left** of the operator is the sublist.  | `[1, 4] <@ [1, 2, 3, 4]`          | `true`               |\n| `||`  | Similar to [`list_concat`](#list_concatlist_1--list_n), except any `NULL` input results in `NULL`.                        | `[1, 2, 3] || [4, 5, 6]`          | `[1, 2, 3, 4, 5, 6]` |\n| `<=>` | Alias for [`list_cosine_distance`](#list_cosine_distancelist1-list2).                                                   | `[1, 2, 3] <=> [1, 2, 5]`         | `0.007416606`        |\n| `<->` | Alias for [`list_distance`](#list_distancelist1-list2).                                                                 | `[1, 2, 3] <-> [1, 2, 5]`         | `2.0`                |\n\n<!-- markdownlint-enable MD056 -->\n\n## List Comprehension\n\nPython-style list comprehension can be used to compute expressions over elements in a list. For example:\n\n```sql\nSELECT [lower(x) FOR x IN strings] AS strings\nFROM (VALUES ([\'Hello\', \'\', \'World\'])) t(strings);\n```\n\n<div class="monospace_table"></div>\n\n|     strings      |\n|------------------|\n| [hello, , world] |\n\n```sql\nSELECT [upper(x) FOR x IN strings IF len(x) > 0] AS strings\nFROM (VALUES ([\'Hello\', \'\', \'World\'])) t(strings);\n```\n\n<div class="monospace_table"></div>\n\n|    strings     |\n|----------------|\n| [HELLO, WORLD] |\n\nList comprehensions can also use the position of the list elements by adding a second variable.\nIn the following example, we use `x, i`, where `x` is the value and `i` is the position:\n\n```sql\nSELECT [4, 5, 6] AS l, [x FOR x, i IN l IF i != 2] AS filtered;\n```\n\n<div class="monospace_table"></div>\n\n|     l     | filtered |\n|-----------|----------|\n| [4, 5, 6] | [4, 6]   |\n\nUnder the hood, `[f(x) FOR x IN l IF g(x)]` is translated to:\n\n```sql\nl.list_apply(lambda x, i: {\'filter\': g(x, i), \'result\': f(x, i)})\n    .list_filter(lambda x: x.filter)\n    .list_apply(lambda x: x.result)\n```\n\n## Range Functions\n\nDuckDB offers two range functions, [`range(start, stop, step)`](#range) and [`generate_series(start, stop, step)`](#generate_series), and their variants with default arguments for `stop` and `step`. The two functions\' behavior is different regarding their `stop` argument. This is documented below.\n\n### `range`\n\nThe `range` function creates a list of values in the range between `start` and `stop`.\nThe `start` parameter is inclusive, while the `stop` parameter is exclusive.\nThe default value of `start` is 0 and the default value of `step` is 1.\n\nBased on the number of arguments, the following variants of `range` exist.\n\n#### `range(stop)`\n\n```sql\nSELECT range(5);\n```\n\n```text\n[0, 1, 2, 3, 4]\n```\n\n#### `range(start, stop)`\n\n```sql\nSELECT range(2, 5);\n```\n\n```text\n[2, 3, 4]\n```\n\n#### `range(start, stop, step)`\n\n```sql\nSELECT range(2, 5, 3);\n```\n\n```text\n[2]\n```\n\n### `generate_series`\n\nThe `generate_series` function creates a list of values in the range between `start` and `stop`.\nBoth the `start` and the `stop` parameters are inclusive.\nThe default value of `start` is 0 and the default value of `step` is 1.\nBased on the number of arguments, the following variants of `generate_series` exist.\n\n#### `generate_series(stop)`\n\n```sql\nSELECT generate_series(5);\n```\n\n```text\n[0, 1, 2, 3, 4, 5]\n```\n\n#### `generate_series(start, stop)`\n\n```sql\nSELECT generate_series(2, 5);\n```\n\n```text\n[2, 3, 4, 5]\n```\n\n#### `generate_series(start, stop, step)`\n\n```sql\nSELECT generate_series(2, 5, 3);\n```\n\n```text\n[2, 5]\n```\n\n#### `generate_subscripts(arr, dim)`\n\nThe `generate_subscripts(arr, dim)` function generates indexes along the `dim`th dimension of array `arr`.\n\n```sql\nSELECT generate_subscripts([4, 5, 6], 1) AS i;\n```\n\n| i |\n|--:|\n| 1 |\n| 2 |\n| 3 |\n\n### Date Ranges\n\nDate ranges are also supported for `TIMESTAMP` and `TIMESTAMP WITH TIME ZONE` values.\nNote that for these types, the `stop` and `step` arguments have to be specified explicitly (a default value is not provided).\n\n#### `range` for Date Ranges\n\n```sql\nSELECT *\nFROM range(DATE \'1992-01-01\', DATE \'1992-03-01\', INTERVAL \'1\' MONTH);\n```\n\n|        range        |\n|---------------------|\n| 1992-01-01 00:00:00 |\n| 1992-02-01 00:00:00 |\n\n#### `generate_series` for Date Ranges\n\n```sql\nSELECT *\nFROM generate_series(DATE \'1992-01-01\', DATE \'1992-03-01\', INTERVAL \'1\' MONTH);\n```\n\n|   generate_series   |\n|---------------------|\n| 1992-01-01 00:00:00 |\n| 1992-02-01 00:00:00 |\n| 1992-03-01 00:00:00 |\n\n## Slicing\n\nThe function [`list_slice`](#list_slicelist-begin-end) can be used to extract a sublist from a list. The following variants exist:\n\n* `list_slice(list, begin, end)`\n* `list_slice(list, begin, end, step)`\n* `array_slice(list, begin, end)`\n* `array_slice(list, begin, end, step)`\n* `list[begin:end]`\n* `list[begin:end:step]`\n\nThe arguments are as follows:\n\n* `list`\n    * Is the list to be sliced\n* `begin`\n    * Is the index of the first element to be included in the slice\n    * When `begin < 0` the index is counted from the end of the list\n    * When `begin < 0` and `-begin > length`, `begin` is clamped to the beginning of the list\n    * When `begin > length`, the result is an empty list\n    * **Bracket Notation:** When `begin` is omitted, it defaults to the beginning of the list\n* `end`\n    * Is the index of the last element to be included in the slice\n    * When `end < 0` the index is counted from the end of the list\n    * When `end > length`, end is clamped to `length`\n    * When `end < begin`, the result is an empty list\n    * **Bracket Notation:** When `end` is omitted, it defaults to the end of the list. When `end` is omitted and a `step` is provided, `end` must be replaced with a `-`\n* `step` *(optional)*\n    * Is the step size between elements in the slice\n    * When `step < 0` the slice is reversed, and `begin` and `end` are swapped\n    * Must be non-zero\n\nExamples:\n\n```sql\nSELECT list_slice([1, 2, 3, 4, 5], 2, 4);\n```\n\n```text\n[2, 3, 4]\n```\n\n```sql\nSELECT ([1, 2, 3, 4, 5])[2:4:2];\n```\n\n```text\n[2, 4]\n```\n\n```sql\nSELECT([1, 2, 3, 4, 5])[4:2:-2];\n```\n\n```text\n[4, 2]\n```\n\n```sql\nSELECT ([1, 2, 3, 4, 5])[:];\n```\n\n```text\n[1, 2, 3, 4, 5]\n```\n\n```sql\nSELECT ([1, 2, 3, 4, 5])[:-:2];\n```\n\n```text\n[1, 3, 5]\n```\n\n```sql\nSELECT ([1, 2, 3, 4, 5])[:-:-2];\n```\n\n```text\n[5, 3, 1]\n```\n\n## List Aggregates\n\nThe function [`list_aggregate`](#list_aggregatelist-function_name-) allows the execution of arbitrary existing aggregate functions on the elements of a list. Its first argument is the list (column), its second argument is the aggregate function name, e.g., `min`, `histogram` or `sum`.\n\n`list_aggregate` accepts additional arguments after the aggregate function name. These extra arguments are passed directly to the aggregate function, which serves as the second argument of `list_aggregate`.\n\nOrder-sensitive aggregate functions are applied in the order of the list. The `ORDER BY`, `DISTINCT` and `FILTER` clauses are not supported by `list_aggregate`.\nThey may instead be emulated using `list_sort`, `list_grade_up`, `list_select`, `list_distinct` and `list_filter`.\n\n```sql\nSELECT list_aggregate([1, 2, -4, NULL], \'min\');\n```\n\n```text\n-4\n```\n\n```sql\nSELECT list_aggregate([2, 4, 8, 42], \'sum\');\n```\n\n```text\n56\n```\n\n```sql\nSELECT list_aggregate([[1, 2], [NULL], [2, 10, 3]], \'last\');\n```\n\n```text\n[2, 10, 3]\n```\n\n```sql\nSELECT list_aggregate([2, 4, 8, 42], \'string_agg\', \'|\');\n```\n\n```text\n2|4|8|42\n```\n\n### `list_*` Rewrite Functions\n\nThe following is a list of existing rewrites. Rewrites simplify the use of the list aggregate function by only taking the list (column) as their argument. `list_avg`, `list_var_samp`, `list_var_pop`, `list_stddev_pop`, `list_stddev_samp`, `list_sem`, `list_approx_count_distinct`, `list_bit_xor`, `list_bit_or`, `list_bit_and`, `list_bool_and`, `list_bool_or`, `list_count`, `list_entropy`, `list_last`, `list_first`, `list_kurtosis`, `list_kurtosis_pop`, `list_min`, `list_max`, `list_product`, `list_skewness`, `list_sum`, `list_string_agg`, `list_mode`, `list_median`, `list_mad` and `list_histogram`.\n\n```sql\nSELECT list_min([1, 2, -4, NULL]);\n```\n\n```text\n-4\n```\n\n```sql\nSELECT list_sum([2, 4, 8, 42]);\n```\n\n```text\n56\n```\n\n```sql\nSELECT list_last([[1, 2], [NULL], [2, 10, 3]]);\n```\n\n```text\n[2, 10, 3]\n```\n\n#### `array_to_string`\n\nConcatenates list/array elements using an optional delimiter.\n\n```sql\nSELECT array_to_string([1, 2, 3], \'-\') AS str;\n```\n\n```text\n1-2-3\n```\n\nThis is equivalent to the following SQL:\n\n```sql\nSELECT list_aggr([1, 2, 3], \'string_agg\', \'-\') AS str;\n```\n\n```text\n1-2-3\n```\n\n## Sorting Lists\n\nThe function `list_sort` sorts the elements of a list either in ascending or descending order.\nIn addition, it allows specifying whether `NULL` values should be moved to the beginning or to the end of the list.\nIt has the same sorting behavior as DuckDB\'s `ORDER BY` clause.\nTherefore, (nested) values compare the same in `list_sort` as in `ORDER BY`.\n\nBy default, if no modifiers are provided, DuckDB sorts `ASC NULLS FIRST`.\nI.e., the values are sorted in ascending order and `NULL` values are placed first.\nThis is identical to the default sort order of SQLite.\nThe default sort order can be changed using [`PRAGMA` statements.](../query_syntax/orderby).\n\n`list_sort` leaves it open to the user whether they want to use the default sort order or a custom order.\n`list_sort` takes up to two additional optional parameters.\nThe second parameter provides the sort order and can be either `ASC` or `DESC`.\nThe third parameter provides the `NULL` order and can be either `NULLS FIRST` or `NULLS LAST`.\n\nThis query uses the default sort order and the default `NULL` order.\n\n```sql\nSELECT list_sort([1, 3, NULL, 5, NULL, -5]);\n```\n\n```sql\n[NULL, NULL, -5, 1, 3, 5]\n```\n\nThis query provides the sort order.\nThe `NULL` order uses the configurable default value.\n\n```sql\nSELECT list_sort([1, 3, NULL, 2], \'ASC\');\n```\n\n```sql\n[NULL, 1, 2, 3]\n```\n\nThis query provides both the sort order and the `NULL` order.\n\n```sql\nSELECT list_sort([1, 3, NULL, 2], \'DESC\', \'NULLS FIRST\');\n```\n\n```sql\n[NULL, 3, 2, 1]\n```\n\n`list_reverse_sort` has an optional second parameter providing the `NULL` sort order.\nIt can be either `NULLS FIRST` or `NULLS LAST`.\n\nThis query uses the default `NULL` sort order.\n\n```sql\nSELECT list_sort([1, 3, NULL, 5, NULL, -5]);\n```\n\n```sql\n[NULL, NULL, -5, 1, 3, 5]\n```\n\nThis query provides the `NULL` sort order.\n\n```sql\nSELECT list_reverse_sort([1, 3, NULL, 2], \'NULLS LAST\');\n```\n\n```sql\n[3, 2, 1, NULL]\n```\n\n## Flattening\n\nThe flatten function is a scalar function that converts a list of lists into a single list by concatenating each sub-list together.\nNote that this only flattens one level at a time, not all levels of sub-lists.\n\nConvert a list of lists into a single list:\n\n```sql\nSELECT\n    flatten([\n        [1, 2],\n        [3, 4]\n    ]);\n```\n\n```text\n[1, 2, 3, 4]\n```\n\nIf the list has multiple levels of lists, only the first level of sub-lists is concatenated into a single list:\n\n```sql\nSELECT\n    flatten([\n        [\n            [1, 2],\n            [3, 4],\n        ],\n        [\n            [5, 6],\n            [7, 8],\n        ]\n    ]);\n```\n\n```text\n[[1, 2], [3, 4], [5, 6], [7, 8]]\n```\n\nIn general, the input to the flatten function should be a list of lists (not a single level list).\nHowever, the behavior of the flatten function has specific behavior when handling empty lists and `NULL` values.\n\nIf the input list is empty, return an empty list:\n\n```sql\nSELECT flatten([]);\n```\n\n```text\n[]\n```\n\nIf the entire input to flatten is `NULL`, return `NULL`:\n\n```sql\nSELECT flatten(NULL);\n```\n\n```text\nNULL\n```\n\nIf a list whose only entry is `NULL` is flattened, return an empty list:\n\n```sql\nSELECT flatten([NULL]);\n```\n\n```text\n[]\n```\n\nIf the sub-list in a list of lists only contains `NULL`, do not modify the sub-list:\n\n```sql\n-- (Note the extra set of parentheses vs. the prior example)\nSELECT flatten([[NULL]]);\n```\n\n```text\n[NULL]\n```\n\nEven if the only contents of each sub-list is `NULL`, still concatenate them together. Note that no de-duplication occurs when flattening. See `list_distinct` function for de-duplication:\n\n```sql\nSELECT flatten([[NULL], [NULL]]);\n```\n\n```text\n[NULL, NULL]\n```\n\n## Lambda Functions\n\nDuckDB supports lambda functions in the form `lambda parameter1, parameter2, ...:  expression`.\nFor details, see the [lambda functions page]({% link docs/stable/sql/functions/lambda.md %}).\n\n## Related Functions\n\n* The [aggregate functions]({% link docs/stable/sql/functions/aggregates.md %}) `list` and `histogram` produce lists and lists of structs.\n* The [`unnest` function]({% link docs/stable/sql/query_syntax/unnest.md %}) is used to unnest a list by one level.\n',"logical_operators.md":'---\ntitle: Logical Operators\n---\n\n<div id="rrdiagram"></div>\n\nThe following logical operators are available: `AND`, `OR` and `NOT`. SQL uses a three-valued logic system with `true`, `false` and `NULL`. Note that logical operators involving `NULL` do not always evaluate to `NULL`. For example, `NULL AND false` will evaluate to `false`, and `NULL OR true` will evaluate to `true`. Below are the complete truth tables.\n\n## Binary Operators: `AND` and `OR`\n\n<div class="monospace_table"></div>\n\n| `a` | `b` | `a AND b` | `a OR b` |\n|:---|:---|:---|:---|\n| true | true | true | true |\n| true | false | false | true |\n| true | NULL | NULL | true |\n| false | false | false | false |\n| false | NULL | false | NULL |\n| NULL | NULL | NULL | NULL|\n\n## Unary Operator: `NOT`\n\n<div class="monospace_table"></div>\n\n| `a` | `NOT a` |\n|:---|:---|\n| true | false |\n| false | true |\n| NULL | NULL |\n\nThe operators `AND` and `OR` are commutative, that is, you can switch the left and right operand without affecting the result.\n',"map.md":`---
title: Map Functions
---

<!-- markdownlint-disable MD001 -->

| Name | Description |
|:--|:-------|
| [\`cardinality(map)\`](#cardinalitymap) | Return the size of the map (or the number of entries in the map). |
| [\`element_at(map, key)\`](#element_atmap-key) | Return the value for a given \`key\` as a list, or an empty list if the key is not contained in the map. The type of the key provided in the second parameter must match the type of the map's keys; else, an error is thrown. |
| [\`map_concat(maps...)\`](#map_concatmaps) | Returns a map created from merging the input \`maps\`. On key collision the value is taken from the last map with that key. |
| [\`map_contains(map, key)\`](#map_containsmap-key) | Checks if a map contains a given key. |
| [\`map_contains_entry(map, key, value)\`](#map_contains_entrymap-key-value) | Check if a map contains a given key-value pair. |
| [\`map_contains_value(map, value)\`](#map_contains_valuemap-value) | Checks if a map contains a given value. |
| [\`map_entries(map)\`](#map_entriesmap) | Return a list of struct(k, v) for each key-value pair in the map. |
| [\`map_extract(map, key)\`](#map_extractmap-key) | Return the value for a given \`key\` as a list, or an empty list if the key is not contained in the map. The type of the key provided in the second parameter must match the type of the map's keys; else, an error is thrown. |
| [\`map_extract_value(map, key)\`](#map_extract_valuemap-key) | Returns the value for a given \`key\` or \`NULL\` if the \`key\` is not contained in the map. The type of the key provided in the second parameter must match the type of the map's keys; else, an error is thrown. |
| [\`map_from_entries(STRUCT(k, v)[])\`](#map_from_entriesstructk-v) | Returns a map created from the entries of the array. |
| [\`map_keys(map)\`](#map_keysmap) | Return a list of all keys in the map. |
| [\`map_values(map)\`](#map_valuesmap) | Return a list of all values in the map. |
| [\`map()\`](#map) | Returns an empty map. |
| [\`map[entry]\`](#mapentry) | Returns the value for a given \`key\` or \`NULL\` if the \`key\` is not contained in the map. The type of the key provided in the second parameter must match the type of the map's keys; else, an error is thrown. |

#### \`cardinality(map)\`

<div class="nostroke_table"></div>

| **Description** | Return the size of the map (or the number of entries in the map). |
| **Example** | \`cardinality(map([4, 2], ['a', 'b']))\` |
| **Result** | \`2\` |

#### \`element_at(map, key)\`

<div class="nostroke_table"></div>

| **Description** | Return the value for a given \`key\` as a list, or an empty list if the key is not contained in the map. The type of the key provided in the second parameter must match the type of the map's keys; else, an error is thrown. |
| **Example** | \`element_at(map([100, 5], [42, 43]), 100)\` |
| **Result** | \`[42]\` |
| **Aliases** | \`map_extract(map, key)\` |

#### \`map_concat(maps...)\`

<div class="nostroke_table"></div>

| **Description** | Returns a map created from merging the input \`maps\`. On key collision the value is taken from the last map with that key. |
| **Example** | \`map_concat(MAP {'key1': 10, 'key2': 20}, MAP {'key3': 30}, MAP {'key2': 5})\` |
| **Result** | \`{key1=10, key2=5, key3=30}\` |

#### \`map_contains(map, key)\`

<div class="nostroke_table"></div>

| **Description** | Checks if a map contains a given key. |
| **Example** | \`map_contains(MAP {'key1': 10, 'key2': 20, 'key3': 30}, 'key2')\` |
| **Result** | \`true\` |

#### \`map_contains_entry(map, key, value)\`

<div class="nostroke_table"></div>

| **Description** | Check if a map contains a given key-value pair. |
| **Example** | \`map_contains_entry(MAP {'key1': 10, 'key2': 20, 'key3': 30}, 'key2', 20)\` |
| **Result** | \`true\` |

#### \`map_contains_value(map, value)\`

<div class="nostroke_table"></div>

| **Description** | Checks if a map contains a given value. |
| **Example** | \`map_contains_value(MAP {'key1': 10, 'key2': 20, 'key3': 30}, 20)\` |
| **Result** | \`true\` |

#### \`map_entries(map)\`

<div class="nostroke_table"></div>

| **Description** | Return a list of struct(k, v) for each key-value pair in the map. |
| **Example** | \`map_entries(map([100, 5], [42, 43]))\` |
| **Result** | \`[{'key': 100, 'value': 42}, {'key': 5, 'value': 43}]\` |

#### \`map_extract(map, key)\`

<div class="nostroke_table"></div>

| **Description** | Return the value for a given \`key\` as a list, or \`NULL\` if the key is not contained in the map. The type of the key provided in the second parameter must match the type of the map's keys else an error is returned. |
| **Example** | \`map_extract(map([100, 5], [42, 43]), 100)\` |
| **Result** | \`[42]\` |
| **Aliases** | \`element_at(map, key)\` |

#### \`map_extract_value(map, key)\`

<div class="nostroke_table"></div>

| **Description** | Returns the value for a given \`key\` or \`NULL\` if the \`key\` is not contained in the map. The type of the key provided in the second parameter must match the type of the map's keys; else, an error is thrown. |
| **Example** | \`map_extract_value(map([100, 5], [42, 43]), 100);\` |
| **Result** | \`42\` |
| **Aliases** | \`map[key]\` |

#### \`map_from_entries(STRUCT(k, v)[])\`

<div class="nostroke_table"></div>

| **Description** | Returns a map created from the entries of the array. |
| **Example** | \`map_from_entries([{k: 5, v: 'val1'}, {k: 3, v: 'val2'}])\` |
| **Result** | \`{5=val1, 3=val2}\` |

#### \`map_keys(map)\`

<div class="nostroke_table"></div>

| **Description** | Return a list of all keys in the map. |
| **Example** | \`map_keys(map([100, 5], [42,43]))\` |
| **Result** | \`[100, 5]\` |

#### \`map_values(map)\`

<div class="nostroke_table"></div>

| **Description** | Return a list of all values in the map. |
| **Example** | \`map_values(map([100, 5], [42, 43]))\` |
| **Result** | \`[42, 43]\` |

#### \`map()\`

<div class="nostroke_table"></div>

| **Description** | Returns an empty map. |
| **Example** | \`map()\` |
| **Result** | \`{}\` |

#### \`map[entry]\`

<div class="nostroke_table"></div>

| **Description** | Returns the value for a given \`key\` or \`NULL\` if the \`key\` is not contained in the map. The type of the key provided in the second parameter must match the type of the map's keys; else, an error is thrown. |
| **Example** | \`map([100, 5], ['a', 'b'])[100]\` |
| **Result** | \`a\` |
| **Aliases** | \`map_extract_value(map, key)\` |
`,"nested.md":"---\ntitle: Nested Functions\n---\n\nThere are five [nested data types]({% link docs/stable/sql/data_types/overview.md %}#nested--composite-types):\n\n| Name | Type page | Functions page |\n|--|---|---|\n| `ARRAY`  | [`ARRAY` type]({% link docs/stable/sql/data_types/array.md %})   | [`ARRAY` functions]({% link docs/stable/sql/functions/array.md %})   |\n| `LIST`   | [`LIST` type]({% link docs/stable/sql/data_types/list.md %})     | [`LIST` functions]({% link docs/stable/sql/functions/list.md %})     |\n| `MAP`    | [`MAP` type]({% link docs/stable/sql/data_types/map.md %})       | [`MAP` functions]({% link docs/stable/sql/functions/map.md %})       |\n| `STRUCT` | [`STRUCT` type]({% link docs/stable/sql/data_types/struct.md %}) | [`STRUCT` functions]({% link docs/stable/sql/functions/struct.md %}) |\n| `UNION`  | [`UNION` type]({% link docs/stable/sql/data_types/union.md %})   | [`UNION` functions]({% link docs/stable/sql/functions/union.md %})   |\n","numeric.md":'---\ntitle: Numeric Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\n## Numeric Operators\n\nThe table below shows the available mathematical operators for [numeric types]({% link docs/stable/sql/data_types/numeric.md %}).\n\n<!-- markdownlint-disable MD056 -->\n\n| Operator | Description | Example | Result |\n|-|-----|--|-|\n| `+`      | Addition                  | `2 + 3`   | `5`   |\n| `-`      | Subtraction               | `2 - 3`   | `-1`  |\n| `*`      | Multiplication            | `2 * 3`   | `6`   |\n| `/`      | Float division            | `5 / 2`   | `2.5` |\n| `//`     | Division                  | `5 // 2`  | `2`   |\n| `%`      | Modulo (remainder)        | `5 % 4`   | `1`   |\n| `**`     | Exponent                  | `3 ** 4`  | `81`  |\n| `^`      | Exponent (alias for `**`) | `3 ^ 4`   | `81`  |\n| `&`      | Bitwise AND               | `91 & 15` | `11`  |\n| `|`      | Bitwise OR                | `32 | 3`  | `35`  |\n| `<<`     | Bitwise shift left        | `1 << 4`  | `16`  |\n| `>>`     | Bitwise shift right       | `8 >> 2`  | `2`   |\n| `~`      | Bitwise negation          | `~15`     | `-16` |\n| `!`      | Factorial of `x`          | `4!`      | `24`  |\n\n<!-- markdownlint-enable MD056 -->\n\n### Division and Modulo Operators\n\nThere are two division operators: `/` and `//`.\nThey are equivalent when at least one of the operands is a `FLOAT` or a `DOUBLE`.\nWhen both operands are integers, `/` performs floating points division (`5 / 2 = 2.5`) while `//` performs integer division (`5 // 2 = 2`).\n\n### Supported Types\n\nThe modulo, bitwise and negation and factorial operators work only on integral data types,\nwhereas the others are available for all numeric data types.\n\n## Numeric Functions\n\nThe table below shows the available mathematical functions.\n\n| Name | Description |\n|:--|:-------|\n| [`@(x)`](#x) | Absolute value. Parentheses are optional if `x` is a column name. |\n| [`abs(x)`](#absx) | Absolute value. |\n| [`acos(x)`](#acosx) | Computes the inverse cosine of `x`. |\n| [`acosh(x)`](#acoshx) | Computes the inverse hyperbolic cosine of `x`. |\n| [`add(x, y)`](#addx-y) | Alias for `x + y`. |\n| [`asin(x)`](#asinx) | Computes the inverse sine of `x`. |\n| [`asinh(x)`](#asinhx) | Computes the inverse hyperbolic sine of `x`. |\n| [`atan(x)`](#atanx) | Computes the inverse tangent of `x`. |\n| [`atanh(x)`](#atanhx) | Computes the inverse hyperbolic tangent of `x`. |\n| [`atan2(y, x)`](#atan2y-x) | Computes the inverse tangent of `(y, x)`. |\n| [`bit_count(x)`](#bit_countx) | Returns the number of bits that are set. |\n| [`cbrt(x)`](#cbrtx) | Returns the cube root of the number. |\n| [`ceil(x)`](#ceilx) | Rounds the number up. |\n| [`ceiling(x)`](#ceilingx) | Rounds the number up. Alias of `ceil`. |\n| [`cos(x)`](#cosx) | Computes the cosine of `x`. |\n| [`cot(x)`](#cotx) | Computes the cotangent of `x`. |\n| [`degrees(x)`](#degreesx) | Converts radians to degrees. |\n| [`divide(x, y)`](#dividex-y) | Alias for `x // y`. |\n| [`even(x)`](#evenx) | Round to next even number by rounding away from zero. |\n| [`exp(x)`](#expx) | Computes `e ** x`. |\n| [`factorial(x)`](#factorialx) | See the `!` operator. Computes the product of the current integer and all integers below it. |\n| [`fdiv(x, y)`](#fdivx-y) | Performs integer division (`x // y`) but returns a `DOUBLE` value. |\n| [`floor(x)`](#floorx) | Rounds the number down. |\n| [`fmod(x, y)`](#fmodx-y) | Calculates the modulo value. Always returns a `DOUBLE` value. |\n| [`gamma(x)`](#gammax) | Interpolation of the factorial of `x - 1`. Fractional inputs are allowed. |\n| [`gcd(x, y)`](#gcdx-y) | Computes the greatest common divisor of `x` and `y`. |\n| [`greatest_common_divisor(x, y)`](#greatest_common_divisorx-y) | Computes the greatest common divisor of `x` and `y`. |\n| [`greatest(x1, x2, ...)`](#greatestx1-x2-) | Selects the largest value. |\n| [`isfinite(x)`](#isfinitex) | Returns true if the floating point value is finite, false otherwise. |\n| [`isinf(x)`](#isinfx) | Returns true if the floating point value is infinite, false otherwise. |\n| [`isnan(x)`](#isnanx) | Returns true if the floating point value is not a number, false otherwise. |\n| [`lcm(x, y)`](#lcmx-y) | Computes the least common multiple of `x` and `y`. |\n| [`least_common_multiple(x, y)`](#least_common_multiplex-y) | Computes the least common multiple of `x` and `y`. |\n| [`least(x1, x2, ...)`](#leastx1-x2-) | Selects the smallest value. |\n| [`lgamma(x)`](#lgammax) | Computes the log of the `gamma` function. |\n| [`ln(x)`](#lnx) | Computes the natural logarithm of `x`. |\n| [`log(x)`](#logx) | Computes the base-10 logarithm of `x`. |\n| [`log10(x)`](#log10x) | Alias of `log`. Computes the base-10 logarithm of `x`. |\n| [`log2(x)`](#log2x) | Computes the base-2 log of `x`. |\n| [`multiply(x, y)`](#multiplyx-y) | Alias for `x * y`. |\n| [`nextafter(x, y)`](#nextafterx-y) | Return the next floating point value after `x` in the direction of `y`. |\n| [`pi()`](#pi) | Returns the value of pi. |\n| [`pow(x, y)`](#powx-y) | Computes `x` to the power of `y`. |\n| [`power(x, y)`](#powerx-y) | Alias of `pow`. Computes `x` to the power of `y`. |\n| [`radians(x)`](#radiansx) | Converts degrees to radians. |\n| [`random()`](#random) | Returns a random number `x` in the range `0.0 <= x < 1.0`. |\n| [`round_even(v NUMERIC, s INTEGER)`](#round_evenv-numeric-s-integer) | Alias of `roundbankers(v, s)`. Round to `s` decimal places using the [_rounding half to even_ rule](https://en.wikipedia.org/wiki/Rounding#Rounding_half_to_even). Values `s < 0` are allowed. |\n| [`round(v NUMERIC, s INTEGER)`](#roundv-numeric-s-integer) | Round to `s` decimal places. Values `s < 0` are allowed. |\n| [`setseed(x)`](#setseedx) | Sets the seed to be used for the random function. |\n| [`sign(x)`](#signx) | Returns the sign of `x` as -1, 0 or 1. |\n| [`signbit(x)`](#signbitx) | Returns whether the signbit is set or not. |\n| [`sin(x)`](#sinx) | Computes the sin of `x`. |\n| [`sqrt(x)`](#sqrtx) | Returns the square root of the number. |\n| [`subtract(x, y)`](#subtractx-y) | Alias for `x - y`. |\n| [`tan(x)`](#tanx) | Computes the tangent of `x`. |\n| [`trunc(x)`](#truncx) | Truncates the number. |\n| [`xor(x, y)`](#xorx-y) | Bitwise XOR. |\n\n#### `@(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Absolute value. Parentheses are optional if `x` is a column name. |\n| **Example** | `@(-17.4)` |\n| **Result** | `17.4` |\n| **Alias** | `abs` |\n\n#### `abs(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Absolute value. |\n| **Example** | `abs(-17.4)` |\n| **Result** | `17.4` |\n| **Alias** | `@` |\n\n#### `acos(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the inverse cosine of `x`. |\n| **Example** | `acos(0.5)` |\n| **Result** | `1.0471975511965976` |\n\n#### `acosh(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the inverse hyperbolic cosine of `x`. |\n| **Example** | `acosh(1.5)` |\n| **Result** | `0.9624236501192069` |\n\n#### `add(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Alias for `x + y`. |\n| **Example** | `add(2, 3)` |\n| **Result** | `5` |\n\n#### `asin(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the inverse sine of `x`. |\n| **Example** | `asin(0.5)` |\n| **Result** | `0.5235987755982989` |\n\n#### `asinh(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the inverse hyperbolix sine of `x`. |\n| **Example** | `asinh(0.5)` |\n| **Result** | `0.48121182505960347` |\n\n#### `atan(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the inverse tangent of `x`. |\n| **Example** | `atan(0.5)` |\n| **Result** | `0.4636476090008061` |\n\n#### `atanh(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the inverse hyperbolic tangent of `x`. |\n| **Example** | `atanh(0.5)` |\n| **Result** | `0.5493061443340549` |\n\n#### `atan2(y, x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the inverse tangent (y, x). |\n| **Example** | `atan2(0.5, 0.5)` |\n| **Result** | `0.7853981633974483` |\n\n#### `bit_count(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the number of bits that are set. |\n| **Example** | `bit_count(31)` |\n| **Result** | `5` |\n\n#### `cbrt(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the cube root of the number. |\n| **Example** | `cbrt(8)` |\n| **Result** | `2` |\n\n#### `ceil(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Rounds the number up. |\n| **Example** | `ceil(17.4)` |\n| **Result** | `18` |\n\n#### `ceiling(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Rounds the number up. Alias of `ceil`. |\n| **Example** | `ceiling(17.4)` |\n| **Result** | `18` |\n\n#### `cos(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the cosine of `x`. |\n| **Example** | `cos(pi() / 3)` |\n| **Result** | `0.5000000000000001 ` |\n\n#### `cot(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the cotangent of `x`. |\n| **Example** | `cot(0.5)` |\n| **Result** | `1.830487721712452` |\n\n#### `degrees(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Converts radians to degrees. |\n| **Example** | `degrees(pi())` |\n| **Result** | `180` |\n\n#### `divide(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Alias for `x // y`. |\n| **Example** | `divide(5, 2)` |\n| **Result** | `2` |\n\n#### `even(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Round to next even number by rounding away from zero. |\n| **Example** | `even(2.9)` |\n| **Result** | `4` |\n\n#### `exp(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes `e ** x`. |\n| **Example** | `exp(0.693)` |\n| **Result** | `2` |\n\n#### `factorial(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | See the `!` operator. Computes the product of the current integer and all integers below it. |\n| **Example** | `factorial(4)` |\n| **Result** | `24` |\n\n#### `fdiv(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Performs integer division (`x // y`) but returns a `DOUBLE` value. |\n| **Example** | `fdiv(5, 2)` |\n| **Result** | `2.0` |\n\n#### `floor(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Rounds the number down. |\n| **Example** | `floor(17.4)` |\n| **Result** | `17` |\n\n#### `fmod(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Calculates the modulo value. Always returns a `DOUBLE` value. |\n| **Example** | `fmod(5, 2)` |\n| **Result** | `1.0` |\n\n#### `gamma(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Interpolation of the factorial of `x - 1`. Fractional inputs are allowed. |\n| **Example** | `gamma(5.5)` |\n| **Result** | `52.34277778455352` |\n\n#### `gcd(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the greatest common divisor of `x` and `y`. |\n| **Example** | `gcd(42, 57)` |\n| **Result** | `3` |\n\n#### `greatest_common_divisor(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the greatest common divisor of `x` and `y`. |\n| **Example** | `greatest_common_divisor(42, 57)` |\n| **Result** | `3` |\n\n#### `greatest(x1, x2, ...)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Selects the largest value. |\n| **Example** | `greatest(3, 2, 4, 4)` |\n| **Result** | `4` |\n\n#### `isfinite(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns true if the floating point value is finite, false otherwise. |\n| **Example** | `isfinite(5.5)` |\n| **Result** | `true` |\n\n#### `isinf(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns true if the floating point value is infinite, false otherwise. |\n| **Example** | `isinf(\'Infinity\'::float)` |\n| **Result** | `true` |\n\n#### `isnan(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns true if the floating point value is not a number, false otherwise. |\n| **Example** | `isnan(\'NaN\'::float)` |\n| **Result** | `true` |\n\n#### `lcm(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the least common multiple of `x` and `y`. |\n| **Example** | `lcm(42, 57)` |\n| **Result** | `798` |\n\n#### `least_common_multiple(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the least common multiple of `x` and `y`. |\n| **Example** | `least_common_multiple(42, 57)` |\n| **Result** | `798` |\n\n#### `least(x1, x2, ...)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Selects the smallest value. |\n| **Example** | `least(3, 2, 4, 4)` |\n| **Result** | `2` |\n\n#### `lgamma(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the log of the `gamma` function. |\n| **Example** | `lgamma(2)` |\n| **Result** | `0` |\n\n#### `ln(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the natural logarithm of `x`. |\n| **Example** | `ln(2)` |\n| **Result** | `0.693` |\n\n#### `log(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the base-10 log of `x`. |\n| **Example** | `log(100)` |\n| **Result** | `2` |\n\n#### `log10(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Alias of `log`. Computes the base-10 log of `x`. |\n| **Example** | `log10(1000)` |\n| **Result** | `3` |\n\n#### `log2(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the base-2 log of `x`. |\n| **Example** | `log2(8)` |\n| **Result** | `3` |\n\n#### `multiply(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Alias for `x * y`. |\n| **Example** | `multiply(2, 3)` |\n| **Result** | `6` |\n\n#### `nextafter(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the next floating point value after `x` in the direction of `y`. |\n| **Example** | `nextafter(1::float, 2::float)` |\n| **Result** | `1.0000001` |\n\n#### `pi()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the value of pi. |\n| **Example** | `pi()` |\n| **Result** | `3.141592653589793` |\n\n#### `pow(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes `x` to the power of `y`. |\n| **Example** | `pow(2, 3)` |\n| **Result** | `8` |\n\n#### `power(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Alias of `pow`. Computes `x` to the power of `y`. |\n| **Example** | `power(2, 3)` |\n| **Result** | `8` |\n\n#### `radians(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Converts degrees to radians. |\n| **Example** | `radians(90)` |\n| **Result** | `1.5707963267948966` |\n\n#### `random()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a random number `x` in the range `0.0 <= x < 1.0`. |\n| **Example** | `random()` |\n| **Result** | various |\n\n#### `round_even(v NUMERIC, s INTEGER)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Alias of `roundbankers(v, s)`. Round to `s` decimal places using the [_rounding half to even_ rule](https://en.wikipedia.org/wiki/Rounding#Rounding_half_to_even). Values `s < 0` are allowed. |\n| **Example** | `round_even(24.5, 0)` |\n| **Result** | `24.0` |\n\n#### `round(v NUMERIC, s INTEGER)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Round to `s` decimal places. Values `s < 0` are allowed. |\n| **Example** | `round(42.4332, 2)` |\n| **Result** | `42.43` |\n\n#### `setseed(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Sets the seed to be used for the random function. |\n| **Example** | `setseed(0.42)` |\n\n#### `sign(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the sign of `x` as -1, 0 or 1. |\n| **Example** | `sign(-349)` |\n| **Result** | `-1` |\n\n#### `signbit(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns whether the signbit is set or not. |\n| **Example** | `signbit(-1.0)` |\n| **Result** | `true` |\n\n#### `sin(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the sin of `x`. |\n| **Example** | `sin(pi() / 6)` |\n| **Result** | `0.49999999999999994` |\n\n#### `sqrt(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the square root of the number. |\n| **Example** | `sqrt(9)` |\n| **Result** | `3` |\n\n#### `subtract(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Alias for `x - y`. |\n| **Example** | `subtract(2, 3)` |\n| **Result** | `-1` |\n\n#### `tan(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Computes the tangent of `x`. |\n| **Example** | `tan(pi() / 4)` |\n| **Result** | `0.9999999999999999` |\n\n#### `trunc(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Truncates the number. |\n| **Example** | `trunc(17.4)` |\n| **Result** | `17` |\n\n#### `xor(x, y)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Bitwise XOR. |\n| **Example** | `xor(17, 5)` |\n| **Result** | `20` |\n',"orderby.md":"---\ntitle: ORDER BY Clause\n---\n\n`ORDER BY` is an output modifier. Logically it is applied near the very end of the query (just prior to [`LIMIT`]({% link docs/stable/sql/query_syntax/limit.md %}) or [`OFFSET`]({% link docs/stable/sql/query_syntax/limit.md %}), if present).\nThe `ORDER BY` clause sorts the rows on the sorting criteria in either ascending or descending order.\nIn addition, every order clause can specify whether `NULL` values should be moved to the beginning or to the end.\n\nThe `ORDER BY` clause may contain one or more expressions, separated by commas.\nAn error will be thrown if no expressions are included, since the `ORDER BY` clause should be removed in that situation.\nThe expressions may begin with either an arbitrary scalar expression (which could be a column name), a column position number (where the indexing starts from 1), or the keyword `ALL`.\nEach expression can optionally be followed by an order modifier (`ASC` or `DESC`, default is `ASC`), and/or a `NULL` order modifier (`NULLS FIRST` or `NULLS LAST`, default is `NULLS LAST`).\n\n## `ORDER BY ALL`\n\nThe `ALL` keyword indicates that the output should be sorted by every column in order from left to right.\nThe direction of this sort may be modified using either `ORDER BY ALL ASC` or `ORDER BY ALL DESC` and/or `NULLS FIRST` or `NULLS LAST`.\nNote that `ALL` may not be used in combination with other expressions in the `ORDER BY` clause  it must be by itself.\nSee examples below.\n\n## `NULL` Order Modifier\n\nBy default, DuckDB sorts `ASC` and `NULLS LAST`, i.e., the values are sorted in ascending order and `NULL` values are placed last.\nThis is identical to the default sort order of PostgreSQL.\nThe default sort order can be changed with the following configuration options.\n\nUse the `default_null_order` option to change the default `NULL` sorting order to either `NULLS_FIRST`, `NULLS_LAST`, `NULLS_FIRST_ON_ASC_LAST_ON_DESC` or `NULLS_LAST_ON_ASC_FIRST_ON_DESC`:\n\n```sql\nSET default_null_order = 'NULLS_FIRST';\n```\n\nUse the `default_order` to change the direction of the default sorting order to either `DESC` or `ASC`:\n\n```sql\nSET default_order = 'DESC';\n```\n\n## Collations\n\nText is sorted using the binary comparison collation by default, which means values are sorted on their binary UTF-8 values.\nWhile this works well for ASCII text (e.g., for English language data), the sorting order can be incorrect for other languages.\nFor this purpose, DuckDB provides collations.\nFor more information on collations, see the [Collation page]({% link docs/stable/sql/expressions/collations.md %}).\n\n## Examples\n\nAll examples use this example table:\n\n```sql\nCREATE OR REPLACE TABLE addresses AS\n    SELECT '123 Quack Blvd' AS address, 'DuckTown' AS city, '11111' AS zip\n    UNION ALL\n    SELECT '111 Duck Duck Goose Ln', 'DuckTown', '11111'\n    UNION ALL\n    SELECT '111 Duck Duck Goose Ln', 'Duck Town', '11111'\n    UNION ALL\n    SELECT '111 Duck Duck Goose Ln', 'Duck Town', '11111-0001';\n```\n\nSelect the addresses, ordered by city name using the default `NULL` order and default order:\n\n```sql\nSELECT *\nFROM addresses\nORDER BY city;\n```\n\nSelect the addresses, ordered by city name in descending order with nulls at the end:\n\n```sql\nSELECT *\nFROM addresses\nORDER BY city DESC NULLS LAST;\n```\n\nOrder by city and then by zip code, both using the default orderings:\n\n```sql\nSELECT *\nFROM addresses\nORDER BY city, zip;\n```\n\nOrder by city using German collation rules:\n\n```sql\nSELECT *\nFROM addresses\nORDER BY city COLLATE DE;\n```\n\n### `ORDER BY ALL` Examples\n\nOrder from left to right (by address, then by city, then by zip) in ascending order:\n\n```sql\nSELECT *\nFROM addresses\nORDER BY ALL;\n```\n\n|        address         |   city    |    zip     |\n|------------------------|-----------|------------|\n| 111 Duck Duck Goose Ln | Duck Town | 11111      |\n| 111 Duck Duck Goose Ln | Duck Town | 11111-0001 |\n| 111 Duck Duck Goose Ln | DuckTown  | 11111      |\n| 123 Quack Blvd         | DuckTown  | 11111      |\n\nOrder from left to right (by address, then by city, then by zip) in descending order:\n\n```sql\nSELECT *\nFROM addresses\nORDER BY ALL DESC;\n```\n\n|        address         |   city    |    zip     |\n|------------------------|-----------|------------|\n| 123 Quack Blvd         | DuckTown  | 11111      |\n| 111 Duck Duck Goose Ln | DuckTown  | 11111      |\n| 111 Duck Duck Goose Ln | Duck Town | 11111-0001 |\n| 111 Duck Duck Goose Ln | Duck Town | 11111      |\n\n## Syntax\n\n<div id=\"rrdiagram\"></div>\n","overview copy.md":`---
title: Functions
---

## Function Syntax

<div id="rrdiagram"></div>

## Function Chaining via the Dot Operator

DuckDB supports the dot syntax for function chaining. This allows the function call \`fn(arg1, arg2, arg3, ...)\` to be rewritten as \`arg1.fn(arg2, arg3, ...)\`. For example, take the following use of the [\`replace\` function]({% link docs/stable/sql/functions/text.md %}#replacestring-source-target):

\`\`\`sql
SELECT replace(goose_name, 'goose', 'duck') AS duck_name
FROM unnest(['African goose', 'Faroese goose', 'Hungarian goose', 'Pomeranian goose']) breed(goose_name);
\`\`\`

This can be rewritten as follows:

\`\`\`sql
SELECT goose_name.replace('goose', 'duck') AS duck_name
FROM unnest(['African goose', 'Faroese goose', 'Hungarian goose', 'Pomeranian goose']) breed(goose_name);
\`\`\`

### Using with Literals and Arrays

To apply function chaining to literals and following array access operations, you must surround the argument with parentheses, e.g.:

\`\`\`sql
SELECT ('hello world').replace(' ', '_');
\`\`\`

\`\`\`sql
SELECT (2).sqrt();
\`\`\`

\`\`\`sql
SELECT (m[1]).map_entries()
FROM (VALUES ([MAP {'hello': 42}, MAP {'world': 42}])) t(m);
\`\`\`

In the absence of these parentheses, DuckDB will return a \`Parser Error\` for the function call:

\`\`\`console
Parser Error:
syntax error at or near "("
\`\`\`

### Limitations

Function chaining via the dot operator is limited to *scalar* functions and is not supported for *table* functions.
For example, the following call returns a \`Parser Error\`:

\`\`\`sql
SELECT * FROM ('my_file.parquet').read_parquet(); -- does not work
\`\`\`

Additionally, the functions \`coalesce\` and \`ifnull\` cannot be used with function chaining for the time being:

\`\`\`sql
SELECT (2).coalesce(0); -- does not work
SELECT (2).ifnull(0); -- does not work
\`\`\`

## Query Functions

The \`duckdb_functions()\` table function shows the list of functions currently built into the system.

\`\`\`sql
SELECT DISTINCT ON(function_name)
    function_name,
    function_type,
    return_type,
    parameters,
    parameter_types,
    description
FROM duckdb_functions()
WHERE function_type = 'scalar'
  AND function_name LIKE 'b%'
ORDER BY function_name;
\`\`\`

| function_name | function_type | return_type | parameters             | parameter_types                  | description                                                                                                                              |
| ------------- | ------------- | ----------- | ---------------------- | -------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| bar           | scalar        | VARCHAR     | [x, min, max, width]   | [DOUBLE, DOUBLE, DOUBLE, DOUBLE] | Draws a band whose width is proportional to (x - min) and equal to width characters when x = max. width defaults to 80                   |
| base64        | scalar        | VARCHAR     | [blob]                 | [BLOB]                           | Convert a blob to a base64 encoded string                                                                                                |
| bin           | scalar        | VARCHAR     | [value]                | [VARCHAR]                        | Converts the value to binary representation                                                                                              |
| bit_count     | scalar        | TINYINT     | [x]                    | [TINYINT]                        | Returns the number of bits that are set                                                                                                  |
| bit_length    | scalar        | BIGINT      | [col0]                 | [VARCHAR]                        | Number of bits in a string                                                                                                               |
| bit_position  | scalar        | INTEGER     | [substring, bitstring] | [BIT, BIT]                       | Returns first starting index of the specified substring within bits, or zero if it is not present. The first (leftmost) bit is indexed 1 |
| bitstring     | scalar        | BIT         | [bitstring, length]    | [VARCHAR, INTEGER]               | Pads the bitstring until the specified length                                                                                            |

> Currently, the description and parameter names of functions are not available in the \`duckdb_functions()\` function.
`,"overview.md":`---
title: Expressions
---

An expression is a combination of values, operators and functions. Expressions are highly composable, and range from very simple to arbitrarily complex. They can be found in many different parts of SQL statements. This section describes the different types of operators and functions that can be used within expressions.
`,"pattern_matching.md":"---\ntitle: Pattern Matching\n---\n\nThere are four separate approaches to pattern matching provided by DuckDB:\nthe traditional SQL [`LIKE` operator](#like),\nthe more recent [`SIMILAR TO` operator](#similar-to) (added in SQL:1999),\na [`GLOB` operator](#glob),\nand POSIX-style [regular expressions](#regular-expressions).\n\n## `LIKE`\n\n<div id=\"rrdiagram1\"></div>\n\nThe `LIKE` expression returns `true` if the string matches the supplied pattern. (As expected, the `NOT LIKE` expression returns `false` if `LIKE` returns `true`, and vice versa. An equivalent expression is `NOT (string LIKE pattern)`.)\n\nIf pattern does not contain percent signs or underscores, then the pattern only represents the string itself; in that case `LIKE` acts like the equals operator. An underscore (`_`) in pattern stands for (matches) any single character; a percent sign (`%`) matches any sequence of zero or more characters.\n\n`LIKE` pattern matching always covers the entire string. Therefore, if it's desired to match a sequence anywhere within a string, the pattern must start and end with a percent sign.\n\nSome examples:\n\n```sql\nSELECT 'abc' LIKE 'abc';    -- true\nSELECT 'abc' LIKE 'a%' ;    -- true\nSELECT 'abc' LIKE '_b_';    -- true\nSELECT 'abc' LIKE 'c';      -- false\nSELECT 'abc' LIKE 'c%' ;    -- false\nSELECT 'abc' LIKE '%c';     -- true\nSELECT 'abc' NOT LIKE '%c'; -- false\n```\n\nThe keyword `ILIKE` can be used instead of `LIKE` to make the match case-insensitive according to the active locale:\n\n```sql\nSELECT 'abc' ILIKE '%C'; -- true\n```\n\n```sql\nSELECT 'abc' NOT ILIKE '%C'; -- false\n```\n\nTo search within a string for a character that is a wildcard (`%` or `_`), the pattern must use an `ESCAPE` clause and an escape character to indicate the wildcard should be treated as a literal character instead of a wildcard. See an example below.\n\nAdditionally, the function `like_escape` has the same functionality as a `LIKE` expression with an `ESCAPE` clause, but using function syntax. See the [Text Functions Docs]({% link docs/stable/sql/functions/text.md %}) for details.\n\nSearch for strings with 'a' then a literal percent sign then 'c':\n\n```sql\nSELECT 'a%c' LIKE 'a$%c' ESCAPE '$'; -- true\nSELECT 'azc' LIKE 'a$%c' ESCAPE '$'; -- false\n```\n\nCase-insensitive ILIKE with ESCAPE:\n\n```sql\nSELECT 'A%c' ILIKE 'a$%c' ESCAPE '$'; -- true\n```\n\nThere are also alternative characters that can be used as keywords in place of `LIKE` expressions. These enhance PostgreSQL compatibility.\n\n<div class=\"monospace_table\"></div>\n\n| PostgreSQL-style | `LIKE`-style |\n| :--------------- | :----------- |\n| `~~`             | `LIKE`       |\n| `!~~`            | `NOT LIKE`   |\n| `~~*`            | `ILIKE`      |\n| `!~~*`           | `NOT ILIKE`  |\n\n## `SIMILAR TO`\n\n<div id=\"rrdiagram2\"></div>\n\nThe `SIMILAR TO` operator returns true or false depending on whether its pattern matches the given string. It is similar to `LIKE`, except that it interprets the pattern using a [regular expression]({% link docs/stable/sql/functions/regular_expressions.md %}). Like `LIKE`, the `SIMILAR TO` operator succeeds only if its pattern matches the entire string; this is unlike common regular expression behavior where the pattern can match any part of the string.\n\nA regular expression is a character sequence that is an abbreviated definition of a set of strings (a regular set). A string is said to match a regular expression if it is a member of the regular set described by the regular expression. As with `LIKE`, pattern characters match string characters exactly unless they are special characters in the regular expression language  but regular expressions use different special characters than `LIKE` does.\n\nSome examples:\n\n```sql\nSELECT 'abc' SIMILAR TO 'abc';       -- true\nSELECT 'abc' SIMILAR TO 'a';         -- false\nSELECT 'abc' SIMILAR TO '.*(b|d).*'; -- true\nSELECT 'abc' SIMILAR TO '(b|c).*';   -- false\nSELECT 'abc' NOT SIMILAR TO 'abc';   -- false\n```\n\n> In PostgreSQL, `~` is equivalent to `SIMILAR TO`\n> and `!~` is equivalent to `NOT SIMILAR TO`.\n> In DuckDB, these equivalences do not hold currently,\n> see the [PostgreSQL compatibility page]({% link docs/stable/sql/dialect/postgresql_compatibility.md %}).\n\n## Globbing\n\nDuckDB supports file name expansion, also known as globbing, for discovering files.\nDuckDB's glob syntax uses the question mark (`?`) wildcard to match any single character and the asterisk (`*`) to match zero or more characters.\nIn addition, you can use the bracket syntax (`[...]`) to match any single character contained within the brackets, or within the character range specified by the brackets. An exclamation mark (`!`) may be used inside the first bracket to search for a character that is not contained within the brackets.\nTo learn more, visit the [glob (programming) Wikipedia page](https://en.wikipedia.org/wiki/Glob_(programming)).\n\n### `GLOB`\n\n<div id=\"rrdiagram3\"></div>\n\nThe `GLOB` operator returns `true` or `false` if the string matches the `GLOB` pattern. The `GLOB` operator is most commonly used when searching for filenames that follow a specific pattern (for example a specific file extension).\n\nSome examples:\n\n```sql\nSELECT 'best.txt' GLOB '*.txt';            -- true\nSELECT 'best.txt' GLOB '????.txt';         -- true\nSELECT 'best.txt' GLOB '?.txt';            -- false\nSELECT 'best.txt' GLOB '[abc]est.txt';     -- true\nSELECT 'best.txt' GLOB '[a-z]est.txt';     -- true\n```\n\nThe bracket syntax is case-sensitive:\n\n```sql\nSELECT 'Best.txt' GLOB '[a-z]est.txt';     -- false\nSELECT 'Best.txt' GLOB '[a-zA-Z]est.txt';  -- true\n```\n\nThe `!` applies to all characters within the brackets:\n\n```sql\nSELECT 'Best.txt' GLOB '[!a-zA-Z]est.txt'; -- false\n```\n\nTo negate a GLOB operator, negate the entire expression:\n\n```sql\nSELECT NOT 'best.txt' GLOB '*.txt';        -- false\n```\n\nThree tildes (`~~~`) may also be used in place of the `GLOB` keyword.\n\n| GLOB-style | Symbolic-style |\n| :--------- | :------------- |\n| `GLOB`     | `~~~`          |\n\n### Glob Function to Find Filenames\n\nThe glob pattern matching syntax can also be used to search for filenames using the `glob` table function.\nIt accepts one parameter: the path to search (which may include glob patterns).\n\nSearch the current directory for all files:\n\n```sql\nSELECT * FROM glob('*');\n```\n\n<div class=\"monospace_table\"></div>\n\n| file          |\n| ------------- |\n| duckdb.exe    |\n| test.csv      |\n| test.json     |\n| test.parquet  |\n| test2.csv     |\n| test2.parquet |\n| todos.json    |\n\n### Globbing Semantics\n\nDuckDB's globbing implementation follows the semantics of [Python's `glob`](https://docs.python.org/3/library/glob.html) and not the `glob` used in the shell.\nA notable difference is the behavior of the `**/` construct: `**/filename`{:.language-sql .highlight} will not return a file with `filename`{:.language-sql .highlight} in top-level directory.\nFor example, with a `README.md` file present in the directory, the following query finds it:\n\n```sql\nSELECT * FROM glob('README.md');\n```\n\n<div class=\"monospace_table\"></div>\n\n| file      |\n| --------- |\n| README.md |\n\nHowever, the following query returns an empty result:\n\n```sql\nSELECT * FROM glob('**/README.md');\n```\n\nMeanwhile, the globbing of Bash, Zsh, etc. finds the file using the same syntax:\n\n```batch\nls **/README.md\n```\n\n```text\nREADME.md\n```\n\n## Regular Expressions\n\nDuckDB's regular expression support is documented on the [Regular Expressions page]({% link docs/stable/sql/functions/regular_expressions.md %}).\nDuckDB supports some PostgreSQL-style operators for regular expression matching:\n\n| PostgreSQL-style | Equivalent expression                                                                                    |\n| :--------------- | :------------------------------------------------------------------------------------------------------- |\n| `~`              | [`regexp_full_match`]({% link docs/stable/sql/functions/text.md %}#regexp_full_matchstring-regex)       |\n| `!~`             | `NOT` [`regexp_full_match`]({% link docs/stable/sql/functions/text.md %}#regexp_full_matchstring-regex) |\n| `~*`             | (not supported)                                                                                          |\n| `!~*`            | (not supported)                                                                                          |\n","prepared_statements.md":`---
title: Prepared Statements
---

DuckDB supports prepared statements where parameters are substituted when the query is executed.
This can improve readability and is useful for preventing [SQL injections](https://en.wikipedia.org/wiki/SQL_injection).

## Syntax

There are three syntaxes for denoting parameters in prepared statements:
auto-incremented (\`?\`),
positional (\`$1\`),
and named (\`$param\`).
Note that not all clients support all of these syntaxes, e.g., the [JDBC client]({% link docs/stable/clients/java.md %}) only supports auto-incremented parameters in prepared statements.

### Example Dataset

In the following, we introduce the three different syntaxes and illustrate them with examples using the following table.

\`\`\`sql
CREATE TABLE person (name VARCHAR, age BIGINT);
INSERT INTO person VALUES ('Alice', 37), ('Ana', 35), ('Bob', 41), ('Bea', 25);
\`\`\`

In our example query, we'll look for people whose name starts with a \`B\` and are at least 40 years old.
This will return a single row \`<'Bob', 41>\`.

### Auto-Incremented Parameters: \`?\`

DuckDB support using prepared statements with auto-incremented indexing,
i.e., the position of the parameters in the query corresponds to their position in the execution statement.
For example:

\`\`\`sql
PREPARE query_person AS
    SELECT *
    FROM person
    WHERE starts_with(name, ?)
      AND age >= ?;
\`\`\`

Using the CLI client, the statement is executed as follows.

\`\`\`sql
EXECUTE query_person('B', 40);
\`\`\`

### Positional Parameters: \`$1\`

Prepared statements can use positional parameters, where parameters are denoted with an integer (\`$1\`, \`$2\`).
For example:

\`\`\`sql
PREPARE query_person AS
    SELECT *
    FROM person
    WHERE starts_with(name, $2)
      AND age >= $1;
\`\`\`

Using the CLI client, the statement is executed as follows.
Note that the first parameter corresponds to \`$1\`, the second to \`$2\`, and so on.

\`\`\`sql
EXECUTE query_person(40, 'B');
\`\`\`

### Named Parameters: \`$parameter\`

DuckDB also supports names parameters where parameters are denoted with \`$parameter_name\`.
For example:

\`\`\`sql
PREPARE query_person AS
    SELECT *
    FROM person
    WHERE starts_with(name, $name_start_letter)
      AND age >= $minimum_age;
\`\`\`

Using the CLI client, the statement is executed as follows.

\`\`\`sql
EXECUTE query_person(name_start_letter := 'B', minimum_age := 40);
\`\`\`

## Dropping Prepared Statements: \`DEALLOCATE\`

To drop a prepared statement, use the \`DEALLOCATE\` statement:

\`\`\`sql
DEALLOCATE query_person;
\`\`\`

Alternatively, use:

\`\`\`sql
DEALLOCATE PREPARE query_person;
\`\`\`
`,"qualify.md":`---
title: QUALIFY Clause
---

The \`QUALIFY\` clause is used to filter the results of [\`WINDOW\` functions]({% link docs/stable/sql/functions/window_functions.md %}). This filtering of results is similar to how a [\`HAVING\` clause]({% link docs/stable/sql/query_syntax/having.md %}) filters the results of aggregate functions applied based on the [\`GROUP BY\` clause]({% link docs/stable/sql/query_syntax/groupby.md %}).

The \`QUALIFY\` clause avoids the need for a subquery or [\`WITH\` clause]({% link docs/stable/sql/query_syntax/with.md %}) to perform this filtering (much like \`HAVING\` avoids a subquery). An example using a \`WITH\` clause instead of \`QUALIFY\` is included below the \`QUALIFY\` examples.

Note that this is filtering based on [\`WINDOW\` functions]({% link docs/stable/sql/functions/window_functions.md %}), not necessarily based on the [\`WINDOW\` clause]({% link docs/stable/sql/query_syntax/window.md %}). The \`WINDOW\` clause is optional and can be used to simplify the creation of multiple \`WINDOW\` function expressions.

The position of where to specify a \`QUALIFY\` clause is following the [\`WINDOW\` clause]({% link docs/stable/sql/query_syntax/window.md %}) in a \`SELECT\` statement (\`WINDOW\` does not need to be specified), and before the [\`ORDER BY\`]({% link docs/stable/sql/query_syntax/orderby.md %}).

## Examples

Each of the following examples produce the same output, located below.

Filter based on a window function defined in the \`QUALIFY\` clause:

\`\`\`sql
SELECT
    schema_name,
    function_name,
    -- In this example the function_rank column in the select clause is for reference
    row_number() OVER (PARTITION BY schema_name ORDER BY function_name) AS function_rank
FROM duckdb_functions()
QUALIFY
    row_number() OVER (PARTITION BY schema_name ORDER BY function_name) < 3;
\`\`\`

Filter based on a window function defined in the \`SELECT\` clause:

\`\`\`sql
SELECT
    schema_name,
    function_name,
    row_number() OVER (PARTITION BY schema_name ORDER BY function_name) AS function_rank
FROM duckdb_functions()
QUALIFY
    function_rank < 3;
\`\`\`

Filter based on a window function defined in the \`QUALIFY\` clause, but using the \`WINDOW\` clause:

\`\`\`sql
SELECT
    schema_name,
    function_name,
    -- In this example the function_rank column in the select clause is for reference
    row_number() OVER my_window AS function_rank
FROM duckdb_functions()
WINDOW
    my_window AS (PARTITION BY schema_name ORDER BY function_name)
QUALIFY
    row_number() OVER my_window < 3;
\`\`\`

Filter based on a window function defined in the \`SELECT\` clause, but using the \`WINDOW\` clause:

\`\`\`sql
SELECT
    schema_name,
    function_name,
    row_number() OVER my_window AS function_rank
FROM duckdb_functions()
WINDOW
    my_window AS (PARTITION BY schema_name ORDER BY function_name)
QUALIFY
    function_rank < 3;
\`\`\`

Equivalent query based on a \`WITH\` clause (without a \`QUALIFY\` clause):

\`\`\`sql
WITH ranked_functions AS (
    SELECT
        schema_name,
        function_name,
        row_number() OVER (PARTITION BY schema_name ORDER BY function_name) AS function_rank
    FROM duckdb_functions()
)
SELECT
    *
FROM ranked_functions
WHERE
    function_rank < 3;
\`\`\`

| schema_name |  function_name  | function_rank |
|:---|:---|:---|
| main        | !__postfix      | 1             |
| main        | !~~             | 2             |
| pg_catalog  | col_description | 1             |
| pg_catalog  | format_pg_type  | 2             |

## Syntax

<div id="rrdiagram"></div>
`,"regular_expressions.md":"---\ntitle: Regular Expressions\n---\n\n<!-- markdownlint-disable MD001 -->\n\nDuckDB offers [pattern matching operators]({% link docs/stable/sql/functions/pattern_matching.md %})\n([`LIKE`]({% link docs/stable/sql/functions/pattern_matching.md %}#like),\n[`SIMILAR TO`]({% link docs/stable/sql/functions/pattern_matching.md %}#similar-to),\n[`GLOB`]({% link docs/stable/sql/functions/pattern_matching.md %}#glob)),\nas well as support for regular expressions via functions.\n\n## Regular Expression Syntax\n\nDuckDB uses the [RE2 library](https://github.com/google/re2) as its regular expression engine. For the regular expression syntax, see the [RE2 docs](https://github.com/google/re2/wiki/Syntax).\n\n## Functions\n\nAll functions accept an optional set of [options](#options-for-regular-expression-functions).\n\n| Name | Description |\n|:--|:-------|\n| [`regexp_extract(string, pattern[, group = 0][, options])`](#regexp_extractstring-pattern-group--0-options) | If `string` contains the regexp `pattern`, returns the capturing group specified by optional parameter `group`; otherwise, returns the empty string. The `group` must be a constant value. If no `group` is given, it defaults to 0. A set of optional [`options`](#options-for-regular-expression-functions) can be set. |\n| [`regexp_extract(string, pattern, name_list[, options])`](#regexp_extractstring-pattern-name_list-options) | If `string` contains the regexp `pattern`, returns the capturing groups as a struct with corresponding names from `name_list`; otherwise, returns a struct with the same keys and empty strings as values. |\n| [`regexp_extract_all(string, regex[, group = 0][, options])`](#regexp_extract_allstring-regex-group--0-options) | Finds non-overlapping occurrences of `regex` in `string` and returns the corresponding values of `group`. |\n| [`regexp_full_match(string, regex[, options])`](#regexp_full_matchstring-regex-options) | Returns `true` if the entire `string` matches the `regex`. |\n| [`regexp_matches(string, pattern[, options])`](#regexp_matchesstring-pattern-options) | Returns `true` if  `string` contains the regexp `pattern`, `false` otherwise. |\n| [`regexp_replace(string, pattern, replacement[, options])`](#regexp_replacestring-pattern-replacement-options) | If `string` contains the regexp `pattern`, replaces the matching part with `replacement`. By default, only the first occurrence is replaced. A set of optional [`options`](#options-for-regular-expression-functions), including the global flag `g`, can be set. |\n| [`regexp_split_to_array(string, regex[, options])`](#regexp_split_to_arraystring-regex-options) | Alias of `string_split_regex`. Splits the `string` along the `regex`. |\n| [`regexp_split_to_table(string, regex[, options])`](#regexp_split_to_tablestring-regex-options) | Splits the `string` along the `regex` and returns a row for each part. |\n\n#### `regexp_extract(string, pattern[, group = 0][, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | If `string` contains the regexp `pattern`, returns the capturing group specified by optional parameter `group`; otherwise, returns the empty string. The `group` must be a constant value. If no `group` is given, it defaults to 0. A set of optional [`options`](#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_extract('abc', '([a-z])(b)', 1)` |\n| **Result** | `a` |\n\n#### `regexp_extract(string, pattern, name_list[, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | If `string` contains the regexp `pattern`, returns the capturing groups as a struct with corresponding names from `name_list`; otherwise, returns a struct with the same keys and empty strings as values. A set of optional [`options`](#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_extract('2023-04-15', '(\\d+)-(\\d+)-(\\d+)', ['y', 'm', 'd'])` |\n| **Result** | `{'y':'2023', 'm':'04', 'd':'15'}` |\n\n#### `regexp_extract_all(string, regex[, group = 0][, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Finds non-overlapping occurrences of `regex` in `string` and returns the corresponding values of `group`. A set of optional [`options`](#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_extract_all('Peter: 33, Paul:14', '(\\w+):\\s*(\\d+)', 2)` |\n| **Result** | `[33, 14]` |\n\n#### `regexp_full_match(string, regex[, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if the entire `string` matches the `regex`. A set of optional [`options`](#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_full_match('anabanana', '(an)*')` |\n| **Result** | `false` |\n\n#### `regexp_matches(string, pattern[, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if  `string` contains the regexp `pattern`, `false` otherwise. A set of optional [`options`](#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_matches('anabanana', '(an)*')` |\n| **Result** | `true` |\n\n#### `regexp_replace(string, pattern, replacement[, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | If `string` contains the regexp `pattern`, replaces the matching part with `replacement`. By default, only the first occurrence is replaced. A set of optional [`options`](#options-for-regular-expression-functions), including the global flag `g`, can be set. |\n| **Example** | `regexp_replace('hello', '[lo]', '-')` |\n| **Result** | `he-lo` |\n\n#### `regexp_split_to_array(string, regex[, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Alias of `string_split_regex`. Splits the `string` along the `regex`. A set of optional [`options`](#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_split_to_array('hello world; 42', ';? ')` |\n| **Result** | `['hello', 'world', '42']` |\n\n#### `regexp_split_to_table(string, regex[, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Splits the `string` along the `regex` and returns a row for each part. A set of optional [`options`](#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_split_to_table('hello world; 42', ';? ')` |\n| **Result** | Three rows: `'hello'`, `'world'`, `'42'` |\n\nThe `regexp_matches` function is similar to the `SIMILAR TO` operator, however, it does not require the entire string to match. Instead, `regexp_matches` returns `true` if the string merely contains the pattern (unless the special tokens `^` and `$` are used to anchor the regular expression to the start and end of the string). Below are some examples:\n\n```sql\nSELECT regexp_matches('abc', 'abc');       -- true\nSELECT regexp_matches('abc', '^abc$');     -- true\nSELECT regexp_matches('abc', 'a');         -- true\nSELECT regexp_matches('abc', '^a$');       -- false\nSELECT regexp_matches('abc', '.*(b|d).*'); -- true\nSELECT regexp_matches('abc', '(b|c).*');   -- true\nSELECT regexp_matches('abc', '^(b|c).*');  -- false\nSELECT regexp_matches('abc', '(?i)A');     -- true\nSELECT regexp_matches('abc', 'A', 'i');    -- true\n```\n\n## Options for Regular Expression Functions\n\nThe regex functions support the following `options`.\n\n| Option | Description |\n|:---|:---|\n| `'c'`               | Case-sensitive matching                             |\n| `'i'`               | Case-insensitive matching                           |\n| `'l'`               | Match literals instead of regular expression tokens |\n| `'m'`, `'n'`, `'p'` | Newline sensitive matching                          |\n| `'g'`               | Global replace, only available for `regexp_replace` |\n| `'s'`               | Non-newline sensitive matching                      |\n\nFor example:\n\n```sql\nSELECT regexp_matches('abcd', 'ABC', 'c'); -- false\nSELECT regexp_matches('abcd', 'ABC', 'i'); -- true\nSELECT regexp_matches('ab^/$cd', '^/$', 'l'); -- true\nSELECT regexp_matches(E'hello\\nworld', 'hello.world', 'p'); -- false\nSELECT regexp_matches(E'hello\\nworld', 'hello.world', 's'); -- true\n```\n\n### Using `regexp_matches`\n\nThe `regexp_matches` operator will be optimized to the `LIKE` operator when possible. To achieve best performance, the `'c'` option (case-sensitive matching) should be passed if applicable. Note that by default the [`RE2` library](#regular-expression-syntax) doesn't match the `.` character to newline.\n\n| Original | Optimized equivalent |\n|:---|:---|\n| `regexp_matches('hello world', '^hello', 'c')`      | `prefix('hello world', 'hello')` |\n| `regexp_matches('hello world', 'world$', 'c')`      | `suffix('hello world', 'world')` |\n| `regexp_matches('hello world', 'hello.world', 'c')` | `LIKE 'hello_world'`             |\n| `regexp_matches('hello world', 'he.*rld', 'c')`     | `LIKE '%he%rld'`                 |\n\n### Using `regexp_replace`\n\nThe `regexp_replace` function can be used to replace the part of a string that matches the regexp pattern with a replacement string. The notation `\\d` (where `d` is a number indicating the group) can be used to refer to groups captured in the regular expression in the replacement string. Note that by default, `regexp_replace` only replaces the first occurrence of the regular expression. To replace all occurrences, use the global replace (`g`) flag.\n\nSome examples for using `regexp_replace`:\n\n```sql\nSELECT regexp_replace('abc', '(b|c)', 'X');        -- aXc\nSELECT regexp_replace('abc', '(b|c)', 'X', 'g');   -- aXX\nSELECT regexp_replace('abc', '(b|c)', '\\1\\1\\1\\1'); -- abbbbc\nSELECT regexp_replace('abc', '(.*)c', '\\1e');      -- abe\nSELECT regexp_replace('abc', '(a)(b)', '\\2\\1');    -- bac\n```\n\n### Using `regexp_extract`\n\nThe `regexp_extract` function is used to extract a part of a string that matches the regexp pattern.\nA specific capturing group within the pattern can be extracted using the `group` parameter. If `group` is not specified, it defaults to 0, extracting the first match with the whole pattern.\n\n```sql\nSELECT regexp_extract('abc', '.b.');           -- abc\nSELECT regexp_extract('abc', '.b.', 0);        -- abc\nSELECT regexp_extract('abc', '.b.', 1);        -- (empty)\nSELECT regexp_extract('abc', '([a-z])(b)', 1); -- a\nSELECT regexp_extract('abc', '([a-z])(b)', 2); -- b\n```\n\nThe `regexp_extract` function also supports a `name_list` argument, which is a `LIST` of strings. Using `name_list`, the `regexp_extract` will return the corresponding capture groups as fields of a `STRUCT`:\n\n```sql\nSELECT regexp_extract('2023-04-15', '(\\d+)-(\\d+)-(\\d+)', ['y', 'm', 'd']);\n```\n\n```text\n{'y': 2023, 'm': 04, 'd': 15}\n```\n\n```sql\nSELECT regexp_extract('2023-04-15 07:59:56', '^(\\d+)-(\\d+)-(\\d+) (\\d+):(\\d+):(\\d+)', ['y', 'm', 'd']);\n```\n\n```text\n{'y': 2023, 'm': 04, 'd': 15}\n```\n\n```sql\nSELECT regexp_extract('duckdb_0_7_1', '^(\\w+)_(\\d+)_(\\d+)', ['tool', 'major', 'minor', 'fix']);\n```\n\n```console\nBinder Error:\nNot enough group names in regexp_extract\n```\n\nIf the number of column names is less than the number of capture groups, then only the first groups are returned.\nIf the number of column names is greater, then an error is generated.\n\n## Limitations\n\nRegular expressions only support 9 capture groups: `\\1`, `\\2`, `\\3`, ..., `\\9`.\nCapture groups with two or more digits are not supported.\n","sample.md":`---
title: SAMPLE Clause
---

The \`SAMPLE\` clause allows you to run the query on a sample from the base table. This can significantly speed up processing of queries, at the expense of accuracy in the result. Samples can also be used to quickly see a snapshot of the data when exploring a dataset. The sample clause is applied right after anything in the \`FROM\` clause (i.e., after any joins, but before the \`WHERE\` clause or any aggregates). See the [\`SAMPLE\`]({% link docs/stable/sql/samples.md %}) page for more information.

## Examples

Select a sample of 1% of the addresses table using default (system) sampling:

\`\`\`sql
SELECT *
FROM addresses
USING SAMPLE 1%;
\`\`\`

Select a sample of 1% of the addresses table using bernoulli sampling:

\`\`\`sql
SELECT *
FROM addresses
USING SAMPLE 1% (bernoulli);
\`\`\`

Select a sample of 10 rows from the subquery:

\`\`\`sql
SELECT *
FROM (SELECT * FROM addresses)
USING SAMPLE 10 ROWS;
\`\`\`

## Syntax

<div id="rrdiagram"></div>
`,"select.md":"---\ntitle: SELECT Clause\n---\n\nThe `SELECT` clause specifies the list of columns that will be returned by the query. While it appears first in the clause, *logically* the expressions here are executed only at the end. The `SELECT` clause can contain arbitrary expressions that transform the output, as well as aggregates and window functions.\n\n## Examples\n\nSelect all columns from the table called `tbl`:\n\n```sql\nSELECT * FROM tbl;\n```\n\nPerform arithmetic on the columns in a table, and provide an alias:\n\n```sql\nSELECT col1 + col2 AS res, sqrt(col1) AS root FROM tbl;\n```\n\nUse prefix aliases:\n\n```sql\nSELECT\n    res: col1 + col2,\n    root: sqrt(col1)\nFROM tbl;\n```\n\nSelect all unique cities from the `addresses` table:\n\n```sql\nSELECT DISTINCT city FROM addresses;\n```\n\nReturn the total number of rows in the `addresses` table:\n\n```sql\nSELECT count(*) FROM addresses;\n```\n\nSelect all columns except the city column from the `addresses` table:\n\n```sql\nSELECT * EXCLUDE (city) FROM addresses;\n```\n\nSelect all columns from the `addresses` table, but replace `city` with `lower(city)`:\n\n```sql\nSELECT * REPLACE (lower(city) AS city) FROM addresses;\n```\n\nSelect all columns matching the given regular expression from the table:\n\n```sql\nSELECT COLUMNS('number\\d+') FROM addresses;\n```\n\nCompute a function on all given columns of a table:\n\n```sql\nSELECT min(COLUMNS(*)) FROM addresses;\n```\n\nTo select columns with spaces or special characters, use double quotes (`\"`):\n\n```sql\nSELECT \"Some Column Name\" FROM tbl;\n```\n\n## Syntax\n\n<div id=\"rrdiagram\"></div>\n\n## `SELECT` List\n\nThe `SELECT` clause contains a list of expressions that specify the result of a query. The select list can refer to any columns in the `FROM` clause, and combine them using expressions. As the output of a SQL query is a table  every expression in the `SELECT` clause also has a name. The expressions can be explicitly named using the `AS` clause (e.g., `expr AS name`). If a name is not provided by the user the expressions are named automatically by the system.\n\n> Column names are case-insensitive. See the [Rules for Case Sensitivity]({% link docs/stable/sql/dialect/keywords_and_identifiers.md %}#rules-for-case-sensitivity) for more details.\n\n### Star Expressions\n\nSelect all columns from the table called `tbl`:\n\n```sql\nSELECT *\nFROM tbl;\n```\n\nSelect all columns matching the given regular expression from the table:\n\n```sql\nSELECT COLUMNS('number\\d+')\nFROM addresses;\n```\n\nThe [star expression]({% link docs/stable/sql/expressions/star.md %}) is a special expression that expands to *multiple expressions* based on the contents of the `FROM` clause. In the simplest case, `*` expands to **all** expressions in the `FROM` clause. Columns can also be selected using regular expressions or lambda functions. See the [star expression page]({% link docs/stable/sql/expressions/star.md %}) for more details.\n\n### `DISTINCT` Clause\n\nSelect all unique cities from the addresses table:\n\n```sql\nSELECT DISTINCT city\nFROM addresses;\n```\n\nThe `DISTINCT` clause can be used to return **only** the unique rows in the result  so that any duplicate rows are filtered out.\n\n> Queries starting with `SELECT DISTINCT` run deduplication, which is an expensive operation. Therefore, only use `DISTINCT` if necessary.\n\n### `DISTINCT ON` Clause\n\nSelect only the highest population city for each country:\n\n```sql\nSELECT DISTINCT ON(country) city, population\nFROM cities\nORDER BY population DESC;\n```\n\nThe `DISTINCT ON` clause returns only one row per unique value in the set of expressions as defined in the `ON` clause. If an `ORDER BY` clause is present, the row that is returned is the first row that is encountered as per the `ORDER BY` criteria. If an `ORDER BY` clause is not present, the first row that is encountered is not defined and can be any row in the table.\n\n> When querying large datasets, using `DISTINCT` on all columns can be expensive. Therefore, consider using `DISTINCT ON` on a column (or a set of columns) which guarantees a sufficient degree of uniqueness for your results. For example, using `DISTINCT ON` on the key column(s) of a table guarantees full uniqueness.\n\n### Aggregates\n\nReturn the total number of rows in the addresses table:\n\n```sql\nSELECT count(*)\nFROM addresses;\n```\n\nReturn the total number of rows in the addresses table grouped by city:\n\n```sql\nSELECT city, count(*)\nFROM addresses\nGROUP BY city;\n```\n\n[Aggregate functions]({% link docs/stable/sql/functions/aggregates.md %}) are special functions that *combine* multiple rows into a single value. When aggregate functions are present in the `SELECT` clause, the query is turned into an aggregate query. In an aggregate query, **all** expressions must either be part of an aggregate function, or part of a group (as specified by the [`GROUP BY clause`]({% link docs/stable/sql/query_syntax/groupby.md %})).\n\n### Window Functions\n\nGenerate a `row_number` column containing incremental identifiers for each row:\n\n```sql\nSELECT row_number() OVER ()\nFROM sales;\n```\n\nCompute the difference between the current amount, and the previous amount, by order of time:\n\n```sql\nSELECT amount - lag(amount) OVER (ORDER BY time)\nFROM sales;\n```\n\n[Window functions]({% link docs/stable/sql/functions/window_functions.md %}) are special functions that allow the computation of values relative to *other rows* in a result. Window functions are marked by the `OVER` clause which contains the *window specification*. The window specification defines the frame or context in which the window function is computed. See the [window functions page]({% link docs/stable/sql/functions/window_functions.md %}) for more information.\n\n### `unnest` Function\n\nUnnest an array by one level:\n\n```sql\nSELECT unnest([1, 2, 3]);\n```\n\nUnnest a struct by one level:\n\n```sql\nSELECT unnest({'a': 42, 'b': 84});\n```\n\nThe [`unnest`]({% link docs/stable/sql/query_syntax/unnest.md %}) function is a special function that can be used together with [arrays]({% link docs/stable/sql/data_types/array.md %}), [lists]({% link docs/stable/sql/data_types/list.md %}), or [structs]({% link docs/stable/sql/data_types/struct.md %}). The unnest function strips one level of nesting from the type. For example, `INTEGER[]` is transformed into `INTEGER`. `STRUCT(a INTEGER, b INTEGER)` is transformed into `a INTEGER, b INTEGER`. The unnest function can be used to transform nested types into regular scalar types, which makes them easier to operate on.\n","setops.md":`---
title: Set Operations
---

Set operations allow queries to be combined according to [set operation semantics](https://en.wikipedia.org/wiki/Set_(mathematics)#Basic_operations). Set operations refer to the [\`UNION [ALL]\`](#union), [\`INTERSECT [ALL]\`](#intersect) and [\`EXCEPT [ALL]\`](#except) clauses. The vanilla variants use set semantics, i.e., they eliminate duplicates, while the variants with \`ALL\` use bag semantics.

Traditional set operations unify queries **by column position**, and require the to-be-combined queries to have the same number of input columns. If the columns are not of the same type, casts may be added. The result will use the column names from the first query.

DuckDB also supports [\`UNION [ALL] BY NAME\`](#union-all-by-name), which joins columns by name instead of by position. \`UNION BY NAME\` does not require the inputs to have the same number of columns. \`NULL\` values will be added in case of missing columns.

## \`UNION\`

The \`UNION\` clause can be used to combine rows from multiple queries. The queries are required to return the same number of columns. [Implicit casting](https://duckdb.org/docs/sql/data_types/typecasting#implicit-casting) to one of the returned types is performed to combine columns of different types where necessary. If this is not possible, the \`UNION\` clause throws an error.

### Vanilla \`UNION\` (Set Semantics)

The vanilla \`UNION\` clause follows set semantics, therefore it performs duplicate elimination, i.e., only unique rows will be included in the result.

\`\`\`sql
SELECT * FROM range(2) t1(x)
UNION
SELECT * FROM range(3) t2(x);
\`\`\`

| x |
|--:|
| 2 |
| 1 |
| 0 |

### \`UNION ALL\` (Bag Semantics)

\`UNION ALL\` returns all rows of both queries following bag semantics, i.e., *without* duplicate elimination.

\`\`\`sql
SELECT * FROM range(2) t1(x)
UNION ALL
SELECT * FROM range(3) t2(x);
\`\`\`

| x |
|--:|
| 0 |
| 1 |
| 0 |
| 1 |
| 2 |

### \`UNION [ALL] BY NAME\`

The \`UNION [ALL] BY NAME\` clause can be used to combine rows from different tables by name, instead of by position. \`UNION BY NAME\` does not require both queries to have the same number of columns. Any columns that are only found in one of the queries are filled with \`NULL\` values for the other query.

Take the following tables for example:

\`\`\`sql
CREATE TABLE capitals (city VARCHAR, country VARCHAR);
INSERT INTO capitals VALUES
    ('Amsterdam', 'NL'),
    ('Berlin', 'Germany');
CREATE TABLE weather (city VARCHAR, degrees INTEGER, date DATE);
INSERT INTO weather VALUES
    ('Amsterdam', 10, '2022-10-14'),
    ('Seattle', 8, '2022-10-12');
\`\`\`

\`\`\`sql
SELECT * FROM capitals
UNION BY NAME
SELECT * FROM weather;
\`\`\`

|   city    | country | degrees |    date    |
|-----------|---------|--------:|------------|
| Seattle   | NULL    | 8       | 2022-10-12 |
| Amsterdam | NL      | NULL    | NULL       |
| Berlin    | Germany | NULL    | NULL       |
| Amsterdam | NULL    | 10      | 2022-10-14 |

\`UNION BY NAME\` follows set semantics (therefore it performs duplicate elimination), whereas \`UNION ALL BY NAME\` follows bag semantics.

## \`INTERSECT\`

The \`INTERSECT\` clause can be used to select all rows that occur in the result of **both** queries.

### Vanilla \`INTERSECT\` (Set Semantics)

Vanilla \`INTERSECT\` performs duplicate elimination, so only unique rows are returned.

\`\`\`sql
SELECT * FROM range(2) t1(x)
INTERSECT
SELECT * FROM range(6) t2(x);
\`\`\`

| x |
|--:|
| 0 |
| 1 |

### \`INTERSECT ALL\` (Bag Semantics)

\`INTERSECT ALL\` follows bag semantics, so duplicates are returned.

\`\`\`sql
SELECT unnest([5, 5, 6, 6, 6, 6, 7, 8]) AS x
INTERSECT ALL
SELECT unnest([5, 6, 6, 7, 7, 9]);
\`\`\`

| x |
|--:|
| 5 |
| 6 |
| 6 |
| 7 |

## \`EXCEPT\`

The \`EXCEPT\` clause can be used to select all rows that **only** occur in the left query.

### Vanilla \`EXCEPT\` (Set Semantics)

Vanilla \`EXCEPT\` follows set semantics, therefore, it performs duplicate elimination, so only unique rows are returned.

\`\`\`sql
SELECT * FROM range(5) t1(x)
EXCEPT
SELECT * FROM range(2) t2(x);
\`\`\`

| x |
|--:|
| 2 |
| 3 |
| 4 |

### \`EXCEPT ALL\` (Bag Semantics)

\`EXCEPT ALL\` uses bag semantics:

\`\`\`sql
SELECT unnest([5, 5, 6, 6, 6, 6, 7, 8]) AS x
EXCEPT ALL
SELECT unnest([5, 6, 6, 7, 7, 9]);
\`\`\`

| x |
|--:|
| 5 |
| 8 |
| 6 |
| 6 |

## Syntax

<div id="rrdiagram"></div>
`,"star.md":`---
title: Star Expression
---

## Syntax

<div id="rrdiagram"></div>

The \`*\` expression can be used in a \`SELECT\` statement to select all columns that are projected in the \`FROM\` clause.

\`\`\`sql
SELECT *
FROM tbl;
\`\`\`

### \`TABLE.*\` and \`STRUCT.*\`

The \`*\` expression can be prepended by a table name to select only columns from that table.

\`\`\`sql
SELECT tbl.*
FROM tbl
JOIN other_tbl USING (id);
\`\`\`

Similarly, the \`*\` expression can also be used to retrieve all keys from a struct as separate columns.
This is particularly useful when a prior operation creates a struct of unknown shape, or if a query must handle any potential struct keys.
See the [\`STRUCT\` data type]({% link docs/stable/sql/data_types/struct.md %}) and [\`STRUCT\` functions]({% link docs/stable/sql/functions/struct.md %}) pages for more details on working with structs.

For example:

\`\`\`sql
SELECT st.* FROM (SELECT {'x': 1, 'y': 2, 'z': 3} AS st);
\`\`\`

| x | y | z |
|--:|--:|--:|
| 1 | 2 | 3 |


### \`EXCLUDE\` Clause

\`EXCLUDE\` allows you to exclude specific columns from the \`*\` expression.

\`\`\`sql
SELECT * EXCLUDE (col)
FROM tbl;
\`\`\`

### \`REPLACE\` Clause

\`REPLACE\` allows you to replace specific columns by alternative expressions.

\`\`\`sql
SELECT * REPLACE (col1 / 1_000 AS col1, col2 / 1_000 AS col2)
FROM tbl;
\`\`\`

### \`RENAME\` Clause

\`RENAME\` allows you to replace specific columns.

\`\`\`sql
SELECT * RENAME (col1 AS height, col2 AS width)
FROM tbl;
\`\`\`

### Column Filtering via Pattern Matching Operators

The [pattern matching operators]({% link docs/stable/sql/functions/pattern_matching.md %}) \`LIKE\`, \`GLOB\`, \`SIMILAR TO\` and their variants allow you to select columns by matching their names to patterns.

\`\`\`sql
SELECT * LIKE 'col%'
FROM tbl;
\`\`\`

\`\`\`sql
SELECT * GLOB 'col*'
FROM tbl;
\`\`\`

\`\`\`sql
SELECT * SIMILAR TO 'col.'
FROM tbl;
\`\`\`

## \`COLUMNS\` Expression


The \`COLUMNS\` expression is similar to the regular star expression, but additionally allows you to execute the same expression on the resulting columns.

\`\`\`sql
CREATE TABLE numbers (id INTEGER, number INTEGER);
INSERT INTO numbers VALUES (1, 10), (2, 20), (3, NULL);
SELECT min(COLUMNS(*)), count(COLUMNS(*)) FROM numbers;
\`\`\`

| id | number | id | number |
|---:|-------:|---:|-------:|
| 1  | 10     | 3  | 2      |

\`\`\`sql
SELECT
    min(COLUMNS(* REPLACE (number + id AS number))),
    count(COLUMNS(* EXCLUDE (number)))
FROM numbers;
\`\`\`

| id | min(number := (number + id)) | id |
|---:|-----------------------------:|---:|
| 1  | 11                           | 3  |

\`COLUMNS\` expressions can also be combined, as long as they contain the same star expression:

\`\`\`sql
SELECT COLUMNS(*) + COLUMNS(*) FROM numbers;
\`\`\`

| id | number |
|---:|-------:|
| 2  | 20     |
| 4  | 40     |
| 6  | NULL   |


### \`COLUMNS\` Expression in a \`WHERE\` Clause

\`COLUMNS\` expressions can also be used in \`WHERE\` clauses. The conditions are applied to all columns and are combined using the logical \`AND\` operator.

\`\`\`sql
SELECT *
FROM (
    SELECT 'a', 'a'
    UNION ALL
    SELECT 'a', 'b'
    UNION ALL
    SELECT 'b', 'b'
) _(x, y)
WHERE COLUMNS(*) = 'a'; -- equivalent to: x = 'a' AND y = 'a'
\`\`\`

| x | y |
|--:|--:|
| a | a |

To combine conditions using the logical \`OR\` operator, you can \`UNPACK\` the \`COLUMNS\` expression into the variadic \`greatest\` function.

\`\`\`sql
SELECT *
FROM (
    SELECT 'a', 'a'
    UNION ALL
    SELECT 'a', 'b'
    UNION ALL
    SELECT 'b', 'b'
) _(x, y)
WHERE greatest(UNPACK(COLUMNS(*) = 'a')); -- equivalent to: x = 'a' OR y = 'a'
\`\`\`

| x | y |
|--:|--:|
| a | a |
| a | b |

### Regular Expressions in a \`COLUMNS\` Expression

\`COLUMNS\` expressions don't currently support the pattern matching operators, but they do support regular expression matching by simply passing a string constant in place of the star:

\`\`\`sql
SELECT COLUMNS('(id|numbers?)') FROM numbers;
\`\`\`

| id | number |
|---:|-------:|
| 1  | 10     |
| 2  | 20     |
| 3  | NULL   |

### Renaming Columns with Regular Expressions in a \`COLUMNS\` Expression

The matches of capture groups in regular expressions can be used to rename matching columns.
The capture groups are one-indexed; \`\\0\` is the original column name.

For example, to select the first three letters of column names, run:

\`\`\`sql
SELECT COLUMNS('(\\w{3}).*') AS '\\1' FROM numbers;
\`\`\`

| id | num  |
|---:|-----:|
| 1  | 10   |
| 2  | 20   |
| 3  | NULL |

To remove a colon (\`:\`) character in the middle of a column name, run:

\`\`\`sql
CREATE TABLE tbl ("Foo:Bar" INTEGER, "Foo:Baz" INTEGER, "Foo:Qux" INTEGER);
SELECT COLUMNS('(\\w*):(\\w*)') AS '\\1\\2' FROM tbl;
\`\`\`

To add the original column name to the expression alias, run:

\`\`\`sql
SELECT min(COLUMNS(*)) AS "min_\\0" FROM numbers;
\`\`\`

| min_id | min_number |
|-------:|-----------:|
|      1 |         10 |

### \`COLUMNS\` Lambda Function

\`COLUMNS\` also supports passing in a lambda function. The lambda function will be evaluated for all columns present in the \`FROM\` clause, and only columns that match the lambda function will be returned. This allows the execution of arbitrary expressions in order to select and rename columns.

\`\`\`sql
SELECT COLUMNS(lambda c: c LIKE '%num%') FROM numbers;
\`\`\`

| number |
|-------:|
| 10     |
| 20     |
| NULL   |


### \`COLUMNS\` List

\`COLUMNS\` also supports passing in a list of column names.

\`\`\`sql
SELECT COLUMNS(['id', 'num']) FROM numbers;
\`\`\`

| id | num  |
|---:|-----:|
| 1  | 10   |
| 2  | 20   |
| 3  | NULL |

## Unpacking a \`COLUMNS\` Expression

By wrapping a \`COLUMN\` expression in \`UNPACK\`, the columns expand into a parent expression,  much like the [iterable unpacking behavior in Python](https://peps.python.org/pep-3132/).

Without \`UNPACK\`, operations on the \`COLUMNS\` expression are applied to each column separately:

\`\`\`sql
SELECT coalesce(COLUMNS(['a', 'b', 'c'])) AS result
FROM (SELECT NULL a, 42 b, true c);
\`\`\`

| result | result | result |
|--------|-------:|-------:|
| NULL   | 42     | true   |

With \`UNPACK\`, the \`COLUMNS\` expression is expanded into its parent expression, \`coalesce\` in the example above, which results in a single column:

\`\`\`sql
SELECT coalesce(UNPACK(COLUMNS(['a', 'b', 'c']))) AS result
FROM (SELECT NULL AS a, 42 AS b, true AS c);
\`\`\`

| result |
|-------:|
| 42     |

The \`UNPACK\` keyword may be replaced by \`*\`, [matching Python syntax](https://peps.python.org/pep-3132/), when it is applied directly to the \`COLUMNS\` expression without any intermediate operations.

\`\`\`sql
SELECT coalesce(*COLUMNS(*)) AS result
FROM (SELECT NULL a, 42 AS b, true AS c);
\`\`\`

| result |
|-------:|
| 42     |

> Warning In the following example, replacing \`UNPACK\` by \`*\` results in a syntax error:
> 
> \`\`\`sql
> SELECT greatest(UNPACK(COLUMNS(*) + 1)) AS result
> FROM (SELECT 1 AS a, 2 AS b, 3 AS c);
> \`\`\`
> 
> | result |
> |-------:|
> | 4      |

## \`STRUCT.*\`

The \`*\` expression can also be used to retrieve all keys from a struct as separate columns.
This is particularly useful when a prior operation creates a struct of unknown shape, or if a query must handle any potential struct keys.
See the [\`STRUCT\` data type]({% link docs/stable/sql/data_types/struct.md %}) and [\`STRUCT\` functions]({% link docs/stable/sql/functions/struct.md %}) pages for more details on working with structs.

For example:

\`\`\`sql
SELECT st.* FROM (SELECT {'x': 1, 'y': 2, 'z': 3} AS st);
\`\`\`

| x | y | z |
|--:|--:|--:|
| 1 | 2 | 3 |
`,"struct.md":"---\ntitle: Struct Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\n| Name | Description |\n|:--|:-------|\n| [`struct.entry`](#structentry) | Dot notation that serves as an alias for `struct_extract` from named `STRUCT`s. |\n| [`struct[entry]`](#structentry) | Bracket notation that serves as an alias for `struct_extract` from named `STRUCT`s. |\n| [`struct[idx]`](#structidx) | Bracket notation that serves as an alias for `struct_extract` from unnamed `STRUCT`s (tuples), using an index (1-based). |\n| [`row(any, ...)`](#rowany-) | Create an unnamed `STRUCT` (tuple) containing the argument values. |\n| [`struct_concat(structs...)`](#struct_concatstructs) | Merge the multiple `structs` into a single `STRUCT`. |\n| [`struct_contains(struct, entry)`](#struct_containsstruct-entry) | Check if the `STRUCT` contains the specified entry. |\n| [`struct_extract(struct, 'entry')`](#struct_extractstruct-entry) | Extract the named entry from the `STRUCT`. |\n| [`struct_extract(struct, idx)`](#struct_extractstruct-idx) | Extract the entry from an unnamed `STRUCT` (tuple) using an index (1-based). |\n| [`struct_extract_at(struct, idx)`](#struct_extract_atstruct-idx) | Extract the entry from a `STRUCT` (tuple) using an index (1-based). |\n| [`struct_insert(struct, name := any, ...)`](#struct_insertstruct-name--any-) | Add field(s) to an existing `STRUCT`. |\n| [`struct_pack(name := any, ...)`](#struct_packname--any-) | Create a `STRUCT` containing the argument values. The entry name will be the bound variable name. |\n| [`struct_position(struct, entry)`](#struct_positionstruct-entry) | Return the index of the entry within the `STRUCT` (1-based), or `NULL` if not found. |\n| [`struct_update(struct, name := any, ...)`](#struct_updatestruct-name--any-) | Add or update field(s) of an existing `STRUCT`. |\n\n#### `struct.entry`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Dot notation that serves as an alias for `struct_extract` from named `STRUCT`s. |\n| **Example** | `({'i': 3, 's': 'string'}).i` |\n| **Result** | `3` |\n\n#### `struct[entry]`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Bracket notation that serves as an alias for `struct_extract` from named `STRUCT`s. |\n| **Example** | `({'i': 3, 's': 'string'})['i']` |\n| **Result** | `3` |\n\n#### `struct[idx]`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Bracket notation that serves as an alias for `struct_extract` from unnamed `STRUCT`s (tuples), using an index (1-based). |\n| **Example** | `(row(42, 84))[1]` |\n| **Result** | `42` |\n\n#### `row(any, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Create an unnamed `STRUCT` (tuple) containing the argument values. |\n| **Example** | `row(i, i % 4, i / 4)` |\n| **Result** | `(10, 2, 2.5)` |\n\n#### `struct_concat(structs...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Merge the multiple `structs` into a single `STRUCT`. |\n| **Example** | `struct_concat(struct_pack(i := 4), struct_pack(s := 'string'))` |\n| **Result** | `{'i': 4, 's': string}` |\n\n#### `struct_contains(struct, entry)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Check if the `STRUCT` contains the specified entry. |\n| **Example** | `struct_contains(row(1, 2, 3), 2)` |\n| **Result** | `true` |\n| **Alias** | `struct_has` |\n\n#### `struct_extract(struct, 'entry')`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extract the named entry from the `STRUCT`. |\n| **Example** | `struct_extract({'i': 3, 'v2': 3, 'v3': 0}, 'i')` |\n| **Result** | `3` |\n\n#### `struct_extract(struct, idx)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extract the entry from an unnamed `STRUCT` (tuple) using an index (1-based). |\n| **Example** | `struct_extract(row(42, 84), 1)` |\n| **Result** | `42` |\n\n#### `struct_extract_at(struct, idx)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extract the entry from a `STRUCT` (tuple) using an index (1-based). |\n| **Example** | `struct_extract_at({'v1': 10, 'v2': 20, 'v3': 3}, 20)` |\n| **Result** | `20` |\n\n#### `struct_insert(struct, name := any, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Add field(s) to an existing `STRUCT`. |\n| **Example** | `struct_insert({'a': 1}, b := 2)` |\n| **Result** | `{'a': 1, 'b': 2}` |\n\n#### `struct_pack(name := any, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Create a `STRUCT` containing the argument values. The entry name will be the bound variable name. |\n| **Example** | `struct_pack(i := 4, s := 'string')` |\n| **Result** | `{'i': 4, 's': string}` |\n\n#### `struct_position(struct, entry)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Return the index of the entry within the `STRUCT` (1-based), or `NULL` if not found. |\n| **Example** | `struct_position(row(1, 2, 3), 2)` |\n| **Result** | `2` |\n| **Alias** | `struct_indexof` |\n\n#### `struct_update(struct, name := any, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Add or update field(s) of an existing `STRUCT`. |\n| **Example** | `struct_insert({'a': 1, 'b': 2}, b := 3, c := 4)` |\n| **Result** | `{'a': 1, 'b': 3, 'c': 4}` |\n","subqueries.md":`---
title: Subqueries
---

Subqueries are parenthesized query expressions that appear as part of a larger, outer query. Subqueries are usually based on \`SELECT ... FROM\`, but in DuckDB other query constructs such as [\`PIVOT\`]({% link docs/stable/sql/statements/pivot.md %}) can also appear as a subquery.

## Scalar Subquery

<div id="rrdiagram1"></div>

Scalar subqueries are subqueries that return a single value. They can be used anywhere where an expression can be used. If a scalar subquery returns more than a single value, an error is raised (unless \`scalar_subquery_error_on_multiple_rows\` is set to \`false\`, in which case a row is selected randomly).

Consider the following table:

### Grades

| grade | course |
|---:|:---|
| 7 | Math |
| 9 | Math |
| 8 | CS |

\`\`\`sql
CREATE TABLE grades (grade INTEGER, course VARCHAR);
INSERT INTO grades VALUES (7, 'Math'), (9, 'Math'), (8, 'CS');
\`\`\`

We can run the following query to obtain the minimum grade:

\`\`\`sql
SELECT min(grade) FROM grades;
\`\`\`

| min(grade) |
|-----------:|
| 7          |

By using a scalar subquery in the \`WHERE\` clause, we can figure out for which course this grade was obtained:

\`\`\`sql
SELECT course FROM grades WHERE grade = (SELECT min(grade) FROM grades);
\`\`\`

| course |
|--------|
| Math   |

## \`ARRAY\` Subqueries

Subqueries that return multiple values can be wrapped with \`ARRAY\` to collect all results in a list.

\`\`\`sql
SELECT ARRAY(SELECT grade FROM grades) AS all_grades;
\`\`\`

| all_grades |
|-----------:|
| [7, 9, 8]  |



## Subquery Comparisons: \`ALL\`, \`ANY\` and \`SOME\`

In the section on [scalar subqueries](#scalar-subquery), a scalar expression was compared directly to a subquery using the equality [comparison operator]({% link docs/stable/sql/expressions/comparison_operators.md %}#comparison-operators) (\`=\`).
Such direct comparisons only make sense with scalar subqueries.

Scalar expressions can still be compared to single-column subqueries returning multiple rows by specifying a quantifier. Available quantifiers are \`ALL\`, \`ANY\` and \`SOME\`. The quantifiers \`ANY\` and \`SOME\` are equivalent.

### \`ALL\`

The \`ALL\` quantifier specifies that the comparison as a whole evaluates to \`true\` when the individual comparison results of _the expression at the left hand side of the comparison operator_ with each of the values from _the subquery at the right hand side of the comparison operator_ **all** evaluate to \`true\`:

\`\`\`sql
SELECT 6 <= ALL (SELECT grade FROM grades) AS adequate;
\`\`\`

returns:

| adequate |
|----------|
| true     |

because 6 is less than or equal to each of the subquery results 7, 8 and 9.

However, the following query

\`\`\`sql
SELECT 8 >= ALL (SELECT grade FROM grades) AS excellent;
\`\`\`

returns

| excellent |
|-----------|
| false     |

because 8 is not greater than or equal to the subquery result 7. And thus, because not all comparisons evaluate \`true\`, \`>= ALL\` as a whole evaluates to \`false\`.

### \`ANY\`

The \`ANY\` quantifier specifies that the comparison as a whole evaluates to \`true\` when at least one of the individual comparison results evaluates to \`true\`.
For example:

\`\`\`sql
SELECT 5 >= ANY (SELECT grade FROM grades) AS fail;
\`\`\`

returns

| fail  |
|-------|
| false |

because no result of the subquery is less than or equal to 5.

The quantifier \`SOME\` maybe used instead of \`ANY\`: \`ANY\` and \`SOME\` are interchangeable.

## \`EXISTS\`

<div id="rrdiagram2"></div>

The \`EXISTS\` operator tests for the existence of any row inside the subquery. It returns either true when the subquery returns one or more records, and false otherwise. The \`EXISTS\` operator is generally the most useful as a *correlated* subquery to express semijoin operations. However, it can be used as an uncorrelated subquery as well.

For example, we can use it to figure out if there are any grades present for a given course:

\`\`\`sql
SELECT EXISTS (FROM grades WHERE course = 'Math') AS math_grades_present;
\`\`\`

| math_grades_present |
|--------------------:|
| true                |

\`\`\`sql
SELECT EXISTS (FROM grades WHERE course = 'History') AS history_grades_present;
\`\`\`

| history_grades_present |
|-----------------------:|
| false                  |

> The subqueries in the examples above make use of the fact that you can omit the \`SELECT *\` in DuckDB thanks to the [\`FROM\`-first syntax]({% link docs/stable/sql/query_syntax/from.md %}). The \`SELECT\` clause is required in subqueries by other SQL systems but cannot fulfill any purpose in \`EXISTS\` and \`NOT EXISTS\` subqueries.

### \`NOT EXISTS\`

The \`NOT EXISTS\` operator tests for the absence of any row inside the subquery. It returns either true when the subquery returns an empty result, and false otherwise. The \`NOT EXISTS\` operator is generally the most useful as a *correlated* subquery to express antijoin operations. For example, to find Person nodes without an interest:

\`\`\`sql
CREATE TABLE Person (id BIGINT, name VARCHAR);
CREATE TABLE interest (PersonId BIGINT, topic VARCHAR);

INSERT INTO Person VALUES (1, 'Jane'), (2, 'Joe');
INSERT INTO interest VALUES (2, 'Music');

SELECT *
FROM Person
WHERE NOT EXISTS (FROM interest WHERE interest.PersonId = Person.id);
\`\`\`

| id | name |
|---:|------|
| 1  | Jane |

> DuckDB automatically detects when a \`NOT EXISTS\` query expresses an antijoin operation. There is no need to manually rewrite such queries to use \`LEFT OUTER JOIN ... WHERE ... IS NULL\`.

## \`IN\` Operator

<div id="rrdiagram3"></div>

The \`IN\` operator checks containment of the left expression inside the result defined by the subquery or the set of expressions on the right hand side (RHS). The \`IN\` operator returns true if the expression is present in the RHS, false if the expression is not in the RHS and the RHS has no \`NULL\` values, or \`NULL\` if the expression is not in the RHS and the RHS has \`NULL\` values.

We can use the \`IN\` operator in a similar manner as we used the \`EXISTS\` operator:

\`\`\`sql
SELECT 'Math' IN (SELECT course FROM grades) AS math_grades_present;
\`\`\`

| math_grades_present |
|--------------------:|
| true                |

## Correlated Subqueries

All the subqueries presented here so far have been **uncorrelated** subqueries, where the subqueries themselves are entirely self-contained and can be run without the parent query. There exists a second type of subqueries called **correlated** subqueries. For correlated subqueries, the subquery uses values from the parent subquery.

Conceptually, the subqueries are run once for every single row in the parent query. Perhaps a simple way of envisioning this is that the correlated subquery is a **function** that is applied to every row in the source dataset.

For example, suppose that we want to find the minimum grade for every course. We could do that as follows:

\`\`\`sql
SELECT *
FROM grades grades_parent
WHERE grade =
    (SELECT min(grade)
     FROM grades
     WHERE grades.course = grades_parent.course);
\`\`\`

| grade | course |
|------:|--------|
| 7     | Math   |
| 8     | CS     |

The subquery uses a column from the parent query (\`grades_parent.course\`). Conceptually, we can see the subquery as a function where the correlated column is a parameter to that function:

\`\`\`sql
SELECT min(grade)
FROM grades
WHERE course = ?;
\`\`\`

Now when we execute this function for each of the rows, we can see that for \`Math\` this will return \`7\`, and for \`CS\` it will return \`8\`. We then compare it against the grade for that actual row. As a result, the row \`(Math, 9)\` will be filtered out, as \`9 <> 7\`.

## Returning Each Row of the Subquery as a Struct

Using the name of a subquery in the \`SELECT\` clause (without referring to a specific column) turns each row of the subquery into a struct whose fields correspond to the columns of the subquery. For example:

\`\`\`sql
SELECT t
FROM (SELECT unnest(generate_series(41, 43)) AS x, 'hello' AS y) t;
\`\`\`

<div class="monospace_table"></div>

|           t           |
|-----------------------|
| {'x': 41, 'y': hello} |
| {'x': 42, 'y': hello} |
| {'x': 43, 'y': hello} |
`,"text.md":"---\ntitle: Text Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\n## Text Functions and Operators\n\nThis section describes functions and operators for examining and manipulating [`STRING` values]({% link docs/stable/sql/data_types/text.md %}).\n\n<!-- Start of section generated by scripts/generate_sql_function_docs.py; categories: [string, regex] -->\n<!-- markdownlint-disable MD056 -->\n\n| Function | Description |\n|:--|:-------|\n| [`string[index]`](#stringindex) | Extracts a single character using a (1-based) `index`. |\n| [`string[begin:end]`](#stringbeginend) | Extracts a string using [slice conventions]({% link docs/stable/sql/functions/list.md %}#slicing) similar to Python. Missing `begin` or `end` arguments are interpreted as the beginning or end of the list respectively. Negative values are accepted. |\n| [`string LIKE target`](#string-like-target) | Returns `true` if the `string` matches the like specifier (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})). |\n| [`string SIMILAR TO regex`](#string-similar-to-regex) | Returns `true` if the `string` matches the `regex` (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})). |\n| [`string ^@ search_string`](#starts_withstring-search_string) | Alias for `starts_with`. |\n| [`arg1 || arg2`](#arg1--arg2) | Concatenates two strings, lists, or blobs. Any `NULL` input results in `NULL`. See also [`concat(arg1, arg2, ...)`]({% link docs/stable/sql/functions/text.md %}#concatvalue-) and [`list_concat(list1, list2, ...)`]({% link docs/stable/sql/functions/list.md %}#list_concatlist_1--list_n). |\n| [`array_extract(string, index)`](#array_extractstring-index) | Extracts a single character from a `string` using a (1-based) `index`. |\n| [`array_slice(list, begin, end)`](#array_slicelist-begin-end) | Extracts a sublist or substring using [slice conventions]({% link docs/stable/sql/functions/list.md %}#slicing). Negative values are accepted. |\n| [`ascii(string)`](#asciistring) | Returns an integer that represents the Unicode code point of the first character of the `string`. |\n| [`bar(x, min, max[, width])`](#barx-min-max-width) | Draws a band whose width is proportional to (`x - min`) and equal to `width` characters when `x` = `max`. `width` defaults to 80. |\n| [`base64(blob)`](#to_base64blob) | Alias for `to_base64`. |\n| [`bin(string)`](#binstring) | Converts the `string` to binary representation. |\n| [`bit_length(string)`](#bit_lengthstring) | Number of bits in a `string`. |\n| [`char_length(string)`](#lengthstring) | Alias for `length`. |\n| [`character_length(string)`](#lengthstring) | Alias for `length`. |\n| [`chr(code_point)`](#chrcode_point) | Returns a character which is corresponding the ASCII code value or Unicode code point. |\n| [`concat(value, ...)`](#concatvalue-) | Concatenates multiple strings or lists. `NULL` inputs are skipped. See also [operator `||`](#arg1--arg2). |\n| [`concat_ws(separator, string, ...)`](#concat_wsseparator-string-) | Concatenates many strings, separated by `separator`. `NULL` inputs are skipped. |\n| [`contains(string, search_string)`](#containsstring-search_string) | Returns `true` if `search_string` is found within `string`. Note that [collations]({% link docs/stable/sql/expressions/collations.md %}) are not supported. |\n| [`ends_with(string, search_string)`](#suffixstring-search_string) | Alias for `suffix`. |\n| [`format(format, ...)`](#formatformat-) | Formats a string using the [fmt syntax](#fmt-syntax). |\n| [`formatReadableDecimalSize(integer)`](#formatreadabledecimalsizeinteger) | Converts `integer` to a human-readable representation using units based on powers of 10 (KB, MB, GB, etc.). |\n| [`format_bytes(integer)`](#format_bytesinteger) | Converts `integer` to a human-readable representation using units based on powers of 2 (KiB, MiB, GiB, etc.). |\n| [`from_base64(string)`](#from_base64string) | Converts a base64 encoded `string` to a character string (`BLOB`). |\n| [`from_binary(value)`](#unbinvalue) | Alias for `unbin`. |\n| [`from_hex(value)`](#unhexvalue) | Alias for `unhex`. |\n| [`greatest(arg1, ...)`](#greatestarg1-) | Returns the largest value in lexicographical order. Note that lowercase characters are considered larger than uppercase characters and [collations]({% link docs/stable/sql/expressions/collations.md %}) are not supported. |\n| [`hash(value, ...)`](#hashvalue-) | Returns a `UBIGINT` with the hash of the `value`. Note that this is not a cryptographic hash. |\n| [`hex(string)`](#hexstring) | Converts the `string` to hexadecimal representation. |\n| [`ilike_escape(string, like_specifier, escape_character)`](#ilike_escapestring-like_specifier-escape_character) | Returns `true` if the `string` matches the `like_specifier` (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})) using case-insensitive matching. `escape_character` is used to search for wildcard characters in the `string`. |\n| [`instr(string, search_string)`](#instrstring-search_string) | Returns location of first occurrence of `search_string` in `string`, counting from 1. Returns 0 if no match found. |\n| [`lcase(string)`](#lowerstring) | Alias for `lower`. |\n| [`least(arg1, ...)`](#leastarg1-) | Returns the smallest value in lexicographical order. Note that uppercase characters are considered smaller than lowercase characters and [collations]({% link docs/stable/sql/expressions/collations.md %}) are not supported. |\n| [`left(string, count)`](#leftstring-count) | Extracts the left-most count characters. |\n| [`left_grapheme(string, count)`](#left_graphemestring-count) | Extracts the left-most count grapheme clusters. |\n| [`len(string)`](#lengthstring) | Alias for `length`. |\n| [`length(string)`](#lengthstring) | Number of characters in `string`. |\n| [`length_grapheme(string)`](#length_graphemestring) | Number of grapheme clusters in `string`. |\n| [`like_escape(string, like_specifier, escape_character)`](#like_escapestring-like_specifier-escape_character) | Returns `true` if the `string` matches the `like_specifier` (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})) using case-sensitive matching. `escape_character` is used to search for wildcard characters in the `string`. |\n| [`lower(string)`](#lowerstring) | Converts `string` to lower case. |\n| [`lpad(string, count, character)`](#lpadstring-count-character) | Pads the `string` with the `character` on the left until it has `count` characters. Truncates the `string` on the right if it has more than `count` characters. |\n| [`ltrim(string[, characters])`](#ltrimstring-characters) | Removes any occurrences of any of the `characters` from the left side of the `string`. `characters` defaults to `space`. |\n| [`md5(string)`](#md5string) | Returns the MD5 hash of the `string` as a `VARCHAR`. |\n| [`md5_number(string)`](#md5_numberstring) | Returns the MD5 hash of the `string` as a `HUGEINT`. |\n| [`md5_number_lower(string)`](#md5_number_lowerstring) | Returns the lower 64-bit segment of the MD5 hash of the `string` as a `UBIGINT`. |\n| [`md5_number_upper(string)`](#md5_number_upperstring) | Returns the upper 64-bit segment of the MD5 hash of the `string` as a `UBIGINT`. |\n| [`nfc_normalize(string)`](#nfc_normalizestring) | Converts `string` to Unicode NFC normalized string. Useful for comparisons and ordering if text data is mixed between NFC normalized and not. |\n| [`not_ilike_escape(string, like_specifier, escape_character)`](#not_ilike_escapestring-like_specifier-escape_character) | Returns `false` if the `string` matches the `like_specifier` (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})) using case-insensitive matching. `escape_character` is used to search for wildcard characters in the `string`. |\n| [`not_like_escape(string, like_specifier, escape_character)`](#not_like_escapestring-like_specifier-escape_character) | Returns `false` if the `string` matches the `like_specifier` (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})) using case-sensitive matching. `escape_character` is used to search for wildcard characters in the `string`. |\n| [`ord(string)`](#unicodestring) | Alias for `unicode`. |\n| [`parse_dirname(path[, separator])`](#parse_dirnamepath-separator) | Returns the top-level directory name from the given `path`. `separator` options: `system`, `both_slash` (default), `forward_slash`, `backslash`. |\n| [`parse_dirpath(path[, separator])`](#parse_dirpathpath-separator) | Returns the head of the `path` (the pathname until the last slash) similarly to Python's [`os.path.dirname`](https://docs.python.org/3.7/library/os.path.html#os.path.dirname). `separator` options: `system`, `both_slash` (default), `forward_slash`, `backslash`. |\n| [`parse_filename(string[, trim_extension][, separator])`](#parse_filenamestring-trim_extension-separator) | Returns the last component of the `path` similarly to Python's [`os.path.basename`](https://docs.python.org/3.7/library/os.path.html#os.path.basename) function. If `trim_extension` is `true`, the file extension will be removed (defaults to `false`). `separator` options: `system`, `both_slash` (default), `forward_slash`, `backslash`. |\n| [`parse_path(path[, separator])`](#parse_pathpath-separator) | Returns a list of the components (directories and filename) in the `path` similarly to Python's [`pathlib.parts`](https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.parts) function. `separator` options: `system`, `both_slash` (default), `forward_slash`, `backslash`. |\n| [`position(search_string IN string)`](#positionsearch_string-in-string) | Return location of first occurrence of `search_string` in `string`, counting from 1. Returns 0 if no match found. |\n| [`position(string, search_string)`](#instrstring-search_string) | Alias for `instr`. |\n| [`prefix(string, search_string)`](#prefixstring-search_string) | Returns `true` if `string` starts with `search_string`. |\n| [`printf(format, ...)`](#printfformat-) | Formats a `string` using [printf syntax](#printf-syntax). |\n| [`read_text(source)`](#read_textsource) | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `VARCHAR`. The file content is first validated to be valid UTF-8. If `read_text` attempts to read a file with invalid UTF-8 an error is thrown suggesting to use `read_blob` instead. See the [`read_text` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_text) for more details. |\n| [`regexp_escape(string)`](#regexp_escapestring) | Escapes special patterns to turn `string` into a regular expression similarly to Python's [`re.escape` function](https://docs.python.org/3/library/re.html#re.escape). |\n| [`regexp_extract(string, regex[, group][, options])`](#regexp_extractstring-regex-group-options) | If `string` contains the `regex` pattern, returns the capturing group specified by optional parameter `group`; otherwise, returns the empty string. The `group` must be a constant value. If no `group` is given, it defaults to 0. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| [`regexp_extract(string, regex, name_list[, options])`](#regexp_extractstring-regex-name_list-options) | If `string` contains the `regex` pattern, returns the capturing groups as a struct with corresponding names from `name_list`; otherwise, returns a struct with the same keys and empty strings as values. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| [`regexp_extract_all(string, regex[, group][, options])`](#regexp_extract_allstring-regex-group-options) | Finds non-overlapping occurrences of the `regex` in the `string` and returns the corresponding values of the capturing `group`. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| [`regexp_full_match(string, regex[, col2])`](#regexp_full_matchstring-regex-col2) | Returns `true` if the entire `string` matches the `regex`. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| [`regexp_matches(string, regex[, options])`](#regexp_matchesstring-regex-options) | Returns `true` if `string` contains the `regex`, `false` otherwise. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| [`regexp_replace(string, regex, replacement[, options])`](#regexp_replacestring-regex-replacement-options) | If `string` contains the `regex`, replaces the matching part with `replacement`. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| [`regexp_split_to_array(string, regex[, options])`](#string_split_regexstring-regex-options) | Alias for `string_split_regex`. |\n| [`regexp_split_to_table(string, regex)`](#regexp_split_to_tablestring-regex) | Splits the `string` along the `regex` and returns a row for each part. |\n| [`repeat(string, count)`](#repeatstring-count) | Repeats the `string` `count` number of times. |\n| [`replace(string, source, target)`](#replacestring-source-target) | Replaces any occurrences of the `source` with `target` in `string`. |\n| [`reverse(string)`](#reversestring) | Reverses the `string`. |\n| [`right(string, count)`](#rightstring-count) | Extract the right-most `count` characters. |\n| [`right_grapheme(string, count)`](#right_graphemestring-count) | Extracts the right-most `count` grapheme clusters. |\n| [`rpad(string, count, character)`](#rpadstring-count-character) | Pads the `string` with the `character` on the right until it has `count` characters. Truncates the `string` on the right if it has more than `count` characters. |\n| [`rtrim(string[, characters])`](#rtrimstring-characters) | Removes any occurrences of any of the `characters` from the right side of the `string`. `characters` defaults to `space`. |\n| [`sha1(value)`](#sha1value) | Returns a `VARCHAR` with the SHA-1 hash of the `value`. |\n| [`sha256(value)`](#sha256value) | Returns a `VARCHAR` with the SHA-256 hash of the `value` |\n| [`split(string, separator)`](#string_splitstring-separator) | Alias for `string_split`. |\n| [`split_part(string, separator, index)`](#split_partstring-separator-index) | Splits the `string` along the `separator` and returns the data at the (1-based) `index` of the list. If the `index` is outside the bounds of the list, return an empty string (to match PostgreSQL's behavior). |\n| [`starts_with(string, search_string)`](#starts_withstring-search_string) | Returns `true` if `string` begins with `search_string`. |\n| [`str_split(string, separator)`](#string_splitstring-separator) | Alias for `string_split`. |\n| [`str_split_regex(string, regex[, options])`](#string_split_regexstring-regex-options) | Alias for `string_split_regex`. |\n| [`string_split(string, separator)`](#string_splitstring-separator) | Splits the `string` along the `separator`. |\n| [`string_split_regex(string, regex[, options])`](#string_split_regexstring-regex-options) | Splits the `string` along the `regex`. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| [`string_to_array(string, separator)`](#string_splitstring-separator) | Alias for `string_split`. |\n| [`strip_accents(string)`](#strip_accentsstring) | Strips accents from `string`. |\n| [`strlen(string)`](#strlenstring) | Number of bytes in `string`. |\n| [`strpos(string, search_string)`](#instrstring-search_string) | Alias for `instr`. |\n| [`substr(string, start[, length])`](#substringstring-start-length) | Alias for `substring`. |\n| [`substring(string, start[, length])`](#substringstring-start-length) | Extracts substring starting from character `start` up to the end of the string. If optional argument `length` is set, extracts a substring of `length` characters instead. Note that a `start` value of `1` refers to the first character of the `string`. |\n| [`substring_grapheme(string, start[, length])`](#substring_graphemestring-start-length) | Extracts substring starting from grapheme clusters `start` up to the end of the string. If optional argument `length` is set, extracts a substring of `length` grapheme clusters instead. Note that a `start` value of `1` refers to the `first` character of the `string`. |\n| [`suffix(string, search_string)`](#suffixstring-search_string) | Returns `true` if `string` ends with `search_string`. Note that [collations]({% link docs/stable/sql/expressions/collations.md %}) are not supported. |\n| [`to_base(number, radix[, min_length])`](#to_basenumber-radix-min_length) | Converts `number` to a string in the given base `radix`, optionally padding with leading zeros to `min_length`. |\n| [`to_base64(blob)`](#to_base64blob) | Converts a `blob` to a base64 encoded string. |\n| [`to_binary(string)`](#binstring) | Alias for `bin`. |\n| [`to_hex(string)`](#hexstring) | Alias for `hex`. |\n| [`translate(string, from, to)`](#translatestring-from-to) | Replaces each character in `string` that matches a character in the `from` set with the corresponding character in the `to` set. If `from` is longer than `to`, occurrences of the extra characters in `from` are deleted. |\n| [`trim(string[, characters])`](#trimstring-characters) | Removes any occurrences of any of the `characters` from either side of the `string`. `characters` defaults to `space`. |\n| [`ucase(string)`](#upperstring) | Alias for `upper`. |\n| [`unbin(value)`](#unbinvalue) | Converts a `value` from binary representation to a blob. |\n| [`unhex(value)`](#unhexvalue) | Converts a `value` from hexadecimal representation to a blob. |\n| [`unicode(string)`](#unicodestring) | Returns an `INTEGER` representing the `unicode` codepoint of the first character in the `string`. |\n| [`upper(string)`](#upperstring) | Converts `string` to upper case. |\n| [`url_decode(string)`](#url_decodestring) | Decodes a URL from a representation using [Percent-Encoding](https://datatracker.ietf.org/doc/html/rfc3986#section-2.1). |\n| [`url_encode(string)`](#url_encodestring) | Encodes a URL to a representation using [Percent-Encoding](https://datatracker.ietf.org/doc/html/rfc3986#section-2.1). |\n\n<!-- markdownlint-enable MD056 -->\n\n#### `string[index]`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extracts a single character using a (1-based) `index`. |\n| **Example** | `'DuckDB'[4]` |\n| **Result** | `k` |\n| **Alias** | `array_extract` |\n\n#### `string[begin:end]`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extracts a string using [slice conventions]({% link docs/stable/sql/functions/list.md %}#slicing) similar to Python. Missing `begin` or `end` arguments are interpreted as the beginning or end of the list respectively. Negative values are accepted. |\n| **Example** | `'DuckDB'[:4]` |\n| **Result** | `Duck` |\n| **Alias** | `array_slice` |\n\n#### `string LIKE target`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if the `string` matches the like specifier (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})). |\n| **Example** | `'hello' LIKE '%lo'` |\n| **Result** | `true` |\n\n#### `string SIMILAR TO regex`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if the `string` matches the `regex` (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})). |\n| **Example** | `'hello' SIMILAR TO 'l+'` |\n| **Result** | `false` |\n| **Alias** | `regexp_full_match` |\n\n#### `arg1 || arg2`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Concatenates two strings, lists, or blobs. Any `NULL` input results in `NULL`. See also [`concat(arg1, arg2, ...)`]({% link docs/stable/sql/functions/text.md %}#concatvalue-) and [`list_concat(list1, list2, ...)`]({% link docs/stable/sql/functions/list.md %}#list_concatlist_1--list_n). |\n| **Example 1** | `'Duck' || 'DB'` |\n| **Result** | `DuckDB` |\n| **Example 2** | `[1, 2, 3] || [4, 5, 6]` |\n| **Result** | `[1, 2, 3, 4, 5, 6]` |\n| **Example 3** | `'\\xAA'::BLOB || '\\xBB'::BLOB` |\n| **Result** | `\\xAA\\xBB` |\n\n#### `array_extract(string, index)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extracts a single character from a `string` using a (1-based) `index`. |\n| **Example** | `array_extract('DuckDB', 2)` |\n| **Result** | `u` |\n\n#### `array_slice(list, begin, end)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extracts a sublist or substring using [slice conventions]({% link docs/stable/sql/functions/list.md %}#slicing). Negative values are accepted. |\n| **Example 1** | `array_slice('DuckDB', 3, 4)` |\n| **Result** | `ck` |\n| **Example 2** | `array_slice('DuckDB', 3, NULL)` |\n| **Result** | `NULL` |\n| **Example 3** | `array_slice('DuckDB', 0, -3)` |\n| **Result** | `Duck` |\n| **Alias** | `list_slice` |\n\n#### `ascii(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns an integer that represents the Unicode code point of the first character of the `string`. |\n| **Example** | `ascii('')` |\n| **Result** | `937` |\n\n#### `bar(x, min, max[, width])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Draws a band whose width is proportional to (`x - min`) and equal to `width` characters when `x` = `max`. `width` defaults to 80. |\n| **Example** | `bar(5, 0, 20, 10)` |\n| **Result** | `       ` |\n\n#### `bin(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts the `string` to binary representation. |\n| **Example** | `bin('Aa')` |\n| **Result** | `0100000101100001` |\n| **Alias** | `to_binary` |\n\n#### `bit_length(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Number of bits in a `string`. |\n| **Example** | `bit_length('abc')` |\n| **Result** | `24` |\n\n#### `chr(code_point)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns a character which is corresponding the ASCII code value or Unicode code point. |\n| **Example** | `chr(65)` |\n| **Result** | `A` |\n\n#### `concat(value, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Concatenates multiple strings or lists. `NULL` inputs are skipped. See also [operator `||`](#arg1--arg2). |\n| **Example 1** | `concat('Hello', ' ', 'World')` |\n| **Result** | `Hello World` |\n| **Example 2** | `concat([1, 2, 3], NULL, [4, 5, 6])` |\n| **Result** | `[1, 2, 3, 4, 5, 6]` |\n\n#### `concat_ws(separator, string, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Concatenates many strings, separated by `separator`. `NULL` inputs are skipped. |\n| **Example** | `concat_ws(', ', 'Banana', 'Apple', 'Melon')` |\n| **Result** | `Banana, Apple, Melon` |\n\n#### `contains(string, search_string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if `search_string` is found within `string`. |\n| **Example** | `contains('abc', 'a')` |\n| **Result** | `true` |\n\n#### `format(format, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Formats a string using the [fmt syntax](#fmt-syntax). |\n| **Example** | `format('Benchmark \"{}\" took {} seconds', 'CSV', 42)` |\n| **Result** | `Benchmark \"CSV\" took 42 seconds` |\n\n#### `formatReadableDecimalSize(integer)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts `integer` to a human-readable representation using units based on powers of 10 (KB, MB, GB, etc.). |\n| **Example** | `formatReadableDecimalSize(16000)` |\n| **Result** | `16.0 kB` |\n\n#### `format_bytes(integer)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts `integer` to a human-readable representation using units based on powers of 2 (KiB, MiB, GiB, etc.). |\n| **Example** | `format_bytes(16_000)` |\n| **Result** | `15.6 KiB` |\n| **Alias** | `formatReadableSize`, `pg_size_pretty` |\n\n#### `from_base64(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a base64 encoded `string` to a character string (`BLOB`). |\n| **Example** | `from_base64('QQ==')` |\n| **Result** | `A` |\n\n#### `greatest(arg1, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the largest value in lexicographical order. Note that lowercase characters are considered larger than uppercase characters and [collations]({% link docs/stable/sql/expressions/collations.md %}) are not supported. |\n| **Example 1** | `greatest(42, 84)` |\n| **Result** | `84` |\n| **Example 2** | `greatest('abc', 'bcd', 'cde', 'EFG')` |\n| **Result** | `cde` |\n\n#### `hash(value, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns a `UBIGINT` with the hash of the `value`. Note that this is not a cryptographic hash. |\n| **Example** | `hash('')` |\n| **Result** | `4164431626903154684` |\n\n#### `hex(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts the `string` to hexadecimal representation. |\n| **Example** | `hex('Hello')` |\n| **Result** | `48656C6C6F` |\n| **Alias** | `to_hex` |\n\n#### `ilike_escape(string, like_specifier, escape_character)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if the `string` matches the `like_specifier` (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})) using case-insensitive matching. `escape_character` is used to search for wildcard characters in the `string`. |\n| **Example** | `ilike_escape('A%c', 'a$%C', '$')` |\n| **Result** | `true` |\n\n#### `instr(string, search_string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns location of first occurrence of `search_string` in `string`, counting from 1. Returns 0 if no match found. |\n| **Example** | `instr('test test', 'es')` |\n| **Result** | `2` |\n| **Aliases** | `position`, `strpos` |\n\n#### `least(arg1, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the smallest value in lexicographical order. Note that uppercase characters are considered smaller than lowercase characters and [collations]({% link docs/stable/sql/expressions/collations.md %}) are not supported. |\n| **Example 1** | `least(42, 84)` |\n| **Result** | `42` |\n| **Example 2** | `least('abc', 'bcd', 'cde', 'EFG')` |\n| **Result** | `EFG` |\n\n#### `left(string, count)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extracts the left-most count characters. |\n| **Example** | `left('Hello', 2)` |\n| **Result** | `He` |\n\n#### `left_grapheme(string, count)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extracts the left-most count grapheme clusters. |\n| **Example** | `left_grapheme('', 1)` |\n| **Result** | `` |\n\n#### `length(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Number of characters in `string`. |\n| **Example** | `length('Hello')` |\n| **Result** | `6` |\n| **Aliases** | `char_length`, `character_length`, `len` |\n\n#### `length_grapheme(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Number of grapheme clusters in `string`. |\n| **Example** | `length_grapheme('')` |\n| **Result** | `2` |\n\n#### `like_escape(string, like_specifier, escape_character)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if the `string` matches the `like_specifier` (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})) using case-sensitive matching. `escape_character` is used to search for wildcard characters in the `string`. |\n| **Example** | `like_escape('a%c', 'a$%c', '$')` |\n| **Result** | `true` |\n\n#### `lower(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts `string` to lower case. |\n| **Example** | `lower('Hello')` |\n| **Result** | `hello` |\n| **Alias** | `lcase` |\n\n#### `lpad(string, count, character)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Pads the `string` with the `character` on the left until it has `count` characters. Truncates the `string` on the right if it has more than `count` characters. |\n| **Example** | `lpad('hello', 8, '>')` |\n| **Result** | `>>>hello` |\n\n#### `ltrim(string[, characters])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Removes any occurrences of any of the `characters` from the left side of the `string`. `characters` defaults to `space`. |\n| **Example 1** | <code class=\"language-plaintext highlighter-rouge\">ltrim('&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;&nbsp;')</code> |\n| **Result** | <code class=\"language-plaintext highlighter-rouge\">test&nbsp;&nbsp;</code> |\n| **Example 2** | `ltrim('>>>>test<<', '><')` |\n| **Result** | `test<<` |\n\n#### `md5(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the MD5 hash of the `string` as a `VARCHAR`. |\n| **Example** | `md5('abc')` |\n| **Result** | `900150983cd24fb0d6963f7d28e17f72` |\n\n#### `md5_number(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the MD5 hash of the `string` as a `HUGEINT`. |\n| **Example** | `md5_number('abc')` |\n| **Result** | `152195979970564155685860391459828531600` |\n\n#### `md5_number_lower(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the lower 64-bit segment of the MD5 hash of the `string` as a `UBIGINT`. |\n| **Example** | `md5_number_lower('abc')` |\n| **Result** | `8250560606382298838` |\n\n#### `md5_number_upper(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the upper 64-bit segment of the MD5 hash of the `string` as a `UBIGINT`. |\n| **Example** | `md5_number_upper('abc')` |\n| **Result** | `12704604231530709392` |\n\n#### `nfc_normalize(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts `string` to Unicode NFC normalized string. Useful for comparisons and ordering if text data is mixed between NFC normalized and not. |\n| **Example** | `nfc_normalize('ardech')` |\n| **Result** | `ardch` |\n\n#### `not_ilike_escape(string, like_specifier, escape_character)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `false` if the `string` matches the `like_specifier` (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})) using case-insensitive matching. `escape_character` is used to search for wildcard characters in the `string`. |\n| **Example** | `not_ilike_escape('A%c', 'a$%C', '$')` |\n| **Result** | `false` |\n\n#### `not_like_escape(string, like_specifier, escape_character)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `false` if the `string` matches the `like_specifier` (see [Pattern Matching]({% link docs/stable/sql/functions/pattern_matching.md %})) using case-sensitive matching. `escape_character` is used to search for wildcard characters in the `string`. |\n| **Example** | `not_like_escape('a%c', 'a$%c', '$')` |\n| **Result** | `false` |\n\n#### `parse_dirname(path[, separator])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the top-level directory name from the given `path`. `separator` options: `system`, `both_slash` (default), `forward_slash`, `backslash`. |\n| **Example** | `parse_dirname('path/to/file.csv', 'system')` |\n| **Result** | `path` |\n\n#### `parse_dirpath(path[, separator])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the head of the `path` (the pathname until the last slash) similarly to Python's [`os.path.dirname`](https://docs.python.org/3.7/library/os.path.html#os.path.dirname). `separator` options: `system`, `both_slash` (default), `forward_slash`, `backslash`. |\n| **Example** | `parse_dirpath('path/to/file.csv', 'forward_slash')` |\n| **Result** | `path/to` |\n\n#### `parse_filename(string[, trim_extension][, separator])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the last component of the `path` similarly to Python's [`os.path.basename`](https://docs.python.org/3.7/library/os.path.html#os.path.basename) function. If `trim_extension` is `true`, the file extension will be removed (defaults to `false`). `separator` options: `system`, `both_slash` (default), `forward_slash`, `backslash`. |\n| **Example** | `parse_filename('path/to/file.csv', true, 'forward_slash')` |\n| **Result** | `file` |\n\n#### `parse_path(path[, separator])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns a list of the components (directories and filename) in the `path` similarly to Python's [`pathlib.parts`](https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.parts) function. `separator` options: `system`, `both_slash` (default), `forward_slash`, `backslash`. |\n| **Example** | `parse_path('path/to/file.csv', 'system')` |\n| **Result** | `[path, to, file.csv]` |\n\n#### `position(search_string IN string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Return location of first occurrence of `search_string` in `string`, counting from 1. Returns 0 if no match found. |\n| **Example** | `position('b' IN 'abc')` |\n| **Result** | `2` |\n| **Aliases** | `instr`, `strpos` |\n\n#### `prefix(string, search_string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if `string` starts with `search_string`. |\n| **Example** | `prefix('abc', 'ab')` |\n| **Result** | `true` |\n\n#### `printf(format, ...)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Formats a `string` using [printf syntax](#printf-syntax). |\n| **Example** | `printf('Benchmark \"%s\" took %d seconds', 'CSV', 42)` |\n| **Result** | `Benchmark \"CSV\" took 42 seconds` |\n\n#### `read_text(source)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `VARCHAR`. The file content is first validated to be valid UTF-8. If `read_text` attempts to read a file with invalid UTF-8 an error is thrown suggesting to use `read_blob` instead. See the [`read_text` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_text) for more details. |\n| **Example** | `read_text('hello.txt')` |\n| **Result** | `hello\\n` |\n\n#### `regexp_escape(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Escapes special patterns to turn `string` into a regular expression similarly to Python's [`re.escape` function](https://docs.python.org/3/library/re.html#re.escape). |\n| **Example** | `regexp_escape('https://duckdb.org')` |\n| **Result** | `https\\:\\/\\/duckdb\\.org` |\n\n#### `regexp_extract(string, regex[, group][, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | If `string` contains the `regex` pattern, returns the capturing group specified by optional parameter `group`; otherwise, returns the empty string. The `group` must be a constant value. If no `group` is given, it defaults to 0. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_extract('ABC', '([a-z])(b)', 1, 'i')` |\n| **Result** | `A` |\n\n#### `regexp_extract(string, regex, name_list[, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | If `string` contains the `regex` pattern, returns the capturing groups as a struct with corresponding names from `name_list`; otherwise, returns a struct with the same keys and empty strings as values. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_extract('John Doe', '([a-z]+) ([a-z]+)', ['first_name', 'last_name'], 'i')` |\n| **Result** | `{'first_name': John, 'last_name': Doe}` |\n\n#### `regexp_extract_all(string, regex[, group][, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Finds non-overlapping occurrences of the `regex` in the `string` and returns the corresponding values of the capturing `group`. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_extract_all('Peter: 33, Paul:14', '(\\w+):\\s*(\\d+)', 2)` |\n| **Result** | `[33, 14]` |\n\n#### `regexp_full_match(string, regex[, col2])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if the entire `string` matches the `regex`. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_full_match('anabanana', '(an)*')` |\n| **Result** | `false` |\n\n#### `regexp_matches(string, regex[, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if `string` contains the `regex`, `false` otherwise. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_matches('anabanana', '(an)*')` |\n| **Result** | `true` |\n\n#### `regexp_replace(string, regex, replacement[, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | If `string` contains the `regex`, replaces the matching part with `replacement`. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| **Example** | `regexp_replace('hello', '[lo]', '-')` |\n| **Result** | `he-lo` |\n\n#### `regexp_split_to_table(string, regex)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Splits the `string` along the `regex` and returns a row for each part. |\n| **Example** | `regexp_split_to_table('hello world; 42', ';? ')` |\n| **Result** | Multiple rows: `'hello'`, `'world'`, `'42'` |\n\n#### `repeat(string, count)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Repeats the `string` `count` number of times. |\n| **Example** | `repeat('A', 5)` |\n| **Result** | `AAAAA` |\n\n#### `replace(string, source, target)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Replaces any occurrences of the `source` with `target` in `string`. |\n| **Example** | `replace('hello', 'l', '-')` |\n| **Result** | `he--o` |\n\n#### `reverse(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Reverses the `string`. |\n| **Example** | `reverse('hello')` |\n| **Result** | `olleh` |\n\n#### `right(string, count)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extract the right-most `count` characters. |\n| **Example** | `right('Hello', 3)` |\n| **Result** | `lo` |\n\n#### `right_grapheme(string, count)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extracts the right-most `count` grapheme clusters. |\n| **Example** | `right_grapheme('', 1)` |\n| **Result** | `` |\n\n#### `rpad(string, count, character)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Pads the `string` with the `character` on the right until it has `count` characters. Truncates the `string` on the right if it has more than `count` characters. |\n| **Example** | `rpad('hello', 10, '<')` |\n| **Result** | `hello<<<<<` |\n\n#### `rtrim(string[, characters])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Removes any occurrences of any of the `characters` from the right side of the `string`. `characters` defaults to `space`. |\n| **Example 1** | <code class=\"language-plaintext highlighter-rouge\">rtrim('&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;&nbsp;')</code> |\n| **Result** | <code class=\"language-plaintext highlighter-rouge\">&nbsp;&nbsp;&nbsp;&nbsp;test</code> |\n| **Example 2** | `rtrim('>>>>test<<', '><')` |\n| **Result** | `>>>>test` |\n\n#### `sha1(value)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns a `VARCHAR` with the SHA-1 hash of the `value`. |\n| **Example** | `sha1('')` |\n| **Result** | `949bf843dc338be348fb9525d1eb535d31241d76` |\n\n#### `sha256(value)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns a `VARCHAR` with the SHA-256 hash of the `value` |\n| **Example** | `sha256('')` |\n| **Result** | `d7a5c5e0d1d94c32218539e7e47d4ba9c3c7b77d61332fb60d633dde89e473fb` |\n\n#### `split_part(string, separator, index)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Splits the `string` along the `separator` and returns the data at the (1-based) `index` of the list. If the `index` is outside the bounds of the list, return an empty string (to match PostgreSQL's behavior). |\n| **Example** | `split_part('a;b;c', ';', 2)` |\n| **Result** | `b` |\n\n#### `starts_with(string, search_string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if `string` begins with `search_string`. |\n| **Example** | `starts_with('abc', 'a')` |\n| **Result** | `true` |\n| **Alias** | `^@` |\n\n#### `string_split(string, separator)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Splits the `string` along the `separator`. |\n| **Example** | `string_split('hello-world', '-')` |\n| **Result** | `[hello, world]` |\n| **Aliases** | `split`, `str_split`, `string_to_array` |\n\n#### `string_split_regex(string, regex[, options])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Splits the `string` along the `regex`. A set of optional [regex `options`]({% link docs/stable/sql/functions/regular_expressions.md %}#options-for-regular-expression-functions) can be set. |\n| **Example** | `string_split_regex('hello world; 42', ';? ')` |\n| **Result** | `[hello, world, 42]` |\n| **Aliases** | `regexp_split_to_array`, `str_split_regex` |\n\n#### `strip_accents(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Strips accents from `string`. |\n| **Example** | `strip_accents('mhleisen')` |\n| **Result** | `muhleisen` |\n\n#### `strlen(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Number of bytes in `string`. |\n| **Example** | `strlen('')` |\n| **Result** | `4` |\n\n#### `substring(string, start[, length])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extracts substring starting from character `start` up to the end of the string. If optional argument `length` is set, extracts a substring of `length` characters instead. Note that a `start` value of `1` refers to the first character of the `string`. |\n| **Example 1** | `substring('Hello', 2)` |\n| **Result** | `ello` |\n| **Example 2** | `substring('Hello', 2, 2)` |\n| **Result** | `el` |\n| **Alias** | `substr` |\n\n#### `substring_grapheme(string, start[, length])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extracts substring starting from grapheme clusters `start` up to the end of the string. If optional argument `length` is set, extracts a substring of `length` grapheme clusters instead. Note that a `start` value of `1` refers to the `first` character of the `string`. |\n| **Example 1** | `substring_grapheme('', 3)` |\n| **Result** | `` |\n| **Example 2** | `substring_grapheme('', 3, 2)` |\n| **Result** | `` |\n\n#### `suffix(string, search_string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns `true` if `string` ends with `search_string`. Note that [collations]({% link docs/stable/sql/expressions/collations.md %}) are not supported. |\n| **Example** | `suffix('abc', 'bc')` |\n| **Result** | `true` |\n| **Alias** | `ends_with` |\n\n#### `to_base(number, radix[, min_length])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts `number` to a string in the given base `radix`, optionally padding with leading zeros to `min_length`. |\n| **Example** | `to_base(42, 16, 5)` |\n| **Result** | `0002A` |\n\n#### `to_base64(blob)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a `blob` to a base64 encoded string. |\n| **Example** | `to_base64('A'::BLOB)` |\n| **Result** | `QQ==` |\n| **Alias** | `base64` |\n\n#### `translate(string, from, to)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Replaces each character in `string` that matches a character in the `from` set with the corresponding character in the `to` set. If `from` is longer than `to`, occurrences of the extra characters in `from` are deleted. |\n| **Example** | `translate('12345', '143', 'ax')` |\n| **Result** | `a2x5` |\n\n#### `trim(string[, characters])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Removes any occurrences of any of the `characters` from either side of the `string`. `characters` defaults to `space`. |\n| **Example 1** | <code class=\"language-plaintext highlighter-rouge\">trim('&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;&nbsp;')</code> |\n| **Result** | `test` |\n| **Example 2** | `trim('>>>>test<<', '><')` |\n| **Result** | `test` |\n\n#### `unbin(value)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a `value` from binary representation to a blob. |\n| **Example** | `unbin('0110')` |\n| **Result** | `\\x06` |\n| **Alias** | `from_binary` |\n\n#### `unhex(value)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a `value` from hexadecimal representation to a blob. |\n| **Example** | `unhex('2A')` |\n| **Result** | `*` |\n| **Alias** | `from_hex` |\n\n#### `unicode(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns an `INTEGER` representing the `unicode` codepoint of the first character in the `string`. |\n| **Example** | `[unicode('bcd'), unicode(''), unicode(''), unicode(NULL)]` |\n| **Result** | `[226, 226, -1, NULL]` |\n| **Alias** | `ord` |\n\n#### `upper(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts `string` to upper case. |\n| **Example** | `upper('Hello')` |\n| **Result** | `HELLO` |\n| **Alias** | `ucase` |\n\n#### `url_decode(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Decodes a URL from a representation using [Percent-Encoding](https://datatracker.ietf.org/doc/html/rfc3986#section-2.1). |\n| **Example** | `url_decode('https%3A%2F%2Fduckdb.org%2Fwhy_duckdb%23portable')` |\n| **Result** | `https://duckdb.org/why_duckdb#portable` |\n\n#### `url_encode(string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Encodes a URL to a representation using [Percent-Encoding](https://datatracker.ietf.org/doc/html/rfc3986#section-2.1). |\n| **Example** | `url_encode('this string has/ special+ characters>')` |\n| **Result** | `this%20string%20has%2F%20special%2B%20characters%3E` |\n\n<!-- End of section generated by scripts/generate_sql_function_docs.py -->\n\n## Text Similarity Functions\n\nThese functions are used to measure the similarity of two strings using various [similarity measures](https://en.wikipedia.org/wiki/Similarity_measure).\n\n<!-- Start of section generated by scripts/generate_sql_function_docs.py; categories: [text_similarity] -->\n<!-- markdownlint-disable MD056 -->\n\n| Function | Description |\n|:--|:-------|\n| [`damerau_levenshtein(s1, s2)`](#damerau_levenshteins1-s2) | Extension of Levenshtein distance to also include transposition of adjacent characters as an allowed edit operation. In other words, the minimum number of edit operations (insertions, deletions, substitutions or transpositions) required to change one string to another. Characters of different cases (e.g., `a` and `A`) are considered different. |\n| [`editdist3(s1, s2)`](#levenshteins1-s2) | Alias for `levenshtein`. |\n| [`hamming(s1, s2)`](#hammings1-s2) | The Hamming distance between to strings, i.e., the number of positions with different characters for two strings of equal length. Strings must be of equal length. Characters of different cases (e.g., `a` and `A`) are considered different. |\n| [`jaccard(s1, s2)`](#jaccards1-s2) | The Jaccard similarity between two strings. Characters of different cases (e.g., `a` and `A`) are considered different. Returns a number between 0 and 1. |\n| [`jaro_similarity(s1, s2[, score_cutoff])`](#jaro_similaritys1-s2-score_cutoff) | The Jaro similarity between two strings. Characters of different cases (e.g., `a` and `A`) are considered different. Returns a number between 0 and 1. For similarity < `score_cutoff`, 0 is returned instead. `score_cutoff` defaults to 0. |\n| [`jaro_winkler_similarity(s1, s2[, score_cutoff])`](#jaro_winkler_similaritys1-s2-score_cutoff) | The Jaro-Winkler similarity between two strings. Characters of different cases (e.g., `a` and `A`) are considered different. Returns a number between 0 and 1. For similarity < `score_cutoff`, 0 is returned instead. `score_cutoff` defaults to 0. |\n| [`levenshtein(s1, s2)`](#levenshteins1-s2) | The minimum number of single-character edits (insertions, deletions or substitutions) required to change one string to the other. Characters of different cases (e.g., `a` and `A`) are considered different. |\n| [`mismatches(s1, s2)`](#hammings1-s2) | Alias for `hamming`. |\n\n<!-- markdownlint-enable MD056 -->\n\n#### `damerau_levenshtein(s1, s2)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extension of Levenshtein distance to also include transposition of adjacent characters as an allowed edit operation. In other words, the minimum number of edit operations (insertions, deletions, substitutions or transpositions) required to change one string to another. Characters of different cases (e.g., `a` and `A`) are considered different. |\n| **Example** | `damerau_levenshtein('duckdb', 'udckbd')` |\n| **Result** | `2` |\n\n#### `hamming(s1, s2)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The Hamming distance between to strings, i.e., the number of positions with different characters for two strings of equal length. Strings must be of equal length. Characters of different cases (e.g., `a` and `A`) are considered different. |\n| **Example** | `hamming('duck', 'luck')` |\n| **Result** | `1` |\n| **Alias** | `mismatches` |\n\n#### `jaccard(s1, s2)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The Jaccard similarity between two strings. Characters of different cases (e.g., `a` and `A`) are considered different. Returns a number between 0 and 1. |\n| **Example** | `jaccard('duck', 'luck')` |\n| **Result** | `0.6` |\n\n#### `jaro_similarity(s1, s2[, score_cutoff])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The Jaro similarity between two strings. Characters of different cases (e.g., `a` and `A`) are considered different. Returns a number between 0 and 1. For similarity < `score_cutoff`, 0 is returned instead. `score_cutoff` defaults to 0. |\n| **Example** | `jaro_similarity('duck', 'duckdb')` |\n| **Result** | `0.8888888888888888` |\n\n#### `jaro_winkler_similarity(s1, s2[, score_cutoff])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The Jaro-Winkler similarity between two strings. Characters of different cases (e.g., `a` and `A`) are considered different. Returns a number between 0 and 1. For similarity < `score_cutoff`, 0 is returned instead. `score_cutoff` defaults to 0. |\n| **Example** | `jaro_winkler_similarity('duck', 'duckdb')` |\n| **Result** | `0.9333333333333333` |\n\n#### `levenshtein(s1, s2)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The minimum number of single-character edits (insertions, deletions or substitutions) required to change one string to the other. Characters of different cases (e.g., `a` and `A`) are considered different. |\n| **Example** | `levenshtein('duck', 'db')` |\n| **Result** | `3` |\n| **Alias** | `editdist3` |\n\n<!-- End of section generated by scripts/generate_sql_function_docs.py -->\n\n## Formatters\n\n### `fmt` Syntax\n\nThe `format(format, parameters...)` function formats strings, loosely following the syntax of the [{fmt} open-source formatting library](https://fmt.dev/latest/syntax/).\n\nFormat without additional parameters:\n\n```sql\nSELECT format('Hello world'); -- Hello world\n```\n\nFormat a string using {}:\n\n```sql\nSELECT format('The answer is {}', 42); -- The answer is 42\n```\n\nFormat a string using positional arguments:\n\n```sql\nSELECT format('I''d rather be {1} than {0}.', 'right', 'happy'); -- I'd rather be happy than right.\n```\n\n#### Format Specifiers\n\n| Specifier | Description | Example |\n|:-|:------|:---|\n| `{:d}`   | integer                                | `654321`       |\n| `{:E}`   | scientific notation                    | `3.141593E+00` |\n| `{:f}`   | float                                  | `4.560000`     |\n| `{:o}`   | octal                                  | `2375761`      |\n| `{:s}`   | string                                 | `asd`          |\n| `{:x}`   | hexadecimal                            | `9fbf1`        |\n| `{:tX}`  | integer, `X` is the thousand separator | `654 321`      |\n\n#### Formatting Types\n\nIntegers:\n\n```sql\nSELECT format('{} + {} = {}', 3, 5, 3 + 5); -- 3 + 5 = 8\n```\n\nBooleans:\n\n```sql\nSELECT format('{} != {}', true, false); -- true != false\n```\n\nFormat datetime values:\n\n```sql\nSELECT format('{}', DATE '1992-01-01'); -- 1992-01-01\nSELECT format('{}', TIME '12:01:00'); -- 12:01:00\nSELECT format('{}', TIMESTAMP '1992-01-01 12:01:00'); -- 1992-01-01 12:01:00\n```\n\nFormat BLOB:\n\n```sql\nSELECT format('{}', BLOB '\\x00hello'); -- \\x00hello\n```\n\nPad integers with 0s:\n\n```sql\nSELECT format('{:04d}', 33); -- 0033\n```\n\n> Padding cannot currently be combined with the specification of a thousands separator.\n\nCreate timestamps from integers:\n\n```sql\nSELECT format('{:02d}:{:02d}:{:02d} {}', 12, 3, 16, 'AM'); -- 12:03:16 AM\n```\n\nConvert to hexadecimal:\n\n```sql\nSELECT format('{:x}', 123_456_789); -- 75bcd15\n```\n\nConvert to binary:\n\n```sql\nSELECT format('{:b}', 123_456_789); -- 111010110111100110100010101\n```\n\n#### Print Numbers with Thousand Separators\n\nIntegers:\n\n```sql\nSELECT format('{:,}',  123_456_789); -- 123,456,789\nSELECT format('{:t.}', 123_456_789); -- 123.456.789\nSELECT format('{:''}', 123_456_789); -- 123'456'789\nSELECT format('{:_}',  123_456_789); -- 123_456_789\nSELECT format('{:t }', 123_456_789); -- 123 456 789\nSELECT format('{:tX}', 123_456_789); -- 123X456X789\n```\n\nFloat, double and decimal:\n\n```sql\nSELECT format('{:,f}',    123456.789); -- 123,456.78900\nSELECT format('{:,.2f}',  123456.789); -- 123,456.79\nSELECT format('{:t..2f}', 123456.789); -- 123.456,79\n```\n\n### `printf` Syntax\n\nThe `printf(format, parameters...)` function formats strings using the [`printf` syntax](https://cplusplus.com/reference/cstdio/printf/).\n\nFormat without additional parameters:\n\n```sql\nSELECT printf('Hello world');\n```\n\n```text\nHello world\n```\n\nFormat a string using arguments in a given order:\n\n```sql\nSELECT printf('The answer to %s is %d', 'life', 42);\n```\n\n```text\nThe answer to life is 42\n```\n\nFormat a string using positional arguments `%position$formatter`, e.g., the second parameter as a string is encoded as `%2$s`:\n\n```sql\nSELECT printf('I''d rather be %2$s than %1$s.', 'right', 'happy');\n```\n\n```text\nI'd rather be happy than right.\n```\n\n#### Format Specifiers\n\n| Specifier | Description | Example |\n|:-|:------|:---|\n| `%c`   | character code to character                                    | `a`            |\n| `%d`   | integer                                                        | `654321`       |\n| `%Xd`  | integer with thousand seperarator `X` from `,`, `.`, `''`, `_` | `654_321`      |\n| `%E`   | scientific notation                                            | `3.141593E+00` |\n| `%f`   | float                                                          | `4.560000`     |\n| `%hd`  | integer                                                        | `654321`       |\n| `%hhd` | integer                                                        | `654321`       |\n| `%lld` | integer                                                        | `654321`       |\n| `%o`   | octal                                                          | `2375761`      |\n| `%s`   | string                                                         | `asd`          |\n| `%x`   | hexadecimal                                                    | `9fbf1`        |\n\n#### Formatting Types\n\nIntegers:\n\n```sql\nSELECT printf('%d + %d = %d', 3, 5, 3 + 5); -- 3 + 5 = 8\n```\n\nBooleans:\n\n```sql\nSELECT printf('%s != %s', true, false); -- true != false\n```\n\nFormat datetime values:\n\n```sql\nSELECT printf('%s', DATE '1992-01-01'); -- 1992-01-01\nSELECT printf('%s', TIME '12:01:00'); -- 12:01:00\nSELECT printf('%s', TIMESTAMP '1992-01-01 12:01:00'); -- 1992-01-01 12:01:00\n```\n\nFormat BLOB:\n\n```sql\nSELECT printf('%s', BLOB '\\x00hello'); -- \\x00hello\n```\n\nPad integers with 0s:\n\n```sql\nSELECT printf('%04d', 33); -- 0033\n```\n\nCreate timestamps from integers:\n\n```sql\nSELECT printf('%02d:%02d:%02d %s', 12, 3, 16, 'AM'); -- 12:03:16 AM\n```\n\nConvert to hexadecimal:\n\n```sql\nSELECT printf('%x', 123_456_789); -- 75bcd15\n```\n\nConvert to binary:\n\n```sql\nSELECT printf('%b', 123_456_789); -- 111010110111100110100010101\n```\n\n#### Thousand Separators\n\nIntegers:\n\n```sql\nSELECT printf('%,d',  123_456_789); -- 123,456,789\nSELECT printf('%.d',  123_456_789); -- 123.456.789\nSELECT printf('%''d', 123_456_789); -- 123'456'789\nSELECT printf('%_d',  123_456_789); -- 123_456_789\n```\n\nFloat, double and decimal:\n\n```sql\nSELECT printf('%,f',   123456.789); -- 123,456.789000\nSELECT printf('%,.2f', 123456.789); -- 123,456.79\n```\n","time.md":"---\ntitle: Time Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\nThis section describes functions and operators for examining and manipulating [`TIME` values]({% link docs/stable/sql/data_types/time.md %}).\n\n## Time Operators\n\nThe table below shows the available mathematical operators for `TIME` types.\n\n| Operator | Description | Example | Result |\n|:-|:---|:----|:--|\n| `+` | addition of an `INTERVAL` | `TIME '01:02:03' + INTERVAL 5 HOUR` | `06:02:03` |\n| `-` | subtraction of an `INTERVAL` | `TIME '06:02:03' - INTERVAL 5 HOUR` | `01:02:03` |\n\n## Time Functions\n\nThe table below shows the available scalar functions for `TIME` types.\n\n| Name | Description |\n|:--|:-------|\n| [`date_diff(part, starttime, endtime)`](#date_diffpart-starttime-endtime) | The number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `starttime` and `endtime`, inclusive of the larger time and exclusive of the smaller time. |\n| [`date_part(part, time)`](#date_partpart-time) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). |\n| [`date_sub(part, starttime, endtime)`](#date_subpart-starttime-endtime) | The signed length of the interval between `starttime` and `endtime`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| [`extract(part FROM time)`](#extractpart-from-time) | Get subfield from a time. |\n| [`get_current_time()`](#get_current_time) | Current time (start of current transaction). |\n| [`make_time(bigint, bigint, double)`](#make_timebigint-bigint-double) | The time for the given parts. |\n\nThe only [date parts]({% link docs/stable/sql/functions/datepart.md %}) that are defined for times are `epoch`, `hours`, `minutes`, `seconds`, `milliseconds` and `microseconds`.\n\n#### `date_diff(part, starttime, endtime)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `starttime` and `endtime`, inclusive of the larger time and exclusive of the smaller time. |\n| **Example** | `date_diff('hour', TIME '01:02:03', TIME '06:01:03')` |\n| **Result** | `5` |\n| **Alias** | `datediff` |\n\n#### `date_part(part, time)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). |\n| **Example** | `date_part('minute', TIME '14:21:13')` |\n| **Result** | `21` |\n| **Alias** | `datepart` |\n\n#### `date_sub(part, starttime, endtime)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The signed length of the interval between `starttime` and `endtime`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_sub('hour', TIME '01:02:03', TIME '06:01:03')` |\n| **Result** | `4` |\n| **Alias** | `datesub` |\n\n#### `extract(part FROM time)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Get subfield from a time. |\n| **Example** | `extract('hour' FROM TIME '14:21:13')` |\n| **Result** | `14` |\n\n#### `get_current_time()`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Current time (start of current transaction) in the local timezone as `TIMETZ`. |\n| **Example** | `get_current_time()` |\n| **Result** | `06:09:59.988+2` |\n| **Alias** | `current_time` (no parentheses necessary) |\n\n#### `make_time(bigint, bigint, double)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The time for the given parts. |\n| **Example** | `make_time(13, 34, 27.123456)` |\n| **Result** | `13:34:27.123456` |\n","timestamp.md":"---\ntitle: Timestamp Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\nThis section describes functions and operators for examining and manipulating [`TIMESTAMP` values]({% link docs/stable/sql/data_types/timestamp.md %}).\nSee also the related [`TIMESTAMPTZ` functions]({% link docs/stable/sql/functions/timestamptz.md %}).\n\n## Timestamp Operators\n\nThe table below shows the available mathematical operators for `TIMESTAMP` types.\n\n| Operator | Description | Example | Result |\n|:-|:--|:----|:--|\n| `+` | addition of an `INTERVAL` | `TIMESTAMP '1992-03-22 01:02:03' + INTERVAL 5 DAY` | `1992-03-27 01:02:03` |\n| `-` | subtraction of `TIMESTAMP`s | `TIMESTAMP '1992-03-27' - TIMESTAMP '1992-03-22'` | `5 days` |\n| `-` | subtraction of an `INTERVAL` | `TIMESTAMP '1992-03-27 01:02:03' - INTERVAL 5 DAY` | `1992-03-22 01:02:03` |\n\nAdding to or subtracting from [infinite values]({% link docs/stable/sql/data_types/timestamp.md %}#special-values) produces the same infinite value.\n\n## Scalar Timestamp Functions\n\nThe table below shows the available scalar functions for `TIMESTAMP` values.\n\n| Name | Description |\n|:--|:-------|\n| [`age(timestamp, timestamp)`](#agetimestamp-timestamp) | Subtract arguments, resulting in the time difference between the two timestamps. |\n| [`age(timestamp)`](#agetimestamp) | Subtract from current_date. |\n| [`ago(interval)`](#agointerval) | Subtracts an interval from the current timestamp. |\n| [`century(timestamp)`](#centurytimestamp) | Extracts the century of a timestamp. |\n| [`current_localtimestamp()`](#current_localtimestamp) | Returns the current timestamp (at the start of the transaction). |\n| [`date_diff(part, starttimestamp, endtimestamp)`](#date_diffpart-starttimestamp-endtimestamp) | The number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `starttimestamp` and `endtimestamp`, inclusive of the larger timestamp and exclusive of the smaller timestamp. |\n| [`date_part([part, ...], timestamp)`](#date_partpart--timestamp) | Get the listed [subfields]({% link docs/stable/sql/functions/datepart.md %}) as a `struct`. The list must be constant. |\n| [`date_part(part, timestamp)`](#date_partpart-timestamp) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). |\n| [`date_sub(part, starttimestamp, endtimestamp)`](#date_subpart-starttimestamp-endtimestamp) | The signed length of the interval between `starttimestamp` and `endtimestamp`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| [`date_trunc(part, timestamp)`](#date_truncpart-timestamp) | Truncate to specified [precision]({% link docs/stable/sql/functions/datepart.md %}). |\n| [`dayname(timestamp)`](#daynametimestamp) | The (English) name of the weekday. |\n| [`epoch_ms(timestamp)`](#epoch_mstimestamp) | Returns the total number of milliseconds since the epoch. |\n| [`epoch_ns(timestamp)`](#epoch_nstimestamp) | Returns the total number of nanoseconds since the epoch. |\n| [`epoch_us(timestamp)`](#epoch_ustimestamp) | Returns the total number of microseconds since the epoch. |\n| [`epoch(timestamp)`](#epochtimestamp) | Returns the total number of seconds since the epoch. |\n| [`extract(field FROM timestamp)`](#extractfield-from-timestamp) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) from a timestamp. |\n| [`greatest(timestamp, timestamp)`](#greatesttimestamp-timestamp) | The later of two timestamps. |\n| [`isfinite(timestamp)`](#isfinitetimestamp) | Returns true if the timestamp is finite, false otherwise. |\n| [`isinf(timestamp)`](#isinftimestamp) | Returns true if the timestamp is infinite, false otherwise. |\n| [`julian(timestamp)`](#juliantimestamp) | Extract the Julian Day number from a timestamp. |\n| [`last_day(timestamp)`](#last_daytimestamp) | The last day of the month. |\n| [`least(timestamp, timestamp)`](#leasttimestamp-timestamp) | The earlier of two timestamps. |\n| [`make_timestamp(bigint, bigint, bigint, bigint, bigint, double)`](#make_timestampbigint-bigint-bigint-bigint-bigint-double) | The timestamp for the given parts. |\n| [`make_timestamp(microseconds)`](#make_timestampmicroseconds) | Converts microseconds since the epoch to a timestamp. |\n| [`make_timestamp_ms(milliseconds)`](#make_timestamp_msmilliseconds) | Converts milliseconds since the epoch to a timestamp. |\n| [`make_timestamp_ns(nanoseconds)`](#make_timestamp_nsnanoseconds) | Converts nanoseconds since the epoch to a timestamp. |\n| [`monthname(timestamp)`](#monthnametimestamp) | The (English) name of the month. |\n| [`strftime(timestamp, format)`](#strftimetimestamp-format) | Converts timestamp to string according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers). |\n| [`strptime(text, format-list)`](#strptimetext-format-list) | Converts the string `text` to timestamp applying the [format strings]({% link docs/stable/sql/functions/dateformat.md %}) in the list until one succeeds. Throws an error on failure. To return `NULL` on failure, use [`try_strptime`](#try_strptimetext-format-list). |\n| [`strptime(text, format)`](#strptimetext-format) | Converts the string `text` to timestamp according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers). Throws an error on failure. To return `NULL` on failure, use [`try_strptime`](#try_strptimetext-format). |\n| [`time_bucket(bucket_width, timestamp[, offset])`](#time_bucketbucket_width-timestamp-offset) | Truncate `timestamp` to a grid of width `bucket_width`. The grid is anchored at `2000-01-01 00:00:00[ + offset]` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00[ + offset]`. Note that `2000-01-03` is a Monday. |\n| [`time_bucket(bucket_width, timestamp[, origin])`](#time_bucketbucket_width-timestamp-origin) | Truncate `timestamp` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01 00:00:00` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00`. Note that `2000-01-03` is a Monday. |\n| [`try_strptime(text, format-list)`](#try_strptimetext-format-list) | Converts the string `text` to timestamp applying the [format strings]({% link docs/stable/sql/functions/dateformat.md %}) in the list until one succeeds. Returns `NULL` on failure. |\n| [`try_strptime(text, format)`](#try_strptimetext-format) | Converts the string `text` to timestamp according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers). Returns `NULL` on failure. |\n\nThere are also dedicated extraction functions to get the [subfields]({% link docs/stable/sql/functions/datepart.md %}).\n\nFunctions applied to infinite dates will either return the same infinite dates\n(e.g., `greatest`) or `NULL` (e.g., `date_part`) depending on what makes sense.\nIn general, if the function needs to examine the parts of the infinite date, the result will be `NULL`.\n\n#### `age(timestamp, timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Subtract arguments, resulting in the time difference between the two timestamps. |\n| **Example** | `age(TIMESTAMP '2001-04-10', TIMESTAMP '1992-09-20')` |\n| **Result** | `8 years 6 months 20 days` |\n\n#### `age(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Subtract from current_date. |\n| **Example** | `age(TIMESTAMP '1992-09-20')` |\n| **Result** | `29 years 1 month 27 days 12:39:00.844` |\n\n#### `ago(interval)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Subtracts an interval from the current timestamp, returning a timestamp in the past. Equivalent to `current_timestamp - interval`. |\n| **Example** | `ago(INTERVAL 1 HOUR)` |\n| **Result** | `2024-11-30 12:28:48.895` (if current time is `2024-11-30 13:28:48.895`) |\n\n#### `century(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extracts the century of a timestamp. |\n| **Example** | `century(TIMESTAMP '1992-03-22')` |\n| **Result** | `20` |\n\n#### `current_localtimestamp()`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the current timestamp with time zone (at the start of the transaction). |\n| **Example** | `current_localtimestamp()` |\n| **Result** | `2024-11-30 13:28:48.895` |\n\n#### `date_diff(part, starttimestamp, endtimestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The signed number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `starttimestamp` and `endtimestamp`, inclusive of the larger timestamp and exclusive of the smaller timestamp. |\n| **Example** | `date_diff('hour', TIMESTAMP '1992-09-30 23:59:59', TIMESTAMP '1992-10-01 01:58:00')` |\n| **Result** | `2` |\n\n#### `date_part([part, ...], timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Get the listed [subfields]({% link docs/stable/sql/functions/datepart.md %}) as a `struct`. The list must be constant. |\n| **Example** | `date_part(['year', 'month', 'day'], TIMESTAMP '1992-09-20 20:38:40')` |\n| **Result** | `{year: 1992, month: 9, day: 20}` |\n\n#### `date_part(part, timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). |\n| **Example** | `date_part('minute', TIMESTAMP '1992-09-20 20:38:40')` |\n| **Result** | `38` |\n\n#### `date_sub(part, starttimestamp, endtimestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The signed length of the interval between `starttimestamp` and `endtimestamp`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_sub('hour', TIMESTAMP '1992-09-30 23:59:59', TIMESTAMP '1992-10-01 01:58:00')` |\n| **Result** | `1` |\n\n#### `date_trunc(part, timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Truncate to specified [precision]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_trunc('hour', TIMESTAMP '1992-09-20 20:38:40')` |\n| **Result** | `1992-09-20 20:00:00` |\n\n#### `dayname(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The (English) name of the weekday. |\n| **Example** | `dayname(TIMESTAMP '1992-03-22')` |\n| **Result** | `Sunday` |\n\n#### `epoch_ms(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the total number of milliseconds since the epoch. |\n| **Example** | `epoch_ms(TIMESTAMP '2021-08-03 11:59:44.123456')` |\n| **Result** | `1627991984123` |\n\n#### `epoch_ns(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Return the total number of nanoseconds since the epoch. |\n| **Example** | `epoch_ns(TIMESTAMP '2021-08-03 11:59:44.123456')` |\n| **Result** | `1627991984123456000` |\n\n#### `epoch_us(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the total number of microseconds since the epoch. |\n| **Example** | `epoch_us(TIMESTAMP '2021-08-03 11:59:44.123456')` |\n| **Result** | `1627991984123456` |\n\n#### `epoch(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns the total number of seconds since the epoch. |\n| **Example** | `epoch('2022-11-07 08:43:04'::TIMESTAMP);` |\n| **Result** | `1667810584` |\n\n#### `extract(field FROM timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) from a timestamp. |\n| **Example** | `extract('hour' FROM TIMESTAMP '1992-09-20 20:38:48')` |\n| **Result** | `20` |\n\n#### `greatest(timestamp, timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The later of two timestamps. |\n| **Example** | `greatest(TIMESTAMP '1992-09-20 20:38:48', TIMESTAMP '1992-03-22 01:02:03.1234')` |\n| **Result** | `1992-09-20 20:38:48` |\n\n#### `isfinite(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns true if the timestamp is finite, false otherwise. |\n| **Example** | `isfinite(TIMESTAMP '1992-03-07')` |\n| **Result** | `true` |\n\n#### `isinf(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns true if the timestamp is infinite, false otherwise. |\n| **Example** | `isinf(TIMESTAMP '-infinity')` |\n| **Result** | `true` |\n\n#### `julian(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Extract the Julian Day number from a timestamp. |\n| **Example** | `julian(TIMESTAMP '1992-03-22 01:02:03.1234')` |\n| **Result** | `2448704.043091706` |\n\n#### `last_day(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The last day of the month. |\n| **Example** | `last_day(TIMESTAMP '1992-03-22 01:02:03.1234')` |\n| **Result** | `1992-03-31` |\n\n#### `least(timestamp, timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The earlier of two timestamps. |\n| **Example** | `least(TIMESTAMP '1992-09-20 20:38:48', TIMESTAMP '1992-03-22 01:02:03.1234')` |\n| **Result** | `1992-03-22 01:02:03.1234` |\n\n#### `make_timestamp(bigint, bigint, bigint, bigint, bigint, double)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The timestamp for the given parts. |\n| **Example** | `make_timestamp(1992, 9, 20, 13, 34, 27.123456)` |\n| **Result** | `1992-09-20 13:34:27.123456` |\n\n#### `make_timestamp(microseconds)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts microseconds since the epoch to a timestamp. |\n| **Example** | `make_timestamp(1667810584123456)` |\n| **Result** | `2022-11-07 08:43:04.123456` |\n\n#### `make_timestamp_ms(milliseconds)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts milliseconds since the epoch to a timestamp. |\n| **Example** | `make_timestamp(1667810584123)` |\n| **Result** | `2022-11-07 08:43:04.123` |\n\n#### `make_timestamp_ns(nanoseconds)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts nanoseconds since the epoch to a timestamp. |\n| **Example** | `make_timestamp_ns(1667810584123456789)` |\n| **Result** | `2022-11-07 08:43:04.123456789` |\n\n#### `monthname(timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The (English) name of the month. |\n| **Example** | `monthname(TIMESTAMP '1992-09-20')` |\n| **Result** | `September` |\n\n#### `strftime(timestamp, format)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts timestamp to string according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers). |\n| **Example** | `strftime(timestamp '1992-01-01 20:38:40', '%a, %-d %B %Y - %I:%M:%S %p')` |\n| **Result** | `Wed, 1 January 1992 - 08:38:40 PM` |\n\n#### `strptime(text, format-list)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts the string `text` to timestamp applying the [format strings]({% link docs/stable/sql/functions/dateformat.md %}) in the list until one succeeds. Throws an error on failure. To return `NULL` on failure, use [`try_strptime`](#try_strptimetext-format-list). |\n| **Example** | `strptime('4/15/2023 10:56:00', ['%d/%m/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S'])` |\n| **Result** | `2023-04-15 10:56:00` |\n\n#### `strptime(text, format)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts the string `text` to timestamp according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers). Throws an error on failure. To return `NULL` on failure, use [`try_strptime`](#try_strptimetext-format). |\n| **Example** | `strptime('Wed, 1 January 1992 - 08:38:40 PM', '%a, %-d %B %Y - %I:%M:%S %p')` |\n| **Result** | `1992-01-01 20:38:40` |\n\n#### `time_bucket(bucket_width, timestamp[, offset])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Truncate `timestamp` to a grid of width `bucket_width`. The grid includes `2000-01-01 00:00:00[ + offset]` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00[ + offset]`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '10 minutes', TIMESTAMP '1992-04-20 15:26:00-07', INTERVAL '5 minutes')` |\n| **Result** | `1992-04-20 15:25:00` |\n\n#### `time_bucket(bucket_width, timestamp[, origin])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Truncate `timestamp` to a grid of width `bucket_width`. The grid includes the `origin` timestamp, which defaults to `2000-01-01 00:00:00` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '2 weeks', TIMESTAMP '1992-04-20 15:26:00', TIMESTAMP '1992-04-01 00:00:00')` |\n| **Result** | `1992-04-15 00:00:00` |\n\n#### `try_strptime(text, format-list)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts the string `text` to timestamp applying the [format strings]({% link docs/stable/sql/functions/dateformat.md %}) in the list until one succeeds. Returns `NULL` on failure. |\n| **Example** | `try_strptime('4/15/2023 10:56:00', ['%d/%m/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S'])` |\n| **Result** | `2023-04-15 10:56:00` |\n\n#### `try_strptime(text, format)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts the string `text` to timestamp according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers). Returns `NULL` on failure. |\n| **Example** | `try_strptime('Wed, 1 January 1992 - 08:38:40 PM', '%a, %-d %B %Y - %I:%M:%S %p')` |\n| **Result** | `1992-01-01 20:38:40` |\n\n## Timestamp Table Functions\n\nThe table below shows the available table functions for `TIMESTAMP` types.\n\n| Name | Description |\n|:--|:-------|\n| [`generate_series(timestamp, timestamp, interval)`](#generate_seriestimestamp-timestamp-interval) | Generate a table of timestamps in the closed range, stepping by the interval. |\n| [`range(timestamp, timestamp, interval)`](#rangetimestamp-timestamp-interval) | Generate a table of timestamps in the half open range, stepping by the interval. |\n\n> Infinite values are not allowed as table function bounds.\n\n#### `generate_series(timestamp, timestamp, interval)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Generate a table of timestamps in the closed range, stepping by the interval. |\n| **Example** | `generate_series(TIMESTAMP '2001-04-10', TIMESTAMP '2001-04-11', INTERVAL 30 MINUTE)` |\n\n#### `range(timestamp, timestamp, interval)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Generate a table of timestamps in the half open range, stepping by the interval. |\n| **Example** | `range(TIMESTAMP '2001-04-10', TIMESTAMP '2001-04-11', INTERVAL 30 MINUTE)` |\n","timestamptz.md":"---\ntitle: Timestamp with Time Zone Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\nThis section describes functions and operators for examining and manipulating [`TIMESTAMP WITH TIME ZONE`\n(or `TIMESTAMPTZ`) values]({% link docs/stable/sql/data_types/timestamp.md %}). See also the related [`TIMESTAMP` functions]({% link docs/stable/sql/functions/timestamp.md %}).\n\nTime zone support is provided by the built-in [ICU extension]({% link docs/stable/core_extensions/icu.md %}).\n\nIn the examples below, the current time zone is presumed to be `America/Los_Angeles`\nusing the Gregorian calendar.\n\n## Built-In Timestamp with Time Zone Functions\n\nThe table below shows the available scalar functions for `TIMESTAMPTZ` values.\nSince these functions do not involve binning or display,\nthey are always available.\n\n| Name | Description |\n|:--|:-------|\n| [`current_timestamp`](#current_timestamp) | Current date and time (start of current transaction). |\n| [`get_current_timestamp()`](#get_current_timestamp) | Current date and time (start of current transaction). |\n| [`greatest(timestamptz, timestamptz)`](#greatesttimestamptz-timestamptz) | The later of two timestamps. |\n| [`isfinite(timestamptz)`](#isfinitetimestamptz) | Returns true if the timestamp with time zone is finite, false otherwise. |\n| [`isinf(timestamptz)`](#isinftimestamptz) | Returns true if the timestamp with time zone is infinite, false otherwise. |\n| [`least(timestamptz, timestamptz)`](#leasttimestamptz-timestamptz) | The earlier of two timestamps. |\n| [`now()`](#now) | Current date and time (start of current transaction). |\n| [`timetz_byte_comparable(timetz)`](#timetz_byte_comparabletimetz) | Converts a `TIME WITH TIME ZONE` to a `UBIGINT` sort key. |\n| [`to_timestamp(double)`](#to_timestampdouble) | Converts seconds since the epoch to a timestamp with time zone. |\n| [`transaction_timestamp()`](#transaction_timestamp) | Current date and time (start of current transaction). |\n\n#### `current_timestamp`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Current date and time (start of current transaction). |\n| **Example** | `current_timestamp` |\n| **Result** | `2022-10-08 12:44:46.122-07` |\n\n#### `get_current_timestamp()`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Current date and time (start of current transaction). |\n| **Example** | `get_current_timestamp()` |\n| **Result** | `2022-10-08 12:44:46.122-07` |\n\n#### `greatest(timestamptz, timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The later of two timestamps. |\n| **Example** | `greatest(TIMESTAMPTZ '1992-09-20 20:38:48', TIMESTAMPTZ '1992-03-22 01:02:03.1234')` |\n| **Result** | `1992-09-20 20:38:48-07` |\n\n#### `isfinite(timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns true if the timestamp with time zone is finite, false otherwise. |\n| **Example** | `isfinite(TIMESTAMPTZ '1992-03-07')` |\n| **Result** | `true` |\n\n#### `isinf(timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns true if the timestamp with time zone is infinite, false otherwise. |\n| **Example** | `isinf(TIMESTAMPTZ '-infinity')` |\n| **Result** | `true` |\n\n#### `least(timestamptz, timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The earlier of two timestamps. |\n| **Example** | `least(TIMESTAMPTZ '1992-09-20 20:38:48', TIMESTAMPTZ '1992-03-22 01:02:03.1234')` |\n| **Result** | `1992-03-22 01:02:03.1234-08` |\n\n#### `now()`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Current date and time (start of current transaction). |\n| **Example** | `now()` |\n| **Result** | `2022-10-08 12:44:46.122-07` |\n\n#### `timetz_byte_comparable(timetz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a `TIME WITH TIME ZONE` to a `UBIGINT` sort key. |\n| **Example** | `timetz_byte_comparable('18:18:16.21-07:00'::TIMETZ)` |\n| **Result** | `2494691656335442799` |\n\n#### `to_timestamp(double)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts seconds since the epoch to a timestamp with time zone. |\n| **Example** | `to_timestamp(1284352323.5)` |\n| **Result** | `2010-09-13 04:32:03.5+00` |\n\n#### `transaction_timestamp()`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Current date and time (start of current transaction). |\n| **Example** | `transaction_timestamp()` |\n| **Result** | `2022-10-08 12:44:46.122-07` |\n\n## Timestamp with Time Zone Strings\n\nWith no time zone extension loaded, `TIMESTAMPTZ` values will be cast to and from strings\nusing offset notation.\nThis will let you specify an instant correctly without access to time zone information.\nFor portability, `TIMESTAMPTZ` values will always be displayed using GMT offsets:\n\n```sql\nSELECT '2022-10-08 13:13:34-07'::TIMESTAMPTZ;\n```\n\n```text\n2022-10-08 20:13:34+00\n```\n\nIf a time zone extension such as ICU is loaded, then a time zone can be parsed from a string\nand cast to a representation in the local time zone:\n\n```sql\nSELECT '2022-10-08 13:13:34 Europe/Amsterdam'::TIMESTAMPTZ::VARCHAR;\n```\n\n```text\n2022-10-08 04:13:34-07 -- the offset will differ based on your local time zone\n```\n\n## ICU Timestamp with Time Zone Operators\n\nThe table below shows the available mathematical operators for `TIMESTAMP WITH TIME ZONE` values\nprovided by the ICU extension.\n\n| Operator | Description | Example | Result |\n|:-|:--|:----|:--|\n| `+` | addition of an `INTERVAL` | `TIMESTAMPTZ '1992-03-22 01:02:03' + INTERVAL 5 DAY` | `1992-03-27 01:02:03` |\n| `-` | subtraction of `TIMESTAMPTZ`s | `TIMESTAMPTZ '1992-03-27' - TIMESTAMPTZ '1992-03-22'` | `5 days` |\n| `-` | subtraction of an `INTERVAL` | `TIMESTAMPTZ '1992-03-27 01:02:03' - INTERVAL 5 DAY` | `1992-03-22 01:02:03` |\n\nAdding to or subtracting from [infinite values]({% link docs/stable/sql/data_types/timestamp.md %}#special-values) produces the same infinite value.\n\n## ICU Timestamp with Time Zone Functions\n\nThe table below shows the ICU provided scalar functions for `TIMESTAMP WITH TIME ZONE` values.\n\n| Name | Description |\n|:--|:-------|\n| [`age(timestamptz, timestamptz)`](#agetimestamptz-timestamptz) | Subtract arguments, resulting in the time difference between the two timestamps. |\n| [`age(timestamptz)`](#agetimestamptz) | Subtract from current_date. |\n| [`date_diff(part, starttimestamptz, endtimestamptz)`](#date_diffpart-starttimestamptz-endtimestamptz) | The number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `starttimestamptz` and `endtimestamptz` inclusive of the larger timestamp and exclusive of the smaller timestamp. |\n| [`date_part([part, ...], timestamp)`](#date_partpart--timestamptz) | Get the listed [subfields]({% link docs/stable/sql/functions/datepart.md %}) as a `struct`. The list must be constant. |\n| [`date_part(part, timestamp)`](#date_partpart-timestamptz) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). |\n| [`date_sub(part, starttimestamptz, endtimestamptz)`](#date_subpart-starttimestamptz-endtimestamptz) | The signed length of the interval between `starttimestamptz` and `endtimestamptz`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| [`date_trunc(part, timestamptz)`](#date_truncpart-timestamptz) | Truncate to specified [precision]({% link docs/stable/sql/functions/datepart.md %}). |\n| [`epoch_ns(timestamptz)`](#epoch_nstimestamptz) | Converts a timestamptz to nanoseconds since the epoch. |\n| [`epoch_us(timestamptz)`](#epoch_ustimestamptz) | Converts a timestamptz to microseconds since the epoch. |\n| [`extract(field FROM timestamptz)`](#extractfield-from-timestamptz) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) from a `TIMESTAMP WITH TIME ZONE`. |\n| [`last_day(timestamptz)`](#last_daytimestamptz) | The last day of the month. |\n| [`make_timestamptz(bigint, bigint, bigint, bigint, bigint, double, string)`](#make_timestamptzbigint-bigint-bigint-bigint-bigint-double-string) | The `TIMESTAMP WITH TIME ZONE` for the given parts and time zone. |\n| [`make_timestamptz(bigint, bigint, bigint, bigint, bigint, double)`](#make_timestamptzbigint-bigint-bigint-bigint-bigint-double) | The `TIMESTAMP WITH TIME ZONE` for the given parts in the current time zone. |\n| [`make_timestamptz(microseconds)`](#make_timestamptzmicroseconds) | The `TIMESTAMP WITH TIME ZONE` for the given s since the epoch. |\n| [`strftime(timestamptz, format)`](#strftimetimestamptz-format) | Converts a `TIMESTAMP WITH TIME ZONE` value to string according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers). |\n| [`strptime(text, format)`](#strptimetext-format) | Converts string to `TIMESTAMP WITH TIME ZONE` according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers) if `%Z` is specified. |\n| [`time_bucket(bucket_width, timestamptz[, offset])`](#time_bucketbucket_width-timestamptz-offset) | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at `2000-01-01 00:00:00+00:00[ + offset]` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00+00:00[ + offset]`. Note that `2000-01-03` is a Monday. |\n| [`time_bucket(bucket_width, timestamptz[, origin])`](#time_bucketbucket_width-timestamptz-origin) | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01 00:00:00+00:00` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00+00:00`. Note that `2000-01-03` is a Monday. |\n| [`time_bucket(bucket_width, timestamptz[, timezone])`](#time_bucketbucket_width-timestamptz-origin) | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01 00:00:00` in the provided `timezone` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00` in the provided `timezone`. The default timezone is `'UTC'`. Note that `2000-01-03` is a Monday. |\n\n\n\n#### `age(timestamptz, timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Subtract arguments, resulting in the time difference between the two timestamps. |\n| **Example** | `age(TIMESTAMPTZ '2001-04-10', TIMESTAMPTZ '1992-09-20')` |\n| **Result** | `8 years 6 months 20 days` |\n\n#### `age(timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Subtract from current_date. |\n| **Example** | `age(TIMESTAMP '1992-09-20')` |\n| **Result** | `29 years 1 month 27 days 12:39:00.844` |\n\n#### `date_diff(part, starttimestamptz, endtimestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The signed number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `starttimestamptz` and `endtimestamptz`, inclusive of the larger timestamp and exclusive of the smaller timestamp. |\n| **Example** | `date_diff('hour', TIMESTAMPTZ '1992-09-30 23:59:59', TIMESTAMPTZ '1992-10-01 01:58:00')` |\n| **Result** | `2` |\n\n#### `date_part([part, ...], timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Get the listed [subfields]({% link docs/stable/sql/functions/datepart.md %}) as a `struct`. The list must be constant. |\n| **Example** | `date_part(['year', 'month', 'day'], TIMESTAMPTZ '1992-09-20 20:38:40-07')` |\n| **Result** | `{year: 1992, month: 9, day: 20}` |\n\n#### `date_part(part, timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to *extract*). |\n| **Example** | `date_part('minute', TIMESTAMPTZ '1992-09-20 20:38:40')` |\n| **Result** | `38` |\n\n#### `date_sub(part, starttimestamptz, endtimestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The signed length of the interval between `starttimestamptz` and `endtimestamptz`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_sub('hour', TIMESTAMPTZ '1992-09-30 23:59:59', TIMESTAMPTZ '1992-10-01 01:58:00')` |\n| **Result** | `1` |\n\n#### `date_trunc(part, timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Truncate to specified [precision]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_trunc('hour', TIMESTAMPTZ '1992-09-20 20:38:40')` |\n| **Result** | `1992-09-20 20:00:00` |\n\n#### `epoch_ns(timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a timestamptz to nanoseconds since the epoch. |\n| **Example** | `epoch_ns('2022-11-07 08:43:04.123456+00'::TIMESTAMPTZ);` |\n| **Result** | `1667810584123456000` |\n\n#### `epoch_us(timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a timestamptz to microseconds since the epoch. |\n| **Example** | `epoch_us('2022-11-07 08:43:04.123456+00'::TIMESTAMPTZ);` |\n| **Result** | `1667810584123456` |\n\n#### `extract(field FROM timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) from a `TIMESTAMP WITH TIME ZONE`. |\n| **Example** | `extract('hour' FROM TIMESTAMPTZ '1992-09-20 20:38:48')` |\n| **Result** | `20` |\n\n#### `last_day(timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The last day of the month. |\n| **Example** | `last_day(TIMESTAMPTZ '1992-03-22 01:02:03.1234')` |\n| **Result** | `1992-03-31` |\n\n#### `make_timestamptz(bigint, bigint, bigint, bigint, bigint, double, string)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The `TIMESTAMP WITH TIME ZONE` for the given parts and time zone. |\n| **Example** | `make_timestamptz(1992, 9, 20, 15, 34, 27.123456, 'CET')` |\n| **Result** | `1992-09-20 06:34:27.123456-07` |\n\n#### `make_timestamptz(bigint, bigint, bigint, bigint, bigint, double)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The `TIMESTAMP WITH TIME ZONE` for the given parts in the current time zone. |\n| **Example** | `make_timestamptz(1992, 9, 20, 13, 34, 27.123456)` |\n| **Result** | `1992-09-20 13:34:27.123456-07` |\n\n#### `make_timestamptz(microseconds)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | The `TIMESTAMP WITH TIME ZONE` for the given s since the epoch. |\n| **Example** | `make_timestamptz(1667810584123456)` |\n| **Result** | `2022-11-07 16:43:04.123456-08` |\n\n#### `strftime(timestamptz, format)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts a `TIMESTAMP WITH TIME ZONE` value to string according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers). |\n| **Example** | `strftime(timestamptz '1992-01-01 20:38:40', '%a, %-d %B %Y - %I:%M:%S %p')` |\n| **Result** | `Wed, 1 January 1992 - 08:38:40 PM` |\n\n#### `strptime(text, format)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Converts string to `TIMESTAMP WITH TIME ZONE` according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers) if `%Z` is specified. |\n| **Example** | `strptime('Wed, 1 January 1992 - 08:38:40 PST', '%a, %-d %B %Y - %H:%M:%S %Z')` |\n| **Result** | `1992-01-01 08:38:40-08` |\n\n#### `time_bucket(bucket_width, timestamptz[, offset])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at `2000-01-01 00:00:00+00:00[ + offset]` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00+00:00[ + offset]`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '10 minutes', TIMESTAMPTZ '1992-04-20 15:26:00-07', INTERVAL '5 minutes')` |\n| **Result** | `1992-04-20 15:25:00-07` |\n\n#### `time_bucket(bucket_width, timestamptz[, origin])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01 00:00:00+00:00` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00+00:00`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '2 weeks', TIMESTAMPTZ '1992-04-20 15:26:00-07', TIMESTAMPTZ '1992-04-01 00:00:00-07')` |\n| **Result** | `1992-04-15 00:00:00-07` |\n\n#### `time_bucket(bucket_width, timestamptz[, timezone])`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01 00:00:00` in the provided `timezone` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00` in the provided `timezone`. The default timezone is `'UTC'`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '2 days', TIMESTAMPTZ '1992-04-20 15:26:00-07', 'Europe/Berlin')` |\n| **Result** | `1992-04-19 15:00:00-07` (=`1992-04-20 00:00:00 Europe/Berlin`) |\n\nThere are also dedicated extraction functions to get the [subfields]({% link docs/stable/sql/functions/datepart.md %}).\n\n## ICU Timestamp Table Functions\n\nThe table below shows the available table functions for `TIMESTAMP WITH TIME ZONE` types.\n\n| Name | Description |\n|:--|:-------|\n| [`generate_series(timestamptz, timestamptz, interval)`](#generate_seriestimestamptz-timestamptz-interval) | Generate a table of timestamps in the closed range (including both the starting timestamp and the ending timestamp), stepping by the interval. |\n| [`range(timestamptz, timestamptz, interval)`](#rangetimestamptz-timestamptz-interval) | Generate a table of timestamps in the half open range (including the starting timestamp, but stopping before the ending timestamp), stepping by the interval. |\n\n> Infinite values are not allowed as table function bounds.\n\n#### `generate_series(timestamptz, timestamptz, interval)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Generate a table of timestamps in the closed range (including both the starting timestamp and the ending timestamp), stepping by the interval. |\n| **Example** | `generate_series(TIMESTAMPTZ '2001-04-10', TIMESTAMPTZ '2001-04-11', INTERVAL 30 MINUTE)` |\n\n#### `range(timestamptz, timestamptz, interval)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Generate a table of timestamps in the half open range (including the starting timestamp, but stopping before the ending timestamp), stepping by the interval. |\n| **Example** | `range(TIMESTAMPTZ '2001-04-10', TIMESTAMPTZ '2001-04-11', INTERVAL 30 MINUTE)` |\n\n## ICU Timestamp Without Time Zone Functions\n\nThe table below shows the ICU provided scalar functions that operate on plain `TIMESTAMP` values.\nThese functions assume that the `TIMESTAMP` is a local timestamp.\n\nA local timestamp is effectively a way of encoding the part values from a time zone into a single value.\nThey should be used with caution because the produced values can contain gaps and ambiguities thanks to daylight savings time.\nOften the same functionality can be implemented more reliably using the `struct` variant of the `date_part` function.\n\n| Name | Description |\n|:--|:-------|\n| [`current_localtime()`](#current_localtime) | Returns a `TIME` whose GMT bin values correspond to local time in the current time zone. |\n| [`current_localtimestamp()`](#current_localtimestamp) | Returns a `TIMESTAMP` whose GMT bin values correspond to local date and time in the current time zone. |\n| [`localtime`](#localtime) | Synonym for the `current_localtime()` function call. |\n| [`localtimestamp`](#localtimestamp) | Synonym for the `current_localtimestamp()` function call. |\n| [`timezone(text, timestamp)`](#timezonetext-timestamp) | Use the [date parts]({% link docs/stable/sql/functions/datepart.md %}) of the timestamp in GMT to construct a timestamp in the given time zone. Effectively, the argument is a local time. |\n| [`timezone(text, timestamptz)`](#timezonetext-timestamptz) | Use the [date parts]({% link docs/stable/sql/functions/datepart.md %}) of the timestamp in the given time zone to construct a timestamp. Effectively, the result is a local time. |\n\n#### `current_localtime()`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns a `TIME` whose GMT bin values correspond to local time in the current time zone. |\n| **Example** | `current_localtime()` |\n| **Result** | `08:47:56.497` |\n\n#### `current_localtimestamp()`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Returns a `TIMESTAMP` whose GMT bin values correspond to local date and time in the current time zone. |\n| **Example** | `current_localtimestamp()` |\n| **Result** | `2022-12-17 08:47:56.497` |\n\n#### `localtime`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Synonym for the `current_localtime()` function call. |\n| **Example** | `localtime` |\n| **Result** | `08:47:56.497` |\n\n#### `localtimestamp`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Synonym for the `current_localtimestamp()` function call. |\n| **Example** | `localtimestamp` |\n| **Result** | `2022-12-17 08:47:56.497` |\n\n#### `timezone(text, timestamp)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Use the [date parts]({% link docs/stable/sql/functions/datepart.md %}) of the timestamp in GMT to construct a timestamp in the given time zone. Effectively, the argument is a local time. |\n| **Example** | `timezone('America/Denver', TIMESTAMP '2001-02-16 20:38:40')` |\n| **Result** | `2001-02-16 19:38:40-08` |\n\n#### `timezone(text, timestamptz)`\n\n<div class=\"nostroke_table\"></div>\n\n| **Description** | Use the [date parts]({% link docs/stable/sql/functions/datepart.md %}) of the timestamp in the given time zone to construct a timestamp. Effectively, the result is a local time. |\n| **Example** | `timezone('America/Denver', TIMESTAMPTZ '2001-02-16 20:38:40-05')` |\n| **Result** | `2001-02-16 18:38:40` |\n\n## At Time Zone\n\nThe `AT TIME ZONE` syntax is syntactic sugar for the (two argument) `timezone` function listed above:\n\n```sql\nSELECT TIMESTAMP '2001-02-16 20:38:40' AT TIME ZONE 'America/Denver' AS ts;\n```\n\n```text\n2001-02-16 19:38:40-08\n```\n\n```sql\nSELECT TIMESTAMP WITH TIME ZONE '2001-02-16 20:38:40-05' AT TIME ZONE 'America/Denver' AS ts;\n```\n\n```text\n2001-02-16 18:38:40\n```\n\nNote that numeric timezones are not allowed:\n\n```sql\nSELECT TIMESTAMP '2001-02-16 20:38:40-05' AT TIME ZONE '0200' AS ts;\n```\n\n```console\nNot implemented Error: Unknown TimeZone '0200'\n```\n\n## Infinities\n\nFunctions applied to infinite dates will either return the same infinite dates\n(e.g., `greatest`) or `NULL` (e.g., `date_part`) depending on what makes sense.\nIn general, if the function needs to examine the parts of the infinite temporal value,\nthe result will be `NULL`.\n\n## Calendars\n\nThe ICU extension also supports [non-Gregorian calendars]({% link docs/stable/sql/data_types/timestamp.md %}#calendar-support).\nIf such a calendar is current, then the display and binning operations will use that calendar.\n","try.md":"---\ntitle: TRY expression\n---\n\nThe `TRY` expression ensures that errors caused by the input rows in the child (scalar) expression result in `NULL` for those rows, instead of causing the query to throw an error.\n\n> The `TRY` expression was inspired by the [`TRY_CAST` expression]({% link docs/stable/sql/expressions/cast.md %}#try_cast).\n\n## Examples\n\nThe following calls return errors when invoked without the `TRY` expression.\nWhen they are wrapped into as `TRY` expression, they return `NULL`:\n\n### Casting\n\n#### Without `TRY`\n\n```sql\nSELECT 'abc'::INTEGER;\n```\n\n```console\nConversion Error:\nCould not convert string 'abc' to INT32\n```\n\n#### With `TRY`\n\n```sql\nSELECT TRY('abc'::INTEGER);\n```\n\n```text\nNULL\n```\n\n### Logarithm on Zero\n\n#### Without `TRY`\n\n```sql\nSELECT ln(0);\n```\n\n```console\nOut of Range Error:\ncannot take logarithm of zero\n```\n\n#### With `TRY`\n\n```sql\nSELECT TRY(ln(0));\n```\n\n```text\nNULL\n```\n\n### Casting Multiple Rows\n\n#### Without `TRY`\n\n```sql\nWITH cte AS (FROM (VALUES ('123'), ('test'), ('235')) t(a))\nSELECT a::INTEGER AS x FROM cte;\n```\n\n```console\nConversion Error:\nCould not convert string 'test' to INT32\n```\n\n#### With `TRY`\n\n```sql\nWITH cte AS (FROM (VALUES ('123'), ('test'), ('235')) t(a))\nSELECT TRY(a::INTEGER) AS x FROM cte;\n```\n\n<div class=\"center_aligned_header_table\"></div>\n\n|  x   |\n|-----:|\n| 123  |\n| NULL |\n| 235  |\n\n## Limitations\n\n`TRY` cannot be used in combination with a volatile function or with a [scalar subquery]({% link docs/stable/sql/expressions/subqueries.md %}#scalar-subquery).\nFor example:\n\n```sql\nSELECT TRY(random())\n```\n\n```console\nBinder Error:\nTRY can not be used in combination with a volatile function\n```\n","union.md":`---
title: Union Functions
---

<!-- markdownlint-disable MD001 -->

| Name | Description |
|:--|:-------|
| [\`union.tag\`](#uniontag) | Dot notation serves as an alias for \`union_extract\`. |
| [\`union_extract(union, 'tag')\`](#union_extractunion-tag) | Extract the value with the named tags from the union. \`NULL\` if the tag is not currently selected. |
| [\`union_value(tag := any)\`](#union_valuetag--any) | Create a single member \`UNION\` containing the argument value. The tag of the value will be the bound variable name. |
| [\`union_tag(union)\`](#union_tagunion) | Retrieve the currently selected tag of the union as an [Enum]({% link docs/stable/sql/data_types/enum.md %}). |

#### \`union.tag\`

<div class="nostroke_table"></div>

| **Description** | Dot notation serves as an alias for \`union_extract\`. |
| **Example** | \`(union_value(k := 'hello')).k\` |
| **Result** | \`string\` |

#### \`union_extract(union, 'tag')\`

<div class="nostroke_table"></div>

| **Description** | Extract the value with the named tags from the union. \`NULL\` if the tag is not currently selected. |
| **Example** | \`union_extract(s, 'k')\` |
| **Result** | \`hello\` |

#### \`union_value(tag := any)\`

<div class="nostroke_table"></div>

| **Description** | Create a single member \`UNION\` containing the argument value. The tag of the value will be the bound variable name. |
| **Example** | \`union_value(k := 'hello')\` |
| **Result** | \`'hello'::UNION(k VARCHAR)\` |

#### \`union_tag(union)\`

<div class="nostroke_table"></div>

| **Description** | Retrieve the currently selected tag of the union as an [Enum]({% link docs/stable/sql/data_types/enum.md %}). |
| **Example** | \`union_tag(union_value(k := 'foo'))\` |
| **Result** | \`'k'\` |
`,"unnest.md":`---
title: Unnesting
---

## Examples

Unnest a list, generating 3 rows (1, 2, 3):

\`\`\`sql
SELECT unnest([1, 2, 3]);
\`\`\`

Unnesting a struct, generating two columns (a, b):

\`\`\`sql
SELECT unnest({'a': 42, 'b': 84});
\`\`\`

Recursive unnest of a list of structs:

\`\`\`sql
SELECT unnest([{'a': 42, 'b': 84}, {'a': 100, 'b': NULL}], recursive := true);
\`\`\`

Limit depth of recursive unnest using \`max_depth\`:

\`\`\`sql
SELECT unnest([[[1, 2], [3, 4]], [[5, 6], [7, 8, 9], []], [[10, 11]]], max_depth := 2);
\`\`\`

The \`unnest\` special function is used to unnest lists or structs by one level. The function can be used as a regular scalar function, but only in the \`SELECT\` clause. Invoking \`unnest\` with the \`recursive\` parameter will unnest lists and structs of multiple levels. The depth of unnesting can be limited using the \`max_depth\` parameter (which assumes \`recursive\` unnesting by default).

### Unnesting Lists

Unnest a list, generating 3 rows (1, 2, 3):

\`\`\`sql
SELECT unnest([1, 2, 3]);
\`\`\`

Unnest a list, generating 3 rows ((1, 10), (2, 10), (3, 10)):

\`\`\`sql
SELECT unnest([1, 2, 3]), 10;
\`\`\`

Unnest two lists of different sizes, generating 3 rows ((1, 10), (2, 11), (3, NULL)):

\`\`\`sql
SELECT unnest([1, 2, 3]), unnest([10, 11]);
\`\`\`
Unnest a list column from a subquery:

\`\`\`sql
SELECT unnest(l) + 10 FROM (VALUES ([1, 2, 3]), ([4, 5])) tbl(l);
\`\`\`

Empty result:

\`\`\`sql
SELECT unnest([]);
\`\`\`

Empty result:

\`\`\`sql
SELECT unnest(NULL);
\`\`\`

Using \`unnest\` on a list emits one row per list entry. Regular scalar expressions in the same \`SELECT\` clause are repeated for every emitted row. When multiple lists are unnested in the same \`SELECT\` clause, the lists are unnested side-by-side. If one list is longer than the other, the shorter list is padded with \`NULL\` values.

Empty and \`NULL\` lists both unnest to zero rows.

### Unnesting Structs

Unnesting a struct, generating two columns (a, b):

\`\`\`sql
SELECT unnest({'a': 42, 'b': 84});
\`\`\`

Unnesting a struct, generating two columns (a, b):

\`\`\`sql
SELECT unnest({'a': 42, 'b': {'x': 84}});
\`\`\`

\`unnest\` on a struct will emit one column per entry in the struct.

### Recursive Unnest

Unnesting a list of lists recursively, generating 5 rows (1, 2, 3, 4, 5):

\`\`\`sql
SELECT unnest([[1, 2, 3], [4, 5]], recursive := true);
\`\`\`

Unnesting a list of structs recursively, generating two rows of two columns (a, b):

\`\`\`sql
SELECT unnest([{'a': 42, 'b': 84}, {'a': 100, 'b': NULL}], recursive := true);
\`\`\`

Unnesting a struct, generating two columns (a, b):

\`\`\`sql
SELECT unnest({'a': [1, 2, 3], 'b': 88}, recursive := true);
\`\`\`

Calling \`unnest\` with the \`recursive\` setting will fully unnest lists, followed by fully unnesting structs. This can be useful to fully flatten columns that contain lists within lists, or lists of structs. Note that lists *within* structs are not unnested.

### Setting the Maximum Depth of Unnesting

The \`max_depth\` parameter allows limiting the maximum depth of recursive unnesting (which is assumed by default and does not have to be specified separately).
For example, unnesting to \`max_depth\` of 2 yields the following:

\`\`\`sql
SELECT unnest([[[1, 2], [3, 4]], [[5, 6], [7, 8, 9], []], [[10, 11]]], max_depth := 2) AS x;
\`\`\`

|     x     |
|-----------|
| [1, 2]    |
| [3, 4]    |
| [5, 6]    |
| [7, 8, 9] |
| []        |
| [10, 11]  |

Meanwhile, unnesting to \`max_depth\` of 3 results in:

\`\`\`sql
SELECT unnest([[[1, 2], [3, 4]], [[5, 6], [7, 8, 9], []], [[10, 11]]], max_depth := 3) AS x;
\`\`\`

| x  |
|---:|
| 1  |
| 2  |
| 3  |
| 4  |
| 5  |
| 6  |
| 7  |
| 8  |
| 9  |
| 10 |
| 11 |

### Keeping Track of List Entry Positions

To keep track of each entry's position within the original list, \`unnest\` may be combined with [\`generate_subscripts\`]({% link docs/stable/sql/functions/list.md %}#generate_subscripts):

\`\`\`sql
SELECT unnest(l) AS x, generate_subscripts(l, 1) AS index
FROM (VALUES ([1, 2, 3]), ([4, 5])) tbl(l);
\`\`\`

| x | index |
|--:|------:|
| 1 | 1     |
| 2 | 2     |
| 3 | 3     |
| 4 | 1     |
| 5 | 2     |`,"utility.md":'---\ntitle: Utility Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\n## Scalar Utility Functions\n\nThe functions below are difficult to categorize into specific function types and are broadly useful.\n\n| Name | Description |\n|:--|:-------|\n| [`alias(column)`](#aliascolumn) | Return the name of the column. |\n| [`can_cast_implicitly(source_value, target_value)`](#can_cast_implicitlysource_value-target_value) | Whether or not we can implicitly cast from the types of the source value to the target value. |\n| [`checkpoint(database)`](#checkpointdatabase) | Synchronize WAL with file for (optional) database without interrupting transactions. |\n| [`coalesce(expr, ...)`](#coalesceexpr-) | Return the first expression that evaluates to a non-`NULL` value. Accepts 1 or more parameters. Each expression can be a column, literal value, function result, or many others. |\n| [`constant_or_null(arg1, arg2)`](#constant_or_nullarg1-arg2) | If `arg2` is `NULL`, return `NULL`. Otherwise, return `arg1`. |\n| [`count_if(x)`](#count_ifx) | Aggregate function; rows contribute 1 if `x` is `true` or a non-zero number, else 0. |\n| [`create_sort_key(parameters...)`](#create_sort_keyparameters) | Constructs a binary-comparable sort key based on a set of input parameters and sort qualifiers. |\n| [`current_catalog()`](#current_catalog) | Return the name of the currently active catalog. Default is memory. |\n| [`current_database()`](#current_database) | Return the name of the currently active database. |\n| [`current_query()`](#current_query) | Return the current query as a string. |\n| [`current_schema()`](#current_schema) | Return the name of the currently active schema. Default is main. |\n| [`current_schemas(boolean)`](#current_schemasboolean) | Return list of schemas. Pass a parameter of `true` to include implicit schemas. |\n| [`current_setting(\'setting_name\')`](#current_settingsetting_name) | Return the current value of the configuration setting. |\n| [`currval(\'sequence_name\')`](#currvalsequence_name) | Return the current value of the sequence. Note that `nextval` must be called at least once prior to calling `currval`. |\n| [`error(message)`](#errormessage) | Throws the given error `message`. |\n| [`equi_width_bins(min, max, bincount, nice := false)`](#equi_width_binsmin-max-bincount-nice--false) | Returns the upper boundaries of a partition of the interval `[min, max]` into `bin_count` equal-sized subintervals (for use with, e.g., [`histogram`]({% link docs/stable/sql/functions/aggregates.md %}#histogramargboundaries)). If `nice = true`, then `min`, `max` and `bincount` may be adjusted to produce more aesthetically pleasing results. |\n| [`force_checkpoint(database)`](#force_checkpointdatabase) | Synchronize WAL with file for (optional) database interrupting transactions. |\n| [`gen_random_uuid()`](#gen_random_uuid) | Return a random UUID similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| [`getenv(var)`](#getenvvar) | Returns the value of the environment variable `var`. Only available in the [command line client]({% link docs/stable/clients/cli/overview.md %}). |\n| [`hash(value)`](#hashvalue) | Returns a `UBIGINT` with a hash of `value`. The used hash function may change across DuckDB versions.|\n| [`icu_sort_key(string, collator)`](#icu_sort_keystring-collator) | Surrogate [sort key](https://unicode-org.github.io/icu/userguide/collation/architecture.html#sort-keys) used to sort special characters according to the specific locale. Collator parameter is optional. Only available when the ICU extension is installed. |\n| [`if(a, b, c)`](#ifa-b-c) | Ternary conditional operator. |\n| [`ifnull(expr, other)`](#ifnullexpr-other) | A two-argument version of coalesce. |\n| [`is_histogram_other_bin(arg)`](#is_histogram_other_binarg) | Returns `true` when `arg` is the "catch-all element" of its datatype for the purpose of the [`histogram_exact`]({% link docs/stable/sql/functions/aggregates.md %}#histogram_exactargelements) function, which is equal to the "right-most boundary" of its datatype for the purpose of the [`histogram`]({% link docs/stable/sql/functions/aggregates.md %}#histogramargboundaries) function. |\n| [`md5(string)`](#md5string) | Returns the MD5 hash of the `string` as a `VARCHAR`. |\n| [`md5_number(string)`](#md5_numberstring) | Returns the MD5 hash of the `string` as a `UHUGEINT`. |\n| [`md5_number_lower(string)`](#md5_number_lowerstring) | Returns the lower 64-bit segment of the MD5 hash of the `string` as a `UBIGINT`. |\n| [`md5_number_upper(string)`](#md5_number_upperstring) | Returns the upper 64-bit segment of the MD5 hash of the `string` as a `UBIGINT`. |\n| [`nextval(\'sequence_name\')`](#nextvalsequence_name) | Return the following value of the sequence. |\n| [`nullif(a, b)`](#nullifa-b) | Return `NULL` if `a = b`, else return `a`. Equivalent to `CASE WHEN a = b THEN NULL ELSE a END`. |\n| [`pg_typeof(expression)`](#pg_typeofexpression) | Returns the lower case name of the data type of the result of the expression. For PostgreSQL compatibility. |\n| [`query(`*`query_string`*`)`](#queryquery_string) | Table function that parses and executes the query defined in *`query_string`*. Only constant strings are allowed. Warning: this function allows invoking arbitrary queries, potentially altering the database state. |\n| [`query_table(`*`tbl_name`*`)`](#query_tabletbl_name) | Table function that returns the table given in *`tbl_name`*. |\n| [`query_table(`*`tbl_names`*`, [`*`by_name`*`])`](#query_tabletbl_names-by_name) | Table function that returns the union of tables given in *`tbl_names`*. If the optional *`by_name`* parameter is set to `true`, it uses [`UNION ALL BY NAME`]({% link docs/stable/sql/query_syntax/setops.md %}#union-all-by-name) semantics. |\n| [`read_blob(source)`](#read_blobsource) | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `BLOB`. See the [`read_blob` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_blob) for more details. |\n| [`read_text(source)`](#read_textsource) | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `VARCHAR`. The file content is first validated to be valid UTF-8. If `read_text` attempts to read a file with invalid UTF-8 an error is thrown suggesting to use `read_blob` instead. See the [`read_text` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_text) for more details. |\n| [`sha1(string)`](#sha1string) | Returns a `VARCHAR` with the SHA-1 hash of the `string`. |\n| [`sha256(string)`](#sha256string) | Returns a `VARCHAR` with the SHA-256 hash of the `string`. |\n| [`stats(expression)`](#statsexpression) | Returns a string with statistics about the expression. Expression can be a column, constant, or SQL expression. |\n| [`txid_current()`](#txid_current) | Returns the current transaction\'s identifier, a `BIGINT` value. It will assign a new one if the current transaction does not have one already. |\n| [`typeof(expression)`](#typeofexpression) | Returns the name of the data type of the result of the expression. |\n| [`uuid()`](#uuid) | Return a random UUID (UUIDv4) similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| [`uuidv4()`](#uuidv4) | Return a random UUID (UUIDv4) similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| [`uuidv7()`](#uuidv7) | Return a random UUIDv7 similar to this: `81964ebe-00b1-7e1d-b0f9-43c29b6fb8f5`. |\n| [`uuid_extract_timestamp(uuidv7)`](#uuid_extract_timestampuuidv7) | Extracts `TIMESTAMP WITH TIME ZONE` from a UUIDv7 value. |\n| [`uuid_extract_version(uuid)`](#uuid_extract_versionuuid) | Extracts UUID version (`4` or `7`). |\n| [`version()`](#version) | Return the currently active version of DuckDB in this format. |\n\n#### `alias(column)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the name of the column. |\n| **Example** | `alias(column1)` |\n| **Result** | `column1` |\n\n#### `can_cast_implicitly(source_value, target_value)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Whether or not we can implicitly cast from the types of the source value to the target value. |\n| **Example** | `can_cast_implicitly(1::BIGINT, 1::SMALLINT)` |\n| **Result** | `false` |\n\n#### `checkpoint(database)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Synchronize WAL with file for (optional) database without interrupting transactions. |\n| **Example** | `checkpoint(my_db)` |\n| **Result** | success Boolean |\n\n#### `coalesce(expr, ...)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the first expression that evaluates to a non-`NULL` value. Accepts 1 or more parameters. Each expression can be a column, literal value, function result, or many others. |\n| **Example** | `coalesce(NULL, NULL, \'default_string\')` |\n| **Result** | `default_string` |\n\n#### `constant_or_null(arg1, arg2)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | If `arg2` is `NULL`, return `NULL`. Otherwise, return `arg1`. |\n| **Example** | `constant_or_null(42, NULL)` |\n| **Result** | `NULL` |\n\n#### `count_if(x)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Aggregate function; rows contribute 1 if `x` is `true` or a non-zero number, else 0. |\n| **Example** | `count_if(42)` |\n| **Result** | 1 |\n\n#### `create_sort_key(parameters...)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Constructs a binary-comparable sort key based on a set of input parameters and sort qualifiers. |\n| **Example** | `create_sort_key(\'abc\', \'ASC NULLS FIRST\');` |\n| **Result** | `\\x02bcd\\x00` |\n\n#### `current_catalog()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the name of the currently active catalog. Default is memory. |\n| **Example** | `current_catalog()` |\n| **Result** | `memory` |\n\n#### `current_database()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the name of the currently active database. |\n| **Example** | `current_database()` |\n| **Result** | `memory` |\n\n#### `current_query()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the current query as a string. |\n| **Example** | `current_query()` |\n| **Result** | `SELECT current_query();` |\n\n#### `current_schema()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the name of the currently active schema. Default is main. |\n| **Example** | `current_schema()` |\n| **Result** | `main` |\n\n#### `current_schemas(boolean)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return list of schemas. Pass a parameter of `true` to include implicit schemas. |\n| **Example** | `current_schemas(true)` |\n| **Result** | `[\'temp\', \'main\', \'pg_catalog\']` |\n\n#### `current_setting(\'setting_name\')`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the current value of the configuration setting. |\n| **Example** | `current_setting(\'access_mode\')` |\n| **Result** | `automatic` |\n\n#### `currval(\'sequence_name\')`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the current value of the sequence. Note that `nextval` must be called at least once prior to calling `currval`. |\n| **Example** | `currval(\'my_sequence_name\')` |\n| **Result** | `1` |\n\n#### `error(message)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Throws the given error `message`. |\n| **Example** | `error(\'access_mode\')` |\n\n#### `equi_width_bins(min, max, bincount, nice := false)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the upper boundaries of a partition of the interval `[min, max]` into `bin_count` equal-sized subintervals (for use with, e.g., [`histogram`]({% link docs/stable/sql/functions/aggregates.md %}#histogramargboundaries)). If `nice = true`, then `min`, `max` and `bincount` may be adjusted to produce more aesthetically pleasing results.  |\n| **Example** | `equi_width_bins(0.1, 2.7, 4, true)` |\n| **Result** | `[0.5, 1.0, 1.5, 2.0, 2.5, 3.0]` |\n\n#### `force_checkpoint(database)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Synchronize WAL with file for (optional) database interrupting transactions. |\n| **Example** | `force_checkpoint(my_db)` |\n| **Result** | success Boolean |\n\n#### `gen_random_uuid()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return a random UUID (UUIDv4) similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| **Example** | `gen_random_uuid()` |\n| **Result** | various |\n\n#### `getenv(var)`\n\n| **Description** | Returns the value of the environment variable `var`. Only available in the [command line client]({% link docs/stable/clients/cli/overview.md %}). |\n| **Example** | `getenv(\'HOME\')` |\n| **Result** | `/path/to/user/home` |\n\n#### `hash(value)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a `UBIGINT` with the hash of the `value`. The used hash function may change across DuckDB versions. |\n| **Example** | `hash(\'\')` |\n| **Result** | `2595805878642663834` |\n\n#### `icu_sort_key(string, collator)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Surrogate [sort key](https://unicode-org.github.io/icu/userguide/collation/architecture.html#sort-keys) used to sort special characters according to the specific locale. Collator parameter is optional. Only available when the ICU extension is installed. |\n| **Example** | `icu_sort_key(\'\', \'DE\')` |\n| **Result** | `460145960106` |\n\n#### `if(a, b, c)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Ternary conditional operator; returns b if a, else returns c. Equivalent to `CASE WHEN a THEN b ELSE c END`. |\n| **Example** | `if(2 > 1, 3, 4)` |\n| **Result** | `3` |\n\n#### `ifnull(expr, other)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | A two-argument version of coalesce. |\n| **Example** | `ifnull(NULL, \'default_string\')` |\n| **Result** | `default_string` |\n\n#### `is_histogram_other_bin(arg)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns `true` when `arg` is the "catch-all element" of its datatype for the purpose of the [`histogram_exact`]({% link docs/stable/sql/functions/aggregates.md %}#histogram_exactargelements) function, which is equal to the "right-most boundary" of its datatype for the purpose of the [`histogram`]({% link docs/stable/sql/functions/aggregates.md %}#histogramargboundaries) function. |\n| **Example** | `is_histogram_other_bin(\'\')` |\n| **Result** | `true` |\n\n#### `md5(string)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the MD5 hash of the `string` as a `VARCHAR`. |\n| **Example** | `md5(\'abc\')` |\n| **Result** | `900150983cd24fb0d6963f7d28e17f72` |\n\n#### `md5_number(string)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the MD5 hash of the `string` as a `UHUGEINT`. |\n| **Example** | `md5_number(\'abc\')` |\n| **Result** | `152195979970564155685860391459828531600` |\n\n#### `md5_number_lower(string)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the lower 8 bytes of the MD5 hash of `string` as a `UBIGINT`. |\n| **Example** | `md5_number_lower(\'abc\')` |\n| **Result** | `8250560606382298838` |\n\n#### `md5_number_upper(string)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the upper 8 bytes of the MD5 hash of `string` as a `UBIGINT`. |\n| **Example** | `md5_number_upper(\'abc\')` |\n| **Result** | `12704604231530709392` |\n\n#### `nextval(\'sequence_name\')`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the following value of the sequence. |\n| **Example** | `nextval(\'my_sequence_name\')` |\n| **Result** | `2` |\n\n#### `nullif(a, b)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return `NULL` if a = b, else return a. Equivalent to `CASE WHEN a = b THEN NULL ELSE a END`. |\n| **Example** | `nullif(1+1, 2)` |\n| **Result** | `NULL` |\n\n#### `pg_typeof(expression)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the lower case name of the data type of the result of the expression. For PostgreSQL compatibility. |\n| **Example** | `pg_typeof(\'abc\')` |\n| **Result** | `varchar` |\n\n#### `query(query_string)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Table function that parses and executes the query defined in `query_string`. Only constant strings are allowed. Warning: this function allows invoking arbitrary queries, potentially altering the database state. |\n| **Example** | `query(\'SELECT 42 AS x\')` |\n| **Result** | `42` |\n\n#### `query_table(tbl_name)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Table function that returns the table given in `tbl_name`. |\n| **Example** | `query_table(\'t1\')` |\n| **Result** | (the rows of `t1`) |\n\n#### `query_table(tbl_names, [by_name])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Table function that returns the union of tables given in `tbl_names`. If the optional `by_name` parameter is set to `true`, it uses [`UNION ALL BY NAME`]({% link docs/stable/sql/query_syntax/setops.md %}#union-all-by-name) semantics. |\n| **Example** | `query_table([\'t1\', \'t2\'])` |\n| **Result** | (the union of the two tables) |\n\n#### `read_blob(source)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `BLOB`. See the [`read_blob` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_blob) for more details. |\n| **Example** | `read_blob(\'hello.bin\')` |\n| **Result** | `hello\\x0A` |\n\n#### `read_text(source)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `VARCHAR`. The file content is first validated to be valid UTF-8. If `read_text` attempts to read a file with invalid UTF-8 an error is thrown suggesting to use `read_blob` instead. See the [`read_text` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_text) for more details. |\n| **Example** | `read_text(\'hello.txt\')` |\n| **Result** | `hello\\n` |\n\n#### `sha1(string)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a `VARCHAR` with the SHA-1 hash of the `string`. |\n| **Example** | `sha1(\'\')` |\n| **Result** | `949bf843dc338be348fb9525d1eb535d31241d76` |\n\n#### `sha256(string)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a `VARCHAR` with the SHA-256 hash of the `string`. |\n| **Example** | `sha256(\'\')` |\n| **Result** | `d7a5c5e0d1d94c32218539e7e47d4ba9c3c7b77d61332fb60d633dde89e473fb` |\n\n#### `stats(expression)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a string with statistics about the expression. Expression can be a column, constant, or SQL expression. |\n| **Example** | `stats(5)` |\n| **Result** | `\'[Min: 5, Max: 5][Has Null: false]\'` |\n\n#### `txid_current()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the current transaction\'s identifier, a `BIGINT` value. It will assign a new one if the current transaction does not have one already. |\n| **Example** | `txid_current()` |\n| **Result** | various |\n\n#### `typeof(expression)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns the name of the data type of the result of the expression. |\n| **Example** | `typeof(\'abc\')` |\n| **Result** | `VARCHAR` |\n\n#### `uuid()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return a random UUID (UUIDv4) similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| **Example** | `uuid()` |\n| **Result** | various |\n\n#### `uuidv4()`\n\n| **Description** | Return a random UUID (UUIDv4) similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| **Example** | `uuidv4()` |\n| **Result** | various |\n\n#### `uuidv7()`\n\n| **Description** | Return a random UUIDv7 similar to this: `81964ebe-00b1-7e1d-b0f9-43c29b6fb8f5`. |\n| **Example** | `uuidv7()` |\n| **Result** | various |\n\n#### `uuid_extract_timestamp(uuidv7)`\n\n| **Description** | Extracts `TIMESTAMP WITH TIME ZONE` from a UUIDv7 value. |\n| **Example** | `uuid_extract_timestamp(uuidv7())` |\n| **Result** | `2025-04-19 15:51:20.07+00` |\n\n#### `uuid_extract_version(uuid)`\n\n| **Description** | Extracts UUID version (`4` or `7`). |\n| **Example** | `uuid_extract_version(uuidv7())` |\n| **Result** | `7` |\n\n#### `version()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return the currently active version of DuckDB in this format. |\n| **Example** | `version()` |\n| **Result** | various |\n\n## Utility Table Functions\n\nA [table function]({% link docs/stable/sql/query_syntax/from.md %}#table-functions) is used in place of a table in a `FROM` clause.\n\n| Name | Description |\n|:--|:-------|\n| [`glob(search_path)`](#globsearch_path) | Return filenames found at the location indicated by the *search_path* in a single column named `file`. The *search_path* may contain [glob pattern matching syntax]({% link docs/stable/sql/functions/pattern_matching.md %}). |\n| [`repeat_row(varargs, num_rows)`](#repeat_rowvarargs-num_rows) | Returns a table with `num_rows` rows, each containing the fields defined in `varargs`. |\n\n#### `glob(search_path)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Return filenames found at the location indicated by the *search_path* in a single column named `file`. The *search_path* may contain [glob pattern matching syntax]({% link docs/stable/sql/functions/pattern_matching.md %}). |\n| **Example** | `glob(\'*\')` |\n| **Result** | (table of filenames) |\n\n#### `repeat_row(varargs, num_rows)`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns a table with `num_rows` rows, each containing the fields defined in `varargs`. |\n| **Example** | `repeat_row(1, 2, \'foo\', num_rows = 3)` |\n| **Result** | 3 rows of `1, 2, \'foo\'` |\n',"values.md":`---
title: VALUES Clause
---

The \`VALUES\` clause is used to specify a fixed number of rows. The \`VALUES\` clause can be used as a stand-alone statement, as part of the \`FROM\` clause, or as input to an \`INSERT INTO\` statement.

## Examples

Generate two rows and directly return them:

\`\`\`sql
VALUES ('Amsterdam', 1), ('London', 2);
\`\`\`

Generate two rows as part of a \`FROM\` clause, and rename the columns:

\`\`\`sql
SELECT *
FROM (VALUES ('Amsterdam', 1), ('London', 2)) cities(name, id);
\`\`\`

Generate two rows and insert them into a table:

\`\`\`sql
INSERT INTO cities
VALUES ('Amsterdam', 1), ('London', 2);
\`\`\`

Create a table directly from a \`VALUES\` clause:

\`\`\`sql
CREATE TABLE cities AS
    SELECT *
    FROM (VALUES ('Amsterdam', 1), ('London', 2)) cities(name, id);
\`\`\`

## Syntax

<div id="rrdiagram"></div>
`,"where.md":`---
title: WHERE Clause
---

The \`WHERE\` clause specifies any filters to apply to the data. This allows you to select only a subset of the data in which you are interested. Logically the \`WHERE\` clause is applied immediately after the \`FROM\` clause.

## Examples

Select all rows where the \`id\` is equal to 3:

\`\`\`sql
SELECT *
FROM tbl
WHERE id = 3;
\`\`\`

Select all rows that match the given **case-sensitive** \`LIKE\` expression:

\`\`\`sql
SELECT *
FROM tbl
WHERE name LIKE '%mark%';
\`\`\`

Select all rows that match the given **case-insensitive** expression formulated with the \`ILIKE\` operator:

\`\`\`sql
SELECT *
FROM tbl
WHERE name ILIKE '%mark%';
\`\`\`

Select all rows that match the given composite expression:

\`\`\`sql
SELECT *
FROM tbl
WHERE id = 3 OR id = 7;
\`\`\`

## Syntax

<div id="rrdiagram"></div>
`,"window.md":`---
title: WINDOW Clause
---

The \`WINDOW\` clause allows you to specify named windows that can be used within [window functions]({% link docs/stable/sql/functions/window_functions.md %}). These are useful when you have multiple window functions, as they allow you to avoid repeating the same window clause.

## Syntax

<div id="rrdiagram"></div>
`,"window_functions.md":'---\ntitle: Window Functions\n---\n\n<!-- markdownlint-disable MD001 -->\n\nDuckDB supports [window functions](https://en.wikipedia.org/wiki/Window_function_(SQL)), which can use multiple rows to calculate a value for each row.\nWindow functions are [blocking operators]({% link docs/stable/guides/performance/how_to_tune_workloads.md %}#blocking-operators), i.e., they require their entire input to be buffered, making them one of the most memory-intensive operators in SQL.\n\nWindow functions are available in SQL since [SQL:2003](https://en.wikipedia.org/wiki/SQL:2003) and are supported by major SQL database systems.\n\n## Examples\n\nGenerate a `row_number` column to enumerate rows:\n\n```sql\nSELECT row_number() OVER ()\nFROM sales;\n```\n\n> Tip If you only need a number for each row in a table, you can use the [`rowid` pseudocolumn]({% link docs/stable/sql/statements/select.md %}#row-ids).\n\nGenerate a `row_number` column to enumerate rows, ordered by `time`:\n\n```sql\nSELECT row_number() OVER (ORDER BY time)\nFROM sales;\n```\n\nGenerate a `row_number` column to enumerate rows, ordered by `time` and partitioned by `region`:\n\n```sql\nSELECT row_number() OVER (PARTITION BY region ORDER BY time)\nFROM sales;\n```\n\nCompute the difference between the current and the previous-by-`time` `amount`:\n\n```sql\nSELECT amount - lag(amount) OVER (ORDER BY time)\nFROM sales;\n```\n\nCompute the percentage of the total `amount` of sales per `region` for each row:\n\n```sql\nSELECT amount / sum(amount) OVER (PARTITION BY region)\nFROM sales;\n```\n\n## Syntax\n\n<div id="rrdiagram"></div>\n\nWindow functions can only be used in the `SELECT` clause. To share `OVER` specifications between functions, use the statement\'s [`WINDOW` clause]({% link docs/stable/sql/query_syntax/window.md %}) and use the `OVER window_name`{:.language-sql .highlight} syntax.\n\n## General-Purpose Window Functions\n\nThe table below shows the available general window functions.\n\n| Name | Description |\n|:--|:-------|\n| [`cume_dist([ORDER BY ordering])`](#cume_distorder-by-ordering) | The cumulative distribution: (number of partition rows preceding or peer with current row) / total partition rows. |\n| [`dense_rank()`](#dense_rank) | The rank of the current row *without gaps;* this function counts peer groups. |\n| [`fill(expr [ ORDER BY ordering])`](#fillexpr-order-by-ordering) | Fill in missing values using linear interpolation with `ORDER BY` as the X-axis. |\n| [`first_value(expr[ ORDER BY ordering][ IGNORE NULLS])`](#first_valueexpr-order-by-ordering-ignore-nulls) | Returns `expr` evaluated at the row that is the first row (with a non-null value of `expr` if `IGNORE NULLS` is set) of the window frame. |\n| [`lag(expr[, offset[, default]][ ORDER BY ordering][ IGNORE NULLS])`](#lagexpr-offset-default-order-by-ordering-ignore-nulls) | Returns `expr` evaluated at the row that is `offset` rows (among rows with a non-null value of `expr` if `IGNORE NULLS` is set) before the current row within the window frame; if there is no such row, instead return `default` (which must be of the Same type as `expr`). Both `offset` and `default` are evaluated with respect to the current row. If omitted, `offset` defaults to `1` and default to `NULL`. |\n| [`last_value(expr[ ORDER BY ordering][ IGNORE NULLS])`](#last_valueexpr-order-by-ordering-ignore-nulls) | Returns `expr` evaluated at the row that is the last row (among rows with a non-null value of `expr` if `IGNORE NULLS` is set) of the window frame. |\n| [`lead(expr[, offset[, default]][ ORDER BY ordering][ IGNORE NULLS])`](#leadexpr-offset-default-order-by-ordering-ignore-nulls) | Returns `expr` evaluated at the row that is `offset` rows after the current row (among rows with a non-null value of `expr` if `IGNORE NULLS` is set) within the window frame; if there is no such row, instead return `default` (which must be of the Same type as `expr`). Both `offset` and `default` are evaluated with respect to the current row. If omitted, `offset` defaults to `1` and default to `NULL`. |\n| [`nth_value(expr, nth[ ORDER BY ordering][ IGNORE NULLS])`](#nth_valueexpr-nth-order-by-ordering-ignore-nulls) | Returns `expr` evaluated at the nth row (among rows with a non-null value of `expr` if `IGNORE NULLS` is set) of the window frame (counting from 1); `NULL` if no such row. |\n| [`ntile(num_buckets[ ORDER BY ordering])`](#ntilenum_buckets-order-by-ordering) | An integer ranging from 1 to `num_buckets`, dividing the partition as equally as possible. |\n| [`percent_rank([ORDER BY ordering])`](#percent_rankorder-by-ordering) | The relative rank of the current row: `(rank() - 1) / (total partition rows - 1)`. |\n| [`rank([ORDER BY ordering])`](#rankorder-by-ordering) | The rank of the current row *with gaps;* same as `row_number` of its first peer. |\n| [`row_number([ORDER BY ordering])`](#row_numberorder-by-ordering) | The number of the current row within the partition, counting from 1. |\n\n#### `cume_dist([ORDER BY ordering])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The cumulative distribution: (number of partition rows preceding or peer with current row) / total partition rows. If an `ORDER BY` clause is specified, the distribution is computed within the frame using the provided ordering instead of the frame ordering. |\n| **Return type** | `DOUBLE` |\n| **Example** | `cume_dist()` |\n\n#### `dense_rank()`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The rank of the current row *without gaps;* this function counts peer groups. |\n| **Return type** | `BIGINT` |\n| **Example** | `dense_rank()` |\n| **Aliases** | `rank_dense()` |\n\n#### `fill(expr[ ORDER BY ordering])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Replaces `NULL` values of `expr` with a linear interpolation based on the closest non-`NULL` values and  the sort values. Both values must support arithmetic and there must be only one ordering key. For missing values at the ends, linear extrapolation is used. Failure to interpolate results in the `NULL` value being retained. |\n| **Return type** | Same type as `expr` |\n| **Example** | `fill(column)` |\n\n#### `first_value(expr[ ORDER BY ordering][ IGNORE NULLS])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns `expr` evaluated at the row that is the first row (with a non-null value of `expr` if `IGNORE NULLS` is set) of the window frame. If an `ORDER BY` clause is specified, the first row number is computed within the frame using the provided ordering instead of the frame ordering. |\n| **Return type** | Same type as `expr` |\n| **Example** | `first_value(column)` |\n\n#### `lag(expr[, offset[, default]][ ORDER BY ordering][ IGNORE NULLS])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns `expr` evaluated at the row that is `offset` rows (among rows with a non-null value of `expr` if `IGNORE NULLS` is set) before the current row within the window frame; if there is no such row, instead return `default` (which must be of the Same type as `expr`). Both `offset` and `default` are evaluated with respect to the current row. If omitted, `offset` defaults to `1` and default to `NULL`. If an `ORDER BY` clause is specified, the lagged row number is computed within the frame using the provided ordering instead of the frame ordering. |\n| **Return type** | Same type as `expr` |\n| **Example** | `lag(column, 3, 0)` |\n\n#### `last_value(expr[ ORDER BY ordering][ IGNORE NULLS])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns `expr` evaluated at the row that is the last row (among rows with a non-null value of `expr` if `IGNORE NULLS` is set) of the window frame. If omitted, `offset` defaults to `1` and default to `NULL`. If an `ORDER BY` clause is specified, the last row is determined within the frame using the provided ordering instead of the frame ordering. |\n| **Return type** | Same type as `expr` |\n| **Example** | `last_value(column)` |\n\n#### `lead(expr[, offset[, default]][ ORDER BY ordering][ IGNORE NULLS])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns `expr` evaluated at the row that is `offset` rows after the current row (among rows with a non-null value of `expr` if `IGNORE NULLS` is set) within the window frame; if there is no such row, instead return `default` (which must be of the Same type as `expr`). Both `offset` and `default` are evaluated with respect to the current row. If omitted, `offset` defaults to `1` and default to `NULL`. If an `ORDER BY` clause is specified, the leading row number is computed within the frame using the provided ordering instead of the frame ordering. |\n| **Return type** | Same type as `expr` |\n| **Example** | `lead(column, 3, 0)` |\n\n#### `nth_value(expr, nth[ ORDER BY ordering][ IGNORE NULLS])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | Returns `expr` evaluated at the nth row (among rows with a non-null value of `expr` if `IGNORE NULLS` is set) of the window frame (counting from 1); `NULL` if no such row. If an `ORDER BY` clause is specified, the nth row number is computed within the frame using the provided ordering instead of the frame ordering. |\n| **Return type** | Same type as `expr` |\n| **Example** | `nth_value(column, 2)` |\n\n#### `ntile(num_buckets[ ORDER BY ordering])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | An integer ranging from 1 to `num_buckets`, dividing the partition as equally as possible. If an `ORDER BY` clause is specified, the ntile is computed within the frame using the provided ordering instead of the frame ordering. |\n| **Return type** | `BIGINT` |\n| **Example** | `ntile(4)` |\n\n#### `percent_rank([ORDER BY ordering])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The relative rank of the current row: `(rank() - 1) / (total partition rows - 1)`. If an `ORDER BY` clause is specified, the relative rank is computed within the frame using the provided ordering instead of the frame ordering. |\n| **Return type** | `DOUBLE` |\n| **Example** | `percent_rank()` |\n\n#### `rank([ORDER BY ordering])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The rank of the current row *with gaps*; same as `row_number` of its first peer. If an `ORDER BY` clause is specified, the rank is computed within the frame using the provided ordering instead of the frame ordering. |\n| **Return type** | `BIGINT` |\n| **Example** | `rank()` |\n\n#### `row_number([ORDER BY ordering])`\n\n<div class="nostroke_table"></div>\n\n| **Description** | The number of the current row within the partition, counting from 1. If an `ORDER BY` clause is specified, the row number is computed within the frame using the provided ordering instead of the frame ordering. |\n| **Return type** | `BIGINT` |\n| **Example** | `row_number()` |\n\n## Aggregate Window Functions\n\nAll [aggregate functions]({% link docs/stable/sql/functions/aggregates.md %}) can be used in a windowing context, including the optional [`FILTER` clause]({% link docs/stable/sql/query_syntax/filter.md %}).\nThe `first` and `last` aggregate functions are shadowed by the respective general-purpose window functions, with the minor consequence that the `FILTER` clause is not available for these but `IGNORE NULLS` is.\n\n## DISTINCT Arguments\n\nAll aggregate window functions support using a `DISTINCT` clause for the arguments. When the `DISTINCT` clause is\nprovided, only distinct values are considered in the computation of the aggregate. This is typically used in combination\nwith the `COUNT` aggregate to get the number of distinct elements; but it can be used together with any aggregate\nfunction in the system. There are some aggregates that are insensitive to duplicate values (e.g., `min`, `max`) and for\nthem this clause is parsed and ignored.\n\n```sql\n-- Count the number of distinct users at a given point in time\nSELECT count(DISTINCT name) OVER (ORDER BY time) FROM sales;\n-- Concatenate those distinct users into a list\nSELECT list(DISTINCT name) OVER (ORDER BY time) FROM sales;\n```\n\n## ORDER BY Arguments\n\nAll aggregate window functions support using an `ORDER BY` argument clause that is *different* from the window ordering.\nWhen the `ORDER BY` argument clause is provided, the values being aggregated are sorted before applying the function.\nUsually this is not important, but there are some order-sensitive aggregates that can have indeterminate results (e.g.,\n`mode`, `list` and `string_agg`). These can be made deterministic by ordering the arguments. For order-insensitive\naggregates, this clause is parsed and ignored.\n\n```sql\n-- Compute the modal value up to each time, breaking ties in favor of the most recent value.\nSELECT mode(value ORDER BY time DESC) OVER (ORDER BY time) FROM sales;\n```\n\nThe SQL standard does not provide for using `ORDER BY` with general-purpose window functions, but we have extended all\nof these functions (except `dense_rank`) to accept this syntax and use framing to restrict the range that the secondary\nordering applies to.\n\n```sql\n-- Compare each athlete\'s time in an event with the best time to date\nSELECT event, date, athlete, time\n    first_value(time ORDER BY time DESC) OVER w AS record_time,\n    first_value(athlete ORDER BY time DESC) OVER w AS record_athlete,\nFROM meet_results\nWINDOW w AS (PARTITION BY event ORDER BY datetime)\nORDER BY ALL\n```\n\nNote that there is no comma separating the arguments from the `ORDER BY` clause.\n\n## Nulls\n\nAll [general-purpose window functions](#general-purpose-window-functions) that accept `IGNORE NULLS` respect nulls by default. This default behavior can optionally be made explicit via `RESPECT NULLS`.\n\nIn contrast, all [aggregate window functions](#aggregate-window-functions) (except for `list` and its aliases, which can be made to ignore nulls via a `FILTER`) ignore nulls and do not accept `RESPECT NULLS`. For example, `sum(column) OVER (ORDER BY time) AS cumulativeColumn` computes a cumulative sum where rows with a `NULL` value of `column` have the same value of `cumulativeColumn` as the row that precedes them.\n\n## Evaluation\n\nWindowing works by breaking a relation up into independent *partitions*,\n*ordering* those partitions,\nand then computing a new column for each row as a function of the nearby values.\nSome window functions depend only on the partition boundary and the ordering,\nbut a few (including all the aggregates) also use a *frame*.\nFrames are specified as a number of rows on either side (*preceding* or *following*) of the *current row*.\nThe distance can be specified as a number of *rows*,\nas a *range* of values using the partition\'s ordering value and a distance,\nor as a number of *groups* (sets of rows with the same sort value).\n\nThe full syntax is shown in the diagram at the top of the page,\nand this diagram visually illustrates computation environment:\n\n<img src="/images/framing-light.png" alt="The Window Computation Environment" title="Figure 1: The Window Computation Environment" style="max-width:90%;width:90%;height:auto" class="lightmode-img" />\n<img src="/images/framing-dark.png" alt="The Window Computation Environment" title="Figure 1: The Window Computation Environment" style="max-width:90%;width:90%;height:auto" class="darkmode-img" />\n\n### Partition and Ordering\n\nPartitioning breaks the relation up into independent, unrelated pieces.\nPartitioning is optional, and if none is specified then the entire relation is treated as a single partition.\nWindow functions cannot access values outside of the partition containing the row they are being evaluated at.\n\nOrdering is also optional, but without it the results of [general-purpose window functions](#general-purpose-window-functions) and [order-sensitive aggregate functions]({% link docs/stable/sql/functions/aggregates.md %}#order-by-clause-in-aggregate-functions), and the order of [framing](#framing) are not well-defined.\nEach partition is ordered using the same ordering clause.\n\nHere is a table of power generation data, available as a CSV file ([`power-plant-generation-history.csv`]({% link data/power-plant-generation-history.csv %})). To load the data, run:\n\n```sql\nCREATE TABLE "Generation History" AS\n    FROM \'power-plant-generation-history.csv\';\n```\n\nAfter partitioning by plant and ordering by date, it will have this layout:\n\n| Plant | Date | MWh |\n|:---|:---|---:|\n| Boston | 2019-01-02 | 564337 |\n| Boston | 2019-01-03 | 507405 |\n| Boston | 2019-01-04 | 528523 |\n| Boston | 2019-01-05 | 469538 |\n| Boston | 2019-01-06 | 474163 |\n| Boston | 2019-01-07 | 507213 |\n| Boston | 2019-01-08 | 613040 |\n| Boston | 2019-01-09 | 582588 |\n| Boston | 2019-01-10 | 499506 |\n| Boston | 2019-01-11 | 482014 |\n| Boston | 2019-01-12 | 486134 |\n| Boston | 2019-01-13 | 531518 |\n| Worcester | 2019-01-02 | 118860 |\n| Worcester | 2019-01-03 | 101977 |\n| Worcester | 2019-01-04 | 106054 |\n| Worcester | 2019-01-05 | 92182 |\n| Worcester | 2019-01-06 | 94492 |\n| Worcester | 2019-01-07 | 99932 |\n| Worcester | 2019-01-08 | 118854 |\n| Worcester | 2019-01-09 | 113506 |\n| Worcester | 2019-01-10 | 96644 |\n| Worcester | 2019-01-11 | 93806 |\n| Worcester | 2019-01-12 | 98963 |\n| Worcester | 2019-01-13 | 107170 |\n\nIn what follows,\nwe shall use this table (or small sections of it) to illustrate various pieces of window function evaluation.\n\nThe simplest window function is `row_number()`.\nThis function just computes the 1-based row number within the partition using the query:\n\n```sql\nSELECT\n    "Plant",\n    "Date",\n    row_number() OVER (PARTITION BY "Plant" ORDER BY "Date") AS "Row"\nFROM "Generation History"\nORDER BY 1, 2;\n```\n\nThe result will be the following:\n\n| Plant | Date | Row |\n|:---|:---|---:|\n| Boston | 2019-01-02 | 1 |\n| Boston | 2019-01-03 | 2 |\n| Boston | 2019-01-04 | 3 |\n| ... | ... | ... |\n| Worcester | 2019-01-02 | 1 |\n| Worcester | 2019-01-03 | 2 |\n| Worcester | 2019-01-04 | 3 |\n| ... | ... | ... |\n\nNote that even though the function is computed with an `ORDER BY` clause,\nthe result does not have to be sorted,\nso the `SELECT` also needs to be explicitly sorted if that is desired.\n\n### Framing\n\nFraming specifies a set of rows relative to each row where the function is evaluated.\nThe distance from the current row is given as an expression either `PRECEDING` or `FOLLOWING` the current row in the order specified by the `ORDER BY` clause in the `OVER` specification.\nThis distance can either be specified as an integral number of `ROWS` or `GROUPS`,\nor as a `RANGE` delta expression. It is invalid for a frame to start after it ends.\nFor a `RANGE` specification, there must  be only one ordering expression and it must support subtraction unless only the sentinel boundary values `UNBOUNDED PRECEDING` / `UNBOUNDED FOLLOWING` / `CURRENT ROW` are used.\nUsing the [`EXCLUDE` clause](#exclude-clause), rows comparing equal to the current row in the specified ordering expression (so-called peers) can be excluded from the frame.\n\nThe default frame is unbounded (i.e., the entire partition) when no `ORDER BY` clause is present and `RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW` when an `ORDER BY` clause is present. By default, the `CURRENT ROW` boundary value (but not the `CURRENT ROW` in the `EXCLUDE` clause) means the current row and all its peers when `RANGE` or `GROUP` framing are used but it means only the current row when `ROWS` framing is used.\n\n#### `ROWS` Framing\n\nHere is a simple `ROW` frame query, using an aggregate function:\n\n```sql\nSELECT points,\n    sum(points) OVER (\n        ROWS BETWEEN 1 PRECEDING\n                 AND 1 FOLLOWING) AS we\nFROM results;\n```\n\nThis query computes the `sum` of each point and the points on either side of it:\n\n<img src="/images/blog/windowing/moving-sum.jpg" alt="Moving SUM of three values" title="Figure 2: A moving SUM of three values" style="max-width:90%;width:90%;height:auto"/>\n\nNotice that at the edge of the partition, there are only two values added together.\nThis is because frames are cropped to the edge of the partition.\n\n#### `RANGE` Framing\n\nReturning to the power data, suppose the data is noisy.\nWe might want to compute a 7 day moving average for each plant to smooth out the noise.\nTo do this, we can use this window query:\n\n```sql\nSELECT "Plant", "Date",\n    avg("MWh") OVER (\n        PARTITION BY "Plant"\n        ORDER BY "Date" ASC\n        RANGE BETWEEN INTERVAL 3 DAYS PRECEDING\n                  AND INTERVAL 3 DAYS FOLLOWING)\n        AS "MWh 7-day Moving Average"\nFROM "Generation History"\nORDER BY 1, 2;\n```\n\nThis query partitions the data by `Plant` (to keep the different power plants\' data separate),\norders each plant\'s partition by `Date` (to put the energy measurements next to each other),\nand uses a `RANGE` frame of three days on either side of each day for the `avg`\n(to handle any missing days).\nThis is the result:\n\n| Plant | Date | MWh 7-day Moving Average |\n|:---|:---|---:|\n| Boston | 2019-01-02 | 517450.75 |\n| Boston | 2019-01-03 | 508793.20 |\n| Boston | 2019-01-04 | 508529.83 |\n| ... | ... | ... |\n| Boston | 2019-01-13 | 499793.00 |\n| Worcester | 2019-01-02 | 104768.25 |\n| Worcester | 2019-01-03 | 102713.00 |\n| Worcester | 2019-01-04 | 102249.50 |\n| ... | ... | ... |\n\n#### `GROUPS` Framing\n\nThe third type of framing counts *groups* of rows relative the current row.\nA *group* in this framing is a set of values with identical `ORDER BY` values.\nIf we assume that power is being generated on every day,\nwe can use `GROUPS` framing to compute the moving average of all power generated in the system\nwithout having to resort to date arithmetic:\n\n```sql\nSELECT "Date", "Plant",\n    avg("MWh") OVER (\n        ORDER BY "Date" ASC\n        GROUPS BETWEEN 3 PRECEDING\n                   AND 3 FOLLOWING)\n        AS "MWh 7-day Moving Average"\nFROM "Generation History"\nORDER BY 1, 2;\n```\n\n|    Date    |   Plant   | MWh 7-day Moving Average |\n|------------|-----------|-------------------------:|\n| 2019-01-02 | Boston    | 311109.500               |\n| 2019-01-02 | Worcester | 311109.500               |\n| 2019-01-03 | Boston    | 305753.100               |\n| 2019-01-03 | Worcester | 305753.100               |\n| 2019-01-04 | Boston    | 305389.667               |\n| 2019-01-04 | Worcester | 305389.667               |\n| ... | ... | ... |\n| 2019-01-12 | Boston    | 309184.900               |\n| 2019-01-12 | Worcester | 309184.900               |\n| 2019-01-13 | Boston    | 299469.375               |\n| 2019-01-13 | Worcester | 299469.375               |\n\nNotice how the values for each date are the same.\n\n#### `EXCLUDE` Clause\n\n`EXCLUDE` is an optional modifier to the frame clause for excluding rows around the `CURRENT ROW`.\nThis is useful when you want to compute some aggregate value of nearby rows\nto see how the current row compares to it.\n\nIn the following example, we want to know how an athlete\'s time in an event compares to\nthe average of all the times recorded for their event within 10 days:\n\n```sql\nSELECT\n    event,\n    date,\n    athlete,\n    avg(time) OVER w AS recent,\nFROM results\nWINDOW w AS (\n    PARTITION BY event\n    ORDER BY date\n    RANGE BETWEEN INTERVAL 10 DAYS PRECEDING AND INTERVAL 10 DAYS FOLLOWING\n        EXCLUDE CURRENT ROW\n)\nORDER BY event, date, athlete;\n```\n\nThere are four options for `EXCLUDE` that specify how to treat the current row:\n\n* `CURRENT ROW`  exclude just the current row\n* `GROUP`  exclude the current row and all its peers (rows that have the same `ORDER BY` value)\n* `TIES`  exclude all peer rows, but _not_ the current row (this makes a hole on either side)\n* `NO OTHERS`  don\'t exclude anything (the default)\n\nExclusion is implemented for both windowed aggregates as well as for the `first`, `last` and `nth_value` functions.\n\n### `WINDOW` Clauses\n\nMultiple different `OVER` clauses can be specified in the same `SELECT`, and each will be computed separately.\nOften, however, we want to use the same layout for multiple window functions.\nThe `WINDOW` clause can be used to define a *named* window that can be shared between multiple window functions:\n\n```sql\nSELECT "Plant", "Date",\n    min("MWh") OVER seven AS "MWh 7-day Moving Minimum",\n    avg("MWh") OVER seven AS "MWh 7-day Moving Average",\n    max("MWh") OVER seven AS "MWh 7-day Moving Maximum"\nFROM "Generation History"\nWINDOW seven AS (\n    PARTITION BY "Plant"\n    ORDER BY "Date" ASC\n    RANGE BETWEEN INTERVAL 3 DAYS PRECEDING\n              AND INTERVAL 3 DAYS FOLLOWING)\nORDER BY 1, 2;\n```\n\nThe three window functions will also share the data layout, which will improve performance.\n\nMultiple windows can be defined in the same `WINDOW` clause by comma-separating them:\n\n```sql\nSELECT "Plant", "Date",\n    min("MWh") OVER seven AS "MWh 7-day Moving Minimum",\n    avg("MWh") OVER seven AS "MWh 7-day Moving Average",\n    max("MWh") OVER seven AS "MWh 7-day Moving Maximum",\n    min("MWh") OVER three AS "MWh 3-day Moving Minimum",\n    avg("MWh") OVER three AS "MWh 3-day Moving Average",\n    max("MWh") OVER three AS "MWh 3-day Moving Maximum"\nFROM "Generation History"\nWINDOW\n    seven AS (\n        PARTITION BY "Plant"\n        ORDER BY "Date" ASC\n        RANGE BETWEEN INTERVAL 3 DAYS PRECEDING\n                  AND INTERVAL 3 DAYS FOLLOWING),\n    three AS (\n        PARTITION BY "Plant"\n        ORDER BY "Date" ASC\n        RANGE BETWEEN INTERVAL 1 DAYS PRECEDING\n        AND INTERVAL 1 DAYS FOLLOWING)\nORDER BY 1, 2;\n```\n\nThe queries above do not use a number of clauses commonly found in select statements, like\n`WHERE`, `GROUP BY`, etc. For more complex queries you can find where `WINDOW` clauses fall in\nthe canonical order of the [`SELECT statement`]({% link docs/stable/sql/statements/select.md %}).\n\n### Filtering the Results of Window Functions Using `QUALIFY`\n\nWindow functions are executed after the [`WHERE`]({% link docs/stable/sql/query_syntax/where.md %}) and [`HAVING`]({% link docs/stable/sql/query_syntax/having.md %}) clauses have been already evaluated, so it\'s not possible to use these clauses to filter the results of window functions\nThe [`QUALIFY` clause]({% link docs/stable/sql/query_syntax/qualify.md %}) avoids the need for a subquery or [`WITH` clause]({% link docs/stable/sql/query_syntax/with.md %}) to perform this filtering.\n\n### Box and Whisker Queries\n\nAll aggregates can be used as windowing functions, including the complex statistical functions.\nThese function implementations have been optimized for windowing,\nand we can use the window syntax to write queries that generate the data for moving box-and-whisker plots:\n\n```sql\nSELECT "Plant", "Date",\n    min("MWh") OVER seven AS "MWh 7-day Moving Minimum",\n    quantile_cont("MWh", [0.25, 0.5, 0.75]) OVER seven\n        AS "MWh 7-day Moving IQR",\n    max("MWh") OVER seven AS "MWh 7-day Moving Maximum",\nFROM "Generation History"\nWINDOW seven AS (\n    PARTITION BY "Plant"\n    ORDER BY "Date" ASC\n    RANGE BETWEEN INTERVAL 3 DAYS PRECEDING\n              AND INTERVAL 3 DAYS FOLLOWING)\nORDER BY 1, 2;\n```\n',"with.md":`---
title: WITH Clause
---

The \`WITH\` clause allows you to specify common table expressions (CTEs).
Regular (non-recursive) common-table-expressions are essentially views that are limited in scope to a particular query.
CTEs can reference each-other and can be nested. [Recursive CTEs](#recursive-ctes) can reference themselves.

## Basic CTE Examples

Create a CTE called \`cte\` and use it in the main query:

\`\`\`sql
WITH cte AS (SELECT 42 AS x)
SELECT * FROM cte;
\`\`\`

| x  |
|---:|
| 42 |

Create two CTEs \`cte1\` and \`cte2\`, where the second CTE references the first CTE:

\`\`\`sql
WITH
    cte1 AS (SELECT 42 AS i),
    cte2 AS (SELECT i * 100 AS x FROM cte1)
SELECT * FROM cte2;
\`\`\`

|  x   |
|-----:|
| 4200 |

You can specify column names for CTEs:

\`\`\`sql
WITH cte(j) AS (SELECT 42 AS i)
FROM cte;
\`\`\`

## CTE Materialization

DuckDB handles CTEs as _materialized_ by default, meaning that the CTE is evaluated
once and the result is stored in a temporary table. However, under certain conditions,
DuckDB can _inline_ the CTE into the main query, which means that the CTE is not
materialized and its definition is duplicated in each place it is referenced.
Inlining is done using the following heuristics:
* The CTE is not referenced more than once.
* The CTE does not contain a \`VOLATILE\` function.
* The CTE is using \`AS NOT MATERIALIZED\` and does not use \`AS MATERIALIZED\`.
* The CTE does not perform a grouped aggregation.

Materialization can be explicitly activated by defining the CTE using \`AS MATERIALIZED\` and disabled by using \`AS NOT MATERIALIZED\`. Note that inlining is not always possible, even if the heuristics are met. For example, if the CTE contains a \`read_csv\` function, it cannot be inlined.

Take the following query for example, which invokes the same CTE three times:

\`\`\`sql
WITH t(x) AS (complex_query)
SELECT *
FROM
    t AS t1,
    t AS t2,
    t AS t3;
\`\`\`

Inlining duplicates the definition of \`t\` for each reference which results in the following query:

\`\`\`sql
SELECT *
FROM
    (complex_query) AS t1(x),
    (complex_query) AS t2(x),
    (complex_query) AS t3(x);
\`\`\`

If \`complex_query\` is expensive, materializing it with the \`MATERIALIZED\` keyword can improve performance. In this case, \`complex_query\` is evaluated only once.

\`\`\`sql
WITH t(x) AS MATERIALIZED (complex_query)
SELECT *
FROM
    t AS t1,
    t AS t2,
    t AS t3;
\`\`\`

If one wants to disable materialization, use \`NOT MATERIALIZED\`:

\`\`\`sql
WITH t(x) AS NOT MATERIALIZED (complex_query)
SELECT *
FROM
    t AS t1,
    t AS t2,
    t AS t3;
\`\`\`

Generally, it is not recommended to use explicit materialization hints, as DuckDB's query optimizer is capable of deciding when to materialize or inline a CTE based on the query structure and the heuristics mentioned above. However, in some cases, it may be beneficial to use \`MATERIALIZED\` or \`NOT MATERIALIZED\` to control the behavior explicitly.

## Recursive CTEs

\`WITH RECURSIVE\` allows the definition of CTEs which can refer to themselves. Note that the query must be formulated in a way that ensures termination, otherwise, it may run into an infinite loop.

### Example: Fibonacci Sequence

\`WITH RECURSIVE\` can be used to make recursive calculations. For example, here is how \`WITH RECURSIVE\` could be used to calculate the first ten Fibonacci numbers:

\`\`\`sql
WITH RECURSIVE FibonacciNumbers (
    RecursionDepth, FibonacciNumber, NextNumber
) AS (
        -- Base case
        SELECT
            0 AS RecursionDepth,
            0 AS FibonacciNumber,
            1 AS NextNumber
        UNION ALL
        -- Recursive step
        SELECT
            fib.RecursionDepth + 1 AS RecursionDepth,
            fib.NextNumber AS FibonacciNumber,
            fib.FibonacciNumber + fib.NextNumber AS NextNumber
        FROM
            FibonacciNumbers fib
        WHERE
            fib.RecursionDepth + 1 < 10
    )
SELECT
    fn.RecursionDepth AS FibonacciNumberIndex,
    fn.FibonacciNumber
FROM
    FibonacciNumbers fn;
\`\`\`

| FibonacciNumberIndex | FibonacciNumber |
|---------------------:|----------------:|
| 0                    | 0               |
| 1                    | 1               |
| 2                    | 1               |
| 3                    | 2               |
| 4                    | 3               |
| 5                    | 5               |
| 6                    | 8               |
| 7                    | 13              |
| 8                    | 21              |
| 9                    | 34              |

### Example: Tree Traversal

\`WITH RECURSIVE\` can be used to traverse trees. For example, take a hierarchy of tags:

<img src="/images/examples/with-recursive-tree-example-light.svg" alt="Example graph" style="width: 700px; text-align: center" class="lightmode-img">
<img src="/images/examples/with-recursive-tree-example-dark.svg" alt="Example graph" style="width: 700px; text-align: center" class="darkmode-img">

\`\`\`sql
CREATE TABLE tag (id INTEGER, name VARCHAR, subclassof INTEGER);
INSERT INTO tag VALUES
    (1, 'U2',     5),
    (2, 'Blur',   5),
    (3, 'Oasis',  5),
    (4, '2Pac',   6),
    (5, 'Rock',   7),
    (6, 'Rap',    7),
    (7, 'Music',  9),
    (8, 'Movies', 9),
    (9, 'Art', NULL);
\`\`\`

The following query returns the path from the node \`Oasis\` to the root of the tree (\`Art\`).

\`\`\`sql
WITH RECURSIVE tag_hierarchy(id, source, path) AS (
        SELECT id, name, [name] AS path
        FROM tag
        WHERE subclassof IS NULL
    UNION ALL
        SELECT tag.id, tag.name, list_prepend(tag.name, tag_hierarchy.path)
        FROM tag, tag_hierarchy
        WHERE tag.subclassof = tag_hierarchy.id
    )
SELECT path
FROM tag_hierarchy
WHERE source = 'Oasis';
\`\`\`

|           path            |
|---------------------------|
| [Oasis, Rock, Music, Art] |

### Graph Traversal

The \`WITH RECURSIVE\` clause can be used to express graph traversal on arbitrary graphs. However, if the graph has cycles, the query must perform cycle detection to prevent infinite loops.
One way to achieve this is to store the path of a traversal in a [list]({% link docs/stable/sql/data_types/list.md %}) and, before extending the path with a new edge, check whether its endpoint has been visited before (see the example later).

Take the following directed graph from the [LDBC Graphalytics benchmark](https://arxiv.org/pdf/2011.15028.pdf):

<img src="/images/examples/with-recursive-graph-example-light.svg" alt="Example graph" style="width: 700px; text-align: center" class="lightmode-img">
<img src="/images/examples/with-recursive-graph-example-dark.svg" alt="Example graph" style="width: 700px; text-align: center" class="darkmode-img">

\`\`\`sql
CREATE TABLE edge (node1id INTEGER, node2id INTEGER);
INSERT INTO edge VALUES
    (1, 3), (1, 5), (2, 4), (2, 5), (2, 10), (3, 1),
    (3, 5), (3, 8), (3, 10), (5, 3), (5, 4), (5, 8),
    (6, 3), (6, 4), (7, 4), (8, 1), (9, 4);
\`\`\`

Note that the graph contains directed cycles, e.g., between nodes 1, 5 and 8.

#### Enumerate All Paths from a Node

The following query returns **all paths** starting in node 1:

\`\`\`sql
WITH RECURSIVE paths(startNode, endNode, path) AS (
        SELECT -- Define the path as the first edge of the traversal
            node1id AS startNode,
            node2id AS endNode,
            [node1id, node2id] AS path
        FROM edge
        WHERE startNode = 1
        UNION ALL
        SELECT -- Concatenate new edge to the path
            paths.startNode AS startNode,
            node2id AS endNode,
            array_append(path, node2id) AS path
        FROM paths
        JOIN edge ON paths.endNode = node1id
        -- Prevent adding a repeated node to the path.
        -- This ensures that no cycles occur.
        WHERE list_position(paths.path, node2id) IS NULL
    )
SELECT startNode, endNode, path
FROM paths
ORDER BY length(path), path;
\`\`\`

| startNode | endNode |     path      |
|----------:|--------:|---------------|
| 1         | 3       | [1, 3]        |
| 1         | 5       | [1, 5]        |
| 1         | 5       | [1, 3, 5]     |
| 1         | 8       | [1, 3, 8]     |
| 1         | 10      | [1, 3, 10]    |
| 1         | 3       | [1, 5, 3]     |
| 1         | 4       | [1, 5, 4]     |
| 1         | 8       | [1, 5, 8]     |
| 1         | 4       | [1, 3, 5, 4]  |
| 1         | 8       | [1, 3, 5, 8]  |
| 1         | 8       | [1, 5, 3, 8]  |
| 1         | 10      | [1, 5, 3, 10] |

Note that the result of this query is not restricted to shortest paths, e.g., for node 5, the results include paths \`[1, 5]\` and \`[1, 3, 5]\`.

#### Enumerate Unweighted Shortest Paths from a Node

In most cases, enumerating all paths is not practical or feasible. Instead, only the **(unweighted) shortest paths** are of interest. To find these, the second half of the \`WITH RECURSIVE\` query should be adjusted such that it only includes a node if it has not yet been visited. This is implemented by using a subquery that checks if any of the previous paths includes the node:

\`\`\`sql
WITH RECURSIVE paths(startNode, endNode, path) AS (
        SELECT -- Define the path as the first edge of the traversal
            node1id AS startNode,
            node2id AS endNode,
            [node1id, node2id] AS path
        FROM edge
        WHERE startNode = 1
        UNION ALL
        SELECT -- Concatenate new edge to the path
            paths.startNode AS startNode,
            node2id AS endNode,
            array_append(path, node2id) AS path
        FROM paths
        JOIN edge ON paths.endNode = node1id
        -- Prevent adding a node that was visited previously by any path.
        -- This ensures that (1) no cycles occur and (2) only nodes that
        -- were not visited by previous (shorter) paths are added to a path.
        WHERE NOT EXISTS (
                FROM paths previous_paths
                WHERE list_contains(previous_paths.path, node2id)
              )
    )
SELECT startNode, endNode, path
FROM paths
ORDER BY length(path), path;
\`\`\`

| startNode | endNode |    path    |
|----------:|--------:|------------|
| 1         | 3       | [1, 3]     |
| 1         | 5       | [1, 5]     |
| 1         | 8       | [1, 3, 8]  |
| 1         | 10      | [1, 3, 10] |
| 1         | 4       | [1, 5, 4]  |
| 1         | 8       | [1, 5, 8]  |

#### Enumerate Unweighted Shortest Paths between Two Nodes

\`WITH RECURSIVE\` can also be used to find **all (unweighted) shortest paths between two nodes**. To ensure that the recursive query is stopped as soon as we reach the end node, we use a [window function]({% link docs/stable/sql/functions/window_functions.md %}) which checks whether the end node is among the newly added nodes.

The following query returns all unweighted shortest paths between nodes 1 (start node) and 8 (end node):

\`\`\`sql
WITH RECURSIVE paths(startNode, endNode, path, endReached) AS (
   SELECT -- Define the path as the first edge of the traversal
        node1id AS startNode,
        node2id AS endNode,
        [node1id, node2id] AS path,
        (node2id = 8) AS endReached
     FROM edge
     WHERE startNode = 1
   UNION ALL
   SELECT -- Concatenate new edge to the path
        paths.startNode AS startNode,
        node2id AS endNode,
        array_append(path, node2id) AS path,
        max(CASE WHEN node2id = 8 THEN 1 ELSE 0 END)
            OVER (ROWS BETWEEN UNBOUNDED PRECEDING
                           AND UNBOUNDED FOLLOWING) AS endReached
     FROM paths
     JOIN edge ON paths.endNode = node1id
    WHERE NOT EXISTS (
            FROM paths previous_paths
            WHERE list_contains(previous_paths.path, node2id)
          )
      AND paths.endReached = 0
)
SELECT startNode, endNode, path
FROM paths
WHERE endNode = 8
ORDER BY length(path), path;
\`\`\`

| startNode | endNode |   path    |
|----------:|--------:|-----------|
| 1         | 8       | [1, 3, 8] |
| 1         | 8       | [1, 5, 8] |

## Recursive CTEs with \`USING KEY\`

\`USING KEY\` alters the behavior of a regular recursive CTE.

In each iteration, a regular recursive CTE appends result rows to the union table, which ultimately defines the overall result of the CTE. In contrast, a CTE with \`USING KEY\` has the ability to update rows that have been placed in the union table in an earlier iteration: if the current iteration produces a row with key \`k\`, it replaces a row with the same key \`k\` in the union table (like a dictionary). If no such row exists in the union table yet, the new row is appended to the union table as usual.

This allows a CTE to exercise fine-grained control over the union table contents. Avoiding the append-only behavior can lead to significantly smaller union table sizes. This helps query runtime, memory consumption, and makes it feasible to access the union table while the iteration is still ongoing (this is impossible for regular recursive CTEs): in a CTE \`WITH RECURSIVE T(...) USING KEY ...\`, table \`T\` denotes the rows added by the last iteration (as is usual for recursive CTEs), while table \`recurring.T\` denotes the union table built so far. References to \`recurring.T\` allow for the elegant and idiomatic translation of rather complex algorithms into readable SQL code.

### Example: \`USING KEY\`

This is a recursive CTE where \`USING KEY\` has a key column (\`a\`) and a payload column (\`b\`).
The payload columns correspond to the columns to be overwritten.
In the first iteration we have two different keys, \`1\` and \`2\`.
These two keys will generate two new rows, \`(1, 3)\` and \`(2, 4)\`.
In the next iteration we produce a new key, \`3\`, which generates a new row.
We also generate the row \`(2, 3)\`, where \`2\` is a key that already exists from the previous iteration.
This will overwrite the old payload \`4\` with the new payload \`3\`.

\`\`\`sql
WITH RECURSIVE tbl(a, b) USING KEY (a) AS (
    SELECT a, b
    FROM (VALUES (1, 3), (2, 4)) t(a, b)
        UNION
    SELECT a + 1, b
    FROM tbl
    WHERE a < 3
)
SELECT *
FROM tbl;
\`\`\`

| a | b |
|--:|--:|
| 1 | 3 |
| 2 | 3 |
| 3 | 3 |

## Using \`VALUES\`

You can use the \`VALUES\` clause for the initial (anchor) part of the CTE:

\`\`\`sql
WITH RECURSIVE tbl(a, b) USING KEY (a) AS (
    VALUES (1, 3), (2, 4)
        UNION
    SELECT a + 1, b
    FROM tbl
    WHERE a < 3
)
SELECT *
FROM tbl;
\`\`\`

### Example: \`USING KEY\` References Union Table

As well as using the union table as a dictionary, we can now reference it in queries. This allows you to use results from not just the previous iteration, but also earlier ones. This new feature makes certain algorithms easier to implement.

One example is the connected components algorithm. For each node, the algorithm determines the node with the lowest ID to which it is connected. To achieve this, we use the entries in the union table to track the lowest ID found for a node. If a new incoming row contains a lower ID, we update this value.

<img src="/images/examples/using-key-graph-example-light.svg" alt="Example graph" style="width: 700px; text-align: center" class="lightmode-img">
<img src="/images/examples/using-key-graph-example-dark.svg" alt="Example graph" style="width: 700px; text-align: center" class="darkmode-img">

\`\`\`sql
CREATE TABLE nodes (id INTEGER);
INSERT INTO nodes VALUES (1), (2), (3), (4), (5), (6), (7), (8);
CREATE TABLE edges (node1id INTEGER, node2id INTEGER);
INSERT INTO edges VALUES
    (1, 3), (2, 3), (3, 7), (7, 8), (5, 4), (6, 4);
\`\`\`

\`\`\`sql
WITH RECURSIVE connected_components(id, comp) USING KEY (id) AS (
    SELECT n.id, n.id AS comp
    FROM nodes AS n
        UNION (
    SELECT DISTINCT ON (previous_iter.id) previous_iter.id, initial_iter.comp
    FROM 
        recurring.connected_components AS previous_iter,
        connected_components AS initial_iter,
        edges AS e
    WHERE ((e.node1id, e.node2id) = (previous_iter.id, initial_iter.id)
       OR (e.node2id, e.node1id) = (previous_iter.id, initial_iter.id))
      AND initial_iter.comp < previous_iter.comp
    ORDER BY initial_iter.id ASC, previous_iter.comp ASC)
)
TABLE connected_components
ORDER BY id;
\`\`\`

| id | comp |
|---:|-----:|
| 1  | 1    |
| 2  | 1    |
| 3  | 1    |
| 4  | 4    |
| 5  | 4    |
| 6  | 4    |
| 7  | 1    |
| 8  | 1    |

## Limitations

DuckDB does not support mutually recursive CTEs. See the [related issue and discussion in the DuckDB repository](https://github.com/duckdb/duckdb/issues/14716#issuecomment-2467952456).

## Syntax

<div id="rrdiagram"></div>
`};function bo(e){if(typeof e=="string")return e;if(Array.isArray(e))return e.map(bo).join("");if(e&&typeof e=="object"){const t=e;if(typeof t.text=="string")return t.text;if(typeof t.summary=="string")return t.summary;if(Array.isArray(t.summary))return t.summary.map(bo).join("");if(typeof t.reasoning=="string")return t.reasoning}return""}function D_(e){if(!Array.isArray(e))return"";let t="";for(const n of e){if(!n||typeof n!="object")continue;const i=n;i.type==="reasoning.text"?t+=bo(i.text):i.type==="reasoning.summary"?t+=bo(i.summary):"text"in i&&(t+=bo(i.text))}return t}function Jet(e){return e.find(t=>t.trim().length>0)}function tnt(e){if(!e||typeof e!="object")return;const t=e,i=(Array.isArray(t.choices)?t.choices:[])[0],s=i&&typeof i=="object"?i:void 0,a=s?.message,o=a&&typeof a=="object"?a:void 0;return Jet([bo(o?.reasoning),D_(o?.reasoning_details),bo(s?.reasoning),D_(s?.reasoning_details),bo(t.reasoning),D_(t.reasoning_details)])}function ent(e){return e.map(t=>({type:"function",function:{name:t.name,description:t.description,parameters:t.parameters}}))}function nnt(e,t){const n=[{role:"system",content:e}];for(const i of t)i.role==="user"?n.push({role:"user",content:i.content}):i.role==="assistant"?n.push({role:"assistant",tool_calls:[{id:i.toolCall.id,type:"function",function:{name:i.toolCall.name,arguments:JSON.stringify(i.toolCall.arguments)}}]}):i.role==="tool_result"&&n.push({role:"tool",tool_call_id:i.toolCallId,content:i.content});return n}async function int(e){const{provider:t,systemPrompt:n,messages:i,tools:s,maxTokens:a=2048,abortSignal:o}=e,l=await fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json",...t.apiKey?{Authorization:`Bearer ${t.apiKey}`}:{}},body:JSON.stringify({model:t.model,messages:nnt(n,i),tools:ent(s),tool_choice:"required",max_tokens:a,temperature:.1}),signal:o});if(!l.ok){const g=await l.text();throw new Error(`API error (${l.status}): ${g}`)}const u=await l.json(),f=u.choices?.[0]?.message?.tool_calls?.[0];if(!f)throw new Error("No tool call in response");const m=tnt(u);return{toolCallId:f.id??`call_${Date.now()}`,functionName:f.function.name,arguments:JSON.parse(f.function.arguments),thinking:m}}function snt(e){const t=[];for(const n of e)n.role==="user"?t.push({role:"user",content:n.content}):n.role==="assistant"?t.push({role:"assistant",content:[{type:"tool_use",id:n.toolCall.id,name:n.toolCall.name,input:n.toolCall.arguments}]}):n.role==="tool_result"&&t.push({role:"user",content:[{type:"tool_result",tool_use_id:n.toolCallId,content:n.content}]});return t}function ant(e){return e.map(t=>({name:t.name,description:t.description,input_schema:t.parameters}))}async function rnt(e){const{provider:t,systemPrompt:n,messages:i,tools:s,maxTokens:a=2048,abortSignal:o}=e,l=await fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":t.apiKey,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:t.model,system:n,messages:snt(i),tools:ant(s),tool_choice:{type:"any"},max_tokens:a,temperature:.1}),signal:o});if(!l.ok){const g=await l.text();throw new Error(`Anthropic API error (${l.status}): ${g}`)}const u=await l.json(),h=u.content?.find(g=>g.type==="tool_use");if(!h)throw new Error("No tool call in response");const m=(u.content?.filter(g=>g.type==="thinking")??[]).map(g=>g.thinking).join("")||void 0;return{toolCallId:h.id,functionName:h.name,arguments:h.input,thinking:m}}function ont(e,t){const n=[];for(const i of t)if(i.role==="user")n.push({role:"user",parts:[{text:i.content}]});else if(i.role==="assistant"){const s={functionCall:{name:i.toolCall.name,args:i.toolCall.arguments}};i.thoughtSignature&&(s.thoughtSignature=i.thoughtSignature),n.push({role:"model",parts:[s]})}else i.role==="tool_result"&&n.push({role:"user",parts:[{functionResponse:{name:"tool_result",response:{content:i.content}}}]});return{contents:n,systemPrompt:e}}function lnt(e){return[{functionDeclarations:e.map(t=>({name:t.name,description:t.description,parameters:{type:"OBJECT",properties:Object.fromEntries(Object.entries(t.parameters.properties).map(([n,i])=>[n,{type:i.type.toUpperCase(),description:i.description}])),required:t.parameters.required}}))}]}async function cnt(e){const{provider:t,systemPrompt:n,messages:i,tools:s,maxTokens:a=2048,abortSignal:o}=e,l=`${t.endpoint}/${t.model}:generateContent?key=${t.apiKey}`,{contents:u}=ont(n,i),h=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({system_instruction:{parts:[{text:n}]},contents:u,tools:lnt(s),toolConfig:{functionCallingConfig:{mode:"ANY"}},generationConfig:{maxOutputTokens:a,temperature:.1}}),signal:o});if(!h.ok){const w=await h.text();throw new Error(`Gemini API error (${h.status}): ${w}`)}const m=(await h.json()).candidates?.[0]?.content?.parts??[],g=m.find(w=>w.functionCall);if(!g?.functionCall)throw new Error("No tool call in response");const y=g.functionCall,_=g.thoughtSignature??void 0,b=m.filter(w=>w.text).map(w=>w.text).join("")||void 0;return{toolCallId:`gemini_${Date.now()}`,functionName:y.name,arguments:y.args??{},thinking:b,thoughtSignature:_}}function unt(e){let t;const n=e.match(/<think>([\s\S]*?)<\/think>/);n&&(t=n[1].trim()||void 0,e=e.replace(/<think>[\s\S]*?<\/think>/g,"").trim());const i=e.match(/<tool_call>\s*([\s\S]*?)\s*<\/tool_call>/);if(i)try{const o=JSON.parse(i[1]);return{toolCallId:`browser_local_${Date.now()}`,functionName:o.name,arguments:o.arguments??{},thinking:t}}catch{}const s=e.match(/\{[\s\S]*"name"\s*:\s*"[^"]+"\s*[\s\S]*"arguments"\s*:\s*\{[\s\S]*\}[\s\S]*\}/);if(s)try{const o=JSON.parse(s[0]);if(o.name&&typeof o.name=="string")return{toolCallId:`browser_local_${Date.now()}`,functionName:o.name,arguments:o.arguments??{},thinking:t}}catch{}const a=e.replace(/^```(?:sql)?\s*\n?/i,"").replace(/\n?```\s*$/i,"").trim();return{toolCallId:`browser_local_${Date.now()}`,functionName:"run_sql_query",arguments:{sql:a},thinking:t}}async function hnt(e){const{provider:t,systemPrompt:n,messages:i,tools:s,maxTokens:a=2048,worker:o,abortSignal:l}=e;if(!o)throw new Error("Browser-local model worker not available. Load a model first in Settings.");const u=[];for(const g of i)if(g.role==="user"||g.role==="system")u.push({role:g.role,content:g.content});else if(g.role==="assistant"&&"toolCall"in g){const y=g.toolCall;u.push({role:"assistant",content:`<tool_call>
{"name": "${y.name}", "arguments": ${JSON.stringify(y.arguments)}}
</tool_call>`})}else g.role==="tool_result"&&u.push({role:"tool",content:g.content});const h=s.map(g=>({type:"function",function:{name:g.name,description:g.description,parameters:g.parameters}})),f=localStorage.getItem("browser_local_log_calls")==="true",m={modelId:t.model,systemPrompt:n,messages:u,tools:h,maxNewTokens:a};return f&&console.log("[browser-local] Request:",m),new Promise((g,y)=>{const _=b=>{const w=b.data;if(w.status==="update")e.onUpdate?.(w.output,w.tps);else if(w.status==="complete"){o.removeEventListener("message",_),f&&console.log("[browser-local] Raw output:",w.output);try{const S=unt(w.output);f&&console.log("[browser-local] Parsed tool call:",S),g(S)}catch(S){y(S)}}else w.status==="error"&&(o.removeEventListener("message",_),f&&console.error("[browser-local] Error:",w.data),y(new Error(w.data)))};if(l){if(l.aborted){y(new Error("Generation aborted"));return}const b=()=>{o.removeEventListener("message",_),o.postMessage({type:"interrupt"}),y(new Error("Generation aborted"))};l.addEventListener("abort",b)}o.addEventListener("message",_),o.postMessage({type:"generate-tool-call",data:m})})}async function dnt(e){switch(e.provider.type){case"openai":case"openrouter":case"custom":return int(e);case"anthropic":return rnt(e);case"gemini":return cnt(e);case"browser-local":return hnt(e);default:throw new Error(`Unsupported provider type: ${e.provider.type}`)}}const fnt={prefix:"",getKey:e=>e},NB=ft.createContext(fnt);function pnt({children:e,prefix:t=""}){const i={prefix:t,getKey:s=>t?`${t}:${s}`:s};return z.jsx(NB.Provider,{value:i,children:e})}function ky(){return ft.useContext(NB)}const O_="local-storage-sync";function oa(e,t){const{getKey:n}=ky(),i=n(e),[s,a]=ft.useState(()=>{try{const l=localStorage.getItem(i);return l?JSON.parse(l):t}catch{return t}}),o=ft.useCallback(l=>{a(u=>{const h=l instanceof Function?l(u):l,f=JSON.stringify(h);return localStorage.setItem(i,f),window.dispatchEvent(new CustomEvent(O_,{detail:{key:i,value:f}})),h})},[i]);return ft.useEffect(()=>{const l=u=>{const{key:h,value:f}=u.detail;if(h===i)try{a(JSON.parse(f))}catch{}};return window.addEventListener(O_,l),()=>window.removeEventListener(O_,l)},[i]),[s,o]}const $g=[{id:"openai",name:"OpenAI",type:"openai",storageKey:"openai_api_key",endpoint:"https://api.openai.com/v1/chat/completions",defaultModels:["gpt-5-nano"]},{id:"anthropic",name:"Anthropic",type:"anthropic",storageKey:"anthropic_api_key",endpoint:"https://api.anthropic.com/v1/messages",defaultModels:["claude-3-haiku-20240307","claude-3-5-haiku-20241022","claude-haiku-4-5-20251001"]},{id:"gemini",name:"Google Gemini",type:"gemini",storageKey:"gemini_api_key",endpoint:"https://generativelanguage.googleapis.com/v1beta/models",defaultModels:["gemini-2.5-flash-lite","gemini-3-flash-preview"]},{id:"openrouter",name:"OpenRouter",type:"openrouter",storageKey:"openrouter_api_key",endpoint:"https://openrouter.ai/api/v1/chat/completions",defaultModels:[]}],na="browser-local",IB=["onnx-community/Qwen3-0.6B-ONNX"];function mnt(){const{getKey:e}=ky(),[t]=oa("enabled_providers",[]),[n]=oa("selected_models_by_provider",{}),[i]=oa("custom_providers",[]),[s,a]=ft.useState(0);return ft.useEffect(()=>{const o=()=>a(u=>u+1),l=u=>{const h=u.detail;$g.some(f=>e(f.storageKey)===h.key)&&o()};return window.addEventListener("local-storage-sync",l),window.addEventListener("api-key-changed",o),()=>{window.removeEventListener("local-storage-sync",l),window.removeEventListener("api-key-changed",o)}},[e]),ft.useMemo(()=>{const o=[];if(t.includes(na)){const l=n[na]??[];for(const u of l)o.push({providerId:na,providerName:"Browser Local",providerType:"browser-local",model:u,endpoint:"",apiKey:""});if(l.length===0)for(const u of IB)o.push({providerId:na,providerName:"Browser Local",providerType:"browser-local",model:u,endpoint:"",apiKey:""})}for(const l of $g){if(!t.includes(l.id))continue;const u=localStorage.getItem(e(l.storageKey))??"";if(!u&&l.type!=="custom")continue;const h=n[l.id]??[],f=h.length>0?h:l.defaultModels;for(const m of f)o.push({providerId:l.id,providerName:l.name,providerType:l.type,model:m,endpoint:l.endpoint,apiKey:u})}for(const l of i)l.enabled&&o.push({providerId:l.id,providerName:l.name||"Custom",providerType:"custom",model:"default",endpoint:l.endpoint.replace(/\/+$/,"")+"/chat/completions",apiKey:l.apiKey});return o},[t,n,i,s,e])}const jp={name:"run_sql_query",description:"Execute a SQL query against the DuckDB database. Call this when you have a SQL query ready to run.",parameters:{type:"object",properties:{sql:{type:"string",description:"The DuckDB SQL query to execute. ONLY ever pass SQL to this"}},required:["sql"]}},M_={name:"results_ok",description:"Confirm that the query results correctly answer the user's question. Call this when the results look correct.",parameters:{type:"object",properties:{},required:[]}},Wp={name:"read_file",description:"Read a documentation file to learn about available DuckDB functions. Call this before writing SQL if you need reference information.",parameters:{type:"object",properties:{filename:{type:"string",description:`Name of the documentation file. Available files: ${Object.keys(Pg).join(", ")}`}},required:["filename"]}};function gnt(e){const t=ynt(e),n=Object.entries(Pg).map(([i,s])=>`- ${i}: ${s}`).join(`
`);return`You are a SQL query generator for DuckDB.
Generate SQL queries that answer the user's questions using DuckDB SQL syntax.

${t}

You have two tools available:

1. read_file(filename)  Read a DuckDB documentation file. Use this to look up syntax, functions, or clauses you are unsure about BEFORE writing your query. Available files:
${n}

2. run_sql_query(sql)  Execute a SQL query against the DuckDB database.

Workflow:
- If you are unsure about any DuckDB syntax or functions, call read_file first to look up the relevant documentation.
- Then call run_sql_query with your SQL query. Important: Only ever pass SQL to run_sql_query or an error will occur.
- If the query returns an error, consider using read_file to check the correct syntax, then call run_sql_query with a corrected query.`}function ynt(e){const t=Object.entries(e);if(t.length===0)return"No tables exist yet. You can use DuckDB built-in functions, generate_series(), VALUES clauses, or read_csv()/read_parquet() with URLs.";const n=[`Available tables:
`];for(const[i,s]of t){const a=s.map(o=>`${o.col} (${o.type})`).join(", ");n.push(`Table "${i}":`),n.push(`  Columns: ${a}
`)}return n.join(`
`)}function bnt(e){if(!Pg[e])return`Error: Unknown file "${e}". Available files: ${Object.keys(Pg).join(", ")}`;const t=Ket[e];return t||`Error: Documentation file "${e}" not bundled`}function _nt(e){const t=e.rows[0],n=t?e.columns.map(i=>`${i}=${t[i]??"NULL"}`).join(", "):"(empty)";return`Query executed successfully. Verify these results match the request.

  If they do, call the \`results_ok()\` function.

  If they do not, use \`read_file\` to consult documentation and \`run_sql_query\` to run the corrected query.

  Returned ${e.numRows} row(s).
Columns: ${e.columns.join(", ")}
First row: ${n}`}let vnt=0;function xnt({schema:e,queryResult:t,queryError:n,onGenerateSQL:i,workerRef:s,externalQuestion:a,externalQuestionVersion:o}){const l=mnt(),[u,h]=oa("sql_gen_open",!0),[f,m]=oa("sql_gen_selected_model",""),[g,y]=oa("sql_gen_question",""),[_,b]=ft.useState("idle"),[w,S]=ft.useState(""),[E,C]=ft.useState(null),[D,R]=ft.useState(null),[U,N]=ft.useState(""),[P,$]=ft.useState(!1),[X,V]=ft.useState(""),[I,G]=ft.useState("question"),[k,H]=ft.useState(""),M=ft.useRef(0),[B,W]=ft.useState(0),Z=ft.useRef(""),rt=ft.useRef(""),O=ft.useRef(!1),q=ft.useRef([]),tt=ft.useRef(""),it=ft.useRef(null);ft.useEffect(()=>{a!==void 0&&o&&o>0&&y(a)},[o]);const[st,Ct]=ft.useState([]),[Dt,Ot]=ft.useState(new Set),At=ft.useCallback((kt,_e,Zt,Yt=!1)=>{const Xe=++vnt,Rt={id:Xe,type:kt,label:_e,content:Zt};return Ct(fe=>[...fe,Rt]),Yt&&Ot(fe=>new Set(fe).add(Xe)),Xe},[]),Gt=ft.useCallback(kt=>{Ot(_e=>{const Zt=new Set(_e);return Zt.has(kt)?Zt.delete(kt):Zt.add(kt),Zt})},[]),[be,sn]=ft.useState("idle"),[Ve,L]=ft.useState(""),[mt,dt]=ft.useState(null),Y=2,j=l.find(kt=>`${kt.providerId}::${kt.model}`===f)??l[0];ft.useEffect(()=>{l.length>0&&!j&&m(`${l[0].providerId}::${l[0].model}`)},[l,j,m]);const nt=ft.useCallback(()=>j?{type:j.providerType,endpoint:j.endpoint,apiKey:j.apiKey,model:j.model}:null,[j]),yt=gnt(e),[xt,lt]=ft.useState(!1),vt=ft.useCallback(kt=>{kt==="prompt"&&I!=="prompt"&&(H(yt),lt(!1)),G(kt)},[I,yt]),Tt=xt?k:yt,St=ft.useCallback(async kt=>{if(it.current?.signal.aborted)return;const _e=nt();if(!_e){R("No model selected. Enable a provider in Settings and select a model.");return}R(null),S(""),C(null);try{const Zt=await dnt({provider:_e,systemPrompt:Tt,messages:q.current,tools:kt,maxTokens:2048,abortSignal:it.current?.signal,worker:s.current,onUpdate:(Yt,Xe)=>{S(Yt),C(Xe??null)}});if(Zt.thinking&&At("thinking","Thinking",Zt.thinking,!0),Zt.functionName==="run_sql_query"){const Yt=Zt.arguments.sql??"";S(Yt),At("tool_call","run_sql_query",Yt),q.current.push({role:"assistant",toolCall:{id:Zt.toolCallId,name:"run_sql_query",arguments:Zt.arguments},...Zt.thoughtSignature?{thoughtSignature:Zt.thoughtSignature}:{}}),tt.current=Zt.toolCallId,Yt&&(Z.current=Yt,rt.current=g,O.current=!0,W(Xe=>Xe+1),i(Yt))}else if(Zt.functionName==="results_ok"){At("tool_call","results_ok","LLM confirmed results are correct."),b("idle"),N("");return}else if(Zt.functionName==="read_file"){const Yt=Zt.arguments.filename??"";At("tool_call",`read_file(${Yt})`,JSON.stringify(Zt.arguments,null,2)),q.current.push({role:"assistant",toolCall:{id:Zt.toolCallId,name:"read_file",arguments:Zt.arguments},...Zt.thoughtSignature?{thoughtSignature:Zt.thoughtSignature}:{}});const Xe=bnt(Yt);q.current.push({role:"tool_result",toolCallId:Zt.toolCallId,content:Xe}),At("tool_result","read_file result",Xe.length>500?Xe.slice(0,500)+"...":Xe),St(kt);return}}catch(Zt){const Yt=Zt;Yt.name==="AbortError"||Yt.message.includes("aborted")?R(null):R(Yt.message),b("idle"),N("")}finally{it.current=null}},[g,Tt,nt,i,s,At]),It=ft.useCallback(kt=>new Promise((_e,Zt)=>{s.current&&s.current.terminate();const Yt=new Worker(new URL("/assets/browser-local-worker-D1cPTnlE.js",import.meta.url),{type:"module"});s.current=Yt,sn("loading"),L("Checking WebGPU support..."),dt(null);let Xe=!0;Yt.onmessage=Rt=>{const fe=Rt.data;fe.status==="webgpu-ok"?(Xe=!1,Yt.postMessage({type:"load",data:{modelId:kt,device:"webgpu"}})):fe.status==="wasm-ok"?(Xe=!1,Yt.postMessage({type:"load",data:{modelId:kt,device:"wasm"}})):fe.status==="loading"?L(fe.data):fe.status==="ready"?(sn("idle"),L(""),dt(null),_e()):fe.status==="error"?Xe?(Xe=!1,L("WebGPU unavailable, falling back to WASM..."),Yt.postMessage({type:"check-wasm"})):(sn("error"),L(fe.data),dt(null),Zt(new Error(fe.data))):fe.progress!==void 0&&dt(fe.progress)},Yt.postMessage({type:"check"})}),[s]),ue=ft.useCallback(async()=>{if(!(!g.trim()||_!=="idle")){if(M.current=0,W(0),O.current=!1,$(!1),V(""),Ct([]),Ot(new Set),R(null),it.current=new AbortController,j?.providerType==="browser-local"&&!s?.current){const kt=j?.model;if(!kt){R("No model selected.");return}b("generating"),N("Loading model...");try{await It(kt)}catch(_e){R(`Failed to load model: ${_e.message}`),b("idle"),N("");return}}b("generating"),N("Generating SQL..."),At("user","User",g,!0),q.current=[{role:"user",content:g}],St([Wp,jp])}},[g,_,j,It,St,s,At]),Kt=ft.useCallback(()=>{const kt=X.trim()||void 0;$(!1),V(""),M.current=0,b("retrying"),N(`Retrying (1/${Y})...`),it.current=new AbortController;let _e=`Error executing query: ${n}`;kt&&(_e+=`

Additional guidance from the user: ${kt}`),kt?At("user","User hint",kt,!0):At("user","User","Continue retrying",!0),q.current.push({role:"tool_result",toolCallId:tt.current,content:_e}),St([Wp,jp,M_])},[n,X,St,At]),Ln=ft.useCallback(()=>{$(!1),V("")},[]),Ni=ft.useCallback(()=>{it.current&&(it.current.abort(),it.current=null),O.current=!1,b("idle"),N("")},[]);ft.useEffect(()=>{if(O.current){if(n)if(M.current<Y){O.current=!1,M.current++,b("retrying"),N(`Retrying (${M.current}/${Y})...`);const kt=`Error executing query. You must fix this error. Use \`read_file\` to consult documentation and \`run_sql_query\` to run the corrected query. Error: ${n}`;At("tool_result","Query error",kt),q.current.push({role:"tool_result",toolCallId:tt.current,content:kt}),St([Wp,jp,M_]);return}else{O.current=!1,$(!0);return}if(t&&t.numRows>=0){O.current=!1,b("verifying"),N("Verifying results...");const kt=_nt(t);At("tool_result",`Query result (${t.numRows} rows)`,kt),q.current.push({role:"tool_result",toolCallId:tt.current,content:kt}),St([Wp,jp,M_])}}},[n,t,St,At]);const Fn=ft.useCallback(kt=>{(kt.ctrlKey||kt.metaKey)&&kt.key==="Enter"&&(kt.preventDefault(),ue())},[ue]),Un=_!=="idle";return z.jsxs("div",{className:"sql-gen",children:[z.jsxs("div",{className:"sql-gen-header",onClick:()=>h(!u),children:[z.jsxs("div",{className:"sql-gen-header-left",children:[z.jsx("span",{className:`sql-gen-toggle${u?" open":""}`,children:""}),z.jsx("span",{className:"sql-gen-label",children:"AI SQL Generator"})]}),U&&z.jsx("span",{className:"sql-gen-hint",children:U})]}),z.jsx("div",{className:`sql-gen-body${u?" open":""}`,children:l.length===0?z.jsx("p",{className:"sql-gen-no-models",children:"No models available. Enable a provider and select models in Settings."}):z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"sql-gen-model-row",children:[z.jsx("span",{className:"sql-gen-model-label",children:"Model:"}),z.jsx("select",{className:"sql-gen-model-select",value:f,onChange:kt=>m(kt.target.value),children:l.map(kt=>{const _e=`${kt.providerId}::${kt.model}`;return z.jsxs("option",{value:_e,children:[kt.providerName," / ",kt.model]},_e)})})]}),z.jsxs("div",{className:"sql-gen-tabs",children:[z.jsx("button",{className:`sql-gen-tab${I==="question"?" active":""}`,onClick:()=>vt("question"),children:"Question"}),z.jsx("button",{className:`sql-gen-tab${I==="prompt"?" active":""}`,onClick:()=>vt("prompt"),children:"Prompt"})]}),I==="question"&&z.jsx("textarea",{className:"sql-gen-input",rows:3,placeholder:"Describe the query you want in English...",value:g,onChange:kt=>y(kt.target.value),onKeyDown:Fn,disabled:Un}),I==="prompt"&&z.jsx("textarea",{className:"sql-gen-input sql-gen-prompt-editor",rows:12,placeholder:"Full prompt to send to the LLM...",value:k,onChange:kt=>{H(kt.target.value),lt(!0)},onKeyDown:Fn,disabled:Un}),z.jsxs("div",{className:"sql-gen-actions",children:[z.jsx("span",{className:"sql-gen-hint",children:"Ctrl+Enter to generate"}),Un?z.jsx("button",{className:"duckdb-btn duckdb-btn-secondary",onClick:Ni,children:"Stop"}):z.jsx("button",{className:"duckdb-btn duckdb-btn-primary",disabled:I==="question"?!g.trim():!k.trim(),onClick:()=>{ue()},children:"Generate SQL"})]}),st.length>0&&z.jsx("div",{className:"sql-gen-timeline",children:st.map(kt=>{const _e=Dt.has(kt.id);return z.jsxs("div",{className:`sql-gen-tl-entry sql-gen-tl-${kt.type}`,children:[z.jsxs("button",{className:"sql-gen-tl-toggle",onClick:()=>Gt(kt.id),children:[z.jsx("span",{className:"sql-gen-tl-arrow",children:_e?"":""}),z.jsx("span",{className:"sql-gen-tl-label",children:kt.label}),kt.type==="thinking"&&Un&&z.jsx("span",{className:"sql-gen-thinking-throbber"})]}),_e&&z.jsx("div",{className:"sql-gen-tl-content",children:kt.content})]},kt.id)})}),(w||Un)&&z.jsxs("div",{className:"sql-gen-stream",children:[z.jsxs("div",{className:"sql-gen-stream-header",children:[z.jsx("span",{className:"sql-gen-stream-label",children:Un?"Generating SQL":"Generated SQL"}),E!==null&&z.jsxs("span",{className:"sql-gen-stream-tps",children:[E.toFixed(1)," tok/s"]})]}),z.jsx("div",{className:"sql-gen-stream-output",children:w||(Un?"...":"")})]}),be==="loading"&&z.jsxs("div",{className:"sql-gen-model-loading",children:[z.jsx("div",{className:"sql-gen-model-loading-text",children:Ve}),mt!==null&&z.jsx("div",{className:"sql-gen-model-loading-bar",children:z.jsx("div",{className:"sql-gen-model-loading-fill",style:{width:`${Math.round(mt*100)}%`}})})]}),Un&&be!=="loading"&&z.jsxs("div",{className:"sql-gen-status",children:[z.jsx("span",{className:"sql-gen-status-dot"}),z.jsx("span",{children:U})]}),D&&z.jsx("div",{className:"sql-gen-error",children:D}),P&&z.jsxs("div",{className:"sql-gen-retry-prompt",children:[z.jsxs("p",{children:["Query failed after ",B," attempt",B!==1?"s":"",". Would you like the AI to keep trying?"]}),z.jsx("input",{type:"text",className:"sql-gen-retry-hint",placeholder:"Optional: add a hint to help fix the query...",value:X,onChange:kt=>V(kt.target.value),onKeyDown:kt=>{kt.key==="Enter"&&(kt.preventDefault(),Kt())}}),z.jsxs("div",{className:"sql-gen-retry-actions",children:[z.jsx("button",{className:"duckdb-btn duckdb-btn-primary",onClick:Kt,children:"Continue"}),z.jsx("button",{className:"duckdb-btn duckdb-btn-secondary",onClick:Ln,children:"Stop"})]})]})]})})]})}function wnt({config:e,enabled:t,hasKey:n,savedModels:i,selectedModels:s,onToggle:a,onSetKey:o,onClearKey:l,onSaveModel:u,onRemoveModel:h,onToggleModel:f}){const[m,g]=ft.useState(""),y=()=>{const b=window.prompt(`Enter API key for ${e.name}`);b&&o(b)},_=()=>{const b=m.trim();b&&(u(b),g(""))};return z.jsxs("div",{className:"provider-item",children:[z.jsxs("div",{className:"provider-row",children:[z.jsx("input",{type:"checkbox",checked:t,onChange:a,id:`provider-${e.id}`}),z.jsx("label",{className:"provider-name",htmlFor:`provider-${e.id}`,children:e.name}),z.jsx("div",{className:"provider-actions",children:n?z.jsxs(z.Fragment,{children:[z.jsx("span",{className:"key-indicator",children:" Key Saved"}),z.jsx("button",{className:"clear-btn",onClick:l,children:"Clear"})]}):z.jsx("button",{className:"set-key-btn",onClick:y,children:"Set Key"})})]}),z.jsxs("div",{className:`model-options${t?" active":""}`,children:[e.defaultModels.map(b=>z.jsxs("div",{className:"model-checkbox-row",children:[z.jsx("input",{type:"checkbox",id:`model-${e.id}-${b}`,checked:s.includes(b),onChange:()=>f(b)}),z.jsx("label",{htmlFor:`model-${e.id}-${b}`,children:b})]},b)),i.map(b=>z.jsxs("div",{className:"saved-model-item",children:[z.jsx("input",{type:"checkbox",id:`model-${e.id}-${b}`,checked:s.includes(b),onChange:()=>f(b)}),z.jsx("label",{htmlFor:`model-${e.id}-${b}`,children:b}),z.jsx("button",{className:"remove-model-btn",onClick:()=>h(b),"aria-label":`Remove ${b}`,children:""})]},b)),z.jsxs("div",{className:"model-input-row",children:[z.jsx("input",{type:"text",className:"field-input",value:m,onChange:b=>g(b.target.value),placeholder:"Model ID...",onKeyDown:b=>{b.key==="Enter"&&_()}}),z.jsx("button",{className:"save-model-btn",onClick:_,children:"Save"})]})]})]})}function Snt({provider:e,onToggle:t,onUpdate:n}){return z.jsxs("div",{className:"provider-item custom-provider-item",children:[z.jsxs("div",{className:"provider-row",children:[z.jsx("input",{type:"checkbox",checked:e.enabled,onChange:t,id:`provider-${e.id}`}),z.jsx("label",{className:"provider-name",htmlFor:`provider-${e.id}`,children:e.name||"Unnamed Provider"}),z.jsx("div",{className:"provider-actions",children:e.apiKey&&z.jsxs(z.Fragment,{children:[z.jsx("span",{className:"key-indicator",children:" Key Saved"}),z.jsx("button",{className:"clear-btn",onClick:()=>n("apiKey",""),children:"Clear"})]})})]}),z.jsxs("div",{className:"provider-fields",children:[z.jsxs("div",{className:"fields-grid",children:[z.jsxs("div",{className:"field-group",children:[z.jsx("label",{className:"field-label",children:"Name (optional)"}),z.jsx("input",{type:"text",className:"field-input",value:e.name,onChange:i=>n("name",i.target.value),placeholder:"Custom Provider"})]}),z.jsxs("div",{className:"field-group",children:[z.jsx("label",{className:"field-label",children:"API Endpoint"}),z.jsx("input",{type:"text",className:"field-input",value:e.endpoint,onChange:i=>n("endpoint",i.target.value),placeholder:"http://localhost:11434/v1"})]})]}),z.jsxs("div",{className:"field-group api-key-field",children:[z.jsx("label",{className:"field-label",children:"API Key (optional)"}),z.jsx("input",{type:"password",className:"field-input",value:e.apiKey,onChange:i=>n("apiKey",i.target.value),placeholder:"Bearer token for this endpoint"}),z.jsx("p",{className:"field-hint",children:"Stored locally and sent as a Bearer token only if provided."})]})]})]})}function Ent({enabled:e,defaultModels:t,savedModels:n,selectedModels:i,status:s,statusMessage:a,loadProgress:o,logCalls:l,onToggle:u,onSaveModel:h,onRemoveModel:f,onToggleModel:m,onLoadModel:g,onToggleLogCalls:y}){const[_,b]=ft.useState(""),w=()=>{const E=_.trim();E&&(h(E),b(""))},S=[...t,...n];return z.jsxs("div",{className:"provider-item browser-local-provider",children:[z.jsxs("div",{className:"provider-row",children:[z.jsx("input",{type:"checkbox",checked:e,onChange:u,id:"provider-browser-local"}),z.jsx("label",{className:"provider-name",htmlFor:"provider-browser-local",children:"Browser Local"}),z.jsxs("div",{className:"provider-actions",children:[s==="ready"&&z.jsx("span",{className:"key-indicator",children:" Model Ready"}),s==="error"&&z.jsx("span",{className:"browser-local-status-error",children:" Error"})]})]}),e&&z.jsxs("div",{className:"model-options active",children:[S.map(E=>{const C=t.includes(E),D=i.includes(E);return z.jsxs("div",{className:C?"model-checkbox-row":"saved-model-item",children:[z.jsx("input",{type:"checkbox",id:`model-browser-local-${E}`,checked:D,onChange:()=>m(E)}),z.jsx("label",{htmlFor:`model-browser-local-${E}`,children:E}),D&&s!=="loading"&&s!=="checking"&&z.jsx("button",{className:"load-model-btn",onClick:()=>g(E),children:"Load"}),!C&&z.jsx("button",{className:"remove-model-btn",onClick:()=>f(E),"aria-label":`Remove ${E}`,children:""})]},E)}),z.jsxs("div",{className:"model-input-row",children:[z.jsx("input",{type:"text",className:"field-input",value:_,onChange:E=>b(E.target.value),placeholder:"HuggingFace Model ID...",onKeyDown:E=>{E.key==="Enter"&&w()}}),z.jsx("button",{className:"save-model-btn",onClick:w,children:"Save"})]}),z.jsxs("div",{className:"model-checkbox-row",children:[z.jsx("input",{type:"checkbox",id:"browser-local-log-calls",checked:l,onChange:y}),z.jsx("label",{htmlFor:"browser-local-log-calls",children:"Log Calls"})]}),(s==="loading"||s==="checking")&&z.jsxs("div",{className:"browser-local-loading",children:[z.jsx("div",{className:"browser-local-loading-text",children:a}),o!==null&&z.jsx("div",{className:"browser-local-progress-bar",children:z.jsx("div",{className:"browser-local-progress-fill",style:{width:`${Math.round(o*100)}%`}})})]}),s==="error"&&z.jsx("div",{className:"browser-local-error",children:a}),s==="ready"&&z.jsx("div",{className:"browser-local-ready",children:"Model loaded and ready."})]})]})}const Tnt=[{id:"ollama-default",name:"Ollama",endpoint:"http://localhost:11434/v1/",apiKey:"",enabled:!1},{id:"custom-default",name:"Custom Provider",endpoint:"http://localhost:11434/v1",apiKey:"",enabled:!1}];function knt(){return typeof crypto<"u"&&crypto.randomUUID?`custom-${crypto.randomUUID()}`:`custom-${Date.now().toString(36)}-${Math.random().toString(36).slice(2)}`}function Cnt({workerRef:e}={}){const{getKey:t}=ky(),[n,i]=oa("enabled_providers",[]),[s,a]=oa("custom_providers",Tnt),[o,l]=oa("saved_models_by_provider",{}),[u,h]=oa("selected_models_by_provider",{}),[f,m]=ft.useState(()=>{const M={};for(const B of $g)M[B.storageKey]=!!localStorage.getItem(t(B.storageKey));return M}),[g,y]=oa("browser_local_log_calls",!1),[_,b]=ft.useState("idle"),[w,S]=ft.useState(""),[E,C]=ft.useState(null),D=ft.useRef(null),R=e??D,U=M=>{R.current&&R.current.terminate();const B=new Worker(new URL("/assets/browser-local-worker-D1cPTnlE.js",import.meta.url),{type:"module"});R.current=B,b("checking"),S("Checking WebGPU support..."),C(null);let W=!0;B.onmessage=Z=>{const rt=Z.data;rt.status==="webgpu-ok"?(W=!1,B.postMessage({type:"load",data:{modelId:M,device:"webgpu"}})):rt.status==="wasm-ok"?(W=!1,B.postMessage({type:"load",data:{modelId:M,device:"wasm"}})):rt.status==="loading"?(b("loading"),S(rt.data)):rt.status==="ready"?(b("ready"),S(""),C(null)):rt.status==="error"?W?(W=!1,b("checking"),S("WebGPU unavailable, falling back to WASM..."),C(null),B.postMessage({type:"check-wasm"})):(b("error"),S(rt.data),C(null)):rt.progress!==void 0&&C(rt.progress)},B.postMessage({type:"check"})};ft.useEffect(()=>()=>{R.current&&R.current.terminate()},[R]);const N=ft.useCallback(M=>{i(B=>B.includes(M)?B.filter(W=>W!==M):[...B,M])},[i]),P=ft.useCallback((M,B)=>{localStorage.setItem(t(M),B),m(W=>({...W,[M]:!0})),window.dispatchEvent(new Event("api-key-changed"))},[t]),$=ft.useCallback(M=>{localStorage.removeItem(t(M)),m(B=>({...B,[M]:!1})),window.dispatchEvent(new Event("api-key-changed"))},[t]),X=ft.useCallback((M,B)=>{l(W=>{const Z=W[M]??[];return Z.some(rt=>rt.toLowerCase()===B.toLowerCase())?W:{...W,[M]:[...Z,B]}})},[l]),V=ft.useCallback((M,B)=>{l(W=>({...W,[M]:(W[M]??[]).filter(Z=>Z!==B)})),h(W=>({...W,[M]:(W[M]??[]).filter(Z=>Z!==B)}))},[l,h]),I=ft.useCallback((M,B)=>{h(W=>{const Z=W[M]??[],rt=Z.includes(B);return{...W,[M]:rt?Z.filter(O=>O!==B):[...Z,B]}})},[h]),G=ft.useCallback(M=>{a(B=>B.map(W=>W.id===M?{...W,enabled:!W.enabled}:W))},[a]),k=ft.useCallback((M,B,W)=>{a(Z=>Z.map(rt=>rt.id===M?{...rt,[B]:W}:rt))},[a]),H=ft.useCallback(()=>{a(M=>[...M,{id:knt(),name:"",endpoint:"http://localhost:11434/v1",apiKey:"",enabled:!1}])},[a]);return z.jsxs("fieldset",{className:"llm-settings",children:[z.jsx("legend",{children:"API Providers"}),z.jsx(Ent,{enabled:n.includes(na),defaultModels:IB,savedModels:o[na]??[],selectedModels:u[na]??[],status:_,statusMessage:w,loadProgress:E,logCalls:g,onToggle:()=>N(na),onSaveModel:M=>X(na,M),onRemoveModel:M=>V(na,M),onToggleModel:M=>I(na,M),onLoadModel:U,onToggleLogCalls:()=>y(M=>!M)}),$g.map(M=>z.jsx(wnt,{config:M,enabled:n.includes(M.id),hasKey:f[M.storageKey]??!1,savedModels:o[M.id]??[],selectedModels:u[M.id]??[],onToggle:()=>N(M.id),onSetKey:B=>P(M.storageKey,B),onClearKey:()=>$(M.storageKey),onSaveModel:B=>X(M.id,B),onRemoveModel:B=>V(M.id,B),onToggleModel:B=>I(M.id,B)},M.id)),s.map(M=>z.jsx(Snt,{provider:M,onToggle:()=>G(M.id),onUpdate:(B,W)=>k(M.id,B,W)},M.id)),z.jsx("button",{className:"add-provider-btn",onClick:H,children:"+ Add Custom or Local Provider"})]})}function Yp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var N_={exports:{}};var _A;function Ant(){return _A||(_A=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(i,s,a){function o(h,f){if(!s[h]){if(!i[h]){var m=typeof Yp=="function"&&Yp;if(!f&&m)return m(h,!0);if(l)return l(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var y=s[h]={exports:{}};i[h][0].call(y.exports,function(_){var b=i[h][1][_];return o(b||_)},y,y.exports,n,i,s,a)}return s[h].exports}for(var l=typeof Yp=="function"&&Yp,u=0;u<a.length;u++)o(a[u]);return o})({1:[function(n,i,s){var a=n("./utils"),o=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(u){for(var h,f,m,g,y,_,b,w=[],S=0,E=u.length,C=E,D=a.getTypeOf(u)!=="string";S<u.length;)C=E-S,m=D?(h=u[S++],f=S<E?u[S++]:0,S<E?u[S++]:0):(h=u.charCodeAt(S++),f=S<E?u.charCodeAt(S++):0,S<E?u.charCodeAt(S++):0),g=h>>2,y=(3&h)<<4|f>>4,_=1<C?(15&f)<<2|m>>6:64,b=2<C?63&m:64,w.push(l.charAt(g)+l.charAt(y)+l.charAt(_)+l.charAt(b));return w.join("")},s.decode=function(u){var h,f,m,g,y,_,b=0,w=0,S="data:";if(u.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var E,C=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&C--,u.charAt(u.length-2)===l.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=o.uint8array?new Uint8Array(0|C):new Array(0|C);b<u.length;)h=l.indexOf(u.charAt(b++))<<2|(g=l.indexOf(u.charAt(b++)))>>4,f=(15&g)<<4|(y=l.indexOf(u.charAt(b++)))>>2,m=(3&y)<<6|(_=l.indexOf(u.charAt(b++))),E[w++]=h,y!==64&&(E[w++]=f),_!==64&&(E[w++]=m);return E}},{"./support":30,"./utils":32}],2:[function(n,i,s){var a=n("./external"),o=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function h(f,m,g,y,_){this.compressedSize=f,this.uncompressedSize=m,this.crc32=g,this.compression=y,this.compressedContent=_}h.prototype={getContentWorker:function(){var f=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,m,g){return f.pipe(new l).pipe(new u("uncompressedSize")).pipe(m.compressWorker(g)).pipe(new u("compressedSize")).withStreamInfo("compression",m)},i.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,s){var a=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,s){var a=n("./utils"),o=(function(){for(var l,u=[],h=0;h<256;h++){l=h;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[h]=l}return u})();i.exports=function(l,u){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?(function(h,f,m,g){var y=o,_=g+m;h^=-1;for(var b=g;b<_;b++)h=h>>>8^y[255&(h^f[b])];return-1^h})(0|u,l,l.length,0):(function(h,f,m,g){var y=o,_=g+m;h^=-1;for(var b=g;b<_;b++)h=h>>>8^y[255&(h^f.charCodeAt(b))];return-1^h})(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(n,i,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,i,s){var a=null;a=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:a}},{lie:37}],7:[function(n,i,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),l=n("./utils"),u=n("./stream/GenericWorker"),h=a?"uint8array":"array";function f(m,g){u.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=g,this.meta={}}s.magic="\b\0",l.inherits(f,u),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(h,m.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(g){m.push({data:g,meta:m.meta})}},s.compressWorker=function(m){return new f("Deflate",m)},s.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,s){function a(y,_){var b,w="";for(b=0;b<_;b++)w+=String.fromCharCode(255&y),y>>>=8;return w}function o(y,_,b,w,S,E){var C,D,R=y.file,U=y.compression,N=E!==h.utf8encode,P=l.transformTo("string",E(R.name)),$=l.transformTo("string",h.utf8encode(R.name)),X=R.comment,V=l.transformTo("string",E(X)),I=l.transformTo("string",h.utf8encode(X)),G=$.length!==R.name.length,k=I.length!==X.length,H="",M="",B="",W=R.dir,Z=R.date,rt={crc32:0,compressedSize:0,uncompressedSize:0};_&&!b||(rt.crc32=y.crc32,rt.compressedSize=y.compressedSize,rt.uncompressedSize=y.uncompressedSize);var O=0;_&&(O|=8),N||!G&&!k||(O|=2048);var q=0,tt=0;W&&(q|=16),S==="UNIX"?(tt=798,q|=(function(st,Ct){var Dt=st;return st||(Dt=Ct?16893:33204),(65535&Dt)<<16})(R.unixPermissions,W)):(tt=20,q|=(function(st){return 63&(st||0)})(R.dosPermissions)),C=Z.getUTCHours(),C<<=6,C|=Z.getUTCMinutes(),C<<=5,C|=Z.getUTCSeconds()/2,D=Z.getUTCFullYear()-1980,D<<=4,D|=Z.getUTCMonth()+1,D<<=5,D|=Z.getUTCDate(),G&&(M=a(1,1)+a(f(P),4)+$,H+="up"+a(M.length,2)+M),k&&(B=a(1,1)+a(f(V),4)+I,H+="uc"+a(B.length,2)+B);var it="";return it+=`
\0`,it+=a(O,2),it+=U.magic,it+=a(C,2),it+=a(D,2),it+=a(rt.crc32,4),it+=a(rt.compressedSize,4),it+=a(rt.uncompressedSize,4),it+=a(P.length,2),it+=a(H.length,2),{fileRecord:m.LOCAL_FILE_HEADER+it+P+H,dirRecord:m.CENTRAL_FILE_HEADER+a(tt,2)+it+a(V.length,2)+"\0\0\0\0"+a(q,4)+a(w,4)+P+H+V}}var l=n("../utils"),u=n("../stream/GenericWorker"),h=n("../utf8"),f=n("../crc32"),m=n("../signature");function g(y,_,b,w){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=b,this.encodeFileName=w,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,u),g.prototype.push=function(y){var _=y.meta.percent||0,b=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:b?(_+100*(b-w-1))/b:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var _=this.streamFiles&&!y.file.dir;if(_){var b=o(y,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var _=this.streamFiles&&!y.file.dir,b=o(y,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),_)this.push({data:(function(w){return m.DATA_DESCRIPTOR+a(w.crc32,4)+a(w.compressedSize,4)+a(w.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var b=this.bytesWritten-y,w=(function(S,E,C,D,R){var U=l.transformTo("string",R(D));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(S,2)+a(S,2)+a(E,4)+a(C,4)+a(U.length,2)+U})(this.dirRecords.length,b,y,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var _=this;return y.on("data",function(b){_.processChunk(b)}),y.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),y.on("error",function(b){_.error(b)}),this},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var _=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var b=0;b<_.length;b++)try{_[b].error(y)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,_=0;_<y.length;_++)y[_].lock()},i.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,s){var a=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(l,u,h){var f=new o(u.streamFiles,h,u.platform,u.encodeFileName),m=0;try{l.forEach(function(g,y){m++;var _=(function(E,C){var D=E||C,R=a[D];if(!R)throw new Error(D+" is not a valid compression method !");return R})(y.options.compression,u.compression),b=y.options.compressionOptions||u.compressionOptions||{},w=y.dir,S=y.date;y._compressWorker(_,b).withStreamInfo("file",{name:g,dir:w,date:S,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(g){f.error(g)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,s){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(o,l){return new a().loadAsync(o,l)},a.external=n("./external"),i.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,s){var a=n("./utils"),o=n("./external"),l=n("./utf8"),u=n("./zipEntries"),h=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function m(g){return new o.Promise(function(y,_){var b=g.decompressed.getContentWorker().pipe(new h);b.on("error",function(w){_(w)}).on("end",function(){b.streamInfo.crc32!==g.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}i.exports=function(g,y){var _=this;return y=a.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(b){var w=new u(y);return w.load(b),w}).then(function(b){var w=[o.Promise.resolve(b)],S=b.files;if(y.checkCRC32)for(var E=0;E<S.length;E++)w.push(m(S[E]));return o.Promise.all(w)}).then(function(b){for(var w=b.shift(),S=w.files,E=0;E<S.length;E++){var C=S[E],D=C.fileNameStr,R=a.resolve(C.fileNameStr);_.file(R,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:y.createFolders}),C.dir||(_.file(R).unsafeOriginalName=D)}return w.zipComment.length&&(_.comment=w.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,s){var a=n("../utils"),o=n("../stream/GenericWorker");function l(u,h){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}a.inherits(l,o),l.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,s){var a=n("readable-stream").Readable;function o(l,u,h){a.call(this,u),this._helper=l;var f=this;l.on("data",function(m,g){f.push(m)||f._helper.pause(),h&&h(g)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}n("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,i,s){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,i,s){function a(R,U,N){var P,$=l.getTypeOf(U),X=l.extend(N||{},f);X.date=X.date||new Date,X.compression!==null&&(X.compression=X.compression.toUpperCase()),typeof X.unixPermissions=="string"&&(X.unixPermissions=parseInt(X.unixPermissions,8)),X.unixPermissions&&16384&X.unixPermissions&&(X.dir=!0),X.dosPermissions&&16&X.dosPermissions&&(X.dir=!0),X.dir&&(R=S(R)),X.createFolders&&(P=w(R))&&E.call(this,P,!0);var V=$==="string"&&X.binary===!1&&X.base64===!1;N&&N.binary!==void 0||(X.binary=!V),(U instanceof m&&U.uncompressedSize===0||X.dir||!U||U.length===0)&&(X.base64=!1,X.binary=!0,U="",X.compression="STORE",$="string");var I=null;I=U instanceof m||U instanceof u?U:_.isNode&&_.isStream(U)?new b(R,U):l.prepareContent(R,U,X.binary,X.optimizedBinaryString,X.base64);var G=new g(R,I,X);this.files[R]=G}var o=n("./utf8"),l=n("./utils"),u=n("./stream/GenericWorker"),h=n("./stream/StreamHelper"),f=n("./defaults"),m=n("./compressedObject"),g=n("./zipObject"),y=n("./generate"),_=n("./nodejsUtils"),b=n("./nodejs/NodejsStreamInputAdapter"),w=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var U=R.lastIndexOf("/");return 0<U?R.substring(0,U):""},S=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},E=function(R,U){return U=U!==void 0?U:f.createFolders,R=S(R),this.files[R]||a.call(this,R,null,{dir:!0,createFolders:U}),this.files[R]};function C(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var U,N,P;for(U in this.files)P=this.files[U],(N=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&R(N,P)},filter:function(R){var U=[];return this.forEach(function(N,P){R(N,P)&&U.push(P)}),U},file:function(R,U,N){if(arguments.length!==1)return R=this.root+R,a.call(this,R,U,N),this;if(C(R)){var P=R;return this.filter(function(X,V){return!V.dir&&P.test(X)})}var $=this.files[this.root+R];return $&&!$.dir?$:null},folder:function(R){if(!R)return this;if(C(R))return this.filter(function($,X){return X.dir&&R.test($)});var U=this.root+R,N=E.call(this,U),P=this.clone();return P.root=N.name,P},remove:function(R){R=this.root+R;var U=this.files[R];if(U||(R.slice(-1)!=="/"&&(R+="/"),U=this.files[R]),U&&!U.dir)delete this.files[R];else for(var N=this.filter(function($,X){return X.name.slice(0,R.length)===R}),P=0;P<N.length;P++)delete this.files[N[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var U,N={};try{if((N=l.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");l.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var P=N.comment||this.comment||"";U=y.generateWorker(this,N,P)}catch($){(U=new u("error")).error($)}return new h(U,N.type||"string",N.mimeType)},generateAsync:function(R,U){return this.generateInternalStream(R).accumulate(U)},generateNodeStream:function(R,U){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(U)}};i.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,s){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,s){var a=n("./DataReader");function o(l){a.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}n("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===u&&this.data[g+1]===h&&this.data[g+2]===f&&this.data[g+3]===m)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),g=this.readData(4);return u===g[0]&&h===g[1]&&f===g[2]&&m===g[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,i,s){var a=n("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,h=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=l,h},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},i.exports=o},{"../utils":32}],19:[function(n,i,s){var a=n("./Uint8ArrayReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,s){var a=n("./DataReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,i,s){var a=n("./ArrayReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,s){var a=n("../utils"),o=n("../support"),l=n("./ArrayReader"),u=n("./StringReader"),h=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");i.exports=function(m){var g=a.getTypeOf(m);return a.checkSupport(g),g!=="string"||o.uint8array?g==="nodebuffer"?new h(m):o.uint8array?new f(a.transformTo("uint8array",m)):new l(a.transformTo("array",m)):new u(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,s){var a=n("./GenericWorker"),o=n("../utils");function l(u){a.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(l,a),l.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},i.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,s){var a=n("./GenericWorker"),o=n("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,a),l.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},i.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,s){var a=n("../utils"),o=n("./GenericWorker");function l(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}a.inherits(l,o),l.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}o.prototype.processChunk.call(this,u)},i.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,s){var a=n("../utils"),o=n("./GenericWorker");function l(u){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=a.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}a.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,s){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(u){l.processChunk(u)}),o.on("end",function(){l.end()}),o.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=a},{}],29:[function(n,i,s){var a=n("../utils"),o=n("./ConvertWorker"),l=n("./GenericWorker"),u=n("../base64"),h=n("../support"),f=n("../external"),m=null;if(h.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(_,b){return new f.Promise(function(w,S){var E=[],C=_._internalType,D=_._outputType,R=_._mimeType;_.on("data",function(U,N){E.push(U),b&&b(N)}).on("error",function(U){E=[],S(U)}).on("end",function(){try{var U=(function(N,P,$){switch(N){case"blob":return a.newBlob(a.transformTo("arraybuffer",P),$);case"base64":return u.encode(P);default:return a.transformTo(N,P)}})(D,(function(N,P){var $,X=0,V=null,I=0;for($=0;$<P.length;$++)I+=P[$].length;switch(N){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(V=new Uint8Array(I),$=0;$<P.length;$++)V.set(P[$],X),X+=P[$].length;return V;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+N+"'")}})(C,E),R);w(U)}catch(N){S(N)}E=[]}).resume()})}function y(_,b,w){var S=b;switch(b){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=b,this._mimeType=w,a.checkSupport(S),this._worker=_.pipe(new o(S)),_.lock()}catch(E){this._worker=new l("error"),this._worker.error(E)}}y.prototype={accumulate:function(_){return g(this,_)},on:function(_,b){var w=this;return _==="data"?this._worker.on(_,function(S){b.call(w,S.data,S.meta)}):this._worker.on(_,function(){a.delay(b,arguments,w)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},_)}},i.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var a=new ArrayBuffer(0);try{s.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,s){for(var a=n("./utils"),o=n("./support"),l=n("./nodejsUtils"),u=n("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function m(){u.call(this,"utf-8 decode"),this.leftOver=null}function g(){u.call(this,"utf-8 encode")}s.utf8encode=function(y){return o.nodebuffer?l.newBufferFrom(y,"utf-8"):(function(_){var b,w,S,E,C,D=_.length,R=0;for(E=0;E<D;E++)(64512&(w=_.charCodeAt(E)))==55296&&E+1<D&&(64512&(S=_.charCodeAt(E+1)))==56320&&(w=65536+(w-55296<<10)+(S-56320),E++),R+=w<128?1:w<2048?2:w<65536?3:4;for(b=o.uint8array?new Uint8Array(R):new Array(R),E=C=0;C<R;E++)(64512&(w=_.charCodeAt(E)))==55296&&E+1<D&&(64512&(S=_.charCodeAt(E+1)))==56320&&(w=65536+(w-55296<<10)+(S-56320),E++),w<128?b[C++]=w:(w<2048?b[C++]=192|w>>>6:(w<65536?b[C++]=224|w>>>12:(b[C++]=240|w>>>18,b[C++]=128|w>>>12&63),b[C++]=128|w>>>6&63),b[C++]=128|63&w);return b})(y)},s.utf8decode=function(y){return o.nodebuffer?a.transformTo("nodebuffer",y).toString("utf-8"):(function(_){var b,w,S,E,C=_.length,D=new Array(2*C);for(b=w=0;b<C;)if((S=_[b++])<128)D[w++]=S;else if(4<(E=h[S]))D[w++]=65533,b+=E-1;else{for(S&=E===2?31:E===3?15:7;1<E&&b<C;)S=S<<6|63&_[b++],E--;1<E?D[w++]=65533:S<65536?D[w++]=S:(S-=65536,D[w++]=55296|S>>10&1023,D[w++]=56320|1023&S)}return D.length!==w&&(D.subarray?D=D.subarray(0,w):D.length=w),a.applyFromCharCode(D)})(y=a.transformTo(o.uint8array?"uint8array":"array",y))},a.inherits(m,u),m.prototype.processChunk=function(y){var _=a.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var b=_;(_=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),_.set(b,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var w=(function(E,C){var D;for((C=C||E.length)>E.length&&(C=E.length),D=C-1;0<=D&&(192&E[D])==128;)D--;return D<0||D===0?C:D+h[E[D]]>C?D:C})(_),S=_;w!==_.length&&(o.uint8array?(S=_.subarray(0,w),this.leftOver=_.subarray(w,_.length)):(S=_.slice(0,w),this.leftOver=_.slice(w,_.length))),this.push({data:s.utf8decode(S),meta:y.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=m,a.inherits(g,u),g.prototype.processChunk=function(y){this.push({data:s.utf8encode(y.data),meta:y.meta})},s.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,s){var a=n("./support"),o=n("./base64"),l=n("./nodejsUtils"),u=n("./external");function h(b){return b}function f(b,w){for(var S=0;S<b.length;++S)w[S]=255&b.charCodeAt(S);return w}n("setimmediate"),s.newBlob=function(b,w){s.checkSupport("blob");try{return new Blob([b],{type:w})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(b),S.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(b,w,S){var E=[],C=0,D=b.length;if(D<=S)return String.fromCharCode.apply(null,b);for(;C<D;)w==="array"||w==="nodebuffer"?E.push(String.fromCharCode.apply(null,b.slice(C,Math.min(C+S,D)))):E.push(String.fromCharCode.apply(null,b.subarray(C,Math.min(C+S,D)))),C+=S;return E.join("")},stringifyByChar:function(b){for(var w="",S=0;S<b.length;S++)w+=String.fromCharCode(b[S]);return w},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function g(b){var w=65536,S=s.getTypeOf(b),E=!0;if(S==="uint8array"?E=m.applyCanBeUsed.uint8array:S==="nodebuffer"&&(E=m.applyCanBeUsed.nodebuffer),E)for(;1<w;)try{return m.stringifyByChunk(b,S,w)}catch{w=Math.floor(w/2)}return m.stringifyByChar(b)}function y(b,w){for(var S=0;S<b.length;S++)w[S]=b[S];return w}s.applyFromCharCode=g;var _={};_.string={string:h,array:function(b){return f(b,new Array(b.length))},arraybuffer:function(b){return _.string.uint8array(b).buffer},uint8array:function(b){return f(b,new Uint8Array(b.length))},nodebuffer:function(b){return f(b,l.allocBuffer(b.length))}},_.array={string:g,array:h,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(b)}},_.arraybuffer={string:function(b){return g(new Uint8Array(b))},array:function(b){return y(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:h,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(new Uint8Array(b))}},_.uint8array={string:g,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:h,nodebuffer:function(b){return l.newBufferFrom(b)}},_.nodebuffer={string:g,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return _.nodebuffer.uint8array(b).buffer},uint8array:function(b){return y(b,new Uint8Array(b.length))},nodebuffer:h},s.transformTo=function(b,w){if(w=w||"",!b)return w;s.checkSupport(b);var S=s.getTypeOf(w);return _[S][b](w)},s.resolve=function(b){for(var w=b.split("/"),S=[],E=0;E<w.length;E++){var C=w[E];C==="."||C===""&&E!==0&&E!==w.length-1||(C===".."?S.pop():S.push(C))}return S.join("/")},s.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(b)?"nodebuffer":a.uint8array&&b instanceof Uint8Array?"uint8array":a.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(b){if(!a[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(b){var w,S,E="";for(S=0;S<(b||"").length;S++)E+="\\x"+((w=b.charCodeAt(S))<16?"0":"")+w.toString(16).toUpperCase();return E},s.delay=function(b,w,S){setImmediate(function(){b.apply(S||null,w||[])})},s.inherits=function(b,w){function S(){}S.prototype=w.prototype,b.prototype=new S},s.extend=function(){var b,w,S={};for(b=0;b<arguments.length;b++)for(w in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],w)&&S[w]===void 0&&(S[w]=arguments[b][w]);return S},s.prepareContent=function(b,w,S,E,C){return u.Promise.resolve(w).then(function(D){return a.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new u.Promise(function(R,U){var N=new FileReader;N.onload=function(P){R(P.target.result)},N.onerror=function(P){U(P.target.error)},N.readAsArrayBuffer(D)}):D}).then(function(D){var R=s.getTypeOf(D);return R?(R==="arraybuffer"?D=s.transformTo("uint8array",D):R==="string"&&(C?D=o.decode(D):S&&E!==!0&&(D=(function(U){return f(U,a.uint8array?new Uint8Array(U.length):new Array(U.length))})(D))),D):u.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,s){var a=n("./reader/readerFor"),o=n("./utils"),l=n("./signature"),u=n("./zipEntry"),h=n("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(m)+")")}},isSignature:function(m,g){var y=this.reader.index;this.reader.setIndex(m);var _=this.reader.readString(4)===g;return this.reader.setIndex(y),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",y=o.transformTo(g,m);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,g,y,_=this.zip64EndOfCentralSize-44;0<_;)m=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[m]={id:m,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,g;for(m=0;m<this.files.length;m++)g=this.files[m],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(m=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var g=m;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var _=g-y;if(0<_)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,s){var a=n("./reader/readerFor"),o=n("./utils"),l=n("./compressedObject"),u=n("./crc32"),h=n("./utf8"),f=n("./compressions"),m=n("./support");function g(y,_){this.options=y,this.loadOptions=_}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var _,b;if(y.skip(22),this.fileNameLength=y.readInt(2),b=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=(function(w){for(var S in f)if(Object.prototype.hasOwnProperty.call(f,S)&&f[S].magic===w)return f[S];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,_,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var _=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(_),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var _,b,w,S=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<S;)_=y.readInt(2),b=y.readInt(2),w=y.readData(b),this.extraFields[_]={id:_,length:b,value:w};y.setIndex(S)},handleUTF8:function(){var y=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var b=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var S=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var _=a(y.value);return _.readInt(1)!==1||u(this.fileName)!==_.readInt(4)?null:h.utf8decode(_.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var _=a(y.value);return _.readInt(1)!==1||u(this.fileComment)!==_.readInt(4)?null:h.utf8decode(_.readData(y.length-5))}return null}},i.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,s){function a(_,b,w){this.name=_,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=b,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),u=n("./utf8"),h=n("./compressedObject"),f=n("./stream/GenericWorker");a.prototype={internalStream:function(_){var b=null,w="string";try{if(!_)throw new Error("No output type specified.");var S=(w=_.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),b=this._decompressWorker();var E=!this._dataBinary;E&&!S&&(b=b.pipe(new u.Utf8EncodeWorker)),!E&&S&&(b=b.pipe(new u.Utf8DecodeWorker))}catch(C){(b=new f("error")).error(C)}return new o(b,w,"")},async:function(_,b){return this.internalStream(_).accumulate(b)},nodeStream:function(_,b){return this.internalStream(_||"nodebuffer").toNodejsStream(b)},_compressWorker:function(_,b){if(this._data instanceof h&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(w,_,b)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<m.length;y++)a.prototype[m[y]]=g;i.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,s){(function(a){var o,l,u=a.MutationObserver||a.WebKitMutationObserver;if(u){var h=0,f=new u(_),m=a.document.createTextNode("");f.observe(m,{characterData:!0}),o=function(){m.data=h=++h%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){_(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(_,0)};else{var g=new a.MessageChannel;g.port1.onmessage=_,o=function(){g.port2.postMessage(0)}}var y=[];function _(){var b,w;l=!0;for(var S=y.length;S;){for(w=y,y=[],b=-1;++b<S;)w[b]();S=y.length}l=!1}i.exports=function(b){y.push(b)!==1||l||o()}}).call(this,typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,s){var a=n("immediate");function o(){}var l={},u=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function m(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,S!==o&&b(this,S)}function g(S,E,C){this.promise=S,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function y(S,E,C){a(function(){var D;try{D=E(C)}catch(R){return l.reject(S,R)}D===S?l.reject(S,new TypeError("Cannot resolve promise with itself")):l.resolve(S,D)})}function _(S){var E=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof E=="function")return function(){E.apply(S,arguments)}}function b(S,E){var C=!1;function D(N){C||(C=!0,l.reject(S,N))}function R(N){C||(C=!0,l.resolve(S,N))}var U=w(function(){E(R,D)});U.status==="error"&&D(U.value)}function w(S,E){var C={};try{C.value=S(E),C.status="success"}catch(D){C.status="error",C.value=D}return C}(i.exports=m).prototype.finally=function(S){if(typeof S!="function")return this;var E=this.constructor;return this.then(function(C){return E.resolve(S()).then(function(){return C})},function(C){return E.resolve(S()).then(function(){throw C})})},m.prototype.catch=function(S){return this.then(null,S)},m.prototype.then=function(S,E){if(typeof S!="function"&&this.state===h||typeof E!="function"&&this.state===u)return this;var C=new this.constructor(o);return this.state!==f?y(C,this.state===h?S:E,this.outcome):this.queue.push(new g(C,S,E)),C},g.prototype.callFulfilled=function(S){l.resolve(this.promise,S)},g.prototype.otherCallFulfilled=function(S){y(this.promise,this.onFulfilled,S)},g.prototype.callRejected=function(S){l.reject(this.promise,S)},g.prototype.otherCallRejected=function(S){y(this.promise,this.onRejected,S)},l.resolve=function(S,E){var C=w(_,E);if(C.status==="error")return l.reject(S,C.value);var D=C.value;if(D)b(S,D);else{S.state=h,S.outcome=E;for(var R=-1,U=S.queue.length;++R<U;)S.queue[R].callFulfilled(E)}return S},l.reject=function(S,E){S.state=u,S.outcome=E;for(var C=-1,D=S.queue.length;++C<D;)S.queue[C].callRejected(E);return S},m.resolve=function(S){return S instanceof this?S:l.resolve(new this(o),S)},m.reject=function(S){var E=new this(o);return l.reject(E,S)},m.all=function(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=S.length,D=!1;if(!C)return this.resolve([]);for(var R=new Array(C),U=0,N=-1,P=new this(o);++N<C;)$(S[N],N);return P;function $(X,V){E.resolve(X).then(function(I){R[V]=I,++U!==C||D||(D=!0,l.resolve(P,R))},function(I){D||(D=!0,l.reject(P,I))})}},m.race=function(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=S.length,D=!1;if(!C)return this.resolve([]);for(var R=-1,U=new this(o);++R<C;)N=S[R],E.resolve(N).then(function(P){D||(D=!0,l.resolve(U,P))},function(P){D||(D=!0,l.reject(U,P))});var N;return U}},{immediate:36}],38:[function(n,i,s){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,s){var a=n("./zlib/deflate"),o=n("./utils/common"),l=n("./utils/strings"),u=n("./zlib/messages"),h=n("./zlib/zstream"),f=Object.prototype.toString,m=0,g=-1,y=0,_=8;function b(S){if(!(this instanceof b))return new b(S);this.options=o.assign({level:g,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},S||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var C=a.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(C!==m)throw new Error(u[C]);if(E.header&&a.deflateSetHeader(this.strm,E.header),E.dictionary){var D;if(D=typeof E.dictionary=="string"?l.string2buf(E.dictionary):f.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(C=a.deflateSetDictionary(this.strm,D))!==m)throw new Error(u[C]);this._dict_set=!0}}function w(S,E){var C=new b(E);if(C.push(S,!0),C.err)throw C.msg||u[C.err];return C.result}b.prototype.push=function(S,E){var C,D,R=this.strm,U=this.options.chunkSize;if(this.ended)return!1;D=E===~~E?E:E===!0?4:0,typeof S=="string"?R.input=l.string2buf(S):f.call(S)==="[object ArrayBuffer]"?R.input=new Uint8Array(S):R.input=S,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(U),R.next_out=0,R.avail_out=U),(C=a.deflate(R,D))!==1&&C!==m)return this.onEnd(C),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(R.output,R.next_out))):this.onData(o.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&C!==1);return D===4?(C=a.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===m):D!==2||(this.onEnd(m),!(R.avail_out=0))},b.prototype.onData=function(S){this.chunks.push(S)},b.prototype.onEnd=function(S){S===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},s.Deflate=b,s.deflate=w,s.deflateRaw=function(S,E){return(E=E||{}).raw=!0,w(S,E)},s.gzip=function(S,E){return(E=E||{}).gzip=!0,w(S,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,s){var a=n("./zlib/inflate"),o=n("./utils/common"),l=n("./utils/strings"),u=n("./zlib/constants"),h=n("./zlib/messages"),f=n("./zlib/zstream"),m=n("./zlib/gzheader"),g=Object.prototype.toString;function y(b){if(!(this instanceof y))return new y(b);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},b||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||b&&b.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var S=a.inflateInit2(this.strm,w.windowBits);if(S!==u.Z_OK)throw new Error(h[S]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}function _(b,w){var S=new y(w);if(S.push(b,!0),S.err)throw S.msg||h[S.err];return S.result}y.prototype.push=function(b,w){var S,E,C,D,R,U,N=this.strm,P=this.options.chunkSize,$=this.options.dictionary,X=!1;if(this.ended)return!1;E=w===~~w?w:w===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof b=="string"?N.input=l.binstring2buf(b):g.call(b)==="[object ArrayBuffer]"?N.input=new Uint8Array(b):N.input=b,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new o.Buf8(P),N.next_out=0,N.avail_out=P),(S=a.inflate(N,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&$&&(U=typeof $=="string"?l.string2buf($):g.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,S=a.inflateSetDictionary(this.strm,U)),S===u.Z_BUF_ERROR&&X===!0&&(S=u.Z_OK,X=!1),S!==u.Z_STREAM_END&&S!==u.Z_OK)return this.onEnd(S),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&S!==u.Z_STREAM_END&&(N.avail_in!==0||E!==u.Z_FINISH&&E!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=l.utf8border(N.output,N.next_out),D=N.next_out-C,R=l.buf2string(N.output,C),N.next_out=D,N.avail_out=P-D,D&&o.arraySet(N.output,N.output,C,D,0),this.onData(R)):this.onData(o.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(X=!0)}while((0<N.avail_in||N.avail_out===0)&&S!==u.Z_STREAM_END);return S===u.Z_STREAM_END&&(E=u.Z_FINISH),E===u.Z_FINISH?(S=a.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===u.Z_OK):E!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(N.avail_out=0))},y.prototype.onData=function(b){this.chunks.push(b)},y.prototype.onEnd=function(b){b===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},s.Inflate=y,s.inflate=_,s.inflateRaw=function(b,w){return(w=w||{}).raw=!0,_(b,w)},s.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])}}return u},s.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var o={arraySet:function(u,h,f,m,g){if(h.subarray&&u.subarray)u.set(h.subarray(f,f+m),g);else for(var y=0;y<m;y++)u[g+y]=h[f+y]},flattenChunks:function(u){var h,f,m,g,y,_;for(h=m=0,f=u.length;h<f;h++)m+=u[h].length;for(_=new Uint8Array(m),h=g=0,f=u.length;h<f;h++)y=u[h],_.set(y,g),g+=y.length;return _}},l={arraySet:function(u,h,f,m,g){for(var y=0;y<m;y++)u[g+y]=h[f+y]},flattenChunks:function(u){return[].concat.apply([],u)}};s.setTyped=function(u){u?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,l))},s.setTyped(a)},{}],42:[function(n,i,s){var a=n("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new a.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(m,g){if(g<65537&&(m.subarray&&l||!m.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(m,g));for(var y="",_=0;_<g;_++)y+=String.fromCharCode(m[_]);return y}u[254]=u[254]=1,s.string2buf=function(m){var g,y,_,b,w,S=m.length,E=0;for(b=0;b<S;b++)(64512&(y=m.charCodeAt(b)))==55296&&b+1<S&&(64512&(_=m.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),b++),E+=y<128?1:y<2048?2:y<65536?3:4;for(g=new a.Buf8(E),b=w=0;w<E;b++)(64512&(y=m.charCodeAt(b)))==55296&&b+1<S&&(64512&(_=m.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),b++),y<128?g[w++]=y:(y<2048?g[w++]=192|y>>>6:(y<65536?g[w++]=224|y>>>12:(g[w++]=240|y>>>18,g[w++]=128|y>>>12&63),g[w++]=128|y>>>6&63),g[w++]=128|63&y);return g},s.buf2binstring=function(m){return f(m,m.length)},s.binstring2buf=function(m){for(var g=new a.Buf8(m.length),y=0,_=g.length;y<_;y++)g[y]=m.charCodeAt(y);return g},s.buf2string=function(m,g){var y,_,b,w,S=g||m.length,E=new Array(2*S);for(y=_=0;y<S;)if((b=m[y++])<128)E[_++]=b;else if(4<(w=u[b]))E[_++]=65533,y+=w-1;else{for(b&=w===2?31:w===3?15:7;1<w&&y<S;)b=b<<6|63&m[y++],w--;1<w?E[_++]=65533:b<65536?E[_++]=b:(b-=65536,E[_++]=55296|b>>10&1023,E[_++]=56320|1023&b)}return f(E,_)},s.utf8border=function(m,g){var y;for((g=g||m.length)>m.length&&(g=m.length),y=g-1;0<=y&&(192&m[y])==128;)y--;return y<0||y===0?g:y+u[m[y]]>g?y:g}},{"./common":41}],43:[function(n,i,s){i.exports=function(a,o,l,u){for(var h=65535&a|0,f=a>>>16&65535|0,m=0;l!==0;){for(l-=m=2e3<l?2e3:l;f=f+(h=h+o[u++]|0)|0,--m;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(n,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,s){var a=(function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l})();i.exports=function(o,l,u,h){var f=a,m=h+u;o^=-1;for(var g=h;g<m;g++)o=o>>>8^f[255&(o^l[g])];return-1^o}},{}],46:[function(n,i,s){var a,o=n("../utils/common"),l=n("./trees"),u=n("./adler32"),h=n("./crc32"),f=n("./messages"),m=0,g=4,y=0,_=-2,b=-1,w=4,S=2,E=8,C=9,D=286,R=30,U=19,N=2*D+1,P=15,$=3,X=258,V=X+$+1,I=42,G=113,k=1,H=2,M=3,B=4;function W(L,mt){return L.msg=f[mt],mt}function Z(L){return(L<<1)-(4<L?9:0)}function rt(L){for(var mt=L.length;0<=--mt;)L[mt]=0}function O(L){var mt=L.state,dt=mt.pending;dt>L.avail_out&&(dt=L.avail_out),dt!==0&&(o.arraySet(L.output,mt.pending_buf,mt.pending_out,dt,L.next_out),L.next_out+=dt,mt.pending_out+=dt,L.total_out+=dt,L.avail_out-=dt,mt.pending-=dt,mt.pending===0&&(mt.pending_out=0))}function q(L,mt){l._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,mt),L.block_start=L.strstart,O(L.strm)}function tt(L,mt){L.pending_buf[L.pending++]=mt}function it(L,mt){L.pending_buf[L.pending++]=mt>>>8&255,L.pending_buf[L.pending++]=255&mt}function st(L,mt){var dt,Y,j=L.max_chain_length,nt=L.strstart,yt=L.prev_length,xt=L.nice_match,lt=L.strstart>L.w_size-V?L.strstart-(L.w_size-V):0,vt=L.window,Tt=L.w_mask,St=L.prev,It=L.strstart+X,ue=vt[nt+yt-1],Kt=vt[nt+yt];L.prev_length>=L.good_match&&(j>>=2),xt>L.lookahead&&(xt=L.lookahead);do if(vt[(dt=mt)+yt]===Kt&&vt[dt+yt-1]===ue&&vt[dt]===vt[nt]&&vt[++dt]===vt[nt+1]){nt+=2,dt++;do;while(vt[++nt]===vt[++dt]&&vt[++nt]===vt[++dt]&&vt[++nt]===vt[++dt]&&vt[++nt]===vt[++dt]&&vt[++nt]===vt[++dt]&&vt[++nt]===vt[++dt]&&vt[++nt]===vt[++dt]&&vt[++nt]===vt[++dt]&&nt<It);if(Y=X-(It-nt),nt=It-X,yt<Y){if(L.match_start=mt,xt<=(yt=Y))break;ue=vt[nt+yt-1],Kt=vt[nt+yt]}}while((mt=St[mt&Tt])>lt&&--j!=0);return yt<=L.lookahead?yt:L.lookahead}function Ct(L){var mt,dt,Y,j,nt,yt,xt,lt,vt,Tt,St=L.w_size;do{if(j=L.window_size-L.lookahead-L.strstart,L.strstart>=St+(St-V)){for(o.arraySet(L.window,L.window,St,St,0),L.match_start-=St,L.strstart-=St,L.block_start-=St,mt=dt=L.hash_size;Y=L.head[--mt],L.head[mt]=St<=Y?Y-St:0,--dt;);for(mt=dt=St;Y=L.prev[--mt],L.prev[mt]=St<=Y?Y-St:0,--dt;);j+=St}if(L.strm.avail_in===0)break;if(yt=L.strm,xt=L.window,lt=L.strstart+L.lookahead,vt=j,Tt=void 0,Tt=yt.avail_in,vt<Tt&&(Tt=vt),dt=Tt===0?0:(yt.avail_in-=Tt,o.arraySet(xt,yt.input,yt.next_in,Tt,lt),yt.state.wrap===1?yt.adler=u(yt.adler,xt,Tt,lt):yt.state.wrap===2&&(yt.adler=h(yt.adler,xt,Tt,lt)),yt.next_in+=Tt,yt.total_in+=Tt,Tt),L.lookahead+=dt,L.lookahead+L.insert>=$)for(nt=L.strstart-L.insert,L.ins_h=L.window[nt],L.ins_h=(L.ins_h<<L.hash_shift^L.window[nt+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[nt+$-1])&L.hash_mask,L.prev[nt&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=nt,nt++,L.insert--,!(L.lookahead+L.insert<$)););}while(L.lookahead<V&&L.strm.avail_in!==0)}function Dt(L,mt){for(var dt,Y;;){if(L.lookahead<V){if(Ct(L),L.lookahead<V&&mt===m)return k;if(L.lookahead===0)break}if(dt=0,L.lookahead>=$&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+$-1])&L.hash_mask,dt=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),dt!==0&&L.strstart-dt<=L.w_size-V&&(L.match_length=st(L,dt)),L.match_length>=$)if(Y=l._tr_tally(L,L.strstart-L.match_start,L.match_length-$),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=$){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+$-1])&L.hash_mask,dt=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,--L.match_length!=0;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else Y=l._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(Y&&(q(L,!1),L.strm.avail_out===0))return k}return L.insert=L.strstart<$-1?L.strstart:$-1,mt===g?(q(L,!0),L.strm.avail_out===0?M:B):L.last_lit&&(q(L,!1),L.strm.avail_out===0)?k:H}function Ot(L,mt){for(var dt,Y,j;;){if(L.lookahead<V){if(Ct(L),L.lookahead<V&&mt===m)return k;if(L.lookahead===0)break}if(dt=0,L.lookahead>=$&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+$-1])&L.hash_mask,dt=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=$-1,dt!==0&&L.prev_length<L.max_lazy_match&&L.strstart-dt<=L.w_size-V&&(L.match_length=st(L,dt),L.match_length<=5&&(L.strategy===1||L.match_length===$&&4096<L.strstart-L.match_start)&&(L.match_length=$-1)),L.prev_length>=$&&L.match_length<=L.prev_length){for(j=L.strstart+L.lookahead-$,Y=l._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-$),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=j&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+$-1])&L.hash_mask,dt=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),--L.prev_length!=0;);if(L.match_available=0,L.match_length=$-1,L.strstart++,Y&&(q(L,!1),L.strm.avail_out===0))return k}else if(L.match_available){if((Y=l._tr_tally(L,0,L.window[L.strstart-1]))&&q(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return k}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(Y=l._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<$-1?L.strstart:$-1,mt===g?(q(L,!0),L.strm.avail_out===0?M:B):L.last_lit&&(q(L,!1),L.strm.avail_out===0)?k:H}function At(L,mt,dt,Y,j){this.good_length=L,this.max_lazy=mt,this.nice_length=dt,this.max_chain=Y,this.func=j}function Gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*N),this.dyn_dtree=new o.Buf16(2*(2*R+1)),this.bl_tree=new o.Buf16(2*(2*U+1)),rt(this.dyn_ltree),rt(this.dyn_dtree),rt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(P+1),this.heap=new o.Buf16(2*D+1),rt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*D+1),rt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(L){var mt;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=S,(mt=L.state).pending=0,mt.pending_out=0,mt.wrap<0&&(mt.wrap=-mt.wrap),mt.status=mt.wrap?I:G,L.adler=mt.wrap===2?0:1,mt.last_flush=m,l._tr_init(mt),y):W(L,_)}function sn(L){var mt=be(L);return mt===y&&(function(dt){dt.window_size=2*dt.w_size,rt(dt.head),dt.max_lazy_match=a[dt.level].max_lazy,dt.good_match=a[dt.level].good_length,dt.nice_match=a[dt.level].nice_length,dt.max_chain_length=a[dt.level].max_chain,dt.strstart=0,dt.block_start=0,dt.lookahead=0,dt.insert=0,dt.match_length=dt.prev_length=$-1,dt.match_available=0,dt.ins_h=0})(L.state),mt}function Ve(L,mt,dt,Y,j,nt){if(!L)return _;var yt=1;if(mt===b&&(mt=6),Y<0?(yt=0,Y=-Y):15<Y&&(yt=2,Y-=16),j<1||C<j||dt!==E||Y<8||15<Y||mt<0||9<mt||nt<0||w<nt)return W(L,_);Y===8&&(Y=9);var xt=new Gt;return(L.state=xt).strm=L,xt.wrap=yt,xt.gzhead=null,xt.w_bits=Y,xt.w_size=1<<xt.w_bits,xt.w_mask=xt.w_size-1,xt.hash_bits=j+7,xt.hash_size=1<<xt.hash_bits,xt.hash_mask=xt.hash_size-1,xt.hash_shift=~~((xt.hash_bits+$-1)/$),xt.window=new o.Buf8(2*xt.w_size),xt.head=new o.Buf16(xt.hash_size),xt.prev=new o.Buf16(xt.w_size),xt.lit_bufsize=1<<j+6,xt.pending_buf_size=4*xt.lit_bufsize,xt.pending_buf=new o.Buf8(xt.pending_buf_size),xt.d_buf=1*xt.lit_bufsize,xt.l_buf=3*xt.lit_bufsize,xt.level=mt,xt.strategy=nt,xt.method=dt,sn(L)}a=[new At(0,0,0,0,function(L,mt){var dt=65535;for(dt>L.pending_buf_size-5&&(dt=L.pending_buf_size-5);;){if(L.lookahead<=1){if(Ct(L),L.lookahead===0&&mt===m)return k;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var Y=L.block_start+dt;if((L.strstart===0||L.strstart>=Y)&&(L.lookahead=L.strstart-Y,L.strstart=Y,q(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-V&&(q(L,!1),L.strm.avail_out===0))return k}return L.insert=0,mt===g?(q(L,!0),L.strm.avail_out===0?M:B):(L.strstart>L.block_start&&(q(L,!1),L.strm.avail_out),k)}),new At(4,4,8,4,Dt),new At(4,5,16,8,Dt),new At(4,6,32,32,Dt),new At(4,4,16,16,Ot),new At(8,16,32,32,Ot),new At(8,16,128,128,Ot),new At(8,32,128,256,Ot),new At(32,128,258,1024,Ot),new At(32,258,258,4096,Ot)],s.deflateInit=function(L,mt){return Ve(L,mt,E,15,8,0)},s.deflateInit2=Ve,s.deflateReset=sn,s.deflateResetKeep=be,s.deflateSetHeader=function(L,mt){return L&&L.state?L.state.wrap!==2?_:(L.state.gzhead=mt,y):_},s.deflate=function(L,mt){var dt,Y,j,nt;if(!L||!L.state||5<mt||mt<0)return L?W(L,_):_;if(Y=L.state,!L.output||!L.input&&L.avail_in!==0||Y.status===666&&mt!==g)return W(L,L.avail_out===0?-5:_);if(Y.strm=L,dt=Y.last_flush,Y.last_flush=mt,Y.status===I)if(Y.wrap===2)L.adler=0,tt(Y,31),tt(Y,139),tt(Y,8),Y.gzhead?(tt(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),tt(Y,255&Y.gzhead.time),tt(Y,Y.gzhead.time>>8&255),tt(Y,Y.gzhead.time>>16&255),tt(Y,Y.gzhead.time>>24&255),tt(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),tt(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(tt(Y,255&Y.gzhead.extra.length),tt(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(L.adler=h(L.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(tt(Y,0),tt(Y,0),tt(Y,0),tt(Y,0),tt(Y,0),tt(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),tt(Y,3),Y.status=G);else{var yt=E+(Y.w_bits-8<<4)<<8;yt|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(yt|=32),yt+=31-yt%31,Y.status=G,it(Y,yt),Y.strstart!==0&&(it(Y,L.adler>>>16),it(Y,65535&L.adler)),L.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(j=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>j&&(L.adler=h(L.adler,Y.pending_buf,Y.pending-j,j)),O(L),j=Y.pending,Y.pending!==Y.pending_buf_size));)tt(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>j&&(L.adler=h(L.adler,Y.pending_buf,Y.pending-j,j)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){j=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>j&&(L.adler=h(L.adler,Y.pending_buf,Y.pending-j,j)),O(L),j=Y.pending,Y.pending===Y.pending_buf_size)){nt=1;break}nt=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,tt(Y,nt)}while(nt!==0);Y.gzhead.hcrc&&Y.pending>j&&(L.adler=h(L.adler,Y.pending_buf,Y.pending-j,j)),nt===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){j=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>j&&(L.adler=h(L.adler,Y.pending_buf,Y.pending-j,j)),O(L),j=Y.pending,Y.pending===Y.pending_buf_size)){nt=1;break}nt=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,tt(Y,nt)}while(nt!==0);Y.gzhead.hcrc&&Y.pending>j&&(L.adler=h(L.adler,Y.pending_buf,Y.pending-j,j)),nt===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&O(L),Y.pending+2<=Y.pending_buf_size&&(tt(Y,255&L.adler),tt(Y,L.adler>>8&255),L.adler=0,Y.status=G)):Y.status=G),Y.pending!==0){if(O(L),L.avail_out===0)return Y.last_flush=-1,y}else if(L.avail_in===0&&Z(mt)<=Z(dt)&&mt!==g)return W(L,-5);if(Y.status===666&&L.avail_in!==0)return W(L,-5);if(L.avail_in!==0||Y.lookahead!==0||mt!==m&&Y.status!==666){var xt=Y.strategy===2?(function(lt,vt){for(var Tt;;){if(lt.lookahead===0&&(Ct(lt),lt.lookahead===0)){if(vt===m)return k;break}if(lt.match_length=0,Tt=l._tr_tally(lt,0,lt.window[lt.strstart]),lt.lookahead--,lt.strstart++,Tt&&(q(lt,!1),lt.strm.avail_out===0))return k}return lt.insert=0,vt===g?(q(lt,!0),lt.strm.avail_out===0?M:B):lt.last_lit&&(q(lt,!1),lt.strm.avail_out===0)?k:H})(Y,mt):Y.strategy===3?(function(lt,vt){for(var Tt,St,It,ue,Kt=lt.window;;){if(lt.lookahead<=X){if(Ct(lt),lt.lookahead<=X&&vt===m)return k;if(lt.lookahead===0)break}if(lt.match_length=0,lt.lookahead>=$&&0<lt.strstart&&(St=Kt[It=lt.strstart-1])===Kt[++It]&&St===Kt[++It]&&St===Kt[++It]){ue=lt.strstart+X;do;while(St===Kt[++It]&&St===Kt[++It]&&St===Kt[++It]&&St===Kt[++It]&&St===Kt[++It]&&St===Kt[++It]&&St===Kt[++It]&&St===Kt[++It]&&It<ue);lt.match_length=X-(ue-It),lt.match_length>lt.lookahead&&(lt.match_length=lt.lookahead)}if(lt.match_length>=$?(Tt=l._tr_tally(lt,1,lt.match_length-$),lt.lookahead-=lt.match_length,lt.strstart+=lt.match_length,lt.match_length=0):(Tt=l._tr_tally(lt,0,lt.window[lt.strstart]),lt.lookahead--,lt.strstart++),Tt&&(q(lt,!1),lt.strm.avail_out===0))return k}return lt.insert=0,vt===g?(q(lt,!0),lt.strm.avail_out===0?M:B):lt.last_lit&&(q(lt,!1),lt.strm.avail_out===0)?k:H})(Y,mt):a[Y.level].func(Y,mt);if(xt!==M&&xt!==B||(Y.status=666),xt===k||xt===M)return L.avail_out===0&&(Y.last_flush=-1),y;if(xt===H&&(mt===1?l._tr_align(Y):mt!==5&&(l._tr_stored_block(Y,0,0,!1),mt===3&&(rt(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),O(L),L.avail_out===0))return Y.last_flush=-1,y}return mt!==g?y:Y.wrap<=0?1:(Y.wrap===2?(tt(Y,255&L.adler),tt(Y,L.adler>>8&255),tt(Y,L.adler>>16&255),tt(Y,L.adler>>24&255),tt(Y,255&L.total_in),tt(Y,L.total_in>>8&255),tt(Y,L.total_in>>16&255),tt(Y,L.total_in>>24&255)):(it(Y,L.adler>>>16),it(Y,65535&L.adler)),O(L),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?y:1)},s.deflateEnd=function(L){var mt;return L&&L.state?(mt=L.state.status)!==I&&mt!==69&&mt!==73&&mt!==91&&mt!==103&&mt!==G&&mt!==666?W(L,_):(L.state=null,mt===G?W(L,-3):y):_},s.deflateSetDictionary=function(L,mt){var dt,Y,j,nt,yt,xt,lt,vt,Tt=mt.length;if(!L||!L.state||(nt=(dt=L.state).wrap)===2||nt===1&&dt.status!==I||dt.lookahead)return _;for(nt===1&&(L.adler=u(L.adler,mt,Tt,0)),dt.wrap=0,Tt>=dt.w_size&&(nt===0&&(rt(dt.head),dt.strstart=0,dt.block_start=0,dt.insert=0),vt=new o.Buf8(dt.w_size),o.arraySet(vt,mt,Tt-dt.w_size,dt.w_size,0),mt=vt,Tt=dt.w_size),yt=L.avail_in,xt=L.next_in,lt=L.input,L.avail_in=Tt,L.next_in=0,L.input=mt,Ct(dt);dt.lookahead>=$;){for(Y=dt.strstart,j=dt.lookahead-($-1);dt.ins_h=(dt.ins_h<<dt.hash_shift^dt.window[Y+$-1])&dt.hash_mask,dt.prev[Y&dt.w_mask]=dt.head[dt.ins_h],dt.head[dt.ins_h]=Y,Y++,--j;);dt.strstart=Y,dt.lookahead=$-1,Ct(dt)}return dt.strstart+=dt.lookahead,dt.block_start=dt.strstart,dt.insert=dt.lookahead,dt.lookahead=0,dt.match_length=dt.prev_length=$-1,dt.match_available=0,L.next_in=xt,L.input=lt,L.avail_in=yt,dt.wrap=nt,y},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,s){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,s){i.exports=function(a,o){var l,u,h,f,m,g,y,_,b,w,S,E,C,D,R,U,N,P,$,X,V,I,G,k,H;l=a.state,u=a.next_in,k=a.input,h=u+(a.avail_in-5),f=a.next_out,H=a.output,m=f-(o-a.avail_out),g=f+(a.avail_out-257),y=l.dmax,_=l.wsize,b=l.whave,w=l.wnext,S=l.window,E=l.hold,C=l.bits,D=l.lencode,R=l.distcode,U=(1<<l.lenbits)-1,N=(1<<l.distbits)-1;t:do{C<15&&(E+=k[u++]<<C,C+=8,E+=k[u++]<<C,C+=8),P=D[E&U];e:for(;;){if(E>>>=$=P>>>24,C-=$,($=P>>>16&255)===0)H[f++]=65535&P;else{if(!(16&$)){if((64&$)==0){P=D[(65535&P)+(E&(1<<$)-1)];continue e}if(32&$){l.mode=12;break t}a.msg="invalid literal/length code",l.mode=30;break t}X=65535&P,($&=15)&&(C<$&&(E+=k[u++]<<C,C+=8),X+=E&(1<<$)-1,E>>>=$,C-=$),C<15&&(E+=k[u++]<<C,C+=8,E+=k[u++]<<C,C+=8),P=R[E&N];n:for(;;){if(E>>>=$=P>>>24,C-=$,!(16&($=P>>>16&255))){if((64&$)==0){P=R[(65535&P)+(E&(1<<$)-1)];continue n}a.msg="invalid distance code",l.mode=30;break t}if(V=65535&P,C<($&=15)&&(E+=k[u++]<<C,(C+=8)<$&&(E+=k[u++]<<C,C+=8)),y<(V+=E&(1<<$)-1)){a.msg="invalid distance too far back",l.mode=30;break t}if(E>>>=$,C-=$,($=f-m)<V){if(b<($=V-$)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break t}if(G=S,(I=0)===w){if(I+=_-$,$<X){for(X-=$;H[f++]=S[I++],--$;);I=f-V,G=H}}else if(w<$){if(I+=_+w-$,($-=w)<X){for(X-=$;H[f++]=S[I++],--$;);if(I=0,w<X){for(X-=$=w;H[f++]=S[I++],--$;);I=f-V,G=H}}}else if(I+=w-$,$<X){for(X-=$;H[f++]=S[I++],--$;);I=f-V,G=H}for(;2<X;)H[f++]=G[I++],H[f++]=G[I++],H[f++]=G[I++],X-=3;X&&(H[f++]=G[I++],1<X&&(H[f++]=G[I++]))}else{for(I=f-V;H[f++]=H[I++],H[f++]=H[I++],H[f++]=H[I++],2<(X-=3););X&&(H[f++]=H[I++],1<X&&(H[f++]=H[I++]))}break}}break}}while(u<h&&f<g);u-=X=C>>3,E&=(1<<(C-=X<<3))-1,a.next_in=u,a.next_out=f,a.avail_in=u<h?h-u+5:5-(u-h),a.avail_out=f<g?g-f+257:257-(f-g),l.hold=E,l.bits=C}},{}],49:[function(n,i,s){var a=n("../utils/common"),o=n("./adler32"),l=n("./crc32"),u=n("./inffast"),h=n("./inftrees"),f=1,m=2,g=0,y=-2,_=1,b=852,w=592;function S(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(I){var G;return I&&I.state?(G=I.state,I.total_in=I.total_out=G.total=0,I.msg="",G.wrap&&(I.adler=1&G.wrap),G.mode=_,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new a.Buf32(b),G.distcode=G.distdyn=new a.Buf32(w),G.sane=1,G.back=-1,g):y}function D(I){var G;return I&&I.state?((G=I.state).wsize=0,G.whave=0,G.wnext=0,C(I)):y}function R(I,G){var k,H;return I&&I.state?(H=I.state,G<0?(k=0,G=-G):(k=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?y:(H.window!==null&&H.wbits!==G&&(H.window=null),H.wrap=k,H.wbits=G,D(I))):y}function U(I,G){var k,H;return I?(H=new E,(I.state=H).window=null,(k=R(I,G))!==g&&(I.state=null),k):y}var N,P,$=!0;function X(I){if($){var G;for(N=new a.Buf32(512),P=new a.Buf32(32),G=0;G<144;)I.lens[G++]=8;for(;G<256;)I.lens[G++]=9;for(;G<280;)I.lens[G++]=7;for(;G<288;)I.lens[G++]=8;for(h(f,I.lens,0,288,N,0,I.work,{bits:9}),G=0;G<32;)I.lens[G++]=5;h(m,I.lens,0,32,P,0,I.work,{bits:5}),$=!1}I.lencode=N,I.lenbits=9,I.distcode=P,I.distbits=5}function V(I,G,k,H){var M,B=I.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new a.Buf8(B.wsize)),H>=B.wsize?(a.arraySet(B.window,G,k-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(H<(M=B.wsize-B.wnext)&&(M=H),a.arraySet(B.window,G,k-H,M,B.wnext),(H-=M)?(a.arraySet(B.window,G,k-H,H,0),B.wnext=H,B.whave=B.wsize):(B.wnext+=M,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=M))),0}s.inflateReset=D,s.inflateReset2=R,s.inflateResetKeep=C,s.inflateInit=function(I){return U(I,15)},s.inflateInit2=U,s.inflate=function(I,G){var k,H,M,B,W,Z,rt,O,q,tt,it,st,Ct,Dt,Ot,At,Gt,be,sn,Ve,L,mt,dt,Y,j=0,nt=new a.Buf8(4),yt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return y;(k=I.state).mode===12&&(k.mode=13),W=I.next_out,M=I.output,rt=I.avail_out,B=I.next_in,H=I.input,Z=I.avail_in,O=k.hold,q=k.bits,tt=Z,it=rt,mt=g;t:for(;;)switch(k.mode){case _:if(k.wrap===0){k.mode=13;break}for(;q<16;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}if(2&k.wrap&&O===35615){nt[k.check=0]=255&O,nt[1]=O>>>8&255,k.check=l(k.check,nt,2,0),q=O=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&O)<<8)+(O>>8))%31){I.msg="incorrect header check",k.mode=30;break}if((15&O)!=8){I.msg="unknown compression method",k.mode=30;break}if(q-=4,L=8+(15&(O>>>=4)),k.wbits===0)k.wbits=L;else if(L>k.wbits){I.msg="invalid window size",k.mode=30;break}k.dmax=1<<L,I.adler=k.check=1,k.mode=512&O?10:12,q=O=0;break;case 2:for(;q<16;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}if(k.flags=O,(255&k.flags)!=8){I.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){I.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=O>>8&1),512&k.flags&&(nt[0]=255&O,nt[1]=O>>>8&255,k.check=l(k.check,nt,2,0)),q=O=0,k.mode=3;case 3:for(;q<32;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}k.head&&(k.head.time=O),512&k.flags&&(nt[0]=255&O,nt[1]=O>>>8&255,nt[2]=O>>>16&255,nt[3]=O>>>24&255,k.check=l(k.check,nt,4,0)),q=O=0,k.mode=4;case 4:for(;q<16;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}k.head&&(k.head.xflags=255&O,k.head.os=O>>8),512&k.flags&&(nt[0]=255&O,nt[1]=O>>>8&255,k.check=l(k.check,nt,2,0)),q=O=0,k.mode=5;case 5:if(1024&k.flags){for(;q<16;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}k.length=O,k.head&&(k.head.extra_len=O),512&k.flags&&(nt[0]=255&O,nt[1]=O>>>8&255,k.check=l(k.check,nt,2,0)),q=O=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(Z<(st=k.length)&&(st=Z),st&&(k.head&&(L=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),a.arraySet(k.head.extra,H,B,st,L)),512&k.flags&&(k.check=l(k.check,H,st,B)),Z-=st,B+=st,k.length-=st),k.length))break t;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(Z===0)break t;for(st=0;L=H[B+st++],k.head&&L&&k.length<65536&&(k.head.name+=String.fromCharCode(L)),L&&st<Z;);if(512&k.flags&&(k.check=l(k.check,H,st,B)),Z-=st,B+=st,L)break t}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(Z===0)break t;for(st=0;L=H[B+st++],k.head&&L&&k.length<65536&&(k.head.comment+=String.fromCharCode(L)),L&&st<Z;);if(512&k.flags&&(k.check=l(k.check,H,st,B)),Z-=st,B+=st,L)break t}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;q<16;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}if(O!==(65535&k.check)){I.msg="header crc mismatch",k.mode=30;break}q=O=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),I.adler=k.check=0,k.mode=12;break;case 10:for(;q<32;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}I.adler=k.check=S(O),q=O=0,k.mode=11;case 11:if(k.havedict===0)return I.next_out=W,I.avail_out=rt,I.next_in=B,I.avail_in=Z,k.hold=O,k.bits=q,2;I.adler=k.check=1,k.mode=12;case 12:if(G===5||G===6)break t;case 13:if(k.last){O>>>=7&q,q-=7&q,k.mode=27;break}for(;q<3;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}switch(k.last=1&O,q-=1,3&(O>>>=1)){case 0:k.mode=14;break;case 1:if(X(k),k.mode=20,G!==6)break;O>>>=2,q-=2;break t;case 2:k.mode=17;break;case 3:I.msg="invalid block type",k.mode=30}O>>>=2,q-=2;break;case 14:for(O>>>=7&q,q-=7&q;q<32;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}if((65535&O)!=(O>>>16^65535)){I.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&O,q=O=0,k.mode=15,G===6)break t;case 15:k.mode=16;case 16:if(st=k.length){if(Z<st&&(st=Z),rt<st&&(st=rt),st===0)break t;a.arraySet(M,H,B,st,W),Z-=st,B+=st,rt-=st,W+=st,k.length-=st;break}k.mode=12;break;case 17:for(;q<14;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}if(k.nlen=257+(31&O),O>>>=5,q-=5,k.ndist=1+(31&O),O>>>=5,q-=5,k.ncode=4+(15&O),O>>>=4,q-=4,286<k.nlen||30<k.ndist){I.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;q<3;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}k.lens[yt[k.have++]]=7&O,O>>>=3,q-=3}for(;k.have<19;)k.lens[yt[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,dt={bits:k.lenbits},mt=h(0,k.lens,0,19,k.lencode,0,k.work,dt),k.lenbits=dt.bits,mt){I.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;At=(j=k.lencode[O&(1<<k.lenbits)-1])>>>16&255,Gt=65535&j,!((Ot=j>>>24)<=q);){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}if(Gt<16)O>>>=Ot,q-=Ot,k.lens[k.have++]=Gt;else{if(Gt===16){for(Y=Ot+2;q<Y;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}if(O>>>=Ot,q-=Ot,k.have===0){I.msg="invalid bit length repeat",k.mode=30;break}L=k.lens[k.have-1],st=3+(3&O),O>>>=2,q-=2}else if(Gt===17){for(Y=Ot+3;q<Y;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}q-=Ot,L=0,st=3+(7&(O>>>=Ot)),O>>>=3,q-=3}else{for(Y=Ot+7;q<Y;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}q-=Ot,L=0,st=11+(127&(O>>>=Ot)),O>>>=7,q-=7}if(k.have+st>k.nlen+k.ndist){I.msg="invalid bit length repeat",k.mode=30;break}for(;st--;)k.lens[k.have++]=L}}if(k.mode===30)break;if(k.lens[256]===0){I.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,dt={bits:k.lenbits},mt=h(f,k.lens,0,k.nlen,k.lencode,0,k.work,dt),k.lenbits=dt.bits,mt){I.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,dt={bits:k.distbits},mt=h(m,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,dt),k.distbits=dt.bits,mt){I.msg="invalid distances set",k.mode=30;break}if(k.mode=20,G===6)break t;case 20:k.mode=21;case 21:if(6<=Z&&258<=rt){I.next_out=W,I.avail_out=rt,I.next_in=B,I.avail_in=Z,k.hold=O,k.bits=q,u(I,it),W=I.next_out,M=I.output,rt=I.avail_out,B=I.next_in,H=I.input,Z=I.avail_in,O=k.hold,q=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;At=(j=k.lencode[O&(1<<k.lenbits)-1])>>>16&255,Gt=65535&j,!((Ot=j>>>24)<=q);){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}if(At&&(240&At)==0){for(be=Ot,sn=At,Ve=Gt;At=(j=k.lencode[Ve+((O&(1<<be+sn)-1)>>be)])>>>16&255,Gt=65535&j,!(be+(Ot=j>>>24)<=q);){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}O>>>=be,q-=be,k.back+=be}if(O>>>=Ot,q-=Ot,k.back+=Ot,k.length=Gt,At===0){k.mode=26;break}if(32&At){k.back=-1,k.mode=12;break}if(64&At){I.msg="invalid literal/length code",k.mode=30;break}k.extra=15&At,k.mode=22;case 22:if(k.extra){for(Y=k.extra;q<Y;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}k.length+=O&(1<<k.extra)-1,O>>>=k.extra,q-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;At=(j=k.distcode[O&(1<<k.distbits)-1])>>>16&255,Gt=65535&j,!((Ot=j>>>24)<=q);){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}if((240&At)==0){for(be=Ot,sn=At,Ve=Gt;At=(j=k.distcode[Ve+((O&(1<<be+sn)-1)>>be)])>>>16&255,Gt=65535&j,!(be+(Ot=j>>>24)<=q);){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}O>>>=be,q-=be,k.back+=be}if(O>>>=Ot,q-=Ot,k.back+=Ot,64&At){I.msg="invalid distance code",k.mode=30;break}k.offset=Gt,k.extra=15&At,k.mode=24;case 24:if(k.extra){for(Y=k.extra;q<Y;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}k.offset+=O&(1<<k.extra)-1,O>>>=k.extra,q-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){I.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(rt===0)break t;if(st=it-rt,k.offset>st){if((st=k.offset-st)>k.whave&&k.sane){I.msg="invalid distance too far back",k.mode=30;break}Ct=st>k.wnext?(st-=k.wnext,k.wsize-st):k.wnext-st,st>k.length&&(st=k.length),Dt=k.window}else Dt=M,Ct=W-k.offset,st=k.length;for(rt<st&&(st=rt),rt-=st,k.length-=st;M[W++]=Dt[Ct++],--st;);k.length===0&&(k.mode=21);break;case 26:if(rt===0)break t;M[W++]=k.length,rt--,k.mode=21;break;case 27:if(k.wrap){for(;q<32;){if(Z===0)break t;Z--,O|=H[B++]<<q,q+=8}if(it-=rt,I.total_out+=it,k.total+=it,it&&(I.adler=k.check=k.flags?l(k.check,M,it,W-it):o(k.check,M,it,W-it)),it=rt,(k.flags?O:S(O))!==k.check){I.msg="incorrect data check",k.mode=30;break}q=O=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;q<32;){if(Z===0)break t;Z--,O+=H[B++]<<q,q+=8}if(O!==(4294967295&k.total)){I.msg="incorrect length check",k.mode=30;break}q=O=0}k.mode=29;case 29:mt=1;break t;case 30:mt=-3;break t;case 31:return-4;default:return y}return I.next_out=W,I.avail_out=rt,I.next_in=B,I.avail_in=Z,k.hold=O,k.bits=q,(k.wsize||it!==I.avail_out&&k.mode<30&&(k.mode<27||G!==4))&&V(I,I.output,I.next_out,it-I.avail_out)?(k.mode=31,-4):(tt-=I.avail_in,it-=I.avail_out,I.total_in+=tt,I.total_out+=it,k.total+=it,k.wrap&&it&&(I.adler=k.check=k.flags?l(k.check,M,it,I.next_out-it):o(k.check,M,it,I.next_out-it)),I.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(tt==0&&it===0||G===4)&&mt===g&&(mt=-5),mt)},s.inflateEnd=function(I){if(!I||!I.state)return y;var G=I.state;return G.window&&(G.window=null),I.state=null,g},s.inflateGetHeader=function(I,G){var k;return I&&I.state?(2&(k=I.state).wrap)==0?y:((k.head=G).done=!1,g):y},s.inflateSetDictionary=function(I,G){var k,H=G.length;return I&&I.state?(k=I.state).wrap!==0&&k.mode!==11?y:k.mode===11&&o(1,G,H,0)!==k.check?-3:V(I,G,H,H)?(k.mode=31,-4):(k.havedict=1,g):y},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,s){var a=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(f,m,g,y,_,b,w,S){var E,C,D,R,U,N,P,$,X,V=S.bits,I=0,G=0,k=0,H=0,M=0,B=0,W=0,Z=0,rt=0,O=0,q=null,tt=0,it=new a.Buf16(16),st=new a.Buf16(16),Ct=null,Dt=0;for(I=0;I<=15;I++)it[I]=0;for(G=0;G<y;G++)it[m[g+G]]++;for(M=V,H=15;1<=H&&it[H]===0;H--);if(H<M&&(M=H),H===0)return _[b++]=20971520,_[b++]=20971520,S.bits=1,0;for(k=1;k<H&&it[k]===0;k++);for(M<k&&(M=k),I=Z=1;I<=15;I++)if(Z<<=1,(Z-=it[I])<0)return-1;if(0<Z&&(f===0||H!==1))return-1;for(st[1]=0,I=1;I<15;I++)st[I+1]=st[I]+it[I];for(G=0;G<y;G++)m[g+G]!==0&&(w[st[m[g+G]]++]=G);if(N=f===0?(q=Ct=w,19):f===1?(q=o,tt-=257,Ct=l,Dt-=257,256):(q=u,Ct=h,-1),I=k,U=b,W=G=O=0,D=-1,R=(rt=1<<(B=M))-1,f===1&&852<rt||f===2&&592<rt)return 1;for(;;){for(P=I-W,X=w[G]<N?($=0,w[G]):w[G]>N?($=Ct[Dt+w[G]],q[tt+w[G]]):($=96,0),E=1<<I-W,k=C=1<<B;_[U+(O>>W)+(C-=E)]=P<<24|$<<16|X|0,C!==0;);for(E=1<<I-1;O&E;)E>>=1;if(E!==0?(O&=E-1,O+=E):O=0,G++,--it[I]==0){if(I===H)break;I=m[g+w[G]]}if(M<I&&(O&R)!==D){for(W===0&&(W=M),U+=k,Z=1<<(B=I-W);B+W<H&&!((Z-=it[B+W])<=0);)B++,Z<<=1;if(rt+=1<<B,f===1&&852<rt||f===2&&592<rt)return 1;_[D=O&R]=M<<24|B<<16|U-b|0}}return O!==0&&(_[U+O]=I-W<<24|64<<16|0),S.bits=M,0}},{"../utils/common":41}],51:[function(n,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,s){var a=n("../utils/common"),o=0,l=1;function u(j){for(var nt=j.length;0<=--nt;)j[nt]=0}var h=0,f=29,m=256,g=m+1+f,y=30,_=19,b=2*g+1,w=15,S=16,E=7,C=256,D=16,R=17,U=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(2*(g+2));u(V);var I=new Array(2*y);u(I);var G=new Array(512);u(G);var k=new Array(256);u(k);var H=new Array(f);u(H);var M,B,W,Z=new Array(y);function rt(j,nt,yt,xt,lt){this.static_tree=j,this.extra_bits=nt,this.extra_base=yt,this.elems=xt,this.max_length=lt,this.has_stree=j&&j.length}function O(j,nt){this.dyn_tree=j,this.max_code=0,this.stat_desc=nt}function q(j){return j<256?G[j]:G[256+(j>>>7)]}function tt(j,nt){j.pending_buf[j.pending++]=255&nt,j.pending_buf[j.pending++]=nt>>>8&255}function it(j,nt,yt){j.bi_valid>S-yt?(j.bi_buf|=nt<<j.bi_valid&65535,tt(j,j.bi_buf),j.bi_buf=nt>>S-j.bi_valid,j.bi_valid+=yt-S):(j.bi_buf|=nt<<j.bi_valid&65535,j.bi_valid+=yt)}function st(j,nt,yt){it(j,yt[2*nt],yt[2*nt+1])}function Ct(j,nt){for(var yt=0;yt|=1&j,j>>>=1,yt<<=1,0<--nt;);return yt>>>1}function Dt(j,nt,yt){var xt,lt,vt=new Array(w+1),Tt=0;for(xt=1;xt<=w;xt++)vt[xt]=Tt=Tt+yt[xt-1]<<1;for(lt=0;lt<=nt;lt++){var St=j[2*lt+1];St!==0&&(j[2*lt]=Ct(vt[St]++,St))}}function Ot(j){var nt;for(nt=0;nt<g;nt++)j.dyn_ltree[2*nt]=0;for(nt=0;nt<y;nt++)j.dyn_dtree[2*nt]=0;for(nt=0;nt<_;nt++)j.bl_tree[2*nt]=0;j.dyn_ltree[2*C]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function At(j){8<j.bi_valid?tt(j,j.bi_buf):0<j.bi_valid&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function Gt(j,nt,yt,xt){var lt=2*nt,vt=2*yt;return j[lt]<j[vt]||j[lt]===j[vt]&&xt[nt]<=xt[yt]}function be(j,nt,yt){for(var xt=j.heap[yt],lt=yt<<1;lt<=j.heap_len&&(lt<j.heap_len&&Gt(nt,j.heap[lt+1],j.heap[lt],j.depth)&&lt++,!Gt(nt,xt,j.heap[lt],j.depth));)j.heap[yt]=j.heap[lt],yt=lt,lt<<=1;j.heap[yt]=xt}function sn(j,nt,yt){var xt,lt,vt,Tt,St=0;if(j.last_lit!==0)for(;xt=j.pending_buf[j.d_buf+2*St]<<8|j.pending_buf[j.d_buf+2*St+1],lt=j.pending_buf[j.l_buf+St],St++,xt===0?st(j,lt,nt):(st(j,(vt=k[lt])+m+1,nt),(Tt=N[vt])!==0&&it(j,lt-=H[vt],Tt),st(j,vt=q(--xt),yt),(Tt=P[vt])!==0&&it(j,xt-=Z[vt],Tt)),St<j.last_lit;);st(j,C,nt)}function Ve(j,nt){var yt,xt,lt,vt=nt.dyn_tree,Tt=nt.stat_desc.static_tree,St=nt.stat_desc.has_stree,It=nt.stat_desc.elems,ue=-1;for(j.heap_len=0,j.heap_max=b,yt=0;yt<It;yt++)vt[2*yt]!==0?(j.heap[++j.heap_len]=ue=yt,j.depth[yt]=0):vt[2*yt+1]=0;for(;j.heap_len<2;)vt[2*(lt=j.heap[++j.heap_len]=ue<2?++ue:0)]=1,j.depth[lt]=0,j.opt_len--,St&&(j.static_len-=Tt[2*lt+1]);for(nt.max_code=ue,yt=j.heap_len>>1;1<=yt;yt--)be(j,vt,yt);for(lt=It;yt=j.heap[1],j.heap[1]=j.heap[j.heap_len--],be(j,vt,1),xt=j.heap[1],j.heap[--j.heap_max]=yt,j.heap[--j.heap_max]=xt,vt[2*lt]=vt[2*yt]+vt[2*xt],j.depth[lt]=(j.depth[yt]>=j.depth[xt]?j.depth[yt]:j.depth[xt])+1,vt[2*yt+1]=vt[2*xt+1]=lt,j.heap[1]=lt++,be(j,vt,1),2<=j.heap_len;);j.heap[--j.heap_max]=j.heap[1],(function(Kt,Ln){var Ni,Fn,Un,kt,_e,Zt,Yt=Ln.dyn_tree,Xe=Ln.max_code,Rt=Ln.stat_desc.static_tree,fe=Ln.stat_desc.has_stree,ge=Ln.stat_desc.extra_bits,xe=Ln.stat_desc.extra_base,Te=Ln.stat_desc.max_length,ae=0;for(kt=0;kt<=w;kt++)Kt.bl_count[kt]=0;for(Yt[2*Kt.heap[Kt.heap_max]+1]=0,Ni=Kt.heap_max+1;Ni<b;Ni++)Te<(kt=Yt[2*Yt[2*(Fn=Kt.heap[Ni])+1]+1]+1)&&(kt=Te,ae++),Yt[2*Fn+1]=kt,Xe<Fn||(Kt.bl_count[kt]++,_e=0,xe<=Fn&&(_e=ge[Fn-xe]),Zt=Yt[2*Fn],Kt.opt_len+=Zt*(kt+_e),fe&&(Kt.static_len+=Zt*(Rt[2*Fn+1]+_e)));if(ae!==0){do{for(kt=Te-1;Kt.bl_count[kt]===0;)kt--;Kt.bl_count[kt]--,Kt.bl_count[kt+1]+=2,Kt.bl_count[Te]--,ae-=2}while(0<ae);for(kt=Te;kt!==0;kt--)for(Fn=Kt.bl_count[kt];Fn!==0;)Xe<(Un=Kt.heap[--Ni])||(Yt[2*Un+1]!==kt&&(Kt.opt_len+=(kt-Yt[2*Un+1])*Yt[2*Un],Yt[2*Un+1]=kt),Fn--)}})(j,nt),Dt(vt,ue,j.bl_count)}function L(j,nt,yt){var xt,lt,vt=-1,Tt=nt[1],St=0,It=7,ue=4;for(Tt===0&&(It=138,ue=3),nt[2*(yt+1)+1]=65535,xt=0;xt<=yt;xt++)lt=Tt,Tt=nt[2*(xt+1)+1],++St<It&&lt===Tt||(St<ue?j.bl_tree[2*lt]+=St:lt!==0?(lt!==vt&&j.bl_tree[2*lt]++,j.bl_tree[2*D]++):St<=10?j.bl_tree[2*R]++:j.bl_tree[2*U]++,vt=lt,ue=(St=0)===Tt?(It=138,3):lt===Tt?(It=6,3):(It=7,4))}function mt(j,nt,yt){var xt,lt,vt=-1,Tt=nt[1],St=0,It=7,ue=4;for(Tt===0&&(It=138,ue=3),xt=0;xt<=yt;xt++)if(lt=Tt,Tt=nt[2*(xt+1)+1],!(++St<It&&lt===Tt)){if(St<ue)for(;st(j,lt,j.bl_tree),--St!=0;);else lt!==0?(lt!==vt&&(st(j,lt,j.bl_tree),St--),st(j,D,j.bl_tree),it(j,St-3,2)):St<=10?(st(j,R,j.bl_tree),it(j,St-3,3)):(st(j,U,j.bl_tree),it(j,St-11,7));vt=lt,ue=(St=0)===Tt?(It=138,3):lt===Tt?(It=6,3):(It=7,4)}}u(Z);var dt=!1;function Y(j,nt,yt,xt){it(j,(h<<1)+(xt?1:0),3),(function(lt,vt,Tt,St){At(lt),tt(lt,Tt),tt(lt,~Tt),a.arraySet(lt.pending_buf,lt.window,vt,Tt,lt.pending),lt.pending+=Tt})(j,nt,yt)}s._tr_init=function(j){dt||((function(){var nt,yt,xt,lt,vt,Tt=new Array(w+1);for(lt=xt=0;lt<f-1;lt++)for(H[lt]=xt,nt=0;nt<1<<N[lt];nt++)k[xt++]=lt;for(k[xt-1]=lt,lt=vt=0;lt<16;lt++)for(Z[lt]=vt,nt=0;nt<1<<P[lt];nt++)G[vt++]=lt;for(vt>>=7;lt<y;lt++)for(Z[lt]=vt<<7,nt=0;nt<1<<P[lt]-7;nt++)G[256+vt++]=lt;for(yt=0;yt<=w;yt++)Tt[yt]=0;for(nt=0;nt<=143;)V[2*nt+1]=8,nt++,Tt[8]++;for(;nt<=255;)V[2*nt+1]=9,nt++,Tt[9]++;for(;nt<=279;)V[2*nt+1]=7,nt++,Tt[7]++;for(;nt<=287;)V[2*nt+1]=8,nt++,Tt[8]++;for(Dt(V,g+1,Tt),nt=0;nt<y;nt++)I[2*nt+1]=5,I[2*nt]=Ct(nt,5);M=new rt(V,N,m+1,g,w),B=new rt(I,P,0,y,w),W=new rt(new Array(0),$,0,_,E)})(),dt=!0),j.l_desc=new O(j.dyn_ltree,M),j.d_desc=new O(j.dyn_dtree,B),j.bl_desc=new O(j.bl_tree,W),j.bi_buf=0,j.bi_valid=0,Ot(j)},s._tr_stored_block=Y,s._tr_flush_block=function(j,nt,yt,xt){var lt,vt,Tt=0;0<j.level?(j.strm.data_type===2&&(j.strm.data_type=(function(St){var It,ue=4093624447;for(It=0;It<=31;It++,ue>>>=1)if(1&ue&&St.dyn_ltree[2*It]!==0)return o;if(St.dyn_ltree[18]!==0||St.dyn_ltree[20]!==0||St.dyn_ltree[26]!==0)return l;for(It=32;It<m;It++)if(St.dyn_ltree[2*It]!==0)return l;return o})(j)),Ve(j,j.l_desc),Ve(j,j.d_desc),Tt=(function(St){var It;for(L(St,St.dyn_ltree,St.l_desc.max_code),L(St,St.dyn_dtree,St.d_desc.max_code),Ve(St,St.bl_desc),It=_-1;3<=It&&St.bl_tree[2*X[It]+1]===0;It--);return St.opt_len+=3*(It+1)+5+5+4,It})(j),lt=j.opt_len+3+7>>>3,(vt=j.static_len+3+7>>>3)<=lt&&(lt=vt)):lt=vt=yt+5,yt+4<=lt&&nt!==-1?Y(j,nt,yt,xt):j.strategy===4||vt===lt?(it(j,2+(xt?1:0),3),sn(j,V,I)):(it(j,4+(xt?1:0),3),(function(St,It,ue,Kt){var Ln;for(it(St,It-257,5),it(St,ue-1,5),it(St,Kt-4,4),Ln=0;Ln<Kt;Ln++)it(St,St.bl_tree[2*X[Ln]+1],3);mt(St,St.dyn_ltree,It-1),mt(St,St.dyn_dtree,ue-1)})(j,j.l_desc.max_code+1,j.d_desc.max_code+1,Tt+1),sn(j,j.dyn_ltree,j.dyn_dtree)),Ot(j),xt&&At(j)},s._tr_tally=function(j,nt,yt){return j.pending_buf[j.d_buf+2*j.last_lit]=nt>>>8&255,j.pending_buf[j.d_buf+2*j.last_lit+1]=255&nt,j.pending_buf[j.l_buf+j.last_lit]=255&yt,j.last_lit++,nt===0?j.dyn_ltree[2*yt]++:(j.matches++,nt--,j.dyn_ltree[2*(k[yt]+m+1)]++,j.dyn_dtree[2*q(nt)]++),j.last_lit===j.lit_bufsize-1},s._tr_align=function(j){it(j,2,3),st(j,C,V),(function(nt){nt.bi_valid===16?(tt(nt,nt.bi_buf),nt.bi_buf=0,nt.bi_valid=0):8<=nt.bi_valid&&(nt.pending_buf[nt.pending++]=255&nt.bi_buf,nt.bi_buf>>=8,nt.bi_valid-=8)})(j)}},{"../utils/common":41}],53:[function(n,i,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,s){(function(a){(function(o,l){if(!o.setImmediate){var u,h,f,m,g=1,y={},_=!1,b=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,u={}.toString.call(o.process)==="[object process]"?function(D){process.nextTick(function(){E(D)})}:(function(){if(o.postMessage&&!o.importScripts){var D=!0,R=o.onmessage;return o.onmessage=function(){D=!1},o.postMessage("","*"),o.onmessage=R,D}})()?(m="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",C,!1):o.attachEvent("onmessage",C),function(D){o.postMessage(m+D,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(D){E(D.data)},function(D){f.port2.postMessage(D)}):b&&"onreadystatechange"in b.createElement("script")?(h=b.documentElement,function(D){var R=b.createElement("script");R.onreadystatechange=function(){E(D),R.onreadystatechange=null,h.removeChild(R),R=null},h.appendChild(R)}):function(D){setTimeout(E,0,D)},w.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var R=new Array(arguments.length-1),U=0;U<R.length;U++)R[U]=arguments[U+1];var N={callback:D,args:R};return y[g]=N,u(g),g++},w.clearImmediate=S}function S(D){delete y[D]}function E(D){if(_)setTimeout(E,0,D);else{var R=y[D];if(R){_=!0;try{(function(U){var N=U.callback,P=U.args;switch(P.length){case 0:N();break;case 1:N(P[0]);break;case 2:N(P[0],P[1]);break;case 3:N(P[0],P[1],P[2]);break;default:N.apply(l,P)}})(R)}finally{S(D),_=!1}}}}function C(D){D.source===o&&typeof D.data=="string"&&D.data.indexOf(m)===0&&E(+D.data.slice(m.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(N_)),N_.exports}var Rnt=Ant();const BB=vA(Rnt);function I_(e){return e.includes(",")||e.includes('"')||e.includes(`
`)||e.includes("\r")?`"${e.replace(/"/g,'""')}"`:e}function Lnt(e,t){const n=[e.map(I_).join(",")];for(const i of t){const s=e.map(a=>{const o=i[a];return o==null?"":typeof o=="bigint"?String(o):o instanceof Date?o.toISOString():I_(typeof o=="object"?JSON.stringify(o):String(o))});n.push(s.join(","))}return n.join(`
`)}async function Dnt(e,t,n,i){const s=new BB,a=Object.keys(t),o=s.folder("tables");for(const u of a){const h=await e.query(`SELECT * FROM "${u}"`),f=h.schema.fields.map(y=>y.name),m=h.toArray(),g=Lnt(f,m);o.file(`${u}.csv`,g)}const l={version:"1.0",question:i,sql:n,tables:a,createdAt:new Date().toISOString()};return s.file("metadata.json",JSON.stringify(l,null,2)),s.generateAsync({type:"blob"})}async function Ont(e){const t=await BB.loadAsync(e),n=t.file("metadata.json");if(!n)throw new Error("Invalid project file: missing metadata.json");const i=JSON.parse(await n.async("string")),s=new Map;for(const a of i.tables){const o=t.file(`tables/${a}.csv`);o&&s.set(a,await o.async("string"))}return{metadata:i,tableFiles:s}}async function Mnt(e,t,n){for(const[i,s]of n){const a=`__project_${i}.csv`;await e.registerFileText(a,s),await t.query(`CREATE OR REPLACE TABLE "${i}" AS SELECT * FROM read_csv('${a}', auto_detect=true)`)}}function Nnt({className:e,showSettings:t=!0}){const{getKey:n}=ky(),[i,s]=ft.useState(!1),[a,o]=ft.useState(void 0),[l,u]=ft.useState(0),[h,f]=ft.useState(void 0),[m,g]=ft.useState(0),[y,_]=ft.useState(null),[b,w]=ft.useState(null),[S,E]=ft.useState({}),C=ft.useRef(null),D=ft.useRef(null),R=ft.useRef(null),U=ft.useRef(null),[N,P]=ft.useState(!1),[$,X]=ft.useState(!1),V=ft.useRef(null),I=ft.useCallback(W=>{o(W),u(Z=>Z+1)},[]),G=ft.useCallback((W,Z,rt)=>{D.current=W,R.current=Z,U.current=rt},[]),k=ft.useCallback(async()=>{const W=R.current;if(!(!W||Object.keys(S).length===0)){P(!0);try{const Z=localStorage.getItem(n("sql_gen_question"))||"",O=await Dnt(W,S,a||"",Z),q=URL.createObjectURL(O),tt=document.createElement("a");tt.href=q,tt.download=`data-analyst-project-${new Date().toISOString().slice(0,10)}.zip`,tt.click(),URL.revokeObjectURL(q)}catch(Z){console.error("Failed to save project:",Z)}finally{P(!1)}}},[S,a,n]),H=ft.useCallback(async W=>{const Z=D.current,rt=R.current;if(!(!Z||!rt)){X(!0);try{const O=await Ont(W);await Mnt(Z,rt,O.tableFiles),await U.current?.(),f(O.metadata.question),g(q=>q+1),O.metadata.sql&&(o(O.metadata.sql),u(q=>q+1))}catch(O){console.error("Failed to load project:",O)}finally{X(!1),V.current&&(V.current.value="")}}},[]),M=ft.useCallback(W=>{const Z=W.target.files?.[0];Z&&H(Z)},[H]),B=Object.keys(S).length===0;return z.jsxs("div",{className:e,"data-data-analyst":"",children:[z.jsx(Qet,{headerRight:z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[z.jsxs("button",{className:"project-btn",onClick:()=>{k()},disabled:N||B,"aria-label":"Save project as zip file",children:[z.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none","aria-hidden":"true",children:z.jsx("path",{d:"M7 1v8M7 9L4 6M7 9l3-3M2 11h10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),N?"Saving":"Save"]}),z.jsxs("button",{className:"project-btn",onClick:()=>V.current?.click(),disabled:$,"aria-label":"Load project from zip file",children:[z.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none","aria-hidden":"true",children:z.jsx("path",{d:"M7 9V1M7 1L4 4M7 1l3 3M2 11h10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),$?"Loading":"Load"]}),z.jsx("input",{ref:V,type:"file",accept:".zip",style:{display:"none"},onChange:M}),t&&z.jsx("button",{className:"hamburger-btn",onClick:()=>s(!0),"aria-label":"Open settings",children:z.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",children:[z.jsx("rect",{y:"3",width:"20",height:"2",rx:"1",fill:"currentColor"}),z.jsx("rect",{y:"9",width:"20",height:"2",rx:"1",fill:"currentColor"}),z.jsx("rect",{y:"15",width:"20",height:"2",rx:"1",fill:"currentColor"})]})})]}),externalSql:a,externalSqlVersion:l,onQueryResult:_,onQueryError:w,onSchemaChange:E,onDbReady:G,sqlGeneratorSlot:z.jsx(xnt,{schema:S,queryResult:y,queryError:b,onGenerateSQL:I,workerRef:C,externalQuestion:h,externalQuestionVersion:m})}),t&&i&&z.jsx("div",{className:"settings-backdrop",onClick:()=>s(!1)}),t&&z.jsxs("div",{className:`settings-drawer${i?" open":""}`,children:[z.jsxs("div",{className:"settings-drawer-header",children:[z.jsx("h2",{className:"settings-drawer-title",children:"Settings"}),z.jsx("button",{className:"settings-close-btn",onClick:()=>s(!1),"aria-label":"Close settings",children:""})]}),z.jsx("div",{className:"settings-drawer-body",children:z.jsx(Cnt,{workerRef:C})})]})]})}function Int({className:e,storagePrefix:t,showSettings:n=!0}){return z.jsx(pnt,{prefix:t,children:z.jsx(Nnt,{className:e,showSettings:n})})}t4.createRoot(document.getElementById("root")).render(z.jsx(ft.StrictMode,{children:z.jsx(Int,{})}));export{YL as $,Kh as A,vq as B,P8 as C,p1 as D,FL as E,Ri as F,bW as G,v$ as H,vT as I,kH as J,n8 as K,iu as L,Wnt as M,uy as N,x8 as O,Mx as P,OT as Q,h$ as R,hm as S,yW as T,qd as U,R8 as V,Ud as W,Ft as X,Xt as Y,cW as Z,T as _,I8 as a,o1 as a$,o$ as a0,KT as a1,QT as a2,nit as a3,Qnt as a4,tit as a5,Jnt as a6,Xnt as a7,Yx as a8,eit as a9,OY as aA,l$ as aB,jnt as aC,cy as aD,wg as aE,FM as aF,vA as aG,Yd as aH,LY as aI,RY as aJ,$x as aK,co as aL,md as aM,WT as aN,P9 as aO,F7 as aP,IM as aQ,AM as aR,Pj as aS,_g as aT,$j as aU,jd as aV,nl as aW,O7 as aX,bk as aY,Al as aZ,Hj as a_,Znt as aa,mc as ab,sit as ac,iit as ad,Knt as ae,iG as af,WI as ag,pit as ah,AH as ai,li as aj,Lo as ak,s1 as al,yN as am,Dl as an,HM as ao,pe as ap,qa as aq,VG as ar,fit as as,mit as at,hit as au,Pt as av,dit as aw,LG as ax,TG as ay,EG as az,N8 as b,zj as b0,Yj as b1,bu as b2,B7 as b3,aW as b4,Qj as b5,K7 as b6,a1 as b7,Qk as b8,zt as b9,Wv as bA,en as bB,SM as ba,ls as bb,N9 as bc,Px as bd,rD as be,Pd as bf,cD as bg,Vnt as bh,_q as bi,sW as bj,Q7 as bk,rW as bl,ay as bm,Uj as bn,r1 as bo,NM as bp,lW as bq,yu as br,H7 as bs,yV as bt,Hd as bu,xg as bv,Ro as bw,fk as bx,l1 as by,LM as bz,Je as c,ze as d,WL as e,si as f,F8 as g,kr as h,Ys as i,NH as j,mu as k,wt as l,WM as m,Ynt as n,yit as o,U8 as p,q8 as q,git as r,B8 as s,CH as t,ra as u,xG as v,xW as w,ait as x,M8 as y,Gnt as z};
